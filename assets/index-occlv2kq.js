const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pe-wasm-Co3DzcyP.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/statsWorker-gLdNoCWX.js","assets/utils-CuhTVcye.js","assets/quantizationUtils-BzPu5BSx.js","assets/utils-BAWMos0e.js","assets/utils-Ej6c5JH2.js","assets/ClassBreaksDefinition-liG8X67f.js","assets/geometryEngineWorker-CA-tZxOm.js","assets/geometryEngineJSON-Bvf5zUh7.js","assets/geometryEngineBase-B0ZyeKAX.js","assets/json-Wa8cmqdu.js","assets/CSVSourceWorker-BOA7Iol-.js","assets/date-Ctp1FiBW.js","assets/OptimizedFeature-C_tWIfyu.js","assets/memoryEstimations-BOKhmi2n.js","assets/OptimizedGeometry-CjBBEGP9.js","assets/executeQueryForSnapping-C6lxAoBy.js","assets/queryUtils-BOvS74-U.js","assets/QueryEngine-FmhFPCSK.js","assets/featureConversionUtils-RHjQWI3I.js","assets/OptimizedFeatureSet-Blu9Ckm7.js","assets/WhereClauseCache-BUxrK4UW.js","assets/WhereClause-piBvf9V_.js","assets/TimeOnly-Cn1GBPnC.js","assets/timeSupport-DwEnp_-K.js","assets/SnappingCandidate-DGkpYqI6.js","assets/FixedIntervalBinParameters-DovN33hR.js","assets/FeatureStore-BpFnqO4a.js","assets/BoundsStore-CT5mjGMv.js","assets/PooledRBush-BzUlgrOP.js","assets/optimizedFeatureQueryEngineAdapter-BP9Qr1G2.js","assets/number-DqQQDgfD.js","assets/EdgeProcessingWorker-CpSo8Wav.js","assets/workerHelper-ttGxnVdy.js","assets/InterleavedLayout-BPN3wFpO.js","assets/BufferView-DewkvBOr.js","assets/types-D0PSWh4d.js","assets/edgeProcessing-DSF-hJKZ.js","assets/deduplicate-DvsvpXM1.js","assets/Indices-fnkmlqmy.js","assets/VertexAttribute-Cq4MnHjR.js","assets/glUtil-CIZi_1jT.js","assets/VertexElementDescriptor-BLyltQyJ.js","assets/Normals-BR0kc2Mb.js","assets/ElevationSamplerWorker-Cr1mhbyx.js","assets/MeshLocalVertexSpace-BvivmpDM.js","assets/vertexSpaceConversion-BH4W5Iua.js","assets/mat3f64-q3fE-ZOt.js","assets/mat4f64-Dk4dwAN8.js","assets/spatialReferenceEllipsoidUtils-aN_ZZgvI.js","assets/computeTranslationToOriginAndRotation-BqYlNCQ6.js","assets/projectPointToVector-C7vEVKjY.js","assets/meshVertexSpaceUtils-Da-7F0Wu.js","assets/vec3-BI3yhSKv.js","assets/vec4-D81Mjjfb.js","assets/FeatureServiceSnappingSourceWorker-TIAEZlIF.js","assets/symbologySnappingCandidates-DFCruyw3.js","assets/pbfQueryUtils-B5aHBe6k.js","assets/pbf-DzqIG6jV.js","assets/query-LN1GOq3u.js","assets/ByteSizeUnit-BsxeN7wM.js","assets/GeoJSONSourceWorker-BxbEDuBI.js","assets/geojson-CUUh8wS5.js","assets/sourceUtils-BsR6OF8l.js","assets/MemorySourceWorker-DvpxYNQp.js","assets/objectIdUtils-4dd1rf9p.js","assets/PBFDecoderWorker-3Dc6lo3k.js","assets/dehydratedFeatures-C1S9PTip.js","assets/FeaturePipelineWorker-B3TQoh_4.js","assets/AttributeStore-BS4hPnMc.js","assets/Utils-BZHqHZ7C.js","assets/BoundingBox-BVS6mmAT.js","assets/UpdateTracking2D-Clr9vXDH.js","assets/CIMSymbolHelper-DYMZVHfw.js","assets/BidiEngine-QXap_35O.js","assets/fontUtils-CprKnufC.js","assets/GeometryUtils-DwKZSSX8.js","assets/rasterizingUtils-OfFRwl_W.js","assets/floatRGBA-Bk0JGNMV.js","assets/Rect-CUzevAry.js","assets/streamLayerUtils-CKwt2uXH.js","assets/MeshWriterRegistry-BYQxMOTN.js","assets/TechniqueType-uMFRS8dR.js","assets/PieChartMeshWriter-6peqOqJO.js","assets/TurboLine-v8xuCvXG.js","assets/utils-DD5pOpaf.js","assets/earcut-D9gy186-.js","assets/grouping-D18P6yCQ.js","assets/QueueProcessor-CoND9_z9.js","assets/operatorGeodeticDensify-CWBzvX4l.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/geodeticCurveType-CirnHLSB.js","assets/normalizeUtilsSync-BBctZia4.js","assets/ogcFeatureUtils-Cf3KK8z9.js","assets/parquet-fFKKDCx4.js","assets/CircularArray-CujHzHWW.js","assets/createConnection-S-uhoWLi.js","assets/PointCloudWorker-xKsVmuXk.js","assets/quat-Bt0djY4e.js","assets/quatf64-aQ5IuZRd.js","assets/vec3f32-nZdmKIgz.js","assets/PointCloudUniqueValueRenderer-IbCMFuT6.js","assets/I3SBinaryReader-zeiMNFJH.js","assets/orientedBoundingBox-EqyU-FKY.js","assets/plane-C6-1zYUW.js","assets/RasterWorker-CbpJyfyK.js","assets/dataUtils-F7yONW3F.js","assets/pixelRangeUtils-Bk2sXCMF.js","assets/RasterSymbolizer-BP08JJJY.js","assets/colorUtils-BE9EAhAp.js","assets/rasterFunctionHelper-DwnProDx.js","assets/rasterProjectionHelper-BLmGjAP9.js","assets/PolynomialTransform-rTNYsS-U.js","assets/SceneLayerSnappingSourceWorker-DogCsgFM.js","assets/lineSegment-DzPnzpBK.js","assets/sphere-zQcKISpp.js","assets/Octree-BlGFLndj.js","assets/SceneLayerWorker-wUIQkMQB.js","assets/projectVectorToVector-DnL-Q3cw.js","assets/I3SUtil-BhAyJDs0.js","assets/edgeUtils-D96t-Aa1.js","assets/NormalAttribute.glsl-CfxSmL6j.js","assets/glsl-BH37Aalp.js","assets/ShaderOutput-DnYY5J1_.js","assets/BindType-BBwFZqyN.js","assets/WFSSourceWorker-DVEiUBin.js","assets/wfsUtils-B_I4jHuC.js","assets/xmlUtils-CtUoQO7q.js","assets/WorkerTileHandler-CjLnmhDd.js","assets/enums-BRzLM11V.js","assets/config-BOD8--da.js","assets/StyleDefinition-BwjCAI7_.js","assets/SourceLayerData-DyqC--8C.js","assets/StyleRepository-WBCl8i31.js","assets/Feature3DPipelineWorker-CEXeiIIC.js","assets/HUDMaterial.glsl-BflRZ4NR.js","assets/Geometry-Csd6Hj4r.js","assets/renderState-B2lL7bK-.js","assets/basicInterfaces-CZwQPxTp.js","assets/boundedPlane-DSadWnNr.js","assets/requestImageUtils-DaU2oiDN.js","assets/TextureFormat-1mYWTFa-.js","assets/triangle-CMEeJ-2Z.js","assets/HUDMaterial-CrKiWUwX.js","assets/VertexArrayObject-BG_YOsRY.js","assets/dehydratedFeatureUtils-BkFRO4MG.js","assets/doublePrecisionUtils-B0owpBza.js","assets/hydratedFeatures-m8cj5b_g.js","assets/ShaderBuilder-CyJ9BKkK.js","assets/IntersectorInterfaces-CmNINbyF.js","assets/DefaultMaterial-CzUoZS3l.js","assets/LodResources-2L2-wndj.js","assets/TextureCompressionWorker-rP-hG9wJ.js","assets/Popup-BTZeTCKA.js","assets/unitFormatUtils-Cis8IAFk.js","assets/quantityUtils-dcLDjhzn.js","assets/AttachmentInfo-BeCShjwW.js","assets/featureUtils-DW96_QGb.js","assets/symbolUtils-nl5FwhcI.js","assets/utils-WwdkQDBe.js","assets/cimSymbolUtils-D6S5Cezv.js","assets/webStyleSymbolUtils-Nuz-hEei.js","assets/devEnvironmentUtils-CnNDiFMM.js","assets/webStyleAcceptedFormats-CG7ZQ6BV.js","assets/executeQueryJSON-C5SmlXm0.js","assets/shared-BDI_5Ghv.js","assets/NetworkElement-CfmrPukG.js","assets/ReactiveSet-BBNns5Ct.js","assets/layerViewUtils-B3GxKbLR.js","assets/ElevationLayer-D9Qnu1Jp.js","assets/ArcGISCachedService-BOatdfb5.js","assets/TileInfoTilemapCache-DCNd-NfX.js","assets/TilemapCache-Bked-rRB.js","assets/WorkerHandle-NaECD0HN.js","assets/layersCreator-CeLGjMa9.js","assets/loadUtils-lYjSdrda.js","assets/fetchService-DTR7nNrr.js","assets/associatedFeatureServiceUtils-D752Kjh1.js","assets/lazyLayerLoader-IdUZe2Iu.js","assets/portalLayers-CJm2Ntm6.js","assets/arcgisLayers-BNCMcxNH.js","assets/arcadeUtils-DlL6l9QB.js","assets/arcade-CDxOcGdI.js","assets/unitConversion-DNlywm_l.js","assets/ImmutableArray-BPVd6ESQ.js","assets/geometryServiceUtils-DWhQ5uAQ.js","assets/project-OVzf7hUj.js","assets/webglDeps-CQkp6Pqd.js","assets/FramebufferObject-CO39A6SG.js","assets/ProgramTemplate-BZeAK40E.js","assets/NestedMap-GuqgquCN.js","assets/mapViewDeps-B8KmNjfA.js","assets/FeatureCommandQueue-COAlgA0F.js","assets/GraphShaderModule-CWAUi6sb.js","assets/WGLContainer-3BgMetCe.js","assets/Container-D_L2z-CJ.js","assets/EffectView-DMikg_jZ.js","assets/SDFHelper-D-8XyRr2.js","assets/OverrideHelper-DzamvxWf.js","assets/GridShader-DAlvR1_y.js","assets/testSVGPremultipliedAlpha-CrKrw2n4.js","assets/RenderingContext-Z6LZxvgA.js","assets/CIMResourceManager-BwPxQXqP.js","assets/utils-D8oRTKEF.js","assets/VertexStream-Dn6qbYMo.js","assets/utils-ehcGqGxa.js","assets/GraphicsView2D-C45jn75r.js","assets/GraphicContainer-Czy_GgIB.js","assets/AGraphicContainer-BZS6JoZY.js","assets/TechniqueInstance-CbnnTWwr.js","assets/TileContainer-CAlm-Wip.js","assets/gridUtils-LKb4J7Og.js","assets/geodesicUtils-Cd-NSWkI.js","assets/TileLayerView2D-Db5goRQw.js","assets/imageUtils-CblcerGL.js","assets/BitmapTechnique-BuYASLaY.js","assets/LayerView-CVvjf9SC.js","assets/HighlightGraphicContainer-BGV90Y6o.js","assets/RefreshableLayerView-DxnUv50s.js","assets/MapServiceLayerViewHelper-BikQ9WzX.js","assets/floorFilterUtils-DZ5C6FQv.js","assets/drapedUtils-COTNB0Ru.js","assets/sublayerUtils-D540i-wP.js","assets/popupUtils-DedLeNpv.js","assets/FeatureLayerView2D-C9jUeriQ.js","assets/timeSupport-BUTm6LBx.js","assets/AttributeBinsFeatureSet-BDzaX1r9.js","assets/AttributeBinsQuery-DdVMaPmV.js","assets/featureReductionUtils-Caulfaw_.js","assets/constants-B4mRqufT.js","assets/BaseDynamicLayerView2D-C0rFkJLF.js","assets/BitmapContainer-CIWqHn6R.js","assets/ExportStrategy-e2cNBAgv.js","assets/CatalogLayerView2D-wWHjYuuy.js","assets/CatalogDynamicGroupLayerView2D-CZce25YR.js","assets/CatalogFootprintLayerView2D-Ccj64s5D.js","assets/GeoRSSLayerView2D-DizrRewj.js","assets/GraphicsLayerView2D-D4DqDy-G.js","assets/GroupLayerView2D-C2Fj6jWZ.js","assets/ImageryLayerView2D-CcK1ny_d.js","assets/RasterVFDisplayObject-3BVgIFE9.js","assets/ImageryTileLayerView2D-DcdftaHW.js","assets/rasterFieldUtils-Bf5s34oF.js","assets/rasterUtils-pn5MXHcC.js","assets/RawBlockCache-ByZph1zw.js","assets/KMLLayerView2D-JllfwrwG.js","assets/kmlUtils-D5N1rtIA.js","assets/KnowledgeGraphLayerView2D-CMxPPchc.js","assets/MapImageLayerView2D-Kl0G_1A8.js","assets/ExportImageParameters-Ba0vSdUT.js","assets/MapNotesLayerView2D-BJCeSc4W.js","assets/MediaLayerView2D-B45VBVcg.js","assets/mediaLayerUtils-DVBQHzPJ.js","assets/OverlayContainer-BzGrRzWq.js","assets/OGCFeatureLayerView2D-D7oqZGiF.js","assets/RouteLayerView2D-BdAi74up.js","assets/Stop-Bn-mMdIt.js","assets/networkEnums-C4bgLWA4.js","assets/StreamLayerView2D-Y9aBqIW8.js","assets/SubtypeGroupLayerView2D-CquWx0HD.js","assets/VectorTileLayerView2D-DH2SU8S_.js","assets/VideoLayerView2D-DkKIGrjB.js","assets/TelemetryDisplay-BeibS5JU.js","assets/WMSLayerView2D-DBpu6jFX.js","assets/ExportWMSImageParameters-Da-YdIr-.js","assets/WMTSLayerView2D-BBU9Jb45.js","assets/apng-BiHpEeeJ.js","assets/index-CzCOC5St.js","assets/index-uGicYJ-K.js","assets/guid-BDWAkmkV.js","assets/useT9n-ikeALKT6.js","assets/index-DW0ZHRNK.js","assets/dom-BfzyLneK.js","assets/observers-FczalUJa.js","assets/ref-B1FbEDon.js","assets/static-WcV4ieOA.js","assets/form-HRmHSsQW.js","assets/interactive-B3zXQlxl.js","assets/label-Beox98-I.js","assets/component-DtknM5gv.js","assets/index-DdFtaati.js","assets/index-9QiumRAd.js","assets/keyed-BF0yNs9J.js","assets/index-D4PX1fws.js","assets/floating-ui-6c1IjisZ.js","assets/debounce-D0G5qrda.js","assets/openCloseComponent-dv0FXzr8.js","assets/FloatingArrow-CyBEulSA.js","assets/useFocusTrap-DDkbfVfw.js","assets/key-ak3_eHKH.js","assets/index-Bf4svpi4.js","assets/array-CItZ4bXf.js","assets/index-lQk5MXn1.js","assets/index-26CsY-8Y.js","assets/dynamicClasses-Dlk4kLaw.js","assets/index-liC5Pgwb.js","assets/resources6-C-XXGpuo.js","assets/index-An7koXaI.js","assets/utils-oxPsl01x.js","assets/resources5-B_fF8ZZV.js","assets/index-DOtwgvdB.js","assets/customElement-CfEzQ3SU.js","assets/index-DEZHel8l.js","assets/customElement-Bt_u8VDZ.js","assets/index-D4o50dO7.js","assets/index-e7r65iLU.js","assets/Legend-KAHwwSTC.js","assets/rendererConversion-ELmr2PdV.js","assets/index-DbQHFXAQ.js","assets/index-CiaiAuj5.js","assets/index-Coz-vIUa.js","assets/index-BFQwMPE6.js","assets/layersLoader-Bxno-QGj.js","assets/jsonContext-BJMLq6vz.js","assets/featureLayerUtils-BV35edcV.js","assets/originUtils-D69mHv66.js","assets/multiOriginJSONSupportUtils-C0wm8_Yw.js","assets/utils-gHOyWQij.js","assets/saveUtils-0NrgCQbV.js","assets/FeatureLayerSource-YKHM34si.js","assets/External-Do7eN0PA.js","assets/MeshTransform-BxKGyf6M.js","assets/axisAngleDegrees-B8hYnkNj.js","assets/editingSupport-DSI1vP5g.js","assets/QueryTask-BJsONN4t.js","assets/executeForIds-BtRRVb0y.js","assets/index-BXrEW4oC.js","assets/interact.min-iNRM8XgC.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();function Tee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cx={exports:{}},fg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O4;function Eee(){if(O4)return fg;O4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,s,n){var o=null;if(n!==void 0&&(o=""+n),s.key!==void 0&&(o=""+s.key),"key"in s){n={};for(var c in s)c!=="key"&&(n[c]=s[c])}else n=s;return s=n.ref,{$$typeof:e,type:r,key:o,ref:s!==void 0?s:null,props:n}}return fg.Fragment=t,fg.jsx=i,fg.jsxs=i,fg}var C4;function $ee(){return C4||(C4=1,Cx.exports=Eee()),Cx.exports}var xt=$ee(),Ix={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4;function xee(){if(I4)return et;I4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),n=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function M(D,le,Ee){this.props=D,this.context=le,this.refs=E,this.updater=Ee||S}M.prototype.isReactComponent={},M.prototype.setState=function(D,le){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,le,"setState")},M.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function C(){}C.prototype=M.prototype;function L(D,le,Ee){this.props=D,this.context=le,this.refs=E,this.updater=Ee||S}var N=L.prototype=new C;N.constructor=L,T(N,M.prototype),N.isPureReactComponent=!0;var P=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function re(D,le,Ee,ge,Fe,ft){return Ee=ft.ref,{$$typeof:e,type:D,key:le,ref:Ee!==void 0?Ee:null,props:ft}}function ae(D,le){return re(D.type,le,void 0,void 0,void 0,D.props)}function fe(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function ye(D){var le={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Ee){return le[Ee]})}var Se=/\/+/g;function _e(D,le){return typeof D=="object"&&D!==null&&D.key!=null?ye(""+D.key):le.toString(36)}function Qe(){}function Le(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Qe,Qe):(D.status="pending",D.then(function(le){D.status==="pending"&&(D.status="fulfilled",D.value=le)},function(le){D.status==="pending"&&(D.status="rejected",D.reason=le)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function pt(D,le,Ee,ge,Fe){var ft=typeof D;(ft==="undefined"||ft==="boolean")&&(D=null);var Je=!1;if(D===null)Je=!0;else switch(ft){case"bigint":case"string":case"number":Je=!0;break;case"object":switch(D.$$typeof){case e:case t:Je=!0;break;case g:return Je=D._init,pt(Je(D._payload),le,Ee,ge,Fe)}}if(Je)return Fe=Fe(D),Je=ge===""?"."+_e(D,0):ge,P(Fe)?(Ee="",Je!=null&&(Ee=Je.replace(Se,"$&/")+"/"),pt(Fe,le,Ee,"",function(Lo){return Lo})):Fe!=null&&(fe(Fe)&&(Fe=ae(Fe,Ee+(Fe.key==null||D&&D.key===Fe.key?"":(""+Fe.key).replace(Se,"$&/")+"/")+Je)),le.push(Fe)),1;Je=0;var zr=ge===""?".":ge+":";if(P(D))for(var Ht=0;Ht<D.length;Ht++)ge=D[Ht],ft=zr+_e(ge,Ht),Je+=pt(ge,le,Ee,ft,Fe);else if(Ht=_(D),typeof Ht=="function")for(D=Ht.call(D),Ht=0;!(ge=D.next()).done;)ge=ge.value,ft=zr+_e(ge,Ht++),Je+=pt(ge,le,Ee,ft,Fe);else if(ft==="object"){if(typeof D.then=="function")return pt(Le(D),le,Ee,ge,Fe);throw le=String(D),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Je}function X(D,le,Ee){if(D==null)return D;var ge=[],Fe=0;return pt(D,ge,"","",function(ft){return le.call(Ee,ft,Fe++)}),ge}function he(D){if(D._status===-1){var le=D._result;le=le(),le.then(function(Ee){(D._status===0||D._status===-1)&&(D._status=1,D._result=Ee)},function(Ee){(D._status===0||D._status===-1)&&(D._status=2,D._result=Ee)}),D._status===-1&&(D._status=0,D._result=le)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function it(){}return et.Children={map:X,forEach:function(D,le,Ee){X(D,function(){le.apply(this,arguments)},Ee)},count:function(D){var le=0;return X(D,function(){le++}),le},toArray:function(D){return X(D,function(le){return le})||[]},only:function(D){if(!fe(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},et.Component=M,et.Fragment=i,et.Profiler=s,et.PureComponent=L,et.StrictMode=r,et.Suspense=d,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,et.__COMPILER_RUNTIME={__proto__:null,c:function(D){return U.H.useMemoCache(D)}},et.cache=function(D){return function(){return D.apply(null,arguments)}},et.cloneElement=function(D,le,Ee){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ge=T({},D.props),Fe=D.key,ft=void 0;if(le!=null)for(Je in le.ref!==void 0&&(ft=void 0),le.key!==void 0&&(Fe=""+le.key),le)!W.call(le,Je)||Je==="key"||Je==="__self"||Je==="__source"||Je==="ref"&&le.ref===void 0||(ge[Je]=le[Je]);var Je=arguments.length-2;if(Je===1)ge.children=Ee;else if(1<Je){for(var zr=Array(Je),Ht=0;Ht<Je;Ht++)zr[Ht]=arguments[Ht+2];ge.children=zr}return re(D.type,Fe,void 0,void 0,ft,ge)},et.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:n,_context:D},D},et.createElement=function(D,le,Ee){var ge,Fe={},ft=null;if(le!=null)for(ge in le.key!==void 0&&(ft=""+le.key),le)W.call(le,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Fe[ge]=le[ge]);var Je=arguments.length-2;if(Je===1)Fe.children=Ee;else if(1<Je){for(var zr=Array(Je),Ht=0;Ht<Je;Ht++)zr[Ht]=arguments[Ht+2];Fe.children=zr}if(D&&D.defaultProps)for(ge in Je=D.defaultProps,Je)Fe[ge]===void 0&&(Fe[ge]=Je[ge]);return re(D,ft,void 0,void 0,null,Fe)},et.createRef=function(){return{current:null}},et.forwardRef=function(D){return{$$typeof:c,render:D}},et.isValidElement=fe,et.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:he}},et.memo=function(D,le){return{$$typeof:f,type:D,compare:le===void 0?null:le}},et.startTransition=function(D){var le=U.T,Ee={};U.T=Ee;try{var ge=D(),Fe=U.S;Fe!==null&&Fe(Ee,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(it,me)}catch(ft){me(ft)}finally{U.T=le}},et.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},et.use=function(D){return U.H.use(D)},et.useActionState=function(D,le,Ee){return U.H.useActionState(D,le,Ee)},et.useCallback=function(D,le){return U.H.useCallback(D,le)},et.useContext=function(D){return U.H.useContext(D)},et.useDebugValue=function(){},et.useDeferredValue=function(D,le){return U.H.useDeferredValue(D,le)},et.useEffect=function(D,le,Ee){var ge=U.H;if(typeof Ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(D,le)},et.useId=function(){return U.H.useId()},et.useImperativeHandle=function(D,le,Ee){return U.H.useImperativeHandle(D,le,Ee)},et.useInsertionEffect=function(D,le){return U.H.useInsertionEffect(D,le)},et.useLayoutEffect=function(D,le){return U.H.useLayoutEffect(D,le)},et.useMemo=function(D,le){return U.H.useMemo(D,le)},et.useOptimistic=function(D,le){return U.H.useOptimistic(D,le)},et.useReducer=function(D,le,Ee){return U.H.useReducer(D,le,Ee)},et.useRef=function(D){return U.H.useRef(D)},et.useState=function(D){return U.H.useState(D)},et.useSyncExternalStore=function(D,le,Ee){return U.H.useSyncExternalStore(D,le,Ee)},et.useTransition=function(){return U.H.useTransition()},et.version="19.1.0",et}var R4;function oR(){return R4||(R4=1,Ix.exports=xee()),Ix.exports}var ys=oR();const Mee=Tee(ys);var Rx={exports:{}},mg={},Lx={exports:{}},Nx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L4;function Aee(){return L4||(L4=1,function(e){function t(X,he){var me=X.length;X.push(he);e:for(;0<me;){var it=me-1>>>1,D=X[it];if(0<s(D,he))X[it]=he,X[me]=D,me=it;else break e}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var he=X[0],me=X.pop();if(me!==he){X[0]=me;e:for(var it=0,D=X.length,le=D>>>1;it<le;){var Ee=2*(it+1)-1,ge=X[Ee],Fe=Ee+1,ft=X[Fe];if(0>s(ge,me))Fe<D&&0>s(ft,ge)?(X[it]=ft,X[Fe]=me,it=Fe):(X[it]=ge,X[Ee]=me,it=Ee);else if(Fe<D&&0>s(ft,me))X[it]=ft,X[Fe]=me,it=Fe;else break e}}return he}function s(X,he){var me=X.sortIndex-he.sortIndex;return me!==0?me:X.id-he.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var n=performance;e.unstable_now=function(){return n.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],f=[],g=1,v=null,_=3,S=!1,T=!1,E=!1,M=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function P(X){for(var he=i(f);he!==null;){if(he.callback===null)r(f);else if(he.startTime<=X)r(f),he.sortIndex=he.expirationTime,t(d,he);else break;he=i(f)}}function U(X){if(E=!1,P(X),!T)if(i(d)!==null)T=!0,W||(W=!0,_e());else{var he=i(f);he!==null&&pt(U,he.startTime-X)}}var W=!1,re=-1,ae=5,fe=-1;function ye(){return M?!0:!(e.unstable_now()-fe<ae)}function Se(){if(M=!1,W){var X=e.unstable_now();fe=X;var he=!0;try{e:{T=!1,E&&(E=!1,L(re),re=-1),S=!0;var me=_;try{t:{for(P(X),v=i(d);v!==null&&!(v.expirationTime>X&&ye());){var it=v.callback;if(typeof it=="function"){v.callback=null,_=v.priorityLevel;var D=it(v.expirationTime<=X);if(X=e.unstable_now(),typeof D=="function"){v.callback=D,P(X),he=!0;break t}v===i(d)&&r(d),P(X)}else r(d);v=i(d)}if(v!==null)he=!0;else{var le=i(f);le!==null&&pt(U,le.startTime-X),he=!1}}break e}finally{v=null,_=me,S=!1}he=void 0}}finally{he?_e():W=!1}}}var _e;if(typeof N=="function")_e=function(){N(Se)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Le=Qe.port2;Qe.port1.onmessage=Se,_e=function(){Le.postMessage(null)}}else _e=function(){C(Se,0)};function pt(X,he){re=C(function(){X(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(X){switch(_){case 1:case 2:case 3:var he=3;break;default:he=_}var me=_;_=he;try{return X()}finally{_=me}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(X,he){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=_;_=X;try{return he()}finally{_=me}},e.unstable_scheduleCallback=function(X,he,me){var it=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?it+me:it):me=it,X){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=me+D,X={id:g++,callback:he,priorityLevel:X,startTime:me,expirationTime:D,sortIndex:-1},me>it?(X.sortIndex=me,t(f,X),i(d)===null&&X===i(f)&&(E?(L(re),re=-1):E=!0,pt(U,me-it))):(X.sortIndex=D,t(d,X),T||S||(T=!0,W||(W=!0,_e()))),X},e.unstable_shouldYield=ye,e.unstable_wrapCallback=function(X){var he=_;return function(){var me=_;_=he;try{return X.apply(this,arguments)}finally{_=me}}}}(Nx)),Nx}var N4;function Oee(){return N4||(N4=1,Lx.exports=Aee()),Lx.exports}var Px={exports:{}},Er={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P4;function Cee(){if(P4)return Er;P4=1;var e=oR();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function n(d,f,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:f,implementation:g}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Er.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return n(d,f,null,g)},Er.flushSync=function(d){var f=o.T,g=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=f,r.p=g,r.d.f()}},Er.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Er.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Er.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,v=c(g,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:S}):g==="script"&&r.d.X(d,{crossOrigin:v,integrity:_,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Er.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Er.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,v=c(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Er.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Er.requestFormReset=function(d){r.d.r(d)},Er.unstable_batchedUpdates=function(d,f){return d(f)},Er.useFormState=function(d,f,g){return o.H.useFormState(d,f,g)},Er.useFormStatus=function(){return o.H.useHostTransitionStatus()},Er.version="19.1.0",Er}var D4;function Iee(){if(D4)return Px.exports;D4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Px.exports=Cee(),Px.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4;function Ree(){if(k4)return mg;k4=1;var e=Oee(),t=oR(),i=Iee();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function n(a){var l=a,p=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(p=l.return),a=l.return;while(a)}return l.tag===3?p:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(n(a)!==a)throw Error(r(188))}function d(a){var l=a.alternate;if(!l){if(l=n(a),l===null)throw Error(r(188));return l!==a?null:a}for(var p=a,y=l;;){var b=p.return;if(b===null)break;var w=b.alternate;if(w===null){if(y=b.return,y!==null){p=y;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===p)return c(b),a;if(w===y)return c(b),l;w=w.sibling}throw Error(r(188))}if(p.return!==y.return)p=b,y=w;else{for(var $=!1,O=b.child;O;){if(O===p){$=!0,p=b,y=w;break}if(O===y){$=!0,y=b,p=w;break}O=O.sibling}if(!$){for(O=w.child;O;){if(O===p){$=!0,p=w,y=b;break}if(O===y){$=!0,y=w,p=b;break}O=O.sibling}if(!$)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function _e(a){return a===null||typeof a!="object"?null:(a=Se&&a[Se]||a["@@iterator"],typeof a=="function"?a:null)}var Qe=Symbol.for("react.client.reference");function Le(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Qe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case M:return"Profiler";case E:return"StrictMode";case U:return"Suspense";case W:return"SuspenseList";case fe:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case N:return(a.displayName||"Context")+".Provider";case L:return(a._context.displayName||"Context")+".Consumer";case P:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case re:return l=a.displayName||null,l!==null?l:Le(a.type)||"Memo";case ae:l=a._payload,a=a._init;try{return Le(a(l))}catch{}}return null}var pt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},it=[],D=-1;function le(a){return{current:a}}function Ee(a){0>D||(a.current=it[D],it[D]=null,D--)}function ge(a,l){D++,it[D]=a.current,a.current=l}var Fe=le(null),ft=le(null),Je=le(null),zr=le(null);function Ht(a,l){switch(ge(Je,l),ge(ft,a),ge(Fe,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?r4(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=r4(l),a=s4(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Ee(Fe),ge(Fe,a)}function Lo(){Ee(Fe),Ee(ft),Ee(Je)}function dy(a){a.memoizedState!==null&&ge(zr,a);var l=Fe.current,p=s4(l,a.type);l!==p&&(ge(ft,a),ge(Fe,p))}function ep(a){ft.current===a&&(Ee(Fe),Ee(ft)),zr.current===a&&(Ee(zr),ug._currentValue=me)}var hy=Object.prototype.hasOwnProperty,py=e.unstable_scheduleCallback,fy=e.unstable_cancelCallback,gE=e.unstable_shouldYield,vE=e.unstable_requestPaint,rn=e.unstable_now,bE=e.unstable_getCurrentPriorityLevel,q1=e.unstable_ImmediatePriority,B1=e.unstable_UserBlockingPriority,qc=e.unstable_NormalPriority,H1=e.unstable_LowPriority,zn=e.unstable_IdlePriority,_E=e.log,wE=e.unstable_setDisableYieldValue,Bc=null,Vr=null;function No(a){if(typeof _E=="function"&&wE(a),Vr&&typeof Vr.setStrictMode=="function")try{Vr.setStrictMode(Bc,a)}catch{}}var Gr=Math.clz32?Math.clz32:EE,SE=Math.log,TE=Math.LN2;function EE(a){return a>>>=0,a===0?32:31-(SE(a)/TE|0)|0}var tp=256,ip=4194304;function Sa(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function rp(a,l,p){var y=a.pendingLanes;if(y===0)return 0;var b=0,w=a.suspendedLanes,$=a.pingedLanes;a=a.warmLanes;var O=y&134217727;return O!==0?(y=O&~w,y!==0?b=Sa(y):($&=O,$!==0?b=Sa($):p||(p=O&~a,p!==0&&(b=Sa(p))))):(O=y&~w,O!==0?b=Sa(O):$!==0?b=Sa($):p||(p=y&~a,p!==0&&(b=Sa(p)))),b===0?0:l!==0&&l!==b&&(l&w)===0&&(w=b&-b,p=l&-l,w>=p||w===32&&(p&4194048)!==0)?l:b}function Hc(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function $E(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W1(){var a=tp;return tp<<=1,(tp&4194048)===0&&(tp=256),a}function Z1(){var a=ip;return ip<<=1,(ip&62914560)===0&&(ip=4194304),a}function my(a){for(var l=[],p=0;31>p;p++)l.push(a);return l}function Wc(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function xE(a,l,p,y,b,w){var $=a.pendingLanes;a.pendingLanes=p,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=p,a.entangledLanes&=p,a.errorRecoveryDisabledLanes&=p,a.shellSuspendCounter=0;var O=a.entanglements,R=a.expirationTimes,H=a.hiddenUpdates;for(p=$&~p;0<p;){var ee=31-Gr(p),se=1<<ee;O[ee]=0,R[ee]=-1;var Z=H[ee];if(Z!==null)for(H[ee]=null,ee=0;ee<Z.length;ee++){var Y=Z[ee];Y!==null&&(Y.lane&=-536870913)}p&=~se}y!==0&&Y1(a,y,0),w!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=w&~($&~l))}function Y1(a,l,p){a.pendingLanes|=l,a.suspendedLanes&=~l;var y=31-Gr(l);a.entangledLanes|=l,a.entanglements[y]=a.entanglements[y]|1073741824|p&4194090}function J1(a,l){var p=a.entangledLanes|=l;for(a=a.entanglements;p;){var y=31-Gr(p),b=1<<y;b&l|a[y]&l&&(a[y]|=l),p&=~b}}function yy(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function gy(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function X1(){var a=he.p;return a!==0?a:(a=window.event,a===void 0?32:T4(a.type))}function J(a,l){var p=he.p;try{return he.p=a,l()}finally{he.p=p}}var vt=Math.random().toString(36).slice(2),ui="__reactFiber$"+vt,Wt="__reactProps$"+vt,Vn="__reactContainer$"+vt,Ae="__reactEvents$"+vt,sp="__reactListeners$"+vt,Ci="__reactHandles$"+vt,Fl="__reactResources$"+vt,Zc="__reactMarker$"+vt;function As(a){delete a[ui],delete a[Wt],delete a[Ae],delete a[sp],delete a[Ci]}function Ta(a){var l=a[ui];if(l)return l;for(var p=a.parentNode;p;){if(l=p[Vn]||p[ui]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(a=l4(a);a!==null;){if(p=a[ui])return p;a=l4(a)}return l}a=p,p=a.parentNode}return null}function Ea(a){if(a=a[ui]||a[Vn]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Ue(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function jl(a){var l=a[Fl];return l||(l=a[Fl]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function $i(a){a[Zc]=!0}var Q1=new Set,K1={};function Gn(a,l){Ul(a,l),Ul(a+"Capture",l)}function Ul(a,l){for(K1[a]=l,a=0;a<l.length;a++)Q1.add(l[a])}var vy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xi={},eb={};function tb(a){return hy.call(eb,a)?!0:hy.call(xi,a)?!1:vy.test(a)?eb[a]=!0:(xi[a]=!0,!1)}function np(a,l,p){if(tb(l))if(p===null)a.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var y=l.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+p)}}function op(a,l,p){if(p===null)a.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+p)}}function qn(a,l,p,y){if(y===null)a.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(p);return}a.setAttributeNS(l,p,""+y)}}var by,ib;function Ui(a){if(by===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);by=l&&l[1]||"",ib=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+by+a+ib}var _y=!1;function wy(a,l){if(!a||_y)return"";_y=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(l){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Y){var Z=Y}Reflect.construct(a,[],se)}else{try{se.call()}catch(Y){Z=Y}a.call(se.prototype)}}else{try{throw Error()}catch(Y){Z=Y}(se=a())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Y){if(Y&&Z&&typeof Y.stack=="string")return[Y.stack,Z.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=y.DetermineComponentFrameRoot(),$=w[0],O=w[1];if($&&O){var R=$.split(`
`),H=O.split(`
`);for(b=y=0;y<R.length&&!R[y].includes("DetermineComponentFrameRoot");)y++;for(;b<H.length&&!H[b].includes("DetermineComponentFrameRoot");)b++;if(y===R.length||b===H.length)for(y=R.length-1,b=H.length-1;1<=y&&0<=b&&R[y]!==H[b];)b--;for(;1<=y&&0<=b;y--,b--)if(R[y]!==H[b]){if(y!==1||b!==1)do if(y--,b--,0>b||R[y]!==H[b]){var ee=`
`+R[y].replace(" at new "," at ");return a.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",a.displayName)),ee}while(1<=y&&0<=b);break}}}finally{_y=!1,Error.prepareStackTrace=p}return(p=a?a.displayName||a.name:"")?Ui(p):""}function I(a){switch(a.tag){case 26:case 27:case 5:return Ui(a.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return wy(a.type,!1);case 11:return wy(a.type.render,!1);case 1:return wy(a.type,!0);case 31:return Ui("Activity");default:return""}}function Q(a){try{var l="";do l+=I(a),a=a.return;while(a);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function oe(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function je(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function It(a){var l=je(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),y=""+a[l];if(!a.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,w=p.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function($){y=""+$,w.call(this,$)}}),Object.defineProperty(a,l,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function($){y=""+$},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Ut(a){a._valueTracker||(a._valueTracker=It(a))}function mi(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var p=l.getValue(),y="";return a&&(y=je(a)?a.checked?"true":"false":a.value),a=y,a!==p?(l.setValue(a),!0):!1}function zi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var bQ=/[\n"\\]/g;function sn(a){return a.replace(bQ,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ME(a,l,p,y,b,w,$,O){a.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?a.type=$:a.removeAttribute("type"),l!=null?$==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+oe(l)):a.value!==""+oe(l)&&(a.value=""+oe(l)):$!=="submit"&&$!=="reset"||a.removeAttribute("value"),l!=null?AE(a,$,oe(l)):p!=null?AE(a,$,oe(p)):y!=null&&a.removeAttribute("value"),b==null&&w!=null&&(a.defaultChecked=!!w),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+oe(O):a.removeAttribute("name")}function eP(a,l,p,y,b,w,$,O){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),l!=null||p!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;p=p!=null?""+oe(p):"",l=l!=null?""+oe(l):p,O||l===a.value||(a.value=l),a.defaultValue=l}y=y??b,y=typeof y!="function"&&typeof y!="symbol"&&!!y,a.checked=O?a.checked:!!y,a.defaultChecked=!!y,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(a.name=$)}function AE(a,l,p){l==="number"&&zi(a.ownerDocument)===a||a.defaultValue===""+p||(a.defaultValue=""+p)}function ap(a,l,p,y){if(a=a.options,l){l={};for(var b=0;b<p.length;b++)l["$"+p[b]]=!0;for(p=0;p<a.length;p++)b=l.hasOwnProperty("$"+a[p].value),a[p].selected!==b&&(a[p].selected=b),b&&y&&(a[p].defaultSelected=!0)}else{for(p=""+oe(p),l=null,b=0;b<a.length;b++){if(a[b].value===p){a[b].selected=!0,y&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function tP(a,l,p){if(l!=null&&(l=""+oe(l),l!==a.value&&(a.value=l),p==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=p!=null?""+oe(p):""}function iP(a,l,p,y){if(l==null){if(y!=null){if(p!=null)throw Error(r(92));if(pt(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),l=p}p=oe(l),a.defaultValue=p,y=a.textContent,y===p&&y!==""&&y!==null&&(a.value=y)}function lp(a,l){if(l){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=l;return}}a.textContent=l}var _Q=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rP(a,l,p){var y=l.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":y?a.setProperty(l,p):typeof p!="number"||p===0||_Q.has(l)?l==="float"?a.cssFloat=p:a[l]=(""+p).trim():a[l]=p+"px"}function sP(a,l,p){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||l!=null&&l.hasOwnProperty(y)||(y.indexOf("--")===0?a.setProperty(y,""):y==="float"?a.cssFloat="":a[y]="");for(var b in l)y=l[b],l.hasOwnProperty(b)&&p[b]!==y&&rP(a,b,y)}else for(var w in l)l.hasOwnProperty(w)&&rP(a,w,l[w])}function OE(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wQ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),SQ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rb(a){return SQ.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var CE=null;function IE(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var up=null,cp=null;function nP(a){var l=Ea(a);if(l&&(a=l.stateNode)){var p=a[Wt]||null;e:switch(a=l.stateNode,l.type){case"input":if(ME(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),l=p.name,p.type==="radio"&&l!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+sn(""+l)+'"][type="radio"]'),l=0;l<p.length;l++){var y=p[l];if(y!==a&&y.form===a.form){var b=y[Wt]||null;if(!b)throw Error(r(90));ME(y,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<p.length;l++)y=p[l],y.form===a.form&&mi(y)}break e;case"textarea":tP(a,p.value,p.defaultValue);break e;case"select":l=p.value,l!=null&&ap(a,!!p.multiple,l,!1)}}}var RE=!1;function oP(a,l,p){if(RE)return a(l,p);RE=!0;try{var y=a(l);return y}finally{if(RE=!1,(up!==null||cp!==null)&&(Vb(),up&&(l=up,a=cp,cp=up=null,nP(l),a)))for(l=0;l<a.length;l++)nP(a[l])}}function Sy(a,l){var p=a.stateNode;if(p===null)return null;var y=p[Wt]||null;if(y===null)return null;p=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(r(231,l,typeof p));return p}var $a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LE=!1;if($a)try{var Ty={};Object.defineProperty(Ty,"passive",{get:function(){LE=!0}}),window.addEventListener("test",Ty,Ty),window.removeEventListener("test",Ty,Ty)}catch{LE=!1}var zl=null,NE=null,sb=null;function aP(){if(sb)return sb;var a,l=NE,p=l.length,y,b="value"in zl?zl.value:zl.textContent,w=b.length;for(a=0;a<p&&l[a]===b[a];a++);var $=p-a;for(y=1;y<=$&&l[p-y]===b[w-y];y++);return sb=b.slice(a,1<y?1-y:void 0)}function nb(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ob(){return!0}function lP(){return!1}function rs(a){function l(p,y,b,w,$){this._reactName=p,this._targetInst=b,this.type=y,this.nativeEvent=w,this.target=$,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(p=a[O],this[O]=p?p(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ob:lP,this.isPropagationStopped=lP,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ob)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ob)},persist:function(){},isPersistent:ob}),l}var Yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ab=rs(Yc),Ey=g({},Yc,{view:0,detail:0}),TQ=rs(Ey),PE,DE,$y,lb=g({},Ey,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:FE,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==$y&&($y&&a.type==="mousemove"?(PE=a.screenX-$y.screenX,DE=a.screenY-$y.screenY):DE=PE=0,$y=a),PE)},movementY:function(a){return"movementY"in a?a.movementY:DE}}),uP=rs(lb),EQ=g({},lb,{dataTransfer:0}),$Q=rs(EQ),xQ=g({},Ey,{relatedTarget:0}),kE=rs(xQ),MQ=g({},Yc,{animationName:0,elapsedTime:0,pseudoElement:0}),AQ=rs(MQ),OQ=g({},Yc,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),CQ=rs(OQ),IQ=g({},Yc,{data:0}),cP=rs(IQ),RQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PQ(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=NQ[a])?!!l[a]:!1}function FE(){return PQ}var DQ=g({},Ey,{key:function(a){if(a.key){var l=RQ[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=nb(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?LQ[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:FE,charCode:function(a){return a.type==="keypress"?nb(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?nb(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),kQ=rs(DQ),FQ=g({},lb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dP=rs(FQ),jQ=g({},Ey,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:FE}),UQ=rs(jQ),zQ=g({},Yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),VQ=rs(zQ),GQ=g({},lb,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),qQ=rs(GQ),BQ=g({},Yc,{newState:0,oldState:0}),HQ=rs(BQ),WQ=[9,13,27,32],jE=$a&&"CompositionEvent"in window,xy=null;$a&&"documentMode"in document&&(xy=document.documentMode);var ZQ=$a&&"TextEvent"in window&&!xy,hP=$a&&(!jE||xy&&8<xy&&11>=xy),pP=" ",fP=!1;function mP(a,l){switch(a){case"keyup":return WQ.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yP(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var dp=!1;function YQ(a,l){switch(a){case"compositionend":return yP(l);case"keypress":return l.which!==32?null:(fP=!0,pP);case"textInput":return a=l.data,a===pP&&fP?null:a;default:return null}}function JQ(a,l){if(dp)return a==="compositionend"||!jE&&mP(a,l)?(a=aP(),sb=NE=zl=null,dp=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return hP&&l.locale!=="ko"?null:l.data;default:return null}}var XQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gP(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!XQ[a.type]:l==="textarea"}function vP(a,l,p,y){up?cp?cp.push(y):cp=[y]:up=y,l=Zb(l,"onChange"),0<l.length&&(p=new ab("onChange","change",null,p,y),a.push({event:p,listeners:l}))}var My=null,Ay=null;function QQ(a){Qk(a,0)}function ub(a){var l=Ue(a);if(mi(l))return a}function bP(a,l){if(a==="change")return l}var _P=!1;if($a){var UE;if($a){var zE="oninput"in document;if(!zE){var wP=document.createElement("div");wP.setAttribute("oninput","return;"),zE=typeof wP.oninput=="function"}UE=zE}else UE=!1;_P=UE&&(!document.documentMode||9<document.documentMode)}function SP(){My&&(My.detachEvent("onpropertychange",TP),Ay=My=null)}function TP(a){if(a.propertyName==="value"&&ub(Ay)){var l=[];vP(l,Ay,a,IE(a)),oP(QQ,l)}}function KQ(a,l,p){a==="focusin"?(SP(),My=l,Ay=p,My.attachEvent("onpropertychange",TP)):a==="focusout"&&SP()}function eK(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ub(Ay)}function tK(a,l){if(a==="click")return ub(l)}function iK(a,l){if(a==="input"||a==="change")return ub(l)}function rK(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Os=typeof Object.is=="function"?Object.is:rK;function Oy(a,l){if(Os(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var p=Object.keys(a),y=Object.keys(l);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var b=p[y];if(!hy.call(l,b)||!Os(a[b],l[b]))return!1}return!0}function EP(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function $P(a,l){var p=EP(a);a=0;for(var y;p;){if(p.nodeType===3){if(y=a+p.textContent.length,a<=l&&y>=l)return{node:p,offset:l-a};a=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=EP(p)}}function xP(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?xP(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function MP(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=zi(a.document);l instanceof a.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)a=l.contentWindow;else break;l=zi(a.document)}return l}function VE(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var sK=$a&&"documentMode"in document&&11>=document.documentMode,hp=null,GE=null,Cy=null,qE=!1;function AP(a,l,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;qE||hp==null||hp!==zi(y)||(y=hp,"selectionStart"in y&&VE(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Cy&&Oy(Cy,y)||(Cy=y,y=Zb(GE,"onSelect"),0<y.length&&(l=new ab("onSelect","select",null,l,p),a.push({event:l,listeners:y}),l.target=hp)))}function Jc(a,l){var p={};return p[a.toLowerCase()]=l.toLowerCase(),p["Webkit"+a]="webkit"+l,p["Moz"+a]="moz"+l,p}var pp={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionrun:Jc("Transition","TransitionRun"),transitionstart:Jc("Transition","TransitionStart"),transitioncancel:Jc("Transition","TransitionCancel"),transitionend:Jc("Transition","TransitionEnd")},BE={},OP={};$a&&(OP=document.createElement("div").style,"AnimationEvent"in window||(delete pp.animationend.animation,delete pp.animationiteration.animation,delete pp.animationstart.animation),"TransitionEvent"in window||delete pp.transitionend.transition);function Xc(a){if(BE[a])return BE[a];if(!pp[a])return a;var l=pp[a],p;for(p in l)if(l.hasOwnProperty(p)&&p in OP)return BE[a]=l[p];return a}var CP=Xc("animationend"),IP=Xc("animationiteration"),RP=Xc("animationstart"),nK=Xc("transitionrun"),oK=Xc("transitionstart"),aK=Xc("transitioncancel"),LP=Xc("transitionend"),NP=new Map,HE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");HE.push("scrollEnd");function Bn(a,l){NP.set(a,l),Gn(l,[a])}var PP=new WeakMap;function nn(a,l){if(typeof a=="object"&&a!==null){var p=PP.get(a);return p!==void 0?p:(l={value:a,source:l,stack:Q(l)},PP.set(a,l),l)}return{value:a,source:l,stack:Q(l)}}var on=[],fp=0,WE=0;function cb(){for(var a=fp,l=WE=fp=0;l<a;){var p=on[l];on[l++]=null;var y=on[l];on[l++]=null;var b=on[l];on[l++]=null;var w=on[l];if(on[l++]=null,y!==null&&b!==null){var $=y.pending;$===null?b.next=b:(b.next=$.next,$.next=b),y.pending=b}w!==0&&DP(p,b,w)}}function db(a,l,p,y){on[fp++]=a,on[fp++]=l,on[fp++]=p,on[fp++]=y,WE|=y,a.lanes|=y,a=a.alternate,a!==null&&(a.lanes|=y)}function ZE(a,l,p,y){return db(a,l,p,y),hb(a)}function mp(a,l){return db(a,null,null,l),hb(a)}function DP(a,l,p){a.lanes|=p;var y=a.alternate;y!==null&&(y.lanes|=p);for(var b=!1,w=a.return;w!==null;)w.childLanes|=p,y=w.alternate,y!==null&&(y.childLanes|=p),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(b=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,b&&l!==null&&(b=31-Gr(p),a=w.hiddenUpdates,y=a[b],y===null?a[b]=[l]:y.push(l),l.lane=p|536870912),w):null}function hb(a){if(50<tg)throw tg=0,ex=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var yp={};function lK(a,l,p,y){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(a,l,p,y){return new lK(a,l,p,y)}function YE(a){return a=a.prototype,!(!a||!a.isReactComponent)}function xa(a,l){var p=a.alternate;return p===null?(p=Cs(a.tag,l,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=l,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&65011712,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,l=a.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p.refCleanup=a.refCleanup,p}function kP(a,l){a.flags&=65011714;var p=a.alternate;return p===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=p.childLanes,a.lanes=p.lanes,a.child=p.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=p.memoizedProps,a.memoizedState=p.memoizedState,a.updateQueue=p.updateQueue,a.type=p.type,l=p.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function pb(a,l,p,y,b,w){var $=0;if(y=a,typeof a=="function")YE(a)&&($=1);else if(typeof a=="string")$=cee(a,p,Fe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case fe:return a=Cs(31,p,l,b),a.elementType=fe,a.lanes=w,a;case T:return Qc(p.children,b,w,l);case E:$=8,b|=24;break;case M:return a=Cs(12,p,l,b|2),a.elementType=M,a.lanes=w,a;case U:return a=Cs(13,p,l,b),a.elementType=U,a.lanes=w,a;case W:return a=Cs(19,p,l,b),a.elementType=W,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:case N:$=10;break e;case L:$=9;break e;case P:$=11;break e;case re:$=14;break e;case ae:$=16,y=null;break e}$=29,p=Error(r(130,a===null?"null":typeof a,"")),y=null}return l=Cs($,p,l,b),l.elementType=a,l.type=y,l.lanes=w,l}function Qc(a,l,p,y){return a=Cs(7,a,y,l),a.lanes=p,a}function JE(a,l,p){return a=Cs(6,a,null,l),a.lanes=p,a}function XE(a,l,p){return l=Cs(4,a.children!==null?a.children:[],a.key,l),l.lanes=p,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var gp=[],vp=0,fb=null,mb=0,an=[],ln=0,Kc=null,Ma=1,Aa="";function ed(a,l){gp[vp++]=mb,gp[vp++]=fb,fb=a,mb=l}function FP(a,l,p){an[ln++]=Ma,an[ln++]=Aa,an[ln++]=Kc,Kc=a;var y=Ma;a=Aa;var b=32-Gr(y)-1;y&=~(1<<b),p+=1;var w=32-Gr(l)+b;if(30<w){var $=b-b%5;w=(y&(1<<$)-1).toString(32),y>>=$,b-=$,Ma=1<<32-Gr(l)+b|p<<b|y,Aa=w+a}else Ma=1<<w|p<<b|y,Aa=a}function QE(a){a.return!==null&&(ed(a,1),FP(a,1,0))}function KE(a){for(;a===fb;)fb=gp[--vp],gp[vp]=null,mb=gp[--vp],gp[vp]=null;for(;a===Kc;)Kc=an[--ln],an[ln]=null,Aa=an[--ln],an[ln]=null,Ma=an[--ln],an[ln]=null}var qr=null,yi=null,Et=!1,td=null,Po=!1,e$=Error(r(519));function id(a){var l=Error(r(418,""));throw Ly(nn(l,a)),e$}function jP(a){var l=a.stateNode,p=a.type,y=a.memoizedProps;switch(l[ui]=a,l[Wt]=y,p){case"dialog":ct("cancel",l),ct("close",l);break;case"iframe":case"object":case"embed":ct("load",l);break;case"video":case"audio":for(p=0;p<rg.length;p++)ct(rg[p],l);break;case"source":ct("error",l);break;case"img":case"image":case"link":ct("error",l),ct("load",l);break;case"details":ct("toggle",l);break;case"input":ct("invalid",l),eP(l,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),Ut(l);break;case"select":ct("invalid",l);break;case"textarea":ct("invalid",l),iP(l,y.value,y.defaultValue,y.children),Ut(l)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||l.textContent===""+p||y.suppressHydrationWarning===!0||i4(l.textContent,p)?(y.popover!=null&&(ct("beforetoggle",l),ct("toggle",l)),y.onScroll!=null&&ct("scroll",l),y.onScrollEnd!=null&&ct("scrollend",l),y.onClick!=null&&(l.onclick=Yb),l=!0):l=!1,l||id(a)}function UP(a){for(qr=a.return;qr;)switch(qr.tag){case 5:case 13:Po=!1;return;case 27:case 3:Po=!0;return;default:qr=qr.return}}function Iy(a){if(a!==qr)return!1;if(!Et)return UP(a),Et=!0,!1;var l=a.tag,p;if((p=l!==3&&l!==27)&&((p=l===5)&&(p=a.type,p=!(p!=="form"&&p!=="button")||yx(a.type,a.memoizedProps)),p=!p),p&&yi&&id(a),UP(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(p=a.data,p==="/$"){if(l===0){yi=Wn(a.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++;a=a.nextSibling}yi=null}}else l===27?(l=yi,ru(a.type)?(a=_x,_x=null,yi=a):yi=l):yi=qr?Wn(a.stateNode.nextSibling):null;return!0}function Ry(){yi=qr=null,Et=!1}function zP(){var a=td;return a!==null&&(os===null?os=a:os.push.apply(os,a),td=null),a}function Ly(a){td===null?td=[a]:td.push(a)}var t$=le(null),rd=null,Oa=null;function Vl(a,l,p){ge(t$,l._currentValue),l._currentValue=p}function Ca(a){a._currentValue=t$.current,Ee(t$)}function i$(a,l,p){for(;a!==null;){var y=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),a===p)break;a=a.return}}function r$(a,l,p,y){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var w=b.dependencies;if(w!==null){var $=b.child;w=w.firstContext;e:for(;w!==null;){var O=w;w=b;for(var R=0;R<l.length;R++)if(O.context===l[R]){w.lanes|=p,O=w.alternate,O!==null&&(O.lanes|=p),i$(w.return,p,a),y||($=null);break e}w=O.next}}else if(b.tag===18){if($=b.return,$===null)throw Error(r(341));$.lanes|=p,w=$.alternate,w!==null&&(w.lanes|=p),i$($,p,a),$=null}else $=b.child;if($!==null)$.return=b;else for($=b;$!==null;){if($===a){$=null;break}if(b=$.sibling,b!==null){b.return=$.return,$=b;break}$=$.return}b=$}}function Ny(a,l,p,y){a=null;for(var b=l,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var $=b.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var O=b.type;Os(b.pendingProps.value,$.value)||(a!==null?a.push(O):a=[O])}}else if(b===zr.current){if($=b.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(ug):a=[ug])}b=b.return}a!==null&&r$(l,a,p,y),l.flags|=262144}function yb(a){for(a=a.firstContext;a!==null;){if(!Os(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function sd(a){rd=a,Oa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Tr(a){return VP(rd,a)}function gb(a,l){return rd===null&&sd(a),VP(a,l)}function VP(a,l){var p=l._currentValue;if(l={context:l,memoizedValue:p,next:null},Oa===null){if(a===null)throw Error(r(308));Oa=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Oa=Oa.next=l;return p}var uK=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(p,y){a.push(y)}};this.abort=function(){l.aborted=!0,a.forEach(function(p){return p()})}},cK=e.unstable_scheduleCallback,dK=e.unstable_NormalPriority,Vi={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function s$(){return{controller:new uK,data:new Map,refCount:0}}function Py(a){a.refCount--,a.refCount===0&&cK(dK,function(){a.controller.abort()})}var Dy=null,n$=0,bp=0,_p=null;function hK(a,l){if(Dy===null){var p=Dy=[];n$=0,bp=ax(),_p={status:"pending",value:void 0,then:function(y){p.push(y)}}}return n$++,l.then(GP,GP),l}function GP(){if(--n$===0&&Dy!==null){_p!==null&&(_p.status="fulfilled");var a=Dy;Dy=null,bp=0,_p=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function pK(a,l){var p=[],y={status:"pending",value:null,reason:null,then:function(b){p.push(b)}};return a.then(function(){y.status="fulfilled",y.value=l;for(var b=0;b<p.length;b++)(0,p[b])(l)},function(b){for(y.status="rejected",y.reason=b,b=0;b<p.length;b++)(0,p[b])(void 0)}),y}var qP=X.S;X.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&hK(a,l),qP!==null&&qP(a,l)};var nd=le(null);function o$(){var a=nd.current;return a!==null?a:Zt.pooledCache}function vb(a,l){l===null?ge(nd,nd.current):ge(nd,l.pool)}function BP(){var a=o$();return a===null?null:{parent:Vi._currentValue,pool:a}}var ky=Error(r(460)),HP=Error(r(474)),bb=Error(r(542)),a$={then:function(){}};function WP(a){return a=a.status,a==="fulfilled"||a==="rejected"}function _b(){}function ZP(a,l,p){switch(p=a[p],p===void 0?a.push(l):p!==l&&(l.then(_b,_b),l=p),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,JP(a),a;default:if(typeof l.status=="string")l.then(_b,_b);else{if(a=Zt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(y){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=y}},function(y){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=y}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,JP(a),a}throw Fy=l,ky}}var Fy=null;function YP(){if(Fy===null)throw Error(r(459));var a=Fy;return Fy=null,a}function JP(a){if(a===ky||a===bb)throw Error(r(483))}var Gl=!1;function l$(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function u$(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ql(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Bl(a,l,p){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(Rt&2)!==0){var b=y.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),y.pending=l,l=hb(a),DP(a,null,p),l}return db(a,y,l,p),hb(a)}function jy(a,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194048)!==0)){var y=l.lanes;y&=a.pendingLanes,p|=y,l.lanes=p,J1(a,p)}}function c$(a,l){var p=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var b=null,w=null;if(p=p.firstBaseUpdate,p!==null){do{var $={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};w===null?b=w=$:w=w.next=$,p=p.next}while(p!==null);w===null?b=w=l:w=w.next=l}else b=w=l;p={baseState:y.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:y.shared,callbacks:y.callbacks},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=l:a.next=l,p.lastBaseUpdate=l}var d$=!1;function Uy(){if(d$){var a=_p;if(a!==null)throw a}}function zy(a,l,p,y){d$=!1;var b=a.updateQueue;Gl=!1;var w=b.firstBaseUpdate,$=b.lastBaseUpdate,O=b.shared.pending;if(O!==null){b.shared.pending=null;var R=O,H=R.next;R.next=null,$===null?w=H:$.next=H,$=R;var ee=a.alternate;ee!==null&&(ee=ee.updateQueue,O=ee.lastBaseUpdate,O!==$&&(O===null?ee.firstBaseUpdate=H:O.next=H,ee.lastBaseUpdate=R))}if(w!==null){var se=b.baseState;$=0,ee=H=R=null,O=w;do{var Z=O.lane&-536870913,Y=Z!==O.lane;if(Y?(mt&Z)===Z:(y&Z)===Z){Z!==0&&Z===bp&&(d$=!0),ee!==null&&(ee=ee.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var qe=a,ze=O;Z=l;var Ft=p;switch(ze.tag){case 1:if(qe=ze.payload,typeof qe=="function"){se=qe.call(Ft,se,Z);break e}se=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=ze.payload,Z=typeof qe=="function"?qe.call(Ft,se,Z):qe,Z==null)break e;se=g({},se,Z);break e;case 2:Gl=!0}}Z=O.callback,Z!==null&&(a.flags|=64,Y&&(a.flags|=8192),Y=b.callbacks,Y===null?b.callbacks=[Z]:Y.push(Z))}else Y={lane:Z,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ee===null?(H=ee=Y,R=se):ee=ee.next=Y,$|=Z;if(O=O.next,O===null){if(O=b.shared.pending,O===null)break;Y=O,O=Y.next,Y.next=null,b.lastBaseUpdate=Y,b.shared.pending=null}}while(!0);ee===null&&(R=se),b.baseState=R,b.firstBaseUpdate=H,b.lastBaseUpdate=ee,w===null&&(b.shared.lanes=0),Kl|=$,a.lanes=$,a.memoizedState=se}}function XP(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function QP(a,l){var p=a.callbacks;if(p!==null)for(a.callbacks=null,a=0;a<p.length;a++)XP(p[a],l)}var wp=le(null),wb=le(0);function KP(a,l){a=ka,ge(wb,a),ge(wp,l),ka=a|l.baseLanes}function h$(){ge(wb,ka),ge(wp,wp.current)}function p$(){ka=wb.current,Ee(wp),Ee(wb)}var Hl=0,st=null,Dt=null,Ii=null,Sb=!1,Sp=!1,od=!1,Tb=0,Vy=0,Tp=null,fK=0;function Mi(){throw Error(r(321))}function f$(a,l){if(l===null)return!1;for(var p=0;p<l.length&&p<a.length;p++)if(!Os(a[p],l[p]))return!1;return!0}function m$(a,l,p,y,b,w){return Hl=w,st=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,X.H=a===null||a.memoizedState===null?DD:kD,od=!1,w=p(y,b),od=!1,Sp&&(w=tD(l,p,y,b)),eD(a),w}function eD(a){X.H=Ob;var l=Dt!==null&&Dt.next!==null;if(Hl=0,Ii=Dt=st=null,Sb=!1,Vy=0,Tp=null,l)throw Error(r(300));a===null||Qi||(a=a.dependencies,a!==null&&yb(a)&&(Qi=!0))}function tD(a,l,p,y){st=a;var b=0;do{if(Sp&&(Tp=null),Vy=0,Sp=!1,25<=b)throw Error(r(301));if(b+=1,Ii=Dt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}X.H=wK,w=l(p,y)}while(Sp);return w}function mK(){var a=X.H,l=a.useState()[0];return l=typeof l.then=="function"?Gy(l):l,a=a.useState()[0],(Dt!==null?Dt.memoizedState:null)!==a&&(st.flags|=1024),l}function y$(){var a=Tb!==0;return Tb=0,a}function g$(a,l,p){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~p}function v$(a){if(Sb){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Sb=!1}Hl=0,Ii=Dt=st=null,Sp=!1,Vy=Tb=0,Tp=null}function ss(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ii===null?st.memoizedState=Ii=a:Ii=Ii.next=a,Ii}function Ri(){if(Dt===null){var a=st.alternate;a=a!==null?a.memoizedState:null}else a=Dt.next;var l=Ii===null?st.memoizedState:Ii.next;if(l!==null)Ii=l,Dt=a;else{if(a===null)throw st.alternate===null?Error(r(467)):Error(r(310));Dt=a,a={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ii===null?st.memoizedState=Ii=a:Ii=Ii.next=a}return Ii}function b$(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gy(a){var l=Vy;return Vy+=1,Tp===null&&(Tp=[]),a=ZP(Tp,a,l),l=st,(Ii===null?l.memoizedState:Ii.next)===null&&(l=l.alternate,X.H=l===null||l.memoizedState===null?DD:kD),a}function Eb(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Gy(a);if(a.$$typeof===N)return Tr(a)}throw Error(r(438,String(a)))}function _$(a){var l=null,p=st.updateQueue;if(p!==null&&(l=p.memoCache),l==null){var y=st.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(l={data:y.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),p===null&&(p=b$(),st.updateQueue=p),p.memoCache=l,p=l.data[l.index],p===void 0)for(p=l.data[l.index]=Array(a),y=0;y<a;y++)p[y]=ye;return l.index++,p}function Ia(a,l){return typeof l=="function"?l(a):l}function $b(a){var l=Ri();return w$(l,Dt,a)}function w$(a,l,p){var y=a.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=p;var b=a.baseQueue,w=y.pending;if(w!==null){if(b!==null){var $=b.next;b.next=w.next,w.next=$}l.baseQueue=b=w,y.pending=null}if(w=a.baseState,b===null)a.memoizedState=w;else{l=b.next;var O=$=null,R=null,H=l,ee=!1;do{var se=H.lane&-536870913;if(se!==H.lane?(mt&se)===se:(Hl&se)===se){var Z=H.revertLane;if(Z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),se===bp&&(ee=!0);else if((Hl&Z)===Z){H=H.next,Z===bp&&(ee=!0);continue}else se={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(O=R=se,$=w):R=R.next=se,st.lanes|=Z,Kl|=Z;se=H.action,od&&p(w,se),w=H.hasEagerState?H.eagerState:p(w,se)}else Z={lane:se,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(O=R=Z,$=w):R=R.next=Z,st.lanes|=se,Kl|=se;H=H.next}while(H!==null&&H!==l);if(R===null?$=w:R.next=O,!Os(w,a.memoizedState)&&(Qi=!0,ee&&(p=_p,p!==null)))throw p;a.memoizedState=w,a.baseState=$,a.baseQueue=R,y.lastRenderedState=w}return b===null&&(y.lanes=0),[a.memoizedState,y.dispatch]}function S$(a){var l=Ri(),p=l.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=a;var y=p.dispatch,b=p.pending,w=l.memoizedState;if(b!==null){p.pending=null;var $=b=b.next;do w=a(w,$.action),$=$.next;while($!==b);Os(w,l.memoizedState)||(Qi=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),p.lastRenderedState=w}return[w,y]}function iD(a,l,p){var y=st,b=Ri(),w=Et;if(w){if(p===void 0)throw Error(r(407));p=p()}else p=l();var $=!Os((Dt||b).memoizedState,p);$&&(b.memoizedState=p,Qi=!0),b=b.queue;var O=nD.bind(null,y,b,a);if(qy(2048,8,O,[a]),b.getSnapshot!==l||$||Ii!==null&&Ii.memoizedState.tag&1){if(y.flags|=2048,Ep(9,xb(),sD.bind(null,y,b,p,l),null),Zt===null)throw Error(r(349));w||(Hl&124)!==0||rD(y,l,p)}return p}function rD(a,l,p){a.flags|=16384,a={getSnapshot:l,value:p},l=st.updateQueue,l===null?(l=b$(),st.updateQueue=l,l.stores=[a]):(p=l.stores,p===null?l.stores=[a]:p.push(a))}function sD(a,l,p,y){l.value=p,l.getSnapshot=y,oD(l)&&aD(a)}function nD(a,l,p){return p(function(){oD(l)&&aD(a)})}function oD(a){var l=a.getSnapshot;a=a.value;try{var p=l();return!Os(a,p)}catch{return!0}}function aD(a){var l=mp(a,2);l!==null&&Ps(l,a,2)}function T$(a){var l=ss();if(typeof a=="function"){var p=a;if(a=p(),od){No(!0);try{p()}finally{No(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:a},l}function lD(a,l,p,y){return a.baseState=p,w$(a,Dt,typeof y=="function"?y:Ia)}function yK(a,l,p,y,b){if(Ab(a))throw Error(r(485));if(a=l.action,a!==null){var w={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){w.listeners.push($)}};X.T!==null?p(!0):w.isTransition=!1,y(w),p=l.pending,p===null?(w.next=l.pending=w,uD(l,w)):(w.next=p.next,l.pending=p.next=w)}}function uD(a,l){var p=l.action,y=l.payload,b=a.state;if(l.isTransition){var w=X.T,$={};X.T=$;try{var O=p(b,y),R=X.S;R!==null&&R($,O),cD(a,l,O)}catch(H){E$(a,l,H)}finally{X.T=w}}else try{w=p(b,y),cD(a,l,w)}catch(H){E$(a,l,H)}}function cD(a,l,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){dD(a,l,y)},function(y){return E$(a,l,y)}):dD(a,l,p)}function dD(a,l,p){l.status="fulfilled",l.value=p,hD(l),a.state=p,l=a.pending,l!==null&&(p=l.next,p===l?a.pending=null:(p=p.next,l.next=p,uD(a,p)))}function E$(a,l,p){var y=a.pending;if(a.pending=null,y!==null){y=y.next;do l.status="rejected",l.reason=p,hD(l),l=l.next;while(l!==y)}a.action=null}function hD(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function pD(a,l){return l}function fD(a,l){if(Et){var p=Zt.formState;if(p!==null){e:{var y=st;if(Et){if(yi){t:{for(var b=yi,w=Po;b.nodeType!==8;){if(!w){b=null;break t}if(b=Wn(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){yi=Wn(b.nextSibling),y=b.data==="F!";break e}}id(y)}y=!1}y&&(l=p[0])}}return p=ss(),p.memoizedState=p.baseState=l,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pD,lastRenderedState:l},p.queue=y,p=LD.bind(null,st,y),y.dispatch=p,y=T$(!1),w=O$.bind(null,st,!1,y.queue),y=ss(),b={state:l,dispatch:null,action:a,pending:null},y.queue=b,p=yK.bind(null,st,b,w,p),b.dispatch=p,y.memoizedState=a,[l,p,!1]}function mD(a){var l=Ri();return yD(l,Dt,a)}function yD(a,l,p){if(l=w$(a,l,pD)[0],a=$b(Ia)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var y=Gy(l)}catch($){throw $===ky?bb:$}else y=l;l=Ri();var b=l.queue,w=b.dispatch;return p!==l.memoizedState&&(st.flags|=2048,Ep(9,xb(),gK.bind(null,b,p),null)),[y,w,a]}function gK(a,l){a.action=l}function gD(a){var l=Ri(),p=Dt;if(p!==null)return yD(l,p,a);Ri(),l=l.memoizedState,p=Ri();var y=p.queue.dispatch;return p.memoizedState=a,[l,y,!1]}function Ep(a,l,p,y){return a={tag:a,create:p,deps:y,inst:l,next:null},l=st.updateQueue,l===null&&(l=b$(),st.updateQueue=l),p=l.lastEffect,p===null?l.lastEffect=a.next=a:(y=p.next,p.next=a,a.next=y,l.lastEffect=a),a}function xb(){return{destroy:void 0,resource:void 0}}function vD(){return Ri().memoizedState}function Mb(a,l,p,y){var b=ss();y=y===void 0?null:y,st.flags|=a,b.memoizedState=Ep(1|l,xb(),p,y)}function qy(a,l,p,y){var b=Ri();y=y===void 0?null:y;var w=b.memoizedState.inst;Dt!==null&&y!==null&&f$(y,Dt.memoizedState.deps)?b.memoizedState=Ep(l,w,p,y):(st.flags|=a,b.memoizedState=Ep(1|l,w,p,y))}function bD(a,l){Mb(8390656,8,a,l)}function _D(a,l){qy(2048,8,a,l)}function wD(a,l){return qy(4,2,a,l)}function SD(a,l){return qy(4,4,a,l)}function TD(a,l){if(typeof l=="function"){a=a();var p=l(a);return function(){typeof p=="function"?p():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function ED(a,l,p){p=p!=null?p.concat([a]):null,qy(4,4,TD.bind(null,l,a),p)}function $$(){}function $D(a,l){var p=Ri();l=l===void 0?null:l;var y=p.memoizedState;return l!==null&&f$(l,y[1])?y[0]:(p.memoizedState=[a,l],a)}function xD(a,l){var p=Ri();l=l===void 0?null:l;var y=p.memoizedState;if(l!==null&&f$(l,y[1]))return y[0];if(y=a(),od){No(!0);try{a()}finally{No(!1)}}return p.memoizedState=[y,l],y}function x$(a,l,p){return p===void 0||(Hl&1073741824)!==0?a.memoizedState=l:(a.memoizedState=p,a=Ok(),st.lanes|=a,Kl|=a,p)}function MD(a,l,p,y){return Os(p,l)?p:wp.current!==null?(a=x$(a,p,y),Os(a,l)||(Qi=!0),a):(Hl&42)===0?(Qi=!0,a.memoizedState=p):(a=Ok(),st.lanes|=a,Kl|=a,l)}function AD(a,l,p,y,b){var w=he.p;he.p=w!==0&&8>w?w:8;var $=X.T,O={};X.T=O,O$(a,!1,l,p);try{var R=b(),H=X.S;if(H!==null&&H(O,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ee=pK(R,y);By(a,l,ee,Ns(a))}else By(a,l,y,Ns(a))}catch(se){By(a,l,{then:function(){},status:"rejected",reason:se},Ns())}finally{he.p=w,X.T=$}}function vK(){}function M$(a,l,p,y){if(a.tag!==5)throw Error(r(476));var b=OD(a).queue;AD(a,b,l,me,p===null?vK:function(){return CD(a),p(y)})}function OD(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:me},next:null};var p={};return l.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:p},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function CD(a){var l=OD(a).next.queue;By(a,l,{},Ns())}function A$(){return Tr(ug)}function ID(){return Ri().memoizedState}function RD(){return Ri().memoizedState}function bK(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var p=Ns();a=ql(p);var y=Bl(l,a,p);y!==null&&(Ps(y,l,p),jy(y,l,p)),l={cache:s$()},a.payload=l;return}l=l.return}}function _K(a,l,p){var y=Ns();p={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Ab(a)?ND(l,p):(p=ZE(a,l,p,y),p!==null&&(Ps(p,a,y),PD(p,l,y)))}function LD(a,l,p){var y=Ns();By(a,l,p,y)}function By(a,l,p,y){var b={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Ab(a))ND(l,b);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var $=l.lastRenderedState,O=w($,p);if(b.hasEagerState=!0,b.eagerState=O,Os(O,$))return db(a,l,b,0),Zt===null&&cb(),!1}catch{}finally{}if(p=ZE(a,l,b,y),p!==null)return Ps(p,a,y),PD(p,l,y),!0}return!1}function O$(a,l,p,y){if(y={lane:2,revertLane:ax(),action:y,hasEagerState:!1,eagerState:null,next:null},Ab(a)){if(l)throw Error(r(479))}else l=ZE(a,p,y,2),l!==null&&Ps(l,a,2)}function Ab(a){var l=a.alternate;return a===st||l!==null&&l===st}function ND(a,l){Sp=Sb=!0;var p=a.pending;p===null?l.next=l:(l.next=p.next,p.next=l),a.pending=l}function PD(a,l,p){if((p&4194048)!==0){var y=l.lanes;y&=a.pendingLanes,p|=y,l.lanes=p,J1(a,p)}}var Ob={readContext:Tr,use:Eb,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useLayoutEffect:Mi,useInsertionEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useSyncExternalStore:Mi,useId:Mi,useHostTransitionStatus:Mi,useFormState:Mi,useActionState:Mi,useOptimistic:Mi,useMemoCache:Mi,useCacheRefresh:Mi},DD={readContext:Tr,use:Eb,useCallback:function(a,l){return ss().memoizedState=[a,l===void 0?null:l],a},useContext:Tr,useEffect:bD,useImperativeHandle:function(a,l,p){p=p!=null?p.concat([a]):null,Mb(4194308,4,TD.bind(null,l,a),p)},useLayoutEffect:function(a,l){return Mb(4194308,4,a,l)},useInsertionEffect:function(a,l){Mb(4,2,a,l)},useMemo:function(a,l){var p=ss();l=l===void 0?null:l;var y=a();if(od){No(!0);try{a()}finally{No(!1)}}return p.memoizedState=[y,l],y},useReducer:function(a,l,p){var y=ss();if(p!==void 0){var b=p(l);if(od){No(!0);try{p(l)}finally{No(!1)}}}else b=l;return y.memoizedState=y.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},y.queue=a,a=a.dispatch=_K.bind(null,st,a),[y.memoizedState,a]},useRef:function(a){var l=ss();return a={current:a},l.memoizedState=a},useState:function(a){a=T$(a);var l=a.queue,p=LD.bind(null,st,l);return l.dispatch=p,[a.memoizedState,p]},useDebugValue:$$,useDeferredValue:function(a,l){var p=ss();return x$(p,a,l)},useTransition:function(){var a=T$(!1);return a=AD.bind(null,st,a.queue,!0,!1),ss().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,p){var y=st,b=ss();if(Et){if(p===void 0)throw Error(r(407));p=p()}else{if(p=l(),Zt===null)throw Error(r(349));(mt&124)!==0||rD(y,l,p)}b.memoizedState=p;var w={value:p,getSnapshot:l};return b.queue=w,bD(nD.bind(null,y,w,a),[a]),y.flags|=2048,Ep(9,xb(),sD.bind(null,y,w,p,l),null),p},useId:function(){var a=ss(),l=Zt.identifierPrefix;if(Et){var p=Aa,y=Ma;p=(y&~(1<<32-Gr(y)-1)).toString(32)+p,l=""+l+"R"+p,p=Tb++,0<p&&(l+="H"+p.toString(32)),l+=""}else p=fK++,l=""+l+"r"+p.toString(32)+"";return a.memoizedState=l},useHostTransitionStatus:A$,useFormState:fD,useActionState:fD,useOptimistic:function(a){var l=ss();l.memoizedState=l.baseState=a;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=p,l=O$.bind(null,st,!0,p),p.dispatch=l,[a,l]},useMemoCache:_$,useCacheRefresh:function(){return ss().memoizedState=bK.bind(null,st)}},kD={readContext:Tr,use:Eb,useCallback:$D,useContext:Tr,useEffect:_D,useImperativeHandle:ED,useInsertionEffect:wD,useLayoutEffect:SD,useMemo:xD,useReducer:$b,useRef:vD,useState:function(){return $b(Ia)},useDebugValue:$$,useDeferredValue:function(a,l){var p=Ri();return MD(p,Dt.memoizedState,a,l)},useTransition:function(){var a=$b(Ia)[0],l=Ri().memoizedState;return[typeof a=="boolean"?a:Gy(a),l]},useSyncExternalStore:iD,useId:ID,useHostTransitionStatus:A$,useFormState:mD,useActionState:mD,useOptimistic:function(a,l){var p=Ri();return lD(p,Dt,a,l)},useMemoCache:_$,useCacheRefresh:RD},wK={readContext:Tr,use:Eb,useCallback:$D,useContext:Tr,useEffect:_D,useImperativeHandle:ED,useInsertionEffect:wD,useLayoutEffect:SD,useMemo:xD,useReducer:S$,useRef:vD,useState:function(){return S$(Ia)},useDebugValue:$$,useDeferredValue:function(a,l){var p=Ri();return Dt===null?x$(p,a,l):MD(p,Dt.memoizedState,a,l)},useTransition:function(){var a=S$(Ia)[0],l=Ri().memoizedState;return[typeof a=="boolean"?a:Gy(a),l]},useSyncExternalStore:iD,useId:ID,useHostTransitionStatus:A$,useFormState:gD,useActionState:gD,useOptimistic:function(a,l){var p=Ri();return Dt!==null?lD(p,Dt,a,l):(p.baseState=a,[a,p.queue.dispatch])},useMemoCache:_$,useCacheRefresh:RD},$p=null,Hy=0;function Cb(a){var l=Hy;return Hy+=1,$p===null&&($p=[]),ZP($p,a,l)}function Wy(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Ib(a,l){throw l.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function FD(a){var l=a._init;return l(a._payload)}function jD(a){function l(V,F){if(a){var q=V.deletions;q===null?(V.deletions=[F],V.flags|=16):q.push(F)}}function p(V,F){if(!a)return null;for(;F!==null;)l(V,F),F=F.sibling;return null}function y(V){for(var F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function b(V,F){return V=xa(V,F),V.index=0,V.sibling=null,V}function w(V,F,q){return V.index=q,a?(q=V.alternate,q!==null?(q=q.index,q<F?(V.flags|=67108866,F):q):(V.flags|=67108866,F)):(V.flags|=1048576,F)}function $(V){return a&&V.alternate===null&&(V.flags|=67108866),V}function O(V,F,q,ie){return F===null||F.tag!==6?(F=JE(q,V.mode,ie),F.return=V,F):(F=b(F,q),F.return=V,F)}function R(V,F,q,ie){var Ce=q.type;return Ce===T?ee(V,F,q.props.children,ie,q.key):F!==null&&(F.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ae&&FD(Ce)===F.type)?(F=b(F,q.props),Wy(F,q),F.return=V,F):(F=pb(q.type,q.key,q.props,null,V.mode,ie),Wy(F,q),F.return=V,F)}function H(V,F,q,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=XE(q,V.mode,ie),F.return=V,F):(F=b(F,q.children||[]),F.return=V,F)}function ee(V,F,q,ie,Ce){return F===null||F.tag!==7?(F=Qc(q,V.mode,ie,Ce),F.return=V,F):(F=b(F,q),F.return=V,F)}function se(V,F,q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=JE(""+F,V.mode,q),F.return=V,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _:return q=pb(F.type,F.key,F.props,null,V.mode,q),Wy(q,F),q.return=V,q;case S:return F=XE(F,V.mode,q),F.return=V,F;case ae:var ie=F._init;return F=ie(F._payload),se(V,F,q)}if(pt(F)||_e(F))return F=Qc(F,V.mode,q,null),F.return=V,F;if(typeof F.then=="function")return se(V,Cb(F),q);if(F.$$typeof===N)return se(V,gb(V,F),q);Ib(V,F)}return null}function Z(V,F,q,ie){var Ce=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ce!==null?null:O(V,F,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return q.key===Ce?R(V,F,q,ie):null;case S:return q.key===Ce?H(V,F,q,ie):null;case ae:return Ce=q._init,q=Ce(q._payload),Z(V,F,q,ie)}if(pt(q)||_e(q))return Ce!==null?null:ee(V,F,q,ie,null);if(typeof q.then=="function")return Z(V,F,Cb(q),ie);if(q.$$typeof===N)return Z(V,F,gb(V,q),ie);Ib(V,q)}return null}function Y(V,F,q,ie,Ce){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return V=V.get(q)||null,O(F,V,""+ie,Ce);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return V=V.get(ie.key===null?q:ie.key)||null,R(F,V,ie,Ce);case S:return V=V.get(ie.key===null?q:ie.key)||null,H(F,V,ie,Ce);case ae:var lt=ie._init;return ie=lt(ie._payload),Y(V,F,q,ie,Ce)}if(pt(ie)||_e(ie))return V=V.get(q)||null,ee(F,V,ie,Ce,null);if(typeof ie.then=="function")return Y(V,F,q,Cb(ie),Ce);if(ie.$$typeof===N)return Y(V,F,q,gb(F,ie),Ce);Ib(F,ie)}return null}function qe(V,F,q,ie){for(var Ce=null,lt=null,ke=F,Ve=F=0,er=null;ke!==null&&Ve<q.length;Ve++){ke.index>Ve?(er=ke,ke=null):er=ke.sibling;var _t=Z(V,ke,q[Ve],ie);if(_t===null){ke===null&&(ke=er);break}a&&ke&&_t.alternate===null&&l(V,ke),F=w(_t,F,Ve),lt===null?Ce=_t:lt.sibling=_t,lt=_t,ke=er}if(Ve===q.length)return p(V,ke),Et&&ed(V,Ve),Ce;if(ke===null){for(;Ve<q.length;Ve++)ke=se(V,q[Ve],ie),ke!==null&&(F=w(ke,F,Ve),lt===null?Ce=ke:lt.sibling=ke,lt=ke);return Et&&ed(V,Ve),Ce}for(ke=y(ke);Ve<q.length;Ve++)er=Y(ke,V,Ve,q[Ve],ie),er!==null&&(a&&er.alternate!==null&&ke.delete(er.key===null?Ve:er.key),F=w(er,F,Ve),lt===null?Ce=er:lt.sibling=er,lt=er);return a&&ke.forEach(function(lu){return l(V,lu)}),Et&&ed(V,Ve),Ce}function ze(V,F,q,ie){if(q==null)throw Error(r(151));for(var Ce=null,lt=null,ke=F,Ve=F=0,er=null,_t=q.next();ke!==null&&!_t.done;Ve++,_t=q.next()){ke.index>Ve?(er=ke,ke=null):er=ke.sibling;var lu=Z(V,ke,_t.value,ie);if(lu===null){ke===null&&(ke=er);break}a&&ke&&lu.alternate===null&&l(V,ke),F=w(lu,F,Ve),lt===null?Ce=lu:lt.sibling=lu,lt=lu,ke=er}if(_t.done)return p(V,ke),Et&&ed(V,Ve),Ce;if(ke===null){for(;!_t.done;Ve++,_t=q.next())_t=se(V,_t.value,ie),_t!==null&&(F=w(_t,F,Ve),lt===null?Ce=_t:lt.sibling=_t,lt=_t);return Et&&ed(V,Ve),Ce}for(ke=y(ke);!_t.done;Ve++,_t=q.next())_t=Y(ke,V,Ve,_t.value,ie),_t!==null&&(a&&_t.alternate!==null&&ke.delete(_t.key===null?Ve:_t.key),F=w(_t,F,Ve),lt===null?Ce=_t:lt.sibling=_t,lt=_t);return a&&ke.forEach(function(See){return l(V,See)}),Et&&ed(V,Ve),Ce}function Ft(V,F,q,ie){if(typeof q=="object"&&q!==null&&q.type===T&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case _:e:{for(var Ce=q.key;F!==null;){if(F.key===Ce){if(Ce=q.type,Ce===T){if(F.tag===7){p(V,F.sibling),ie=b(F,q.props.children),ie.return=V,V=ie;break e}}else if(F.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ae&&FD(Ce)===F.type){p(V,F.sibling),ie=b(F,q.props),Wy(ie,q),ie.return=V,V=ie;break e}p(V,F);break}else l(V,F);F=F.sibling}q.type===T?(ie=Qc(q.props.children,V.mode,ie,q.key),ie.return=V,V=ie):(ie=pb(q.type,q.key,q.props,null,V.mode,ie),Wy(ie,q),ie.return=V,V=ie)}return $(V);case S:e:{for(Ce=q.key;F!==null;){if(F.key===Ce)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){p(V,F.sibling),ie=b(F,q.children||[]),ie.return=V,V=ie;break e}else{p(V,F);break}else l(V,F);F=F.sibling}ie=XE(q,V.mode,ie),ie.return=V,V=ie}return $(V);case ae:return Ce=q._init,q=Ce(q._payload),Ft(V,F,q,ie)}if(pt(q))return qe(V,F,q,ie);if(_e(q)){if(Ce=_e(q),typeof Ce!="function")throw Error(r(150));return q=Ce.call(q),ze(V,F,q,ie)}if(typeof q.then=="function")return Ft(V,F,Cb(q),ie);if(q.$$typeof===N)return Ft(V,F,gb(V,q),ie);Ib(V,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,F!==null&&F.tag===6?(p(V,F.sibling),ie=b(F,q),ie.return=V,V=ie):(p(V,F),ie=JE(q,V.mode,ie),ie.return=V,V=ie),$(V)):p(V,F)}return function(V,F,q,ie){try{Hy=0;var Ce=Ft(V,F,q,ie);return $p=null,Ce}catch(ke){if(ke===ky||ke===bb)throw ke;var lt=Cs(29,ke,null,V.mode);return lt.lanes=ie,lt.return=V,lt}finally{}}}var xp=jD(!0),UD=jD(!1),un=le(null),Do=null;function Wl(a){var l=a.alternate;ge(Gi,Gi.current&1),ge(un,a),Do===null&&(l===null||wp.current!==null||l.memoizedState!==null)&&(Do=a)}function zD(a){if(a.tag===22){if(ge(Gi,Gi.current),ge(un,a),Do===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Do=a)}}else Zl()}function Zl(){ge(Gi,Gi.current),ge(un,un.current)}function Ra(a){Ee(un),Do===a&&(Do=null),Ee(Gi)}var Gi=le(0);function Rb(a){for(var l=a;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||bx(p)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function C$(a,l,p,y){l=a.memoizedState,p=p(y,l),p=p==null?l:g({},l,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var I$={enqueueSetState:function(a,l,p){a=a._reactInternals;var y=Ns(),b=ql(y);b.payload=l,p!=null&&(b.callback=p),l=Bl(a,b,y),l!==null&&(Ps(l,a,y),jy(l,a,y))},enqueueReplaceState:function(a,l,p){a=a._reactInternals;var y=Ns(),b=ql(y);b.tag=1,b.payload=l,p!=null&&(b.callback=p),l=Bl(a,b,y),l!==null&&(Ps(l,a,y),jy(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var p=Ns(),y=ql(p);y.tag=2,l!=null&&(y.callback=l),l=Bl(a,y,p),l!==null&&(Ps(l,a,p),jy(l,a,p))}};function VD(a,l,p,y,b,w,$){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,w,$):l.prototype&&l.prototype.isPureReactComponent?!Oy(p,y)||!Oy(b,w):!0}function GD(a,l,p,y){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,y),l.state!==a&&I$.enqueueReplaceState(l,l.state,null)}function ad(a,l){var p=l;if("ref"in l){p={};for(var y in l)y!=="ref"&&(p[y]=l[y])}if(a=a.defaultProps){p===l&&(p=g({},p));for(var b in a)p[b]===void 0&&(p[b]=a[b])}return p}var Lb=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function qD(a){Lb(a)}function BD(a){console.error(a)}function HD(a){Lb(a)}function Nb(a,l){try{var p=a.onUncaughtError;p(l.value,{componentStack:l.stack})}catch(y){setTimeout(function(){throw y})}}function WD(a,l,p){try{var y=a.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function R$(a,l,p){return p=ql(p),p.tag=3,p.payload={element:null},p.callback=function(){Nb(a,l)},p}function ZD(a){return a=ql(a),a.tag=3,a}function YD(a,l,p,y){var b=p.type.getDerivedStateFromError;if(typeof b=="function"){var w=y.value;a.payload=function(){return b(w)},a.callback=function(){WD(l,p,y)}}var $=p.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(a.callback=function(){WD(l,p,y),typeof b!="function"&&(eu===null?eu=new Set([this]):eu.add(this));var O=y.stack;this.componentDidCatch(y.value,{componentStack:O!==null?O:""})})}function SK(a,l,p,y,b){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(l=p.alternate,l!==null&&Ny(l,p,b,!0),p=un.current,p!==null){switch(p.tag){case 13:return Do===null?ix():p.alternate===null&&gi===0&&(gi=3),p.flags&=-257,p.flags|=65536,p.lanes=b,y===a$?p.flags|=16384:(l=p.updateQueue,l===null?p.updateQueue=new Set([y]):l.add(y),sx(a,y,b)),!1;case 22:return p.flags|=65536,y===a$?p.flags|=16384:(l=p.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=l):(p=l.retryQueue,p===null?l.retryQueue=new Set([y]):p.add(y)),sx(a,y,b)),!1}throw Error(r(435,p.tag))}return sx(a,y,b),ix(),!1}if(Et)return l=un.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,y!==e$&&(a=Error(r(422),{cause:y}),Ly(nn(a,p)))):(y!==e$&&(l=Error(r(423),{cause:y}),Ly(nn(l,p))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,y=nn(y,p),b=R$(a.stateNode,y,b),c$(a,b),gi!==4&&(gi=2)),!1;var w=Error(r(520),{cause:y});if(w=nn(w,p),eg===null?eg=[w]:eg.push(w),gi!==4&&(gi=2),l===null)return!0;y=nn(y,p),p=l;do{switch(p.tag){case 3:return p.flags|=65536,a=b&-b,p.lanes|=a,a=R$(p.stateNode,y,a),c$(p,a),!1;case 1:if(l=p.type,w=p.stateNode,(p.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(eu===null||!eu.has(w))))return p.flags|=65536,b&=-b,p.lanes|=b,b=ZD(b),YD(b,a,p,y),c$(p,b),!1}p=p.return}while(p!==null);return!1}var JD=Error(r(461)),Qi=!1;function pr(a,l,p,y){l.child=a===null?UD(l,null,p,y):xp(l,a.child,p,y)}function XD(a,l,p,y,b){p=p.render;var w=l.ref;if("ref"in y){var $={};for(var O in y)O!=="ref"&&($[O]=y[O])}else $=y;return sd(l),y=m$(a,l,p,$,w,b),O=y$(),a!==null&&!Qi?(g$(a,l,b),La(a,l,b)):(Et&&O&&QE(l),l.flags|=1,pr(a,l,y,b),l.child)}function QD(a,l,p,y,b){if(a===null){var w=p.type;return typeof w=="function"&&!YE(w)&&w.defaultProps===void 0&&p.compare===null?(l.tag=15,l.type=w,KD(a,l,w,y,b)):(a=pb(p.type,null,y,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,!U$(a,b)){var $=w.memoizedProps;if(p=p.compare,p=p!==null?p:Oy,p($,y)&&a.ref===l.ref)return La(a,l,b)}return l.flags|=1,a=xa(w,y),a.ref=l.ref,a.return=l,l.child=a}function KD(a,l,p,y,b){if(a!==null){var w=a.memoizedProps;if(Oy(w,y)&&a.ref===l.ref)if(Qi=!1,l.pendingProps=y=w,U$(a,b))(a.flags&131072)!==0&&(Qi=!0);else return l.lanes=a.lanes,La(a,l,b)}return L$(a,l,p,y,b)}function ek(a,l,p){var y=l.pendingProps,b=y.children,w=a!==null?a.memoizedState:null;if(y.mode==="hidden"){if((l.flags&128)!==0){if(y=w!==null?w.baseLanes|p:p,a!==null){for(b=l.child=a.child,w=0;b!==null;)w=w|b.lanes|b.childLanes,b=b.sibling;l.childLanes=w&~y}else l.childLanes=0,l.child=null;return tk(a,l,y,p)}if((p&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&vb(l,w!==null?w.cachePool:null),w!==null?KP(l,w):h$(),zD(l);else return l.lanes=l.childLanes=536870912,tk(a,l,w!==null?w.baseLanes|p:p,p)}else w!==null?(vb(l,w.cachePool),KP(l,w),Zl(),l.memoizedState=null):(a!==null&&vb(l,null),h$(),Zl());return pr(a,l,b,p),l.child}function tk(a,l,p,y){var b=o$();return b=b===null?null:{parent:Vi._currentValue,pool:b},l.memoizedState={baseLanes:p,cachePool:b},a!==null&&vb(l,null),h$(),zD(l),a!==null&&Ny(a,l,y,!0),null}function Pb(a,l){var p=l.ref;if(p===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(a===null||a.ref!==p)&&(l.flags|=4194816)}}function L$(a,l,p,y,b){return sd(l),p=m$(a,l,p,y,void 0,b),y=y$(),a!==null&&!Qi?(g$(a,l,b),La(a,l,b)):(Et&&y&&QE(l),l.flags|=1,pr(a,l,p,b),l.child)}function ik(a,l,p,y,b,w){return sd(l),l.updateQueue=null,p=tD(l,y,p,b),eD(a),y=y$(),a!==null&&!Qi?(g$(a,l,w),La(a,l,w)):(Et&&y&&QE(l),l.flags|=1,pr(a,l,p,w),l.child)}function rk(a,l,p,y,b){if(sd(l),l.stateNode===null){var w=yp,$=p.contextType;typeof $=="object"&&$!==null&&(w=Tr($)),w=new p(y,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=I$,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=y,w.state=l.memoizedState,w.refs={},l$(l),$=p.contextType,w.context=typeof $=="object"&&$!==null?Tr($):yp,w.state=l.memoizedState,$=p.getDerivedStateFromProps,typeof $=="function"&&(C$(l,p,$,y),w.state=l.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||($=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),$!==w.state&&I$.enqueueReplaceState(w,w.state,null),zy(l,y,w,b),Uy(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),y=!0}else if(a===null){w=l.stateNode;var O=l.memoizedProps,R=ad(p,O);w.props=R;var H=w.context,ee=p.contextType;$=yp,typeof ee=="object"&&ee!==null&&($=Tr(ee));var se=p.getDerivedStateFromProps;ee=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function",O=l.pendingProps!==O,ee||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O||H!==$)&&GD(l,w,y,$),Gl=!1;var Z=l.memoizedState;w.state=Z,zy(l,y,w,b),Uy(),H=l.memoizedState,O||Z!==H||Gl?(typeof se=="function"&&(C$(l,p,se,y),H=l.memoizedState),(R=Gl||VD(l,p,R,y,Z,H,$))?(ee||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=H),w.props=y,w.state=H,w.context=$,y=R):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{w=l.stateNode,u$(a,l),$=l.memoizedProps,ee=ad(p,$),w.props=ee,se=l.pendingProps,Z=w.context,H=p.contextType,R=yp,typeof H=="object"&&H!==null&&(R=Tr(H)),O=p.getDerivedStateFromProps,(H=typeof O=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||($!==se||Z!==R)&&GD(l,w,y,R),Gl=!1,Z=l.memoizedState,w.state=Z,zy(l,y,w,b),Uy();var Y=l.memoizedState;$!==se||Z!==Y||Gl||a!==null&&a.dependencies!==null&&yb(a.dependencies)?(typeof O=="function"&&(C$(l,p,O,y),Y=l.memoizedState),(ee=Gl||VD(l,p,ee,y,Z,Y,R)||a!==null&&a.dependencies!==null&&yb(a.dependencies))?(H||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(y,Y,R),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(y,Y,R)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||$===a.memoizedProps&&Z===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&Z===a.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=Y),w.props=y,w.state=Y,w.context=R,y=ee):(typeof w.componentDidUpdate!="function"||$===a.memoizedProps&&Z===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&Z===a.memoizedState||(l.flags|=1024),y=!1)}return w=y,Pb(a,l),y=(l.flags&128)!==0,w||y?(w=l.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,a!==null&&y?(l.child=xp(l,a.child,null,b),l.child=xp(l,null,p,b)):pr(a,l,p,b),l.memoizedState=w.state,a=l.child):a=La(a,l,b),a}function sk(a,l,p,y){return Ry(),l.flags|=256,pr(a,l,p,y),l.child}var N$={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function P$(a){return{baseLanes:a,cachePool:BP()}}function D$(a,l,p){return a=a!==null?a.childLanes&~p:0,l&&(a|=cn),a}function nk(a,l,p){var y=l.pendingProps,b=!1,w=(l.flags&128)!==0,$;if(($=w)||($=a!==null&&a.memoizedState===null?!1:(Gi.current&2)!==0),$&&(b=!0,l.flags&=-129),$=(l.flags&32)!==0,l.flags&=-33,a===null){if(Et){if(b?Wl(l):Zl(),Et){var O=yi,R;if(R=O){e:{for(R=O,O=Po;R.nodeType!==8;){if(!O){O=null;break e}if(R=Wn(R.nextSibling),R===null){O=null;break e}}O=R}O!==null?(l.memoizedState={dehydrated:O,treeContext:Kc!==null?{id:Ma,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},R=Cs(18,null,null,0),R.stateNode=O,R.return=l,l.child=R,qr=l,yi=null,R=!0):R=!1}R||id(l)}if(O=l.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return bx(O)?l.lanes=32:l.lanes=536870912,null;Ra(l)}return O=y.children,y=y.fallback,b?(Zl(),b=l.mode,O=Db({mode:"hidden",children:O},b),y=Qc(y,b,p,null),O.return=l,y.return=l,O.sibling=y,l.child=O,b=l.child,b.memoizedState=P$(p),b.childLanes=D$(a,$,p),l.memoizedState=N$,y):(Wl(l),k$(l,O))}if(R=a.memoizedState,R!==null&&(O=R.dehydrated,O!==null)){if(w)l.flags&256?(Wl(l),l.flags&=-257,l=F$(a,l,p)):l.memoizedState!==null?(Zl(),l.child=a.child,l.flags|=128,l=null):(Zl(),b=y.fallback,O=l.mode,y=Db({mode:"visible",children:y.children},O),b=Qc(b,O,p,null),b.flags|=2,y.return=l,b.return=l,y.sibling=b,l.child=y,xp(l,a.child,null,p),y=l.child,y.memoizedState=P$(p),y.childLanes=D$(a,$,p),l.memoizedState=N$,l=b);else if(Wl(l),bx(O)){if($=O.nextSibling&&O.nextSibling.dataset,$)var H=$.dgst;$=H,y=Error(r(419)),y.stack="",y.digest=$,Ly({value:y,source:null,stack:null}),l=F$(a,l,p)}else if(Qi||Ny(a,l,p,!1),$=(p&a.childLanes)!==0,Qi||$){if($=Zt,$!==null&&(y=p&-p,y=(y&42)!==0?1:yy(y),y=(y&($.suspendedLanes|p))!==0?0:y,y!==0&&y!==R.retryLane))throw R.retryLane=y,mp(a,y),Ps($,a,y),JD;O.data==="$?"||ix(),l=F$(a,l,p)}else O.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=R.treeContext,yi=Wn(O.nextSibling),qr=l,Et=!0,td=null,Po=!1,a!==null&&(an[ln++]=Ma,an[ln++]=Aa,an[ln++]=Kc,Ma=a.id,Aa=a.overflow,Kc=l),l=k$(l,y.children),l.flags|=4096);return l}return b?(Zl(),b=y.fallback,O=l.mode,R=a.child,H=R.sibling,y=xa(R,{mode:"hidden",children:y.children}),y.subtreeFlags=R.subtreeFlags&65011712,H!==null?b=xa(H,b):(b=Qc(b,O,p,null),b.flags|=2),b.return=l,y.return=l,y.sibling=b,l.child=y,y=b,b=l.child,O=a.child.memoizedState,O===null?O=P$(p):(R=O.cachePool,R!==null?(H=Vi._currentValue,R=R.parent!==H?{parent:H,pool:H}:R):R=BP(),O={baseLanes:O.baseLanes|p,cachePool:R}),b.memoizedState=O,b.childLanes=D$(a,$,p),l.memoizedState=N$,y):(Wl(l),p=a.child,a=p.sibling,p=xa(p,{mode:"visible",children:y.children}),p.return=l,p.sibling=null,a!==null&&($=l.deletions,$===null?(l.deletions=[a],l.flags|=16):$.push(a)),l.child=p,l.memoizedState=null,p)}function k$(a,l){return l=Db({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Db(a,l){return a=Cs(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function F$(a,l,p){return xp(l,a.child,null,p),a=k$(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function ok(a,l,p){a.lanes|=l;var y=a.alternate;y!==null&&(y.lanes|=l),i$(a.return,l,p)}function j$(a,l,p,y,b){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:b}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=y,w.tail=p,w.tailMode=b)}function ak(a,l,p){var y=l.pendingProps,b=y.revealOrder,w=y.tail;if(pr(a,l,y.children,p),y=Gi.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ok(a,p,l);else if(a.tag===19)ok(a,p,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}switch(ge(Gi,y),b){case"forwards":for(p=l.child,b=null;p!==null;)a=p.alternate,a!==null&&Rb(a)===null&&(b=p),p=p.sibling;p=b,p===null?(b=l.child,l.child=null):(b=p.sibling,p.sibling=null),j$(l,!1,b,p,w);break;case"backwards":for(p=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&Rb(a)===null){l.child=b;break}a=b.sibling,b.sibling=p,p=b,b=a}j$(l,!0,p,null,w);break;case"together":j$(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function La(a,l,p){if(a!==null&&(l.dependencies=a.dependencies),Kl|=l.lanes,(p&l.childLanes)===0)if(a!==null){if(Ny(a,l,p,!1),(p&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,p=xa(a,a.pendingProps),l.child=p,p.return=l;a.sibling!==null;)a=a.sibling,p=p.sibling=xa(a,a.pendingProps),p.return=l;p.sibling=null}return l.child}function U$(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&yb(a)))}function TK(a,l,p){switch(l.tag){case 3:Ht(l,l.stateNode.containerInfo),Vl(l,Vi,a.memoizedState.cache),Ry();break;case 27:case 5:dy(l);break;case 4:Ht(l,l.stateNode.containerInfo);break;case 10:Vl(l,l.type,l.memoizedProps.value);break;case 13:var y=l.memoizedState;if(y!==null)return y.dehydrated!==null?(Wl(l),l.flags|=128,null):(p&l.child.childLanes)!==0?nk(a,l,p):(Wl(l),a=La(a,l,p),a!==null?a.sibling:null);Wl(l);break;case 19:var b=(a.flags&128)!==0;if(y=(p&l.childLanes)!==0,y||(Ny(a,l,p,!1),y=(p&l.childLanes)!==0),b){if(y)return ak(a,l,p);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ge(Gi,Gi.current),y)break;return null;case 22:case 23:return l.lanes=0,ek(a,l,p);case 24:Vl(l,Vi,a.memoizedState.cache)}return La(a,l,p)}function lk(a,l,p){if(a!==null)if(a.memoizedProps!==l.pendingProps)Qi=!0;else{if(!U$(a,p)&&(l.flags&128)===0)return Qi=!1,TK(a,l,p);Qi=(a.flags&131072)!==0}else Qi=!1,Et&&(l.flags&1048576)!==0&&FP(l,mb,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var y=l.elementType,b=y._init;if(y=b(y._payload),l.type=y,typeof y=="function")YE(y)?(a=ad(y,a),l.tag=1,l=rk(null,l,y,a,p)):(l.tag=0,l=L$(null,l,y,a,p));else{if(y!=null){if(b=y.$$typeof,b===P){l.tag=11,l=XD(null,l,y,a,p);break e}else if(b===re){l.tag=14,l=QD(null,l,y,a,p);break e}}throw l=Le(y)||y,Error(r(306,l,""))}}return l;case 0:return L$(a,l,l.type,l.pendingProps,p);case 1:return y=l.type,b=ad(y,l.pendingProps),rk(a,l,y,b,p);case 3:e:{if(Ht(l,l.stateNode.containerInfo),a===null)throw Error(r(387));y=l.pendingProps;var w=l.memoizedState;b=w.element,u$(a,l),zy(l,y,null,p);var $=l.memoizedState;if(y=$.cache,Vl(l,Vi,y),y!==w.cache&&r$(l,[Vi],p,!0),Uy(),y=$.element,w.isDehydrated)if(w={element:y,isDehydrated:!1,cache:$.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=sk(a,l,y,p);break e}else if(y!==b){b=nn(Error(r(424)),l),Ly(b),l=sk(a,l,y,p);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(yi=Wn(a.firstChild),qr=l,Et=!0,td=null,Po=!0,p=UD(l,null,y,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Ry(),y===b){l=La(a,l,p);break e}pr(a,l,y,p)}l=l.child}return l;case 26:return Pb(a,l),a===null?(p=h4(l.type,null,l.pendingProps,null))?l.memoizedState=p:Et||(p=l.type,a=l.pendingProps,y=Jb(Je.current).createElement(p),y[ui]=l,y[Wt]=a,mr(y,p,a),$i(y),l.stateNode=y):l.memoizedState=h4(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return dy(l),a===null&&Et&&(y=l.stateNode=u4(l.type,l.pendingProps,Je.current),qr=l,Po=!0,b=yi,ru(l.type)?(_x=b,yi=Wn(y.firstChild)):yi=b),pr(a,l,l.pendingProps.children,p),Pb(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Et&&((b=y=yi)&&(y=XK(y,l.type,l.pendingProps,Po),y!==null?(l.stateNode=y,qr=l,yi=Wn(y.firstChild),Po=!1,b=!0):b=!1),b||id(l)),dy(l),b=l.type,w=l.pendingProps,$=a!==null?a.memoizedProps:null,y=w.children,yx(b,w)?y=null:$!==null&&yx(b,$)&&(l.flags|=32),l.memoizedState!==null&&(b=m$(a,l,mK,null,null,p),ug._currentValue=b),Pb(a,l),pr(a,l,y,p),l.child;case 6:return a===null&&Et&&((a=p=yi)&&(p=QK(p,l.pendingProps,Po),p!==null?(l.stateNode=p,qr=l,yi=null,a=!0):a=!1),a||id(l)),null;case 13:return nk(a,l,p);case 4:return Ht(l,l.stateNode.containerInfo),y=l.pendingProps,a===null?l.child=xp(l,null,y,p):pr(a,l,y,p),l.child;case 11:return XD(a,l,l.type,l.pendingProps,p);case 7:return pr(a,l,l.pendingProps,p),l.child;case 8:return pr(a,l,l.pendingProps.children,p),l.child;case 12:return pr(a,l,l.pendingProps.children,p),l.child;case 10:return y=l.pendingProps,Vl(l,l.type,y.value),pr(a,l,y.children,p),l.child;case 9:return b=l.type._context,y=l.pendingProps.children,sd(l),b=Tr(b),y=y(b),l.flags|=1,pr(a,l,y,p),l.child;case 14:return QD(a,l,l.type,l.pendingProps,p);case 15:return KD(a,l,l.type,l.pendingProps,p);case 19:return ak(a,l,p);case 31:return y=l.pendingProps,p=l.mode,y={mode:y.mode,children:y.children},a===null?(p=Db(y,p),p.ref=l.ref,l.child=p,p.return=l,l=p):(p=xa(a.child,y),p.ref=l.ref,l.child=p,p.return=l,l=p),l;case 22:return ek(a,l,p);case 24:return sd(l),y=Tr(Vi),a===null?(b=o$(),b===null&&(b=Zt,w=s$(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=p),b=w),l.memoizedState={parent:y,cache:b},l$(l),Vl(l,Vi,b)):((a.lanes&p)!==0&&(u$(a,l),zy(l,null,null,p),Uy()),b=a.memoizedState,w=l.memoizedState,b.parent!==y?(b={parent:y,cache:y},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),Vl(l,Vi,y)):(y=w.cache,Vl(l,Vi,y),y!==b.cache&&r$(l,[Vi],p,!0))),pr(a,l,l.pendingProps.children,p),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Na(a){a.flags|=4}function uk(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!g4(l)){if(l=un.current,l!==null&&((mt&4194048)===mt?Do!==null:(mt&62914560)!==mt&&(mt&536870912)===0||l!==Do))throw Fy=a$,HP;a.flags|=8192}}function kb(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Z1():536870912,a.lanes|=l,Cp|=l)}function Zy(a,l){if(!Et)switch(a.tailMode){case"hidden":l=a.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function ci(a){var l=a.alternate!==null&&a.alternate.child===a.child,p=0,y=0;if(l)for(var b=a.child;b!==null;)p|=b.lanes|b.childLanes,y|=b.subtreeFlags&65011712,y|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)p|=b.lanes|b.childLanes,y|=b.subtreeFlags,y|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=y,a.childLanes=p,l}function EK(a,l,p){var y=l.pendingProps;switch(KE(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(l),null;case 1:return ci(l),null;case 3:return p=l.stateNode,y=null,a!==null&&(y=a.memoizedState.cache),l.memoizedState.cache!==y&&(l.flags|=2048),Ca(Vi),Lo(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(Iy(l)?Na(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,zP())),ci(l),null;case 26:return p=l.memoizedState,a===null?(Na(l),p!==null?(ci(l),uk(l,p)):(ci(l),l.flags&=-16777217)):p?p!==a.memoizedState?(Na(l),ci(l),uk(l,p)):(ci(l),l.flags&=-16777217):(a.memoizedProps!==y&&Na(l),ci(l),l.flags&=-16777217),null;case 27:ep(l),p=Je.current;var b=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==y&&Na(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return ci(l),null}a=Fe.current,Iy(l)?jP(l):(a=u4(b,y,p),l.stateNode=a,Na(l))}return ci(l),null;case 5:if(ep(l),p=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==y&&Na(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return ci(l),null}if(a=Fe.current,Iy(l))jP(l);else{switch(b=Jb(Je.current),a){case 1:a=b.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:a=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":a=b.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":a=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":a=b.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof y.is=="string"?b.createElement("select",{is:y.is}):b.createElement("select"),y.multiple?a.multiple=!0:y.size&&(a.size=y.size);break;default:a=typeof y.is=="string"?b.createElement(p,{is:y.is}):b.createElement(p)}}a[ui]=l,a[Wt]=y;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)a.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=a;e:switch(mr(a,p,y),p){case"button":case"input":case"select":case"textarea":a=!!y.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Na(l)}}return ci(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==y&&Na(l);else{if(typeof y!="string"&&l.stateNode===null)throw Error(r(166));if(a=Je.current,Iy(l)){if(a=l.stateNode,p=l.memoizedProps,y=null,b=qr,b!==null)switch(b.tag){case 27:case 5:y=b.memoizedProps}a[ui]=l,a=!!(a.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||i4(a.nodeValue,p)),a||id(l)}else a=Jb(a).createTextNode(y),a[ui]=l,l.stateNode=a}return ci(l),null;case 13:if(y=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Iy(l),y!==null&&y.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[ui]=l}else Ry(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ci(l),b=!1}else b=zP(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(Ra(l),l):(Ra(l),null)}if(Ra(l),(l.flags&128)!==0)return l.lanes=p,l;if(p=y!==null,a=a!==null&&a.memoizedState!==null,p){y=l.child,b=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(b=y.alternate.memoizedState.cachePool.pool);var w=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(w=y.memoizedState.cachePool.pool),w!==b&&(y.flags|=2048)}return p!==a&&p&&(l.child.flags|=8192),kb(l,l.updateQueue),ci(l),null;case 4:return Lo(),a===null&&dx(l.stateNode.containerInfo),ci(l),null;case 10:return Ca(l.type),ci(l),null;case 19:if(Ee(Gi),b=l.memoizedState,b===null)return ci(l),null;if(y=(l.flags&128)!==0,w=b.rendering,w===null)if(y)Zy(b,!1);else{if(gi!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(w=Rb(a),w!==null){for(l.flags|=128,Zy(b,!1),a=w.updateQueue,l.updateQueue=a,kb(l,a),l.subtreeFlags=0,a=p,p=l.child;p!==null;)kP(p,a),p=p.sibling;return ge(Gi,Gi.current&1|2),l.child}a=a.sibling}b.tail!==null&&rn()>Ub&&(l.flags|=128,y=!0,Zy(b,!1),l.lanes=4194304)}else{if(!y)if(a=Rb(w),a!==null){if(l.flags|=128,y=!0,a=a.updateQueue,l.updateQueue=a,kb(l,a),Zy(b,!0),b.tail===null&&b.tailMode==="hidden"&&!w.alternate&&!Et)return ci(l),null}else 2*rn()-b.renderingStartTime>Ub&&p!==536870912&&(l.flags|=128,y=!0,Zy(b,!1),l.lanes=4194304);b.isBackwards?(w.sibling=l.child,l.child=w):(a=b.last,a!==null?a.sibling=w:l.child=w,b.last=w)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=rn(),l.sibling=null,a=Gi.current,ge(Gi,y?a&1|2:a&1),l):(ci(l),null);case 22:case 23:return Ra(l),p$(),y=l.memoizedState!==null,a!==null?a.memoizedState!==null!==y&&(l.flags|=8192):y&&(l.flags|=8192),y?(p&536870912)!==0&&(l.flags&128)===0&&(ci(l),l.subtreeFlags&6&&(l.flags|=8192)):ci(l),p=l.updateQueue,p!==null&&kb(l,p.retryQueue),p=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==p&&(l.flags|=2048),a!==null&&Ee(nd),null;case 24:return p=null,a!==null&&(p=a.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Ca(Vi),ci(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function $K(a,l){switch(KE(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Ca(Vi),Lo(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return ep(l),null;case 13:if(Ra(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ry()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Ee(Gi),null;case 4:return Lo(),null;case 10:return Ca(l.type),null;case 22:case 23:return Ra(l),p$(),a!==null&&Ee(nd),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Ca(Vi),null;case 25:return null;default:return null}}function ck(a,l){switch(KE(l),l.tag){case 3:Ca(Vi),Lo();break;case 26:case 27:case 5:ep(l);break;case 4:Lo();break;case 13:Ra(l);break;case 19:Ee(Gi);break;case 10:Ca(l.type);break;case 22:case 23:Ra(l),p$(),a!==null&&Ee(nd);break;case 24:Ca(Vi)}}function Yy(a,l){try{var p=l.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var b=y.next;p=b;do{if((p.tag&a)===a){y=void 0;var w=p.create,$=p.inst;y=w(),$.destroy=y}p=p.next}while(p!==b)}}catch(O){zt(l,l.return,O)}}function Yl(a,l,p){try{var y=l.updateQueue,b=y!==null?y.lastEffect:null;if(b!==null){var w=b.next;y=w;do{if((y.tag&a)===a){var $=y.inst,O=$.destroy;if(O!==void 0){$.destroy=void 0,b=l;var R=p,H=O;try{H()}catch(ee){zt(b,R,ee)}}}y=y.next}while(y!==w)}}catch(ee){zt(l,l.return,ee)}}function dk(a){var l=a.updateQueue;if(l!==null){var p=a.stateNode;try{QP(l,p)}catch(y){zt(a,a.return,y)}}}function hk(a,l,p){p.props=ad(a.type,a.memoizedProps),p.state=a.memoizedState;try{p.componentWillUnmount()}catch(y){zt(a,l,y)}}function Jy(a,l){try{var p=a.ref;if(p!==null){switch(a.tag){case 26:case 27:case 5:var y=a.stateNode;break;case 30:y=a.stateNode;break;default:y=a.stateNode}typeof p=="function"?a.refCleanup=p(y):p.current=y}}catch(b){zt(a,l,b)}}function ko(a,l){var p=a.ref,y=a.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(b){zt(a,l,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(b){zt(a,l,b)}else p.current=null}function pk(a){var l=a.type,p=a.memoizedProps,y=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(b){zt(a,a.return,b)}}function z$(a,l,p){try{var y=a.stateNode;HK(y,a.type,p,l),y[Wt]=l}catch(b){zt(a,a.return,b)}}function fk(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ru(a.type)||a.tag===4}function V$(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||fk(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ru(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function G$(a,l,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(a,l):(l=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,l.appendChild(a),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Yb));else if(y!==4&&(y===27&&ru(a.type)&&(p=a.stateNode,l=null),a=a.child,a!==null))for(G$(a,l,p),a=a.sibling;a!==null;)G$(a,l,p),a=a.sibling}function Fb(a,l,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?p.insertBefore(a,l):p.appendChild(a);else if(y!==4&&(y===27&&ru(a.type)&&(p=a.stateNode),a=a.child,a!==null))for(Fb(a,l,p),a=a.sibling;a!==null;)Fb(a,l,p),a=a.sibling}function mk(a){var l=a.stateNode,p=a.memoizedProps;try{for(var y=a.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);mr(l,y,p),l[ui]=a,l[Wt]=p}catch(w){zt(a,a.return,w)}}var Pa=!1,Ai=!1,q$=!1,yk=typeof WeakSet=="function"?WeakSet:Set,Ki=null;function xK(a,l){if(a=a.containerInfo,fx=i_,a=MP(a),VE(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var b=y.anchorOffset,w=y.focusNode;y=y.focusOffset;try{p.nodeType,w.nodeType}catch{p=null;break e}var $=0,O=-1,R=-1,H=0,ee=0,se=a,Z=null;t:for(;;){for(var Y;se!==p||b!==0&&se.nodeType!==3||(O=$+b),se!==w||y!==0&&se.nodeType!==3||(R=$+y),se.nodeType===3&&($+=se.nodeValue.length),(Y=se.firstChild)!==null;)Z=se,se=Y;for(;;){if(se===a)break t;if(Z===p&&++H===b&&(O=$),Z===w&&++ee===y&&(R=$),(Y=se.nextSibling)!==null)break;se=Z,Z=se.parentNode}se=Y}p=O===-1||R===-1?null:{start:O,end:R}}else p=null}p=p||{start:0,end:0}}else p=null;for(mx={focusedElem:a,selectionRange:p},i_=!1,Ki=l;Ki!==null;)if(l=Ki,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,Ki=a;else for(;Ki!==null;){switch(l=Ki,w=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,p=l,b=w.memoizedProps,w=w.memoizedState,y=p.stateNode;try{var qe=ad(p.type,b,p.elementType===p.type);a=y.getSnapshotBeforeUpdate(qe,w),y.__reactInternalSnapshotBeforeUpdate=a}catch(ze){zt(p,p.return,ze)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,p=a.nodeType,p===9)vx(a);else if(p===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":vx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,Ki=a;break}Ki=l.return}}function gk(a,l,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:Jl(a,p),y&4&&Yy(5,p);break;case 1:if(Jl(a,p),y&4)if(a=p.stateNode,l===null)try{a.componentDidMount()}catch($){zt(p,p.return,$)}else{var b=ad(p.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(b,l,a.__reactInternalSnapshotBeforeUpdate)}catch($){zt(p,p.return,$)}}y&64&&dk(p),y&512&&Jy(p,p.return);break;case 3:if(Jl(a,p),y&64&&(a=p.updateQueue,a!==null)){if(l=null,p.child!==null)switch(p.child.tag){case 27:case 5:l=p.child.stateNode;break;case 1:l=p.child.stateNode}try{QP(a,l)}catch($){zt(p,p.return,$)}}break;case 27:l===null&&y&4&&mk(p);case 26:case 5:Jl(a,p),l===null&&y&4&&pk(p),y&512&&Jy(p,p.return);break;case 12:Jl(a,p);break;case 13:Jl(a,p),y&4&&_k(a,p),y&64&&(a=p.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(p=PK.bind(null,p),KK(a,p))));break;case 22:if(y=p.memoizedState!==null||Pa,!y){l=l!==null&&l.memoizedState!==null||Ai,b=Pa;var w=Ai;Pa=y,(Ai=l)&&!w?Xl(a,p,(p.subtreeFlags&8772)!==0):Jl(a,p),Pa=b,Ai=w}break;case 30:break;default:Jl(a,p)}}function vk(a){var l=a.alternate;l!==null&&(a.alternate=null,vk(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&As(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ni=null,ns=!1;function Da(a,l,p){for(p=p.child;p!==null;)bk(a,l,p),p=p.sibling}function bk(a,l,p){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Bc,p)}catch{}switch(p.tag){case 26:Ai||ko(p,l),Da(a,l,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Ai||ko(p,l);var y=ni,b=ns;ru(p.type)&&(ni=p.stateNode,ns=!1),Da(a,l,p),ng(p.stateNode),ni=y,ns=b;break;case 5:Ai||ko(p,l);case 6:if(y=ni,b=ns,ni=null,Da(a,l,p),ni=y,ns=b,ni!==null)if(ns)try{(ni.nodeType===9?ni.body:ni.nodeName==="HTML"?ni.ownerDocument.body:ni).removeChild(p.stateNode)}catch(w){zt(p,l,w)}else try{ni.removeChild(p.stateNode)}catch(w){zt(p,l,w)}break;case 18:ni!==null&&(ns?(a=ni,a4(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,p.stateNode),pg(a)):a4(ni,p.stateNode));break;case 4:y=ni,b=ns,ni=p.stateNode.containerInfo,ns=!0,Da(a,l,p),ni=y,ns=b;break;case 0:case 11:case 14:case 15:Ai||Yl(2,p,l),Ai||Yl(4,p,l),Da(a,l,p);break;case 1:Ai||(ko(p,l),y=p.stateNode,typeof y.componentWillUnmount=="function"&&hk(p,l,y)),Da(a,l,p);break;case 21:Da(a,l,p);break;case 22:Ai=(y=Ai)||p.memoizedState!==null,Da(a,l,p),Ai=y;break;default:Da(a,l,p)}}function _k(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{pg(a)}catch(p){zt(l,l.return,p)}}function MK(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new yk),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new yk),l;default:throw Error(r(435,a.tag))}}function B$(a,l){var p=MK(a);l.forEach(function(y){var b=DK.bind(null,a,y);p.has(y)||(p.add(y),y.then(b,b))})}function Is(a,l){var p=l.deletions;if(p!==null)for(var y=0;y<p.length;y++){var b=p[y],w=a,$=l,O=$;e:for(;O!==null;){switch(O.tag){case 27:if(ru(O.type)){ni=O.stateNode,ns=!1;break e}break;case 5:ni=O.stateNode,ns=!1;break e;case 3:case 4:ni=O.stateNode.containerInfo,ns=!0;break e}O=O.return}if(ni===null)throw Error(r(160));bk(w,$,b),ni=null,ns=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)wk(l,a),l=l.sibling}var Hn=null;function wk(a,l){var p=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Is(l,a),Rs(a),y&4&&(Yl(3,a,a.return),Yy(3,a),Yl(5,a,a.return));break;case 1:Is(l,a),Rs(a),y&512&&(Ai||p===null||ko(p,p.return)),y&64&&Pa&&(a=a.updateQueue,a!==null&&(y=a.callbacks,y!==null&&(p=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var b=Hn;if(Is(l,a),Rs(a),y&512&&(Ai||p===null||ko(p,p.return)),y&4){var w=p!==null?p.memoizedState:null;if(y=a.memoizedState,p===null)if(y===null)if(a.stateNode===null){e:{y=a.type,p=a.memoizedProps,b=b.ownerDocument||b;t:switch(y){case"title":w=b.getElementsByTagName("title")[0],(!w||w[Zc]||w[ui]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(y),b.head.insertBefore(w,b.querySelector("head > title"))),mr(w,y,p),w[ui]=a,$i(w),y=w;break e;case"link":var $=m4("link","href",b).get(y+(p.href||""));if($){for(var O=0;O<$.length;O++)if(w=$[O],w.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&w.getAttribute("rel")===(p.rel==null?null:p.rel)&&w.getAttribute("title")===(p.title==null?null:p.title)&&w.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){$.splice(O,1);break t}}w=b.createElement(y),mr(w,y,p),b.head.appendChild(w);break;case"meta":if($=m4("meta","content",b).get(y+(p.content||""))){for(O=0;O<$.length;O++)if(w=$[O],w.getAttribute("content")===(p.content==null?null:""+p.content)&&w.getAttribute("name")===(p.name==null?null:p.name)&&w.getAttribute("property")===(p.property==null?null:p.property)&&w.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&w.getAttribute("charset")===(p.charSet==null?null:p.charSet)){$.splice(O,1);break t}}w=b.createElement(y),mr(w,y,p),b.head.appendChild(w);break;default:throw Error(r(468,y))}w[ui]=a,$i(w),y=w}a.stateNode=y}else y4(b,a.type,a.stateNode);else a.stateNode=f4(b,y,a.memoizedProps);else w!==y?(w===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):w.count--,y===null?y4(b,a.type,a.stateNode):f4(b,y,a.memoizedProps)):y===null&&a.stateNode!==null&&z$(a,a.memoizedProps,p.memoizedProps)}break;case 27:Is(l,a),Rs(a),y&512&&(Ai||p===null||ko(p,p.return)),p!==null&&y&4&&z$(a,a.memoizedProps,p.memoizedProps);break;case 5:if(Is(l,a),Rs(a),y&512&&(Ai||p===null||ko(p,p.return)),a.flags&32){b=a.stateNode;try{lp(b,"")}catch(Y){zt(a,a.return,Y)}}y&4&&a.stateNode!=null&&(b=a.memoizedProps,z$(a,b,p!==null?p.memoizedProps:b)),y&1024&&(q$=!0);break;case 6:if(Is(l,a),Rs(a),y&4){if(a.stateNode===null)throw Error(r(162));y=a.memoizedProps,p=a.stateNode;try{p.nodeValue=y}catch(Y){zt(a,a.return,Y)}}break;case 3:if(Kb=null,b=Hn,Hn=Xb(l.containerInfo),Is(l,a),Hn=b,Rs(a),y&4&&p!==null&&p.memoizedState.isDehydrated)try{pg(l.containerInfo)}catch(Y){zt(a,a.return,Y)}q$&&(q$=!1,Sk(a));break;case 4:y=Hn,Hn=Xb(a.stateNode.containerInfo),Is(l,a),Rs(a),Hn=y;break;case 12:Is(l,a),Rs(a);break;case 13:Is(l,a),Rs(a),a.child.flags&8192&&a.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(X$=rn()),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,B$(a,y)));break;case 22:b=a.memoizedState!==null;var R=p!==null&&p.memoizedState!==null,H=Pa,ee=Ai;if(Pa=H||b,Ai=ee||R,Is(l,a),Ai=ee,Pa=H,Rs(a),y&8192)e:for(l=a.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(p===null||R||Pa||Ai||ld(a)),p=null,l=a;;){if(l.tag===5||l.tag===26){if(p===null){R=p=l;try{if(w=R.stateNode,b)$=w.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{O=R.stateNode;var se=R.memoizedProps.style,Z=se!=null&&se.hasOwnProperty("display")?se.display:null;O.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Y){zt(R,R.return,Y)}}}else if(l.tag===6){if(p===null){R=l;try{R.stateNode.nodeValue=b?"":R.memoizedProps}catch(Y){zt(R,R.return,Y)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;p===l&&(p=null),l=l.return}p===l&&(p=null),l.sibling.return=l.return,l=l.sibling}y&4&&(y=a.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,B$(a,p))));break;case 19:Is(l,a),Rs(a),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,B$(a,y)));break;case 30:break;case 21:break;default:Is(l,a),Rs(a)}}function Rs(a){var l=a.flags;if(l&2){try{for(var p,y=a.return;y!==null;){if(fk(y)){p=y;break}y=y.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var b=p.stateNode,w=V$(a);Fb(a,w,b);break;case 5:var $=p.stateNode;p.flags&32&&(lp($,""),p.flags&=-33);var O=V$(a);Fb(a,O,$);break;case 3:case 4:var R=p.stateNode.containerInfo,H=V$(a);G$(a,H,R);break;default:throw Error(r(161))}}catch(ee){zt(a,a.return,ee)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Sk(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Sk(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Jl(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)gk(a,l.alternate,l),l=l.sibling}function ld(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Yl(4,l,l.return),ld(l);break;case 1:ko(l,l.return);var p=l.stateNode;typeof p.componentWillUnmount=="function"&&hk(l,l.return,p),ld(l);break;case 27:ng(l.stateNode);case 26:case 5:ko(l,l.return),ld(l);break;case 22:l.memoizedState===null&&ld(l);break;case 30:ld(l);break;default:ld(l)}a=a.sibling}}function Xl(a,l,p){for(p=p&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var y=l.alternate,b=a,w=l,$=w.flags;switch(w.tag){case 0:case 11:case 15:Xl(b,w,p),Yy(4,w);break;case 1:if(Xl(b,w,p),y=w,b=y.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(H){zt(y,y.return,H)}if(y=w,b=y.updateQueue,b!==null){var O=y.stateNode;try{var R=b.shared.hiddenCallbacks;if(R!==null)for(b.shared.hiddenCallbacks=null,b=0;b<R.length;b++)XP(R[b],O)}catch(H){zt(y,y.return,H)}}p&&$&64&&dk(w),Jy(w,w.return);break;case 27:mk(w);case 26:case 5:Xl(b,w,p),p&&y===null&&$&4&&pk(w),Jy(w,w.return);break;case 12:Xl(b,w,p);break;case 13:Xl(b,w,p),p&&$&4&&_k(b,w);break;case 22:w.memoizedState===null&&Xl(b,w,p),Jy(w,w.return);break;case 30:break;default:Xl(b,w,p)}l=l.sibling}}function H$(a,l){var p=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==p&&(a!=null&&a.refCount++,p!=null&&Py(p))}function W$(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Py(a))}function Fo(a,l,p,y){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Tk(a,l,p,y),l=l.sibling}function Tk(a,l,p,y){var b=l.flags;switch(l.tag){case 0:case 11:case 15:Fo(a,l,p,y),b&2048&&Yy(9,l);break;case 1:Fo(a,l,p,y);break;case 3:Fo(a,l,p,y),b&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Py(a)));break;case 12:if(b&2048){Fo(a,l,p,y),a=l.stateNode;try{var w=l.memoizedProps,$=w.id,O=w.onPostCommit;typeof O=="function"&&O($,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(R){zt(l,l.return,R)}}else Fo(a,l,p,y);break;case 13:Fo(a,l,p,y);break;case 23:break;case 22:w=l.stateNode,$=l.alternate,l.memoizedState!==null?w._visibility&2?Fo(a,l,p,y):Xy(a,l):w._visibility&2?Fo(a,l,p,y):(w._visibility|=2,Mp(a,l,p,y,(l.subtreeFlags&10256)!==0)),b&2048&&H$($,l);break;case 24:Fo(a,l,p,y),b&2048&&W$(l.alternate,l);break;default:Fo(a,l,p,y)}}function Mp(a,l,p,y,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=a,$=l,O=p,R=y,H=$.flags;switch($.tag){case 0:case 11:case 15:Mp(w,$,O,R,b),Yy(8,$);break;case 23:break;case 22:var ee=$.stateNode;$.memoizedState!==null?ee._visibility&2?Mp(w,$,O,R,b):Xy(w,$):(ee._visibility|=2,Mp(w,$,O,R,b)),b&&H&2048&&H$($.alternate,$);break;case 24:Mp(w,$,O,R,b),b&&H&2048&&W$($.alternate,$);break;default:Mp(w,$,O,R,b)}l=l.sibling}}function Xy(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var p=a,y=l,b=y.flags;switch(y.tag){case 22:Xy(p,y),b&2048&&H$(y.alternate,y);break;case 24:Xy(p,y),b&2048&&W$(y.alternate,y);break;default:Xy(p,y)}l=l.sibling}}var Qy=8192;function Ap(a){if(a.subtreeFlags&Qy)for(a=a.child;a!==null;)Ek(a),a=a.sibling}function Ek(a){switch(a.tag){case 26:Ap(a),a.flags&Qy&&a.memoizedState!==null&&hee(Hn,a.memoizedState,a.memoizedProps);break;case 5:Ap(a);break;case 3:case 4:var l=Hn;Hn=Xb(a.stateNode.containerInfo),Ap(a),Hn=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=Qy,Qy=16777216,Ap(a),Qy=l):Ap(a));break;default:Ap(a)}}function $k(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Ky(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var p=0;p<l.length;p++){var y=l[p];Ki=y,Mk(y,a)}$k(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)xk(a),a=a.sibling}function xk(a){switch(a.tag){case 0:case 11:case 15:Ky(a),a.flags&2048&&Yl(9,a,a.return);break;case 3:Ky(a);break;case 12:Ky(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,jb(a)):Ky(a);break;default:Ky(a)}}function jb(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var p=0;p<l.length;p++){var y=l[p];Ki=y,Mk(y,a)}$k(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Yl(8,l,l.return),jb(l);break;case 22:p=l.stateNode,p._visibility&2&&(p._visibility&=-3,jb(l));break;default:jb(l)}a=a.sibling}}function Mk(a,l){for(;Ki!==null;){var p=Ki;switch(p.tag){case 0:case 11:case 15:Yl(8,p,l);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Py(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Ki=y;else e:for(p=a;Ki!==null;){y=Ki;var b=y.sibling,w=y.return;if(vk(y),y===p){Ki=null;break e}if(b!==null){b.return=w,Ki=b;break e}Ki=w}}}var AK={getCacheForType:function(a){var l=Tr(Vi),p=l.data.get(a);return p===void 0&&(p=a(),l.data.set(a,p)),p}},OK=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Zt=null,ut=null,mt=0,Lt=0,Ls=null,Ql=!1,Op=!1,Z$=!1,ka=0,gi=0,Kl=0,ud=0,Y$=0,cn=0,Cp=0,eg=null,os=null,J$=!1,X$=0,Ub=1/0,zb=null,eu=null,fr=0,tu=null,Ip=null,Rp=0,Q$=0,K$=null,Ak=null,tg=0,ex=null;function Ns(){if((Rt&2)!==0&&mt!==0)return mt&-mt;if(X.T!==null){var a=bp;return a!==0?a:ax()}return X1()}function Ok(){cn===0&&(cn=(mt&536870912)===0||Et?W1():536870912);var a=un.current;return a!==null&&(a.flags|=32),cn}function Ps(a,l,p){(a===Zt&&(Lt===2||Lt===9)||a.cancelPendingCommit!==null)&&(Lp(a,0),iu(a,mt,cn,!1)),Wc(a,p),((Rt&2)===0||a!==Zt)&&(a===Zt&&((Rt&2)===0&&(ud|=p),gi===4&&iu(a,mt,cn,!1)),jo(a))}function Ck(a,l,p){if((Rt&6)!==0)throw Error(r(327));var y=!p&&(l&124)===0&&(l&a.expiredLanes)===0||Hc(a,l),b=y?RK(a,l):rx(a,l,!0),w=y;do{if(b===0){Op&&!y&&iu(a,l,0,!1);break}else{if(p=a.current.alternate,w&&!CK(p)){b=rx(a,l,!1),w=!1;continue}if(b===2){if(w=l,a.errorRecoveryDisabledLanes&w)var $=0;else $=a.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){l=$;e:{var O=a;b=eg;var R=O.current.memoizedState.isDehydrated;if(R&&(Lp(O,$).flags|=256),$=rx(O,$,!1),$!==2){if(Z$&&!R){O.errorRecoveryDisabledLanes|=w,ud|=w,b=4;break e}w=os,os=b,w!==null&&(os===null?os=w:os.push.apply(os,w))}b=$}if(w=!1,b!==2)continue}}if(b===1){Lp(a,0),iu(a,l,0,!0);break}e:{switch(y=a,w=b,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:iu(y,l,cn,!Ql);break e;case 2:os=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=X$+300-rn(),10<b)){if(iu(y,l,cn,!Ql),rp(y,0,!0)!==0)break e;y.timeoutHandle=n4(Ik.bind(null,y,p,os,zb,J$,l,cn,ud,Cp,Ql,w,2,-0,0),b);break e}Ik(y,p,os,zb,J$,l,cn,ud,Cp,Ql,w,0,-0,0)}}break}while(!0);jo(a)}function Ik(a,l,p,y,b,w,$,O,R,H,ee,se,Z,Y){if(a.timeoutHandle=-1,se=l.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(lg={stylesheets:null,count:0,unsuspend:dee},Ek(l),se=pee(),se!==null)){a.cancelPendingCommit=se(Fk.bind(null,a,l,w,p,y,b,$,O,R,ee,1,Z,Y)),iu(a,w,$,!H);return}Fk(a,l,w,p,y,b,$,O,R)}function CK(a){for(var l=a;;){var p=l.tag;if((p===0||p===11||p===15)&&l.flags&16384&&(p=l.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var b=p[y],w=b.getSnapshot;b=b.value;try{if(!Os(w(),b))return!1}catch{return!1}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function iu(a,l,p,y){l&=~Y$,l&=~ud,a.suspendedLanes|=l,a.pingedLanes&=~l,y&&(a.warmLanes|=l),y=a.expirationTimes;for(var b=l;0<b;){var w=31-Gr(b),$=1<<w;y[w]=-1,b&=~$}p!==0&&Y1(a,p,l)}function Vb(){return(Rt&6)===0?(ig(0),!1):!0}function tx(){if(ut!==null){if(Lt===0)var a=ut.return;else a=ut,Oa=rd=null,v$(a),$p=null,Hy=0,a=ut;for(;a!==null;)ck(a.alternate,a),a=a.return;ut=null}}function Lp(a,l){var p=a.timeoutHandle;p!==-1&&(a.timeoutHandle=-1,ZK(p)),p=a.cancelPendingCommit,p!==null&&(a.cancelPendingCommit=null,p()),tx(),Zt=a,ut=p=xa(a.current,null),mt=l,Lt=0,Ls=null,Ql=!1,Op=Hc(a,l),Z$=!1,Cp=cn=Y$=ud=Kl=gi=0,os=eg=null,J$=!1,(l&8)!==0&&(l|=l&32);var y=a.entangledLanes;if(y!==0)for(a=a.entanglements,y&=l;0<y;){var b=31-Gr(y),w=1<<b;l|=a[b],y&=~w}return ka=l,cb(),p}function Rk(a,l){st=null,X.H=Ob,l===ky||l===bb?(l=YP(),Lt=3):l===HP?(l=YP(),Lt=4):Lt=l===JD?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ls=l,ut===null&&(gi=1,Nb(a,nn(l,a.current)))}function Lk(){var a=X.H;return X.H=Ob,a===null?Ob:a}function Nk(){var a=X.A;return X.A=AK,a}function ix(){gi=4,Ql||(mt&4194048)!==mt&&un.current!==null||(Op=!0),(Kl&134217727)===0&&(ud&134217727)===0||Zt===null||iu(Zt,mt,cn,!1)}function rx(a,l,p){var y=Rt;Rt|=2;var b=Lk(),w=Nk();(Zt!==a||mt!==l)&&(zb=null,Lp(a,l)),l=!1;var $=gi;e:do try{if(Lt!==0&&ut!==null){var O=ut,R=Ls;switch(Lt){case 8:tx(),$=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(l=!0);var H=Lt;if(Lt=0,Ls=null,Np(a,O,R,H),p&&Op){$=0;break e}break;default:H=Lt,Lt=0,Ls=null,Np(a,O,R,H)}}IK(),$=gi;break}catch(ee){Rk(a,ee)}while(!0);return l&&a.shellSuspendCounter++,Oa=rd=null,Rt=y,X.H=b,X.A=w,ut===null&&(Zt=null,mt=0,cb()),$}function IK(){for(;ut!==null;)Pk(ut)}function RK(a,l){var p=Rt;Rt|=2;var y=Lk(),b=Nk();Zt!==a||mt!==l?(zb=null,Ub=rn()+500,Lp(a,l)):Op=Hc(a,l);e:do try{if(Lt!==0&&ut!==null){l=ut;var w=Ls;t:switch(Lt){case 1:Lt=0,Ls=null,Np(a,l,w,1);break;case 2:case 9:if(WP(w)){Lt=0,Ls=null,Dk(l);break}l=function(){Lt!==2&&Lt!==9||Zt!==a||(Lt=7),jo(a)},w.then(l,l);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:WP(w)?(Lt=0,Ls=null,Dk(l)):(Lt=0,Ls=null,Np(a,l,w,7));break;case 5:var $=null;switch(ut.tag){case 26:$=ut.memoizedState;case 5:case 27:var O=ut;if(!$||g4($)){Lt=0,Ls=null;var R=O.sibling;if(R!==null)ut=R;else{var H=O.return;H!==null?(ut=H,Gb(H)):ut=null}break t}}Lt=0,Ls=null,Np(a,l,w,5);break;case 6:Lt=0,Ls=null,Np(a,l,w,6);break;case 8:tx(),gi=6;break e;default:throw Error(r(462))}}LK();break}catch(ee){Rk(a,ee)}while(!0);return Oa=rd=null,X.H=y,X.A=b,Rt=p,ut!==null?0:(Zt=null,mt=0,cb(),gi)}function LK(){for(;ut!==null&&!gE();)Pk(ut)}function Pk(a){var l=lk(a.alternate,a,ka);a.memoizedProps=a.pendingProps,l===null?Gb(a):ut=l}function Dk(a){var l=a,p=l.alternate;switch(l.tag){case 15:case 0:l=ik(p,l,l.pendingProps,l.type,void 0,mt);break;case 11:l=ik(p,l,l.pendingProps,l.type.render,l.ref,mt);break;case 5:v$(l);default:ck(p,l),l=ut=kP(l,ka),l=lk(p,l,ka)}a.memoizedProps=a.pendingProps,l===null?Gb(a):ut=l}function Np(a,l,p,y){Oa=rd=null,v$(l),$p=null,Hy=0;var b=l.return;try{if(SK(a,b,l,p,mt)){gi=1,Nb(a,nn(p,a.current)),ut=null;return}}catch(w){if(b!==null)throw ut=b,w;gi=1,Nb(a,nn(p,a.current)),ut=null;return}l.flags&32768?(Et||y===1?a=!0:Op||(mt&536870912)!==0?a=!1:(Ql=a=!0,(y===2||y===9||y===3||y===6)&&(y=un.current,y!==null&&y.tag===13&&(y.flags|=16384))),kk(l,a)):Gb(l)}function Gb(a){var l=a;do{if((l.flags&32768)!==0){kk(l,Ql);return}a=l.return;var p=EK(l.alternate,l,ka);if(p!==null){ut=p;return}if(l=l.sibling,l!==null){ut=l;return}ut=l=a}while(l!==null);gi===0&&(gi=5)}function kk(a,l){do{var p=$K(a.alternate,a);if(p!==null){p.flags&=32767,ut=p;return}if(p=a.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!l&&(a=a.sibling,a!==null)){ut=a;return}ut=a=p}while(a!==null);gi=6,ut=null}function Fk(a,l,p,y,b,w,$,O,R){a.cancelPendingCommit=null;do qb();while(fr!==0);if((Rt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=WE,xE(a,p,w,$,O,R),a===Zt&&(ut=Zt=null,mt=0),Ip=l,tu=a,Rp=p,Q$=w,K$=b,Ak=y,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,kK(qc,function(){return Gk(),null})):(a.callbackNode=null,a.callbackPriority=0),y=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||y){y=X.T,X.T=null,b=he.p,he.p=2,$=Rt,Rt|=4;try{xK(a,l,p)}finally{Rt=$,he.p=b,X.T=y}}fr=1,jk(),Uk(),zk()}}function jk(){if(fr===1){fr=0;var a=tu,l=Ip,p=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||p){p=X.T,X.T=null;var y=he.p;he.p=2;var b=Rt;Rt|=4;try{wk(l,a);var w=mx,$=MP(a.containerInfo),O=w.focusedElem,R=w.selectionRange;if($!==O&&O&&O.ownerDocument&&xP(O.ownerDocument.documentElement,O)){if(R!==null&&VE(O)){var H=R.start,ee=R.end;if(ee===void 0&&(ee=H),"selectionStart"in O)O.selectionStart=H,O.selectionEnd=Math.min(ee,O.value.length);else{var se=O.ownerDocument||document,Z=se&&se.defaultView||window;if(Z.getSelection){var Y=Z.getSelection(),qe=O.textContent.length,ze=Math.min(R.start,qe),Ft=R.end===void 0?ze:Math.min(R.end,qe);!Y.extend&&ze>Ft&&($=Ft,Ft=ze,ze=$);var V=$P(O,ze),F=$P(O,Ft);if(V&&F&&(Y.rangeCount!==1||Y.anchorNode!==V.node||Y.anchorOffset!==V.offset||Y.focusNode!==F.node||Y.focusOffset!==F.offset)){var q=se.createRange();q.setStart(V.node,V.offset),Y.removeAllRanges(),ze>Ft?(Y.addRange(q),Y.extend(F.node,F.offset)):(q.setEnd(F.node,F.offset),Y.addRange(q))}}}}for(se=[],Y=O;Y=Y.parentNode;)Y.nodeType===1&&se.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<se.length;O++){var ie=se[O];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}i_=!!fx,mx=fx=null}finally{Rt=b,he.p=y,X.T=p}}a.current=l,fr=2}}function Uk(){if(fr===2){fr=0;var a=tu,l=Ip,p=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||p){p=X.T,X.T=null;var y=he.p;he.p=2;var b=Rt;Rt|=4;try{gk(a,l.alternate,l)}finally{Rt=b,he.p=y,X.T=p}}fr=3}}function zk(){if(fr===4||fr===3){fr=0,vE();var a=tu,l=Ip,p=Rp,y=Ak;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?fr=5:(fr=0,Ip=tu=null,Vk(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(eu=null),gy(p),l=l.stateNode,Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Bc,l,void 0,(l.current.flags&128)===128)}catch{}if(y!==null){l=X.T,b=he.p,he.p=2,X.T=null;try{for(var w=a.onRecoverableError,$=0;$<y.length;$++){var O=y[$];w(O.value,{componentStack:O.stack})}}finally{X.T=l,he.p=b}}(Rp&3)!==0&&qb(),jo(a),b=a.pendingLanes,(p&4194090)!==0&&(b&42)!==0?a===ex?tg++:(tg=0,ex=a):tg=0,ig(0)}}function Vk(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Py(l)))}function qb(a){return jk(),Uk(),zk(),Gk()}function Gk(){if(fr!==5)return!1;var a=tu,l=Q$;Q$=0;var p=gy(Rp),y=X.T,b=he.p;try{he.p=32>p?32:p,X.T=null,p=K$,K$=null;var w=tu,$=Rp;if(fr=0,Ip=tu=null,Rp=0,(Rt&6)!==0)throw Error(r(331));var O=Rt;if(Rt|=4,xk(w.current),Tk(w,w.current,$,p),Rt=O,ig(0,!1),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Bc,w)}catch{}return!0}finally{he.p=b,X.T=y,Vk(a,l)}}function qk(a,l,p){l=nn(p,l),l=R$(a.stateNode,l,2),a=Bl(a,l,2),a!==null&&(Wc(a,2),jo(a))}function zt(a,l,p){if(a.tag===3)qk(a,a,p);else for(;l!==null;){if(l.tag===3){qk(l,a,p);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(eu===null||!eu.has(y))){a=nn(p,a),p=ZD(2),y=Bl(l,p,2),y!==null&&(YD(p,y,l,a),Wc(y,2),jo(y));break}}l=l.return}}function sx(a,l,p){var y=a.pingCache;if(y===null){y=a.pingCache=new OK;var b=new Set;y.set(l,b)}else b=y.get(l),b===void 0&&(b=new Set,y.set(l,b));b.has(p)||(Z$=!0,b.add(p),a=NK.bind(null,a,l,p),l.then(a,a))}function NK(a,l,p){var y=a.pingCache;y!==null&&y.delete(l),a.pingedLanes|=a.suspendedLanes&p,a.warmLanes&=~p,Zt===a&&(mt&p)===p&&(gi===4||gi===3&&(mt&62914560)===mt&&300>rn()-X$?(Rt&2)===0&&Lp(a,0):Y$|=p,Cp===mt&&(Cp=0)),jo(a)}function Bk(a,l){l===0&&(l=Z1()),a=mp(a,l),a!==null&&(Wc(a,l),jo(a))}function PK(a){var l=a.memoizedState,p=0;l!==null&&(p=l.retryLane),Bk(a,p)}function DK(a,l){var p=0;switch(a.tag){case 13:var y=a.stateNode,b=a.memoizedState;b!==null&&(p=b.retryLane);break;case 19:y=a.stateNode;break;case 22:y=a.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(l),Bk(a,p)}function kK(a,l){return py(a,l)}var Bb=null,Pp=null,nx=!1,Hb=!1,ox=!1,cd=0;function jo(a){a!==Pp&&a.next===null&&(Pp===null?Bb=Pp=a:Pp=Pp.next=a),Hb=!0,nx||(nx=!0,jK())}function ig(a,l){if(!ox&&Hb){ox=!0;do for(var p=!1,y=Bb;y!==null;){if(a!==0){var b=y.pendingLanes;if(b===0)var w=0;else{var $=y.suspendedLanes,O=y.pingedLanes;w=(1<<31-Gr(42|a)+1)-1,w&=b&~($&~O),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(p=!0,Yk(y,w))}else w=mt,w=rp(y,y===Zt?w:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(w&3)===0||Hc(y,w)||(p=!0,Yk(y,w));y=y.next}while(p);ox=!1}}function FK(){Hk()}function Hk(){Hb=nx=!1;var a=0;cd!==0&&(WK()&&(a=cd),cd=0);for(var l=rn(),p=null,y=Bb;y!==null;){var b=y.next,w=Wk(y,l);w===0?(y.next=null,p===null?Bb=b:p.next=b,b===null&&(Pp=p)):(p=y,(a!==0||(w&3)!==0)&&(Hb=!0)),y=b}ig(a)}function Wk(a,l){for(var p=a.suspendedLanes,y=a.pingedLanes,b=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var $=31-Gr(w),O=1<<$,R=b[$];R===-1?((O&p)===0||(O&y)!==0)&&(b[$]=$E(O,l)):R<=l&&(a.expiredLanes|=O),w&=~O}if(l=Zt,p=mt,p=rp(a,a===l?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y=a.callbackNode,p===0||a===l&&(Lt===2||Lt===9)||a.cancelPendingCommit!==null)return y!==null&&y!==null&&fy(y),a.callbackNode=null,a.callbackPriority=0;if((p&3)===0||Hc(a,p)){if(l=p&-p,l===a.callbackPriority)return l;switch(y!==null&&fy(y),gy(p)){case 2:case 8:p=B1;break;case 32:p=qc;break;case 268435456:p=zn;break;default:p=qc}return y=Zk.bind(null,a),p=py(p,y),a.callbackPriority=l,a.callbackNode=p,l}return y!==null&&y!==null&&fy(y),a.callbackPriority=2,a.callbackNode=null,2}function Zk(a,l){if(fr!==0&&fr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var p=a.callbackNode;if(qb()&&a.callbackNode!==p)return null;var y=mt;return y=rp(a,a===Zt?y:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y===0?null:(Ck(a,y,l),Wk(a,rn()),a.callbackNode!=null&&a.callbackNode===p?Zk.bind(null,a):null)}function Yk(a,l){if(qb())return null;Ck(a,l,!0)}function jK(){YK(function(){(Rt&6)!==0?py(q1,FK):Hk()})}function ax(){return cd===0&&(cd=W1()),cd}function Jk(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:rb(""+a)}function Xk(a,l){var p=l.ownerDocument.createElement("input");return p.name=l.name,p.value=l.value,a.id&&p.setAttribute("form",a.id),l.parentNode.insertBefore(p,l),a=new FormData(a),p.parentNode.removeChild(p),a}function UK(a,l,p,y,b){if(l==="submit"&&p&&p.stateNode===b){var w=Jk((b[Wt]||null).action),$=y.submitter;$&&(l=(l=$[Wt]||null)?Jk(l.formAction):$.getAttribute("formAction"),l!==null&&(w=l,$=null));var O=new ab("action","action",null,y,b);a.push({event:O,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(cd!==0){var R=$?Xk(b,$):new FormData(b);M$(p,{pending:!0,data:R,method:b.method,action:w},null,R)}}else typeof w=="function"&&(O.preventDefault(),R=$?Xk(b,$):new FormData(b),M$(p,{pending:!0,data:R,method:b.method,action:w},w,R))},currentTarget:b}]})}}for(var lx=0;lx<HE.length;lx++){var ux=HE[lx],zK=ux.toLowerCase(),VK=ux[0].toUpperCase()+ux.slice(1);Bn(zK,"on"+VK)}Bn(CP,"onAnimationEnd"),Bn(IP,"onAnimationIteration"),Bn(RP,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(nK,"onTransitionRun"),Bn(oK,"onTransitionStart"),Bn(aK,"onTransitionCancel"),Bn(LP,"onTransitionEnd"),Ul("onMouseEnter",["mouseout","mouseover"]),Ul("onMouseLeave",["mouseout","mouseover"]),Ul("onPointerEnter",["pointerout","pointerover"]),Ul("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rg));function Qk(a,l){l=(l&4)!==0;for(var p=0;p<a.length;p++){var y=a[p],b=y.event;y=y.listeners;e:{var w=void 0;if(l)for(var $=y.length-1;0<=$;$--){var O=y[$],R=O.instance,H=O.currentTarget;if(O=O.listener,R!==w&&b.isPropagationStopped())break e;w=O,b.currentTarget=H;try{w(b)}catch(ee){Lb(ee)}b.currentTarget=null,w=R}else for($=0;$<y.length;$++){if(O=y[$],R=O.instance,H=O.currentTarget,O=O.listener,R!==w&&b.isPropagationStopped())break e;w=O,b.currentTarget=H;try{w(b)}catch(ee){Lb(ee)}b.currentTarget=null,w=R}}}}function ct(a,l){var p=l[Ae];p===void 0&&(p=l[Ae]=new Set);var y=a+"__bubble";p.has(y)||(Kk(l,a,2,!1),p.add(y))}function cx(a,l,p){var y=0;l&&(y|=4),Kk(p,a,y,l)}var Wb="_reactListening"+Math.random().toString(36).slice(2);function dx(a){if(!a[Wb]){a[Wb]=!0,Q1.forEach(function(p){p!=="selectionchange"&&(GK.has(p)||cx(p,!1,a),cx(p,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Wb]||(l[Wb]=!0,cx("selectionchange",!1,l))}}function Kk(a,l,p,y){switch(T4(l)){case 2:var b=yee;break;case 8:b=gee;break;default:b=$x}p=b.bind(null,l,p,a),b=void 0,!LE||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),y?b!==void 0?a.addEventListener(l,p,{capture:!0,passive:b}):a.addEventListener(l,p,!0):b!==void 0?a.addEventListener(l,p,{passive:b}):a.addEventListener(l,p,!1)}function hx(a,l,p,y,b){var w=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var $=y.tag;if($===3||$===4){var O=y.stateNode.containerInfo;if(O===b)break;if($===4)for($=y.return;$!==null;){var R=$.tag;if((R===3||R===4)&&$.stateNode.containerInfo===b)return;$=$.return}for(;O!==null;){if($=Ta(O),$===null)return;if(R=$.tag,R===5||R===6||R===26||R===27){y=w=$;continue e}O=O.parentNode}}y=y.return}oP(function(){var H=w,ee=IE(p),se=[];e:{var Z=NP.get(a);if(Z!==void 0){var Y=ab,qe=a;switch(a){case"keypress":if(nb(p)===0)break e;case"keydown":case"keyup":Y=kQ;break;case"focusin":qe="focus",Y=kE;break;case"focusout":qe="blur",Y=kE;break;case"beforeblur":case"afterblur":Y=kE;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=uP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=$Q;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=UQ;break;case CP:case IP:case RP:Y=AQ;break;case LP:Y=VQ;break;case"scroll":case"scrollend":Y=TQ;break;case"wheel":Y=qQ;break;case"copy":case"cut":case"paste":Y=CQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=dP;break;case"toggle":case"beforetoggle":Y=HQ}var ze=(l&4)!==0,Ft=!ze&&(a==="scroll"||a==="scrollend"),V=ze?Z!==null?Z+"Capture":null:Z;ze=[];for(var F=H,q;F!==null;){var ie=F;if(q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||q===null||V===null||(ie=Sy(F,V),ie!=null&&ze.push(sg(F,ie,q))),Ft)break;F=F.return}0<ze.length&&(Z=new Y(Z,qe,null,p,ee),se.push({event:Z,listeners:ze}))}}if((l&7)===0){e:{if(Z=a==="mouseover"||a==="pointerover",Y=a==="mouseout"||a==="pointerout",Z&&p!==CE&&(qe=p.relatedTarget||p.fromElement)&&(Ta(qe)||qe[Vn]))break e;if((Y||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,Y?(qe=p.relatedTarget||p.toElement,Y=H,qe=qe?Ta(qe):null,qe!==null&&(Ft=n(qe),ze=qe.tag,qe!==Ft||ze!==5&&ze!==27&&ze!==6)&&(qe=null)):(Y=null,qe=H),Y!==qe)){if(ze=uP,ie="onMouseLeave",V="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(ze=dP,ie="onPointerLeave",V="onPointerEnter",F="pointer"),Ft=Y==null?Z:Ue(Y),q=qe==null?Z:Ue(qe),Z=new ze(ie,F+"leave",Y,p,ee),Z.target=Ft,Z.relatedTarget=q,ie=null,Ta(ee)===H&&(ze=new ze(V,F+"enter",qe,p,ee),ze.target=q,ze.relatedTarget=Ft,ie=ze),Ft=ie,Y&&qe)t:{for(ze=Y,V=qe,F=0,q=ze;q;q=Dp(q))F++;for(q=0,ie=V;ie;ie=Dp(ie))q++;for(;0<F-q;)ze=Dp(ze),F--;for(;0<q-F;)V=Dp(V),q--;for(;F--;){if(ze===V||V!==null&&ze===V.alternate)break t;ze=Dp(ze),V=Dp(V)}ze=null}else ze=null;Y!==null&&e4(se,Z,Y,ze,!1),qe!==null&&Ft!==null&&e4(se,Ft,qe,ze,!0)}}e:{if(Z=H?Ue(H):window,Y=Z.nodeName&&Z.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Z.type==="file")var Ce=bP;else if(gP(Z))if(_P)Ce=iK;else{Ce=eK;var lt=KQ}else Y=Z.nodeName,!Y||Y.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?H&&OE(H.elementType)&&(Ce=bP):Ce=tK;if(Ce&&(Ce=Ce(a,H))){vP(se,Ce,p,ee);break e}lt&&lt(a,Z,H),a==="focusout"&&H&&Z.type==="number"&&H.memoizedProps.value!=null&&AE(Z,"number",Z.value)}switch(lt=H?Ue(H):window,a){case"focusin":(gP(lt)||lt.contentEditable==="true")&&(hp=lt,GE=H,Cy=null);break;case"focusout":Cy=GE=hp=null;break;case"mousedown":qE=!0;break;case"contextmenu":case"mouseup":case"dragend":qE=!1,AP(se,p,ee);break;case"selectionchange":if(sK)break;case"keydown":case"keyup":AP(se,p,ee)}var ke;if(jE)e:{switch(a){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else dp?mP(a,p)&&(Ve="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(Ve="onCompositionStart");Ve&&(hP&&p.locale!=="ko"&&(dp||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&dp&&(ke=aP()):(zl=ee,NE="value"in zl?zl.value:zl.textContent,dp=!0)),lt=Zb(H,Ve),0<lt.length&&(Ve=new cP(Ve,a,null,p,ee),se.push({event:Ve,listeners:lt}),ke?Ve.data=ke:(ke=yP(p),ke!==null&&(Ve.data=ke)))),(ke=ZQ?YQ(a,p):JQ(a,p))&&(Ve=Zb(H,"onBeforeInput"),0<Ve.length&&(lt=new cP("onBeforeInput","beforeinput",null,p,ee),se.push({event:lt,listeners:Ve}),lt.data=ke)),UK(se,a,H,p,ee)}Qk(se,l)})}function sg(a,l,p){return{instance:a,listener:l,currentTarget:p}}function Zb(a,l){for(var p=l+"Capture",y=[];a!==null;){var b=a,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=Sy(a,p),b!=null&&y.unshift(sg(a,b,w)),b=Sy(a,l),b!=null&&y.push(sg(a,b,w))),a.tag===3)return y;a=a.return}return[]}function Dp(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function e4(a,l,p,y,b){for(var w=l._reactName,$=[];p!==null&&p!==y;){var O=p,R=O.alternate,H=O.stateNode;if(O=O.tag,R!==null&&R===y)break;O!==5&&O!==26&&O!==27||H===null||(R=H,b?(H=Sy(p,w),H!=null&&$.unshift(sg(p,H,R))):b||(H=Sy(p,w),H!=null&&$.push(sg(p,H,R)))),p=p.return}$.length!==0&&a.push({event:l,listeners:$})}var qK=/\r\n?/g,BK=/\u0000|\uFFFD/g;function t4(a){return(typeof a=="string"?a:""+a).replace(qK,`
`).replace(BK,"")}function i4(a,l){return l=t4(l),t4(a)===l}function Yb(){}function kt(a,l,p,y,b,w){switch(p){case"children":typeof y=="string"?l==="body"||l==="textarea"&&y===""||lp(a,y):(typeof y=="number"||typeof y=="bigint")&&l!=="body"&&lp(a,""+y);break;case"className":op(a,"class",y);break;case"tabIndex":op(a,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":op(a,p,y);break;case"style":sP(a,y,w);break;case"data":if(l!=="object"){op(a,"data",y);break}case"src":case"href":if(y===""&&(l!=="a"||p!=="href")){a.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(p);break}y=rb(""+y),a.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){a.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(p==="formAction"?(l!=="input"&&kt(a,l,"name",b.name,b,null),kt(a,l,"formEncType",b.formEncType,b,null),kt(a,l,"formMethod",b.formMethod,b,null),kt(a,l,"formTarget",b.formTarget,b,null)):(kt(a,l,"encType",b.encType,b,null),kt(a,l,"method",b.method,b,null),kt(a,l,"target",b.target,b,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(p);break}y=rb(""+y),a.setAttribute(p,y);break;case"onClick":y!=null&&(a.onclick=Yb);break;case"onScroll":y!=null&&ct("scroll",a);break;case"onScrollEnd":y!=null&&ct("scrollend",a);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=p}}break;case"multiple":a.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":a.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){a.removeAttribute("xlink:href");break}p=rb(""+y),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,""+y):a.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,""):a.removeAttribute(p);break;case"capture":case"download":y===!0?a.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,y):a.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?a.setAttribute(p,y):a.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?a.removeAttribute(p):a.setAttribute(p,y);break;case"popover":ct("beforetoggle",a),ct("toggle",a),np(a,"popover",y);break;case"xlinkActuate":qn(a,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":qn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":qn(a,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":qn(a,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":qn(a,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":qn(a,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":qn(a,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":qn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":qn(a,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":np(a,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=wQ.get(p)||p,np(a,p,y))}}function px(a,l,p,y,b,w){switch(p){case"style":sP(a,y,w);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=p}}break;case"children":typeof y=="string"?lp(a,y):(typeof y=="number"||typeof y=="bigint")&&lp(a,""+y);break;case"onScroll":y!=null&&ct("scroll",a);break;case"onScrollEnd":y!=null&&ct("scrollend",a);break;case"onClick":y!=null&&(a.onclick=Yb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!K1.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(b=p.endsWith("Capture"),l=p.slice(2,b?p.length-7:void 0),w=a[Wt]||null,w=w!=null?w[p]:null,typeof w=="function"&&a.removeEventListener(l,w,b),typeof y=="function")){typeof w!="function"&&w!==null&&(p in a?a[p]=null:a.hasAttribute(p)&&a.removeAttribute(p)),a.addEventListener(l,y,b);break e}p in a?a[p]=y:y===!0?a.setAttribute(p,""):np(a,p,y)}}}function mr(a,l,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",a),ct("load",a);var y=!1,b=!1,w;for(w in p)if(p.hasOwnProperty(w)){var $=p[w];if($!=null)switch(w){case"src":y=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:kt(a,l,w,$,p,null)}}b&&kt(a,l,"srcSet",p.srcSet,p,null),y&&kt(a,l,"src",p.src,p,null);return;case"input":ct("invalid",a);var O=w=$=b=null,R=null,H=null;for(y in p)if(p.hasOwnProperty(y)){var ee=p[y];if(ee!=null)switch(y){case"name":b=ee;break;case"type":$=ee;break;case"checked":R=ee;break;case"defaultChecked":H=ee;break;case"value":w=ee;break;case"defaultValue":O=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:kt(a,l,y,ee,p,null)}}eP(a,w,O,R,H,$,b,!1),Ut(a);return;case"select":ct("invalid",a),y=$=w=null;for(b in p)if(p.hasOwnProperty(b)&&(O=p[b],O!=null))switch(b){case"value":w=O;break;case"defaultValue":$=O;break;case"multiple":y=O;default:kt(a,l,b,O,p,null)}l=w,p=$,a.multiple=!!y,l!=null?ap(a,!!y,l,!1):p!=null&&ap(a,!!y,p,!0);return;case"textarea":ct("invalid",a),w=b=y=null;for($ in p)if(p.hasOwnProperty($)&&(O=p[$],O!=null))switch($){case"value":y=O;break;case"defaultValue":b=O;break;case"children":w=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:kt(a,l,$,O,p,null)}iP(a,y,b,w),Ut(a);return;case"option":for(R in p)if(p.hasOwnProperty(R)&&(y=p[R],y!=null))switch(R){case"selected":a.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:kt(a,l,R,y,p,null)}return;case"dialog":ct("beforetoggle",a),ct("toggle",a),ct("cancel",a),ct("close",a);break;case"iframe":case"object":ct("load",a);break;case"video":case"audio":for(y=0;y<rg.length;y++)ct(rg[y],a);break;case"image":ct("error",a),ct("load",a);break;case"details":ct("toggle",a);break;case"embed":case"source":case"link":ct("error",a),ct("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in p)if(p.hasOwnProperty(H)&&(y=p[H],y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:kt(a,l,H,y,p,null)}return;default:if(OE(l)){for(ee in p)p.hasOwnProperty(ee)&&(y=p[ee],y!==void 0&&px(a,l,ee,y,p,void 0));return}}for(O in p)p.hasOwnProperty(O)&&(y=p[O],y!=null&&kt(a,l,O,y,p,null))}function HK(a,l,p,y){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,$=null,O=null,R=null,H=null,ee=null;for(Y in p){var se=p[Y];if(p.hasOwnProperty(Y)&&se!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":R=se;default:y.hasOwnProperty(Y)||kt(a,l,Y,null,y,se)}}for(var Z in y){var Y=y[Z];if(se=p[Z],y.hasOwnProperty(Z)&&(Y!=null||se!=null))switch(Z){case"type":w=Y;break;case"name":b=Y;break;case"checked":H=Y;break;case"defaultChecked":ee=Y;break;case"value":$=Y;break;case"defaultValue":O=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,l));break;default:Y!==se&&kt(a,l,Z,Y,y,se)}}ME(a,$,O,R,H,ee,w,b);return;case"select":Y=$=O=Z=null;for(w in p)if(R=p[w],p.hasOwnProperty(w)&&R!=null)switch(w){case"value":break;case"multiple":Y=R;default:y.hasOwnProperty(w)||kt(a,l,w,null,y,R)}for(b in y)if(w=y[b],R=p[b],y.hasOwnProperty(b)&&(w!=null||R!=null))switch(b){case"value":Z=w;break;case"defaultValue":O=w;break;case"multiple":$=w;default:w!==R&&kt(a,l,b,w,y,R)}l=O,p=$,y=Y,Z!=null?ap(a,!!p,Z,!1):!!y!=!!p&&(l!=null?ap(a,!!p,l,!0):ap(a,!!p,p?[]:"",!1));return;case"textarea":Y=Z=null;for(O in p)if(b=p[O],p.hasOwnProperty(O)&&b!=null&&!y.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:kt(a,l,O,null,y,b)}for($ in y)if(b=y[$],w=p[$],y.hasOwnProperty($)&&(b!=null||w!=null))switch($){case"value":Z=b;break;case"defaultValue":Y=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==w&&kt(a,l,$,b,y,w)}tP(a,Z,Y);return;case"option":for(var qe in p)if(Z=p[qe],p.hasOwnProperty(qe)&&Z!=null&&!y.hasOwnProperty(qe))switch(qe){case"selected":a.selected=!1;break;default:kt(a,l,qe,null,y,Z)}for(R in y)if(Z=y[R],Y=p[R],y.hasOwnProperty(R)&&Z!==Y&&(Z!=null||Y!=null))switch(R){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:kt(a,l,R,Z,y,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in p)Z=p[ze],p.hasOwnProperty(ze)&&Z!=null&&!y.hasOwnProperty(ze)&&kt(a,l,ze,null,y,Z);for(H in y)if(Z=y[H],Y=p[H],y.hasOwnProperty(H)&&Z!==Y&&(Z!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,l));break;default:kt(a,l,H,Z,y,Y)}return;default:if(OE(l)){for(var Ft in p)Z=p[Ft],p.hasOwnProperty(Ft)&&Z!==void 0&&!y.hasOwnProperty(Ft)&&px(a,l,Ft,void 0,y,Z);for(ee in y)Z=y[ee],Y=p[ee],!y.hasOwnProperty(ee)||Z===Y||Z===void 0&&Y===void 0||px(a,l,ee,Z,y,Y);return}}for(var V in p)Z=p[V],p.hasOwnProperty(V)&&Z!=null&&!y.hasOwnProperty(V)&&kt(a,l,V,null,y,Z);for(se in y)Z=y[se],Y=p[se],!y.hasOwnProperty(se)||Z===Y||Z==null&&Y==null||kt(a,l,se,Z,y,Y)}var fx=null,mx=null;function Jb(a){return a.nodeType===9?a:a.ownerDocument}function r4(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s4(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function yx(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var gx=null;function WK(){var a=window.event;return a&&a.type==="popstate"?a===gx?!1:(gx=a,!0):(gx=null,!1)}var n4=typeof setTimeout=="function"?setTimeout:void 0,ZK=typeof clearTimeout=="function"?clearTimeout:void 0,o4=typeof Promise=="function"?Promise:void 0,YK=typeof queueMicrotask=="function"?queueMicrotask:typeof o4<"u"?function(a){return o4.resolve(null).then(a).catch(JK)}:n4;function JK(a){setTimeout(function(){throw a})}function ru(a){return a==="head"}function a4(a,l){var p=l,y=0,b=0;do{var w=p.nextSibling;if(a.removeChild(p),w&&w.nodeType===8)if(p=w.data,p==="/$"){if(0<y&&8>y){p=y;var $=a.ownerDocument;if(p&1&&ng($.documentElement),p&2&&ng($.body),p&4)for(p=$.head,ng(p),$=p.firstChild;$;){var O=$.nextSibling,R=$.nodeName;$[Zc]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&$.rel.toLowerCase()==="stylesheet"||p.removeChild($),$=O}}if(b===0){a.removeChild(w),pg(l);return}b--}else p==="$"||p==="$?"||p==="$!"?b++:y=p.charCodeAt(0)-48;else y=0;p=w}while(p);pg(l)}function vx(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var p=l;switch(l=l.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":vx(p),As(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}a.removeChild(p)}}function XK(a,l,p,y){for(;a.nodeType===1;){var b=p;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!y&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(y){if(!a[Zc])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Wn(a.nextSibling),a===null)break}return null}function QK(a,l,p){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!p||(a=Wn(a.nextSibling),a===null))return null;return a}function bx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function KK(a,l){var p=a.ownerDocument;if(a.data!=="$?"||p.readyState==="complete")l();else{var y=function(){l(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),a._reactRetry=y}}function Wn(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var _x=null;function l4(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return a;l--}else p==="/$"&&l++}a=a.previousSibling}return null}function u4(a,l,p){switch(l=Jb(p),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function ng(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);As(a)}var dn=new Map,c4=new Set;function Xb(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Fa=he.d;he.d={f:eee,r:tee,D:iee,C:ree,L:see,m:nee,X:aee,S:oee,M:lee};function eee(){var a=Fa.f(),l=Vb();return a||l}function tee(a){var l=Ea(a);l!==null&&l.tag===5&&l.type==="form"?CD(l):Fa.r(a)}var kp=typeof document>"u"?null:document;function d4(a,l,p){var y=kp;if(y&&typeof l=="string"&&l){var b=sn(l);b='link[rel="'+a+'"][href="'+b+'"]',typeof p=="string"&&(b+='[crossorigin="'+p+'"]'),c4.has(b)||(c4.add(b),a={rel:a,crossOrigin:p,href:l},y.querySelector(b)===null&&(l=y.createElement("link"),mr(l,"link",a),$i(l),y.head.appendChild(l)))}}function iee(a){Fa.D(a),d4("dns-prefetch",a,null)}function ree(a,l){Fa.C(a,l),d4("preconnect",a,l)}function see(a,l,p){Fa.L(a,l,p);var y=kp;if(y&&a&&l){var b='link[rel="preload"][as="'+sn(l)+'"]';l==="image"&&p&&p.imageSrcSet?(b+='[imagesrcset="'+sn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(b+='[imagesizes="'+sn(p.imageSizes)+'"]')):b+='[href="'+sn(a)+'"]';var w=b;switch(l){case"style":w=Fp(a);break;case"script":w=jp(a)}dn.has(w)||(a=g({rel:"preload",href:l==="image"&&p&&p.imageSrcSet?void 0:a,as:l},p),dn.set(w,a),y.querySelector(b)!==null||l==="style"&&y.querySelector(og(w))||l==="script"&&y.querySelector(ag(w))||(l=y.createElement("link"),mr(l,"link",a),$i(l),y.head.appendChild(l)))}}function nee(a,l){Fa.m(a,l);var p=kp;if(p&&a){var y=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+sn(y)+'"][href="'+sn(a)+'"]',w=b;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=jp(a)}if(!dn.has(w)&&(a=g({rel:"modulepreload",href:a},l),dn.set(w,a),p.querySelector(b)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(ag(w)))return}y=p.createElement("link"),mr(y,"link",a),$i(y),p.head.appendChild(y)}}}function oee(a,l,p){Fa.S(a,l,p);var y=kp;if(y&&a){var b=jl(y).hoistableStyles,w=Fp(a);l=l||"default";var $=b.get(w);if(!$){var O={loading:0,preload:null};if($=y.querySelector(og(w)))O.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},p),(p=dn.get(w))&&wx(a,p);var R=$=y.createElement("link");$i(R),mr(R,"link",a),R._p=new Promise(function(H,ee){R.onload=H,R.onerror=ee}),R.addEventListener("load",function(){O.loading|=1}),R.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Qb($,l,y)}$={type:"stylesheet",instance:$,count:1,state:O},b.set(w,$)}}}function aee(a,l){Fa.X(a,l);var p=kp;if(p&&a){var y=jl(p).hoistableScripts,b=jp(a),w=y.get(b);w||(w=p.querySelector(ag(b)),w||(a=g({src:a,async:!0},l),(l=dn.get(b))&&Sx(a,l),w=p.createElement("script"),$i(w),mr(w,"link",a),p.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},y.set(b,w))}}function lee(a,l){Fa.M(a,l);var p=kp;if(p&&a){var y=jl(p).hoistableScripts,b=jp(a),w=y.get(b);w||(w=p.querySelector(ag(b)),w||(a=g({src:a,async:!0,type:"module"},l),(l=dn.get(b))&&Sx(a,l),w=p.createElement("script"),$i(w),mr(w,"link",a),p.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},y.set(b,w))}}function h4(a,l,p,y){var b=(b=Je.current)?Xb(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(l=Fp(p.href),p=jl(b).hoistableStyles,y=p.get(l),y||(y={type:"style",instance:null,count:0,state:null},p.set(l,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){a=Fp(p.href);var w=jl(b).hoistableStyles,$=w.get(a);if($||(b=b.ownerDocument||b,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,$),(w=b.querySelector(og(a)))&&!w._p&&($.instance=w,$.state.loading=5),dn.has(a)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},dn.set(a,p),w||uee(b,a,p,$.state))),l&&y===null)throw Error(r(528,""));return $}if(l&&y!==null)throw Error(r(529,""));return null;case"script":return l=p.async,p=p.src,typeof p=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=jp(p),p=jl(b).hoistableScripts,y=p.get(l),y||(y={type:"script",instance:null,count:0,state:null},p.set(l,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Fp(a){return'href="'+sn(a)+'"'}function og(a){return'link[rel="stylesheet"]['+a+"]"}function p4(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function uee(a,l,p,y){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?y.loading=1:(l=a.createElement("link"),y.preload=l,l.addEventListener("load",function(){return y.loading|=1}),l.addEventListener("error",function(){return y.loading|=2}),mr(l,"link",p),$i(l),a.head.appendChild(l))}function jp(a){return'[src="'+sn(a)+'"]'}function ag(a){return"script[async]"+a}function f4(a,l,p){if(l.count++,l.instance===null)switch(l.type){case"style":var y=a.querySelector('style[data-href~="'+sn(p.href)+'"]');if(y)return l.instance=y,$i(y),y;var b=g({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(a.ownerDocument||a).createElement("style"),$i(y),mr(y,"style",b),Qb(y,p.precedence,a),l.instance=y;case"stylesheet":b=Fp(p.href);var w=a.querySelector(og(b));if(w)return l.state.loading|=4,l.instance=w,$i(w),w;y=p4(p),(b=dn.get(b))&&wx(y,b),w=(a.ownerDocument||a).createElement("link"),$i(w);var $=w;return $._p=new Promise(function(O,R){$.onload=O,$.onerror=R}),mr(w,"link",y),l.state.loading|=4,Qb(w,p.precedence,a),l.instance=w;case"script":return w=jp(p.src),(b=a.querySelector(ag(w)))?(l.instance=b,$i(b),b):(y=p,(b=dn.get(w))&&(y=g({},p),Sx(y,b)),a=a.ownerDocument||a,b=a.createElement("script"),$i(b),mr(b,"link",y),a.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(y=l.instance,l.state.loading|=4,Qb(y,p.precedence,a));return l.instance}function Qb(a,l,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=y.length?y[y.length-1]:null,w=b,$=0;$<y.length;$++){var O=y[$];if(O.dataset.precedence===l)w=O;else if(w!==b)break}w?w.parentNode.insertBefore(a,w.nextSibling):(l=p.nodeType===9?p.head:p,l.insertBefore(a,l.firstChild))}function wx(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Sx(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Kb=null;function m4(a,l,p){if(Kb===null){var y=new Map,b=Kb=new Map;b.set(p,y)}else b=Kb,y=b.get(p),y||(y=new Map,b.set(p,y));if(y.has(a))return y;for(y.set(a,null),p=p.getElementsByTagName(a),b=0;b<p.length;b++){var w=p[b];if(!(w[Zc]||w[ui]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var $=w.getAttribute(l)||"";$=a+$;var O=y.get($);O?O.push(w):y.set($,[w])}}return y}function y4(a,l,p){a=a.ownerDocument||a,a.head.insertBefore(p,l==="title"?a.querySelector("head > title"):null)}function cee(a,l,p){if(p===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function g4(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var lg=null;function dee(){}function hee(a,l,p){if(lg===null)throw Error(r(475));var y=lg;if(l.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=Fp(p.href),w=a.querySelector(og(b));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(y.count++,y=e_.bind(y),a.then(y,y)),l.state.loading|=4,l.instance=w,$i(w);return}w=a.ownerDocument||a,p=p4(p),(b=dn.get(b))&&wx(p,b),w=w.createElement("link"),$i(w);var $=w;$._p=new Promise(function(O,R){$.onload=O,$.onerror=R}),mr(w,"link",p),l.instance=w}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(y.count++,l=e_.bind(y),a.addEventListener("load",l),a.addEventListener("error",l))}}function pee(){if(lg===null)throw Error(r(475));var a=lg;return a.stylesheets&&a.count===0&&Tx(a,a.stylesheets),0<a.count?function(l){var p=setTimeout(function(){if(a.stylesheets&&Tx(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(p)}}:null}function e_(){if(this.count--,this.count===0){if(this.stylesheets)Tx(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var t_=null;function Tx(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,t_=new Map,l.forEach(fee,a),t_=null,e_.call(a))}function fee(a,l){if(!(l.state.loading&4)){var p=t_.get(a);if(p)var y=p.get(null);else{p=new Map,t_.set(a,p);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var $=b[w];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(p.set($.dataset.precedence,$),y=$)}y&&p.set(null,y)}b=l.instance,$=b.getAttribute("data-precedence"),w=p.get($)||y,w===y&&p.set(null,b),p.set($,b),this.count++,y=e_.bind(this),b.addEventListener("load",y),b.addEventListener("error",y),w?w.parentNode.insertBefore(b,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),l.state.loading|=4}}var ug={$$typeof:N,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function mee(a,l,p,y,b,w,$,O){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=my(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=my(0),this.hiddenUpdates=my(null),this.identifierPrefix=y,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function v4(a,l,p,y,b,w,$,O,R,H,ee,se){return a=new mee(a,l,p,$,O,R,H,se),l=1,w===!0&&(l|=24),w=Cs(3,null,null,l),a.current=w,w.stateNode=a,l=s$(),l.refCount++,a.pooledCache=l,l.refCount++,w.memoizedState={element:y,isDehydrated:p,cache:l},l$(w),a}function b4(a){return a?(a=yp,a):yp}function _4(a,l,p,y,b,w){b=b4(b),y.context===null?y.context=b:y.pendingContext=b,y=ql(l),y.payload={element:p},w=w===void 0?null:w,w!==null&&(y.callback=w),p=Bl(a,y,l),p!==null&&(Ps(p,a,l),jy(p,a,l))}function w4(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<l?p:l}}function Ex(a,l){w4(a,l),(a=a.alternate)&&w4(a,l)}function S4(a){if(a.tag===13){var l=mp(a,67108864);l!==null&&Ps(l,a,67108864),Ex(a,67108864)}}var i_=!0;function yee(a,l,p,y){var b=X.T;X.T=null;var w=he.p;try{he.p=2,$x(a,l,p,y)}finally{he.p=w,X.T=b}}function gee(a,l,p,y){var b=X.T;X.T=null;var w=he.p;try{he.p=8,$x(a,l,p,y)}finally{he.p=w,X.T=b}}function $x(a,l,p,y){if(i_){var b=xx(y);if(b===null)hx(a,l,y,r_,p),E4(a,y);else if(bee(b,a,l,p,y))y.stopPropagation();else if(E4(a,y),l&4&&-1<vee.indexOf(a)){for(;b!==null;){var w=Ea(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var $=Sa(w.pendingLanes);if($!==0){var O=w;for(O.pendingLanes|=2,O.entangledLanes|=2;$;){var R=1<<31-Gr($);O.entanglements[1]|=R,$&=~R}jo(w),(Rt&6)===0&&(Ub=rn()+500,ig(0))}}break;case 13:O=mp(w,2),O!==null&&Ps(O,w,2),Vb(),Ex(w,2)}if(w=xx(y),w===null&&hx(a,l,y,r_,p),w===b)break;b=w}b!==null&&y.stopPropagation()}else hx(a,l,y,null,p)}}function xx(a){return a=IE(a),Mx(a)}var r_=null;function Mx(a){if(r_=null,a=Ta(a),a!==null){var l=n(a);if(l===null)a=null;else{var p=l.tag;if(p===13){if(a=o(l),a!==null)return a;a=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return r_=a,null}function T4(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bE()){case q1:return 2;case B1:return 8;case qc:case H1:return 32;case zn:return 268435456;default:return 32}default:return 32}}var Ax=!1,su=null,nu=null,ou=null,cg=new Map,dg=new Map,au=[],vee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E4(a,l){switch(a){case"focusin":case"focusout":su=null;break;case"dragenter":case"dragleave":nu=null;break;case"mouseover":case"mouseout":ou=null;break;case"pointerover":case"pointerout":cg.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":dg.delete(l.pointerId)}}function hg(a,l,p,y,b,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:p,eventSystemFlags:y,nativeEvent:w,targetContainers:[b]},l!==null&&(l=Ea(l),l!==null&&S4(l)),a):(a.eventSystemFlags|=y,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function bee(a,l,p,y,b){switch(l){case"focusin":return su=hg(su,a,l,p,y,b),!0;case"dragenter":return nu=hg(nu,a,l,p,y,b),!0;case"mouseover":return ou=hg(ou,a,l,p,y,b),!0;case"pointerover":var w=b.pointerId;return cg.set(w,hg(cg.get(w)||null,a,l,p,y,b)),!0;case"gotpointercapture":return w=b.pointerId,dg.set(w,hg(dg.get(w)||null,a,l,p,y,b)),!0}return!1}function $4(a){var l=Ta(a.target);if(l!==null){var p=n(l);if(p!==null){if(l=p.tag,l===13){if(l=o(p),l!==null){a.blockedOn=l,J(a.priority,function(){if(p.tag===13){var y=Ns();y=yy(y);var b=mp(p,y);b!==null&&Ps(b,p,y),Ex(p,y)}});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function s_(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var p=xx(a.nativeEvent);if(p===null){p=a.nativeEvent;var y=new p.constructor(p.type,p);CE=y,p.target.dispatchEvent(y),CE=null}else return l=Ea(p),l!==null&&S4(l),a.blockedOn=p,!1;l.shift()}return!0}function x4(a,l,p){s_(a)&&p.delete(l)}function _ee(){Ax=!1,su!==null&&s_(su)&&(su=null),nu!==null&&s_(nu)&&(nu=null),ou!==null&&s_(ou)&&(ou=null),cg.forEach(x4),dg.forEach(x4)}function n_(a,l){a.blockedOn===l&&(a.blockedOn=null,Ax||(Ax=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_ee)))}var o_=null;function M4(a){o_!==a&&(o_=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){o_===a&&(o_=null);for(var l=0;l<a.length;l+=3){var p=a[l],y=a[l+1],b=a[l+2];if(typeof y!="function"){if(Mx(y||p)===null)continue;break}var w=Ea(p);w!==null&&(a.splice(l,3),l-=3,M$(w,{pending:!0,data:b,method:p.method,action:y},y,b))}}))}function pg(a){function l(R){return n_(R,a)}su!==null&&n_(su,a),nu!==null&&n_(nu,a),ou!==null&&n_(ou,a),cg.forEach(l),dg.forEach(l);for(var p=0;p<au.length;p++){var y=au[p];y.blockedOn===a&&(y.blockedOn=null)}for(;0<au.length&&(p=au[0],p.blockedOn===null);)$4(p),p.blockedOn===null&&au.shift();if(p=(a.ownerDocument||a).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var b=p[y],w=p[y+1],$=b[Wt]||null;if(typeof w=="function")$||M4(p);else if($){var O=null;if(w&&w.hasAttribute("formAction")){if(b=w,$=w[Wt]||null)O=$.formAction;else if(Mx(b)!==null)continue}else O=$.action;typeof O=="function"?p[y+1]=O:(p.splice(y,3),y-=3),M4(p)}}}function Ox(a){this._internalRoot=a}a_.prototype.render=Ox.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var p=l.current,y=Ns();_4(p,y,a,l,null,null)},a_.prototype.unmount=Ox.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;_4(a.current,2,null,a,null,null),Vb(),l[Vn]=null}};function a_(a){this._internalRoot=a}a_.prototype.unstable_scheduleHydration=function(a){if(a){var l=X1();a={blockedOn:null,target:a,priority:l};for(var p=0;p<au.length&&l!==0&&l<au[p].priority;p++);au.splice(p,0,a),p===0&&$4(a)}};var A4=t.version;if(A4!=="19.1.0")throw Error(r(527,A4,"19.1.0"));he.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var wee={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var l_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l_.isDisabled&&l_.supportsFiber)try{Bc=l_.inject(wee),Vr=l_}catch{}}return mg.createRoot=function(a,l){if(!s(a))throw Error(r(299));var p=!1,y="",b=qD,w=BD,$=HD,O=null;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(O=l.unstable_transitionCallbacks)),l=v4(a,1,!1,null,null,p,y,b,w,$,O,null),a[Vn]=l.current,dx(a),new Ox(l)},mg.hydrateRoot=function(a,l,p){if(!s(a))throw Error(r(299));var y=!1,b="",w=qD,$=BD,O=HD,R=null,H=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(b=p.identifierPrefix),p.onUncaughtError!==void 0&&(w=p.onUncaughtError),p.onCaughtError!==void 0&&($=p.onCaughtError),p.onRecoverableError!==void 0&&(O=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(R=p.unstable_transitionCallbacks),p.formState!==void 0&&(H=p.formState)),l=v4(a,1,!0,l,p??null,y,b,w,$,O,R,H),l.context=b4(null),p=l.current,y=Ns(),y=yy(y),b=ql(y),b.callback=null,Bl(p,b,y),p=y,l.current.lanes=p,Wc(l,p),jo(l),a[Vn]=l.current,dx(a),new a_(l)},mg.version="19.1.0",mg}var F4;function Lee(){if(F4)return Rx.exports;F4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rx.exports=Ree(),Rx.exports}var Nee=Lee();/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Pee=new Set(["children","localName","ref","style","className"]),j4=new WeakMap,U4=(e,t,i,r,s)=>{const n=s==null?void 0:s[t];n===void 0?(e[t]=i,i==null&&t in HTMLElement.prototype&&e.removeAttribute(t)):i!==r&&((o,c,d)=>{let f=j4.get(o);f===void 0&&j4.set(o,f=new Map);let g=f.get(c);d!==void 0?g===void 0?(f.set(c,g={handleEvent:d}),o.addEventListener(c,g)):g.handleEvent=d:g!==void 0&&(f.delete(c),o.removeEventListener(c,g))})(e,n,i)},Dee=({react:e,tagName:t,elementClass:i,events:r,displayName:s})=>{const n=new Set(Object.keys(r??{})),o=e.forwardRef((c,d)=>{const f=e.useRef(new Map),g=e.useRef(null),v={},_={};for(const[S,T]of Object.entries(c))Pee.has(S)?v[S==="className"?"class":S]=T:n.has(S)||S in i.prototype?_[S]=T:v[S]=T;return e.useLayoutEffect(()=>{if(g.current===null)return;const S=new Map;for(const T in _)U4(g.current,T,c[T],f.current.get(T),r),f.current.delete(T),S.set(T,c[T]);for(const[T,E]of f.current)U4(g.current,T,void 0,E,r);f.current=S}),e.useLayoutEffect(()=>{var S;(S=g.current)==null||S.removeAttribute("defer-hydration")},[]),v.suppressHydrationWarning=!0,e.createElement(t,{...v,ref:e.useCallback(S=>{g.current=S,typeof d=="function"?d(S):d!==null&&(d.current=S)},[d])})});return o.displayName=s??i.name,o};var kee=":",Ch=class{resolve(e){}reject(e){}constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};function Fee(e,t){let i=e;for(;i;){if(i===t)return!0;if(!i.parentNode)return!1;i.parentNode instanceof ShadowRoot?i=i.parentNode.host:i=i.parentNode}return!1}function jee(e,t,i){const{subscribe:r}=Uee(t);return r(s=>{s.some(o=>Fee(e,o.target))&&i()})}var Dx={};function Uee(e){const t=e.join(","),i=Dx[t];if(i!==void 0)return i;const r=new Set,s=new MutationObserver(o=>r.forEach(c=>c(o)));globalThis.document&&s.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const n={subscribe(o){return r.add(o),()=>{r.delete(o),r.size===0&&(s.disconnect(),Dx[t]=void 0)}}};return Dx[t]=n,n}function zee(e,t){var r,s;let i=e;for(;i;){const n=(r=i.closest)==null?void 0:r.call(i,t);if(n)return n;const o=(s=i.getRootNode)==null?void 0:s.call(i);if(o===globalThis.document)return null;i=o.host}return null}function Vee(e,t,i){const r=zee(e,`[${t}]`);return(r==null?void 0:r.getAttribute(t))??i}function ai(e,t,...i){try{return e==null?void 0:e.call(t,...i)}catch(r){console.error(r,e)}}async function $3(e,t,...i){try{const r=e==null?void 0:e.call(t,...i);return r instanceof Promise?await r:r}catch(r){console.error(r,e)}}var Gee=["ar","bg","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nl","nb","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],qee=new Set(Gee),PS="en",Bee={pt:"pt-PT",nb:"no",zh:"zh-CN"};async function Hee(e,t,i=""){const r=`${t}/${i}`,s=`${r}${e}.json`;return kx[s]??(kx[s]=Iz(e,r)),await kx[s]}var kx={};async function Iz(e,t){const i=`${t}${e}.json`;try{const r=await fetch(i);if(r.ok)return await r.json()}catch(r){return console.error(r),{}}return e===PS?{}:await Iz(PS,t)}function Rz(e){var i;const t=Vee(e,"lang",((i=globalThis.navigator)==null?void 0:i.language)||PS);return{lang:t,t9nLocale:Lz(t)}}function Lz(e){const[t,i]=e.split("-"),r=t.toLowerCase();let s=r;return i&&(s=`${r}-${i.toUpperCase()}`),s=Bee[s]??s,qee.has(s)?s:i?Lz(r):PS}function Wee(e,t,i,r){let s;const n=()=>void Zee(e,t(),r).then(o=>{((s==null?void 0:s.lang)!==o.lang||s.t9nLocale!==o.t9nLocale||s.t9nStrings!==o.t9nStrings)&&i(o),s=o}).catch(console.error);return queueMicrotask(n),jee(e,["lang"],n)}async function Zee(e,t,i=e.tagName.toLowerCase().split("-").slice(1).join("-")){const{lang:r,t9nLocale:s}=Rz(e),n=`${t}/${i}/t9n`,c=i===null?{}:await Hee(s,n,"messages.");return{lang:r,t9nLocale:s,t9nStrings:c}}var Nz=e=>e.replace(Yee,(t,i)=>`${i===0?"":"-"}${t.toLowerCase()}`),Yee=/[A-Z]+(?![a-z])|[A-Z]/gu;function Jee(e,t){const i=t/Xee;let r=0;const s=setInterval(()=>{r+=i,r>=t&&(clearInterval(s),e())},i);return s}var Xee=4;function Qee(e){return e!==void 0}function Pz(e){var i,r;let t=e;for(;t=t.parentNode??t.host;)if((i=t==null?void 0:t.constructor)!=null&&i.lumina){const s=t;return(r=s.manager)!=null&&r.loadedCalled||s._offspring.push(e),s._postLoad.promise}return!1}var pw=Object.defineProperty;function Kee(e){const t=e.split(kee);return t.length===1?[t[0],Nz(t[0])]:t}var ete=globalThis.HTMLElement??Kee,wm;wm=class extends ete{constructor(){super(),this._store={},this._pendingAttributes=[],this._postLoad=new Ch,this._postLoaded=new Ch,this._offspring=[],this._saveInstanceProperties();const t=this.constructor;t._LitConstructor?this._initializeComponent({a:t._LitConstructor}):t._loadPromise.then(this._initializeComponent.bind(this)).catch(i=>{this._postLoaded.reject(i),setTimeout(()=>{throw i})})}static _initializePrototype(){var t,i,r;(t=this._properties)==null||t.forEach(this._bindProp,this),(i=this._asyncMethods)==null||i.forEach(this._bindAsync,this),(r=this._syncMethods)==null||r.forEach(this._bindSync,this)}static _bindProp(t){pw(this.prototype,t,{configurable:!0,enumerable:!0,get(){return this._store[t]},set(i){this._store[t]=i}})}static _bindAsync(t){pw(this.prototype,t,{async value(...i){return this._litElement||await this._postLoaded.promise,await this._litElement[t](...i)},configurable:!0})}static _bindSync(t){pw(this.prototype,t,{value(...i){return this._litElement[t](...i)},configurable:!0})}get manager(){var t;return(t=this._litElement)==null?void 0:t.manager}_saveInstanceProperties(){var r;const t=this.constructor,i=this;(r=t._properties)==null||r.forEach(s=>{Object.hasOwn(this,s)&&(this._store[s]=i[s],delete i[s])})}attributeChangedCallback(t,i,r){var s;(s=this._litElement)==null||s.attributeChangedCallback(t,i,r),this._litElement||this._pendingAttributes.push(t)}connectedCallback(){var t,i;this._litElement?(i=(t=this._litElement).connectedCallback)==null||i.call(t):queueMicrotask(()=>{this._ancestorLoad=Pz(this)})}disconnectedCallback(){var t,i;(i=(t=this._litElement)==null?void 0:t.disconnectedCallback)==null||i.call(t)}async componentOnReady(){return await this._postLoaded.promise,this}_initializeComponent(t){var v;const i=this.constructor,r=i._name,s=this._store,n=Object.values(t).find(_=>_.tagName===r),o=`${r}--lazy`;let c=n;for(;c&&!Object.hasOwn(c,"lumina");)c=Object.getPrototypeOf(c);ite(c),!i._LitConstructor&&(i._LitConstructor=n,customElements.define(o,n)),n.lazy=this;const f=document.createElement(o);n.lazy=void 0,this._litElement=f,this._store=f,this._pendingAttributes.forEach(_=>{const S=this.getAttribute(_);f.attributeChangedCallback(_,null,S)}),Object.entries(s).forEach(tte,f);const g=this.isConnected;(g||this._ancestorLoad)&&((v=f.connectedCallback)==null||v.call(f),g||f.disconnectedCallback())}addController(){}requestUpdate(){var t;(t=this._litElement)==null||t.requestUpdate()}},wm.lumina=!0;function tte([e,t]){this[e]=t}function ite(e){const t=e.prototype,i=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(s,n){i.setAttribute.call(this.el,s,n)},t.removeAttribute=function(s){i.removeAttribute.call(this.el,s)},pw(t,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))}var z4={};function rte(e,t){var i;if(t){const r=e.constructor.elementProperties;e.manager.internals.members=Object.fromEntries(Array.from(r,([s,n])=>n.noAccessor?void 0:[s,[(n.readOnly?2048:0)|(n.state?32:16)]]).filter(Qee))}else{const r=e.constructor,s=((i=r.__registerControllers)==null?void 0:i.call(r,e))??void 0;if(r.__registerControllers=void 0,typeof s!="object")throw new Error("Failed to retrieve component meta");e.manager.internals.members=Object.fromEntries(Object.entries(s).filter(([n,[o]])=>(o&63)!==0))}}function ste(e,t=8){return e==null||typeof e=="object"||typeof e=="function"?e:(t&4)!==0?e==="false"?!1:e===""||!!e:(t&2)!==0?Number.parseFloat(e):(t&1)!==0?String(e):e}var nte=(e,t)=>{var i,r;return(r=(i=e.manager.internals.members)==null?void 0:i[t])==null?void 0:r[0]},aR=Symbol.for("controller"),ote=e=>typeof e=="object"&&e!==null&&(aR in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e),Vg;function Bf(e){Vg!==e&&(Vg=e,queueMicrotask(()=>{Vg===e&&(Vg=void 0)}))}function tT(e){return Vg}var Sd=[];function Dz(e){if(e===void 0){Sd=[];return}const t=Sd.indexOf(e);Sd=t===-1?[...Sd,e]:Sd.slice(0,t+1),queueMicrotask(()=>{Sd=[]})}function kz(){return Sd}var Hf;function ate(e){Hf!==e&&(Hf=e,queueMicrotask(()=>{Hf===e&&(Hf=void 0)}))}function lte(){const e=Hf;return Hf=void 0,e}var ute=async(e,t)=>{const i=lR(e);if(i===void 0)return e;if(await i.ready,typeof t=="function"){const r=i.watchExports(s=>t(s,r))}return i.exports},cte=async e=>{const t=lR(e);return await t.ready,t},lR=e=>{const i=tT().manager.internals.resolveExports(e);if(i!==void 0)return i;if(ote(e))return e;const r=lte();if(r!==void 0)return r},x3={readOnly:!1},DS=new WeakMap,Fz;Fz=aR;var uR=class{constructor(e){this._callbacks={hostConnected:[],hostDisconnected:[],hostLoad:[],hostLoaded:[],hostUpdate:[],hostUpdated:[],hostDestroy:[],hostLifecycle:[]},this._ready=new Ch,this._lifecycleCleanups=[],this.connectedCalled=!1,this._loadCalled=!1,this.loadedCalled=!1,this[Fz]=!0,this.ready=this._ready.promise,this._exports=G4(this),this._exportWatchers=new Set;const t=e??tT();this.component=t,this.component.addController(this),this.component.manager===void 0||(Dz(this),queueMicrotask(()=>this.catchUpLifecycle()))}catchUpLifecycle(){const{manager:e}=this.component;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e._loadCalled&&this.triggerLoad().then(()=>{e.loadedCalled&&this.triggerLoaded()}).catch(console.error)}get exports(){return this._exports}set exports(e){const t=this._exports;t!==e&&(this._exports=e,this._exportWatchers.forEach(ai),this.connectedCalled&&this.assignedProperty!==!1&&this.component.requestUpdate(this.assignedProperty,t)),this._ready.resolve(e)}setProvisionalExports(e,t=!0){this._exports=t?G4(e):e,this._exportWatchers.forEach(ai)}watchExports(e){const t=()=>e(this._exports);return this._exportWatchers.add(t),()=>void this._exportWatchers.delete(t)}get use(){return Bf(this.component),ute}get useRef(){return Bf(this.component),cte}get useRefSync(){return Bf(this.component),lR}controllerRemoved(){this.component.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this._callbacks.hostConnected.push(e)}onDisconnected(e){this._callbacks.hostDisconnected.push(e)}onLoad(e){this._callbacks.hostLoad.push(e)}onLoaded(e){this._callbacks.hostLoaded.push(e)}onUpdate(e){this._callbacks.hostUpdate.push(e)}onUpdated(e){this._callbacks.hostUpdated.push(e)}onDestroy(e){this._callbacks.hostDestroy.push(e)}onLifecycle(e){this._callbacks.hostLifecycle.push(e),this.connectedCalled&&this.component.el.isConnected&&this._callLifecycle(e)}triggerConnected(){const e=this;e.hostConnected&&ai(e.hostConnected,e),this._callbacks.hostConnected.forEach(ai),this.triggerLifecycle(),this.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&ai(e.hostDisconnected,e),this._callbacks.hostDisconnected.forEach(ai),this._lifecycleCleanups.forEach(ai),this._lifecycleCleanups=[]}async triggerLoad(){if(this._loadCalled)return;this._loadCalled=!0;const e=this;e.hostLoad&&await $3(e.hostLoad,e),this._callbacks.hostLoad.length>0&&await Promise.allSettled(this._callbacks.hostLoad.map($3)),this._ready.resolve(this._exports)}triggerLoaded(){if(this.loadedCalled)return;const e=this;e.hostLoaded&&ai(e.hostLoaded,e),this._callbacks.hostLoaded.forEach(ai),this.loadedCalled=!0}triggerUpdate(e){const t=this;t.hostUpdate&&ai(t.hostUpdate,t,e),this._callbacks.hostUpdate.forEach(V4,e)}triggerUpdated(e){const t=this;t.hostUpdated&&ai(t.hostUpdated,t,e),this._callbacks.hostUpdated.forEach(V4,e)}triggerDestroy(){const e=this;e.hostDestroy&&ai(e.hostDestroy,e),this._callbacks.hostDestroy.forEach(ai)}triggerLifecycle(){const e=this;e.hostLifecycle&&this._callLifecycle(()=>e.hostLifecycle()),this._callbacks.hostLifecycle.forEach(this._callLifecycle,this)}_callLifecycle(e){Bf(this.component);const t=ai(e);(Array.isArray(t)?t:[t]).forEach(r=>{typeof r=="function"?this._lifecycleCleanups.push(r):typeof r=="object"&&typeof r.remove=="function"&&this._lifecycleCleanups.push(r.remove)})}};function V4(e){ai(e,void 0,this)}var dte=uR;function G4(e){if(typeof e!="object"&&typeof e!="function"||e===null)return e;const t=new Proxy(e,{get(i,r,s){if(!(hte.has(r)&&r in i&&i[r]===t)&&(r in i||r in Promise.prototype||typeof r=="symbol"))return typeof i=="function"?i[r]:Reflect.get(i,r,s)},set:(i,r,s,n)=>Reflect.set(i,r,s,n)});return t}var hte=new Set(["exports","_exports"]);function pte(e,t,i){const r=Object.keys(e),s=r.length;Sl===void 0&&queueMicrotask(cR),Sl??(Sl=new Map);let n=Sl.get(e);return n===void 0&&(n={callbacks:[],keyCount:s},Sl.set(e,n)),n.keyCount!==s&&(n.callbacks.forEach(o=>o(r)),n.callbacks=[],n.keyCount=s),n.callbacks.push(o=>{const c=f=>ai(t,null,f),d=o[s];d===void 0?c(void 0):e[d]===i?c(d):c(void 0)}),i}var Sl=void 0;function cR(){Array.from((Sl==null?void 0:Sl.entries())??[]).forEach(([e,{callbacks:t}])=>{const i=Object.keys(e);t.forEach(r=>r(i))}),Sl=void 0}function dR(e,t,i){var r;const s=t,n=e.manager.internals;(r=n.allWatchers)[s]??(r[s]=[]);const o=n.allWatchers[s],c=i,d=(f,g,v)=>ai(c,null,f,g,v);return o.push(d),()=>{const f=o.indexOf(d);f!==-1&&o.splice(f,1)}}var fte=class{constructor(e){this.enabledWatchers={},this.allWatchers={},this.enableReadonly=()=>{if(this.enableReadonly=void 0,!this.component.manager.isLit)return;const t=this.component.manager.internals;Object.entries(t.members).forEach(([i,[r]])=>{var s;r&2048&&((s=t.setters)[i]??(s[i]=[]),t.setters[i].push(t.readonlySetter))})},this.trackedValue=M3,this.keyTrackers=[],this.getters={},this.setters={},this.accessorGetter={},this.accessorSetter={},this._exports=new WeakMap,this.readonlySetter=(t,i,r)=>{if(x3.readOnly)return t;throw new Error(`Cannot assign to read-only property "${r}" of ${this.component.el.tagName.toLowerCase()}. Trying to assign "${String(t)}"`)},this.component=e}firePropTrackers(e,t){const i=this.keyTrackers;this.trackedValue=M3,this.keyTrackers=[],i.forEach(r=>r(e,t))}getSetProxy(e){const t=this.component,i=t.constructor.prototype;if(this._getSetProxy(i,e,"class"),t.manager.isLit)return;const r=t.el.constructor.prototype;i!==r&&this._getSetProxy(r,e,"html")}_getSetProxy(e,t,i){const r=this.component,s=nte(r,t);let n;do n=Object.getOwnPropertyDescriptor(e,t);while(!n&&(e=Object.getPrototypeOf(e)));if(!n)return;const o=n.get,c=n.set,d=u_ in o,f=u_ in c;if(d&&f)return;const g=!d,v=!f,_=g?function(){let E=o.call(this);const M=DS.get(this);if(M===void 0)return E;const C=M.manager.internals;E=C.accessorGetter[t](E,t);const L=C.getters[t]??q4;for(let N=0;N<L.length;N++)E=L[N](E,t);return E}:o,S=v?function(E){var P;const M=o.call(this),C=DS.get(this);if(C===void 0){c.call(this,E);return}let L=C.manager.isLit?E??void 0:ste(E,s);const N=C.manager.internals;if(L===M)c.call(this,L);else{const U=N.setters[t]??q4;for(let W=0;W<U.length&&(L=U[W](L,M,t),L!==M);W++);L=N.accessorSetter[t](L,M,t),c.call(this,L),L!==M&&((P=N.enabledWatchers[t])==null||P.forEach(W=>W(L,M,t)))}N.keyTrackers.length>0&&(N==null||N.firePropTrackers(t,E))}:c;g&&(_[u_]=!0),v&&(S[u_]=!0),Object.defineProperty(e,t,{...n,get:_,set:S})}markExports(e,t){(typeof t=="object"&&t!==null||typeof t=="function")&&this._exports.set(t,e)}resolveExports(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this._exports.get(e)}},q4=[],u_=Symbol(),M3=Symbol();function mte(e,t,i){const r=e.manager.internals;return r.trackedValue!==M3&&r.trackedValue!==i&&r.firePropTrackers(void 0,void 0),r.keyTrackers.length===0&&queueMicrotask(()=>r.firePropTrackers(void 0,void 0)),r.trackedValue=i,r.keyTrackers.push((s,n)=>ai(t,void 0,i===n?s:void 0)),i}function jz(e=[tT(),...kz()],t,i){const r=Array.isArray(e)?e:[e];let s=r.length+1;const n=c=>{s-=1,c!==void 0&&(s=Math.min(s,0)),s===0&&t(c)};r.forEach(c=>pte(c,d=>n(d===void 0?void 0:{key:d,host:c,isReactive:!1}),i));const o=r.find(c=>"manager"in c&&typeof c.manager=="object"&&c.manager.component===c);return o&&mte(o,c=>n(c===void 0?void 0:{key:c,host:o,isReactive:!0}),i),i}function yte(e){x3.readOnly=!0;try{return e()}finally{x3.readOnly=!1}}var gte=e=>(...t)=>{const i=kz(),r=new e(...t),s=r.exports;Dz(i.at(-1));const n=r.component.manager.internals;n.markExports(r,s),r.watchExports(c=>n.markExports(r,c)),ate(r);const o=[r.component,...i].reverse();return jz(o,c=>c===void 0?void 0:vte(r,c,s),s)};function vte(e,{host:t,key:i,isReactive:r},s){const n=t,o=n[i]!==e.exports,c=n[i]!==s,d=s!==e.exports;if(o&&!c&&d&&(n[i]=e.exports),t===e.component){if(r){const g=e.component.manager.internals;c&&g.markExports(e,n[i]),dR(e.component,i,v=>{v!==e.exports&&g.markExports(e,v)})}e.assignedProperty=r?void 0:i}e.watchExports(()=>{var _;if(n[i]===e.exports)return;const g=e.component.manager;((_=g.internals.setters[i])==null?void 0:_.includes(g.internals.readonlySetter))?yte(()=>{n[i]=e.exports}):n[i]=e.exports})}var bte=(e,t)=>new _te(e,t),_te=class extends dte{constructor(e,t){const i="addController"in e,r=new Set;function s(d){var f;r.add(d),!(aR in d)&&e.renderRoot&&e.el.isConnected&&((f=d.hostConnected)==null||f.call(d))}function n(d){var f;r.delete(d),(f=d.controllerRemoved)==null||f.call(d)}const o=e;if(o.addController=s,o.removeController=n,!i){const d=t??e.constructor.__forceUpdate;o.requestUpdate=()=>d(e)}super(e),this.internals=new fte(this.component),this.destroyed=!1,this._updatePromise=new Ch,this._originalLifecycles={},this.isLit=i,this.component.manager=this,rte(e,i),this._controllers=r,this.exports=void 0,this.hasDestroy=Fx in this.component&&typeof this.component.destroy=="function",this._bindLifecycleMethods();const c=this.internals;Object.keys(c.members).forEach(d=>{c.accessorGetter[d]=B4,c.accessorSetter[d]=B4,c.getSetProxy(d)}),i?this.internals.enabledWatchers=this.internals.allWatchers:Object.defineProperty(e,"updateComplete",{get:async()=>await this._updatePromise.promise}),queueMicrotask(c.enableReadonly),Bf(e),DS.set(e.el,e),DS.set(e,e)}_bindLifecycleMethods(){const e=this.component,t=this.isLit,i=e.el===e;this._originalLifecycles={_connectedCallback:t||i?void 0:e.connectedCallback,_disconnectedCallback:t||i?void 0:e.disconnectedCallback,_load:t?e.load:e.componentWillLoad,_loaded:t?e.loaded:e.componentDidLoad,_willUpdate:t?void 0:e.componentWillUpdate,_updated:t?void 0:e.componentDidUpdate,_destroy:e.destroy};const r=this._connectedCallback.bind(this),s=this._disconnectedCallback.bind(this),n=this._update.bind(this),o=this._updated.bind(this);t?e.constructor.prototype.addController.call(e,{hostConnected:r,hostDisconnected:s,hostUpdate:n,hostUpdated:o}):(e.connectedCallback=r,e.disconnectedCallback=s,e.componentWillLoad=this._load.bind(this),e.componentDidLoad=this._loaded.bind(this),e.componentWillUpdate=n,e.componentDidUpdate=o),this.hasDestroy&&(e.destroy=this.destroy.bind(this))}_connectedCallback(){var t,i;if(this.destroyed){const r=this.component.el.tagName.toLowerCase();throw this.component.el.remove(),new Error(`The ${r} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${Fx} prop.`)}this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout);const e=this.internals;e.enabledWatchers=e.allWatchers,cR(),(t=e.enableReadonly)==null||t.call(e),this._controllers.forEach(Ste),(i=this._originalLifecycles._connectedCallback)==null||i.call(this.component)}_disconnectedCallback(){var e;this.destroyed||(this._controllers.forEach(Tte),(e=this._originalLifecycles._disconnectedCallback)==null||e.call(this.component),this.hasDestroy&&this._setAutoDestroyTimeout())}async _load(){var e;await Promise.allSettled(Array.from(this._controllers,Ete)),await((e=this._originalLifecycles._load)==null?void 0:e.call(this.component)),this.hasDestroy&&dR(this.component,Fx,()=>this._setAutoDestroyTimeout())}_loaded(){var e;this._controllers.forEach($te),(e=this._originalLifecycles._loaded)==null||e.call(this.component)}_update(){var t;const e=this.component;return this._controllers.forEach(xte,e.$changes),(t=this._originalLifecycles._willUpdate)==null?void 0:t.call(this.component)}_updated(){var t;const e=this.component;if(this._controllers.forEach(Mte,e.$changes),(t=this._originalLifecycles._updated)==null||t.call(this.component),this.isLit)e.$changes=new Map;else{const i=this._updatePromise;this._updatePromise=new Ch,i.resolve(!0)}}async destroy(){var e;if(!this.destroyed){if(this.component.el.isConnected){this.hasDestroy=!1;try{this.component.el.remove()}finally{this.hasDestroy=!0}}this._autoDestroyTimeout=void 0,this.destroyed=!0,this._controllers.forEach(Ate),this._controllers.clear(),await((e=this._originalLifecycles._destroy)==null?void 0:e.call(this.component))}}_setAutoDestroyTimeout(){if(this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout),!this.component.el.isConnected&&!this.component.autoDestroyDisabled){const e=()=>void this.destroy().catch(console.error);this._autoDestroyTimeout=Jee(e,wte)}}},Fx="autoDestroyDisabled",wte=1e3,B4=e=>e;function Ste(e){"triggerConnected"in e?e.triggerConnected():ai(e.hostConnected,e)}function Tte(e){"triggerDisconnected"in e?e.triggerDisconnected():ai(e.hostDisconnected,e)}async function Ete(e){"triggerLoad"in e?await e.triggerLoad():await $3(e.hostLoad,e)}function $te(e){"triggerLoaded"in e?e.triggerLoaded():ai(e.hostLoaded,e)}function xte(e){"triggerUpdate"in e?e.triggerUpdate(this):ai(e.hostUpdate,e,this)}function Mte(e){"triggerUpdated"in e?e.triggerUpdated(this):ai(e.hostUpdated,e,this)}function Ate(e){"triggerDestroy"in e?e.triggerDestroy():ai(e.hostDestroy,e)}var Ote=e=>Uz(void 0,e),MAe=e=>t=>Uz(t,e),Cte=class extends uR{constructor(e,t){super(e);const i=this.exports;try{Bf(this.component);const r=t(this.component,this),s=this.exports!==i;if(r instanceof Promise){s||this.setProvisionalExports(r);const n=r.then(o=>{this.exports=o,super.catchUpLifecycle()}).catch(o=>{this._ready.reject(o),console.error(o)});this.onLoad(async()=>await n)}else(!s||r!==void 0)&&(this.exports=r),queueMicrotask(()=>super.catchUpLifecycle())}catch(r){this._ready.reject(r),console.error(r)}}catchUpLifecycle(){}},Uz=gte(Cte),AAe=(e,t)=>new Ite(e,t),Ite=class extends uR{constructor(e,t){super(),this._attributes=e,this._callback=t,this._observer=new MutationObserver(i=>{i.forEach(r=>{e.includes(r.attributeName)&&t.call(this.component,this.component.el.getAttribute(r.attributeName),r.oldValue,r.attributeName)})})}hostConnected(){this._attributes.forEach(e=>{this.component.el.hasAttribute(e)&&this._callback.call(this.component,null,this.component.el.getAttribute(e),e)}),this._observer.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this._attributes})}hostDisconnected(){this._observer.disconnect()}},OAe=e=>(t={})=>Ote((i,r)=>{const s=Rz(i.el),n={_lang:s.lang,_t9nLocale:s.t9nLocale,_loading:!0},o=i;r.onLifecycle(()=>Wee(i.el,()=>e("./assets"),({t9nLocale:d,t9nStrings:f,lang:g})=>{const v={...f,_lang:g,_t9nLocale:d,_loading:!1};r.exports=v;const _=f.componentLabel;typeof _=="string"&&"label"in i&&i.label==null&&(i.label??(i.label=_)),c(o.messageOverrides)},t.name));function c(d){const f=r.exports,g=f._original??f,v=zz(g,d);d&&(v._original=g),r.exports=v}return"messageOverrides"in o&&r.onLifecycle(()=>dR(o,"messageOverrides",c)),t.blocking?(r.setProvisionalExports(n,!1),r.ready):n});function zz(e,t){if(!t)return e;const i={...e};return Object.entries(t).forEach(([r,s])=>{typeof s=="object"?i[r]=zz(e[r],s):i[r]=s??e[r]}),i}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fw=globalThis,hR=fw.ShadowRoot&&(fw.ShadyCSS===void 0||fw.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,pR=Symbol(),H4=new WeakMap;let Vz=class{constructor(t,i,r){if(this._$cssResult$=!0,r!==pR)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=i}get styleSheet(){let t=this.o;const i=this.t;if(hR&&t===void 0){const r=i!==void 0&&i.length===1;r&&(t=H4.get(i)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&H4.set(i,t))}return t}toString(){return this.cssText}};const Rte=e=>new Vz(typeof e=="string"?e:e+"",void 0,pR),IAe=(e,...t)=>{const i=e.length===1?e[0]:t.reduce((r,s,n)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[n+1],e[0]);return new Vz(i,e,pR)},Lte=(e,t)=>{if(hR)e.adoptedStyleSheets=t.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet);else for(const i of t){const r=document.createElement("style"),s=fw.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=i.cssText,e.appendChild(r)}},W4=hR?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let i="";for(const r of t.cssRules)i+=r.cssText;return Rte(i)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Nte,defineProperty:Pte,getOwnPropertyDescriptor:Dte,getOwnPropertyNames:kte,getOwnPropertySymbols:Fte,getPrototypeOf:jte}=Object,pc=globalThis,Z4=pc.trustedTypes,Ute=Z4?Z4.emptyScript:"",jx=pc.reactiveElementPolyfillSupport,ev=(e,t)=>e,A3={toAttribute(e,t){switch(t){case Boolean:e=e?Ute:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=e!==null;break;case Number:i=e===null?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch{i=null}}return i}},Gz=(e,t)=>!Nte(e,t),Y4={attribute:!0,type:String,converter:A3,reflect:!1,useDefault:!1,hasChanged:Gz};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),pc.litPropertyMetadata??(pc.litPropertyMetadata=new WeakMap);let nf=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,i=Y4){if(i.state&&(i.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((i=Object.create(i)).wrapped=!0),this.elementProperties.set(t,i),!i.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(t,r,i);s!==void 0&&Pte(this.prototype,t,s)}}static getPropertyDescriptor(t,i,r){const{get:s,set:n}=Dte(this.prototype,t)??{get(){return this[i]},set(o){this[i]=o}};return{get:s,set(o){const c=s==null?void 0:s.call(this);n==null||n.call(this,o),this.requestUpdate(t,c,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??Y4}static _$Ei(){if(this.hasOwnProperty(ev("elementProperties")))return;const t=jte(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(ev("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(ev("properties"))){const i=this.properties,r=[...kte(i),...Fte(i)];for(const s of r)this.createProperty(s,i[s])}const t=this[Symbol.metadata];if(t!==null){const i=litPropertyMetadata.get(t);if(i!==void 0)for(const[r,s]of i)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[i,r]of this.elementProperties){const s=this._$Eu(i,r);s!==void 0&&this._$Eh.set(s,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const i=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)i.unshift(W4(s))}else t!==void 0&&i.push(W4(t));return i}static _$Eu(t,i){const r=i.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(i=>this.enableUpdating=i),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(i=>i(this))}addController(t){var i;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((i=t.hostConnected)==null||i.call(t))}removeController(t){var i;(i=this._$EO)==null||i.delete(t)}_$E_(){const t=new Map,i=this.constructor.elementProperties;for(const r of i.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Lte(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(i=>{var r;return(r=i.hostConnected)==null?void 0:r.call(i)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(i=>{var r;return(r=i.hostDisconnected)==null?void 0:r.call(i)})}attributeChangedCallback(t,i,r){this._$AK(t,r)}_$ET(t,i){var n;const r=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,r);if(s!==void 0&&r.reflect===!0){const o=(((n=r.converter)==null?void 0:n.toAttribute)!==void 0?r.converter:A3).toAttribute(i,r.type);this._$Em=t,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(t,i){var n,o;const r=this.constructor,s=r._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const c=r.getPropertyOptions(s),d=typeof c.converter=="function"?{fromAttribute:c.converter}:((n=c.converter)==null?void 0:n.fromAttribute)!==void 0?c.converter:A3;this._$Em=s,this[s]=d.fromAttribute(i,c.type)??((o=this._$Ej)==null?void 0:o.get(s))??null,this._$Em=null}}requestUpdate(t,i,r){var s;if(t!==void 0){const n=this.constructor,o=this[t];if(r??(r=n.getPropertyOptions(t)),!((r.hasChanged??Gz)(o,i)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(t))&&!this.hasAttribute(n._$Eu(t,r))))return;this.C(t,i,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,i,{useDefault:r,reflect:s,wrapped:n},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,o??i??this[t]),n!==!0||o!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(i=void 0),this._$AL.set(t,i)),s===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[n,o]of this._$Ep)this[n]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[n,o]of s){const{wrapped:c}=o,d=this[n];c!==!0||this._$AL.has(n)||d===void 0||this.C(n,void 0,o,d)}}let t=!1;const i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),(r=this._$EO)==null||r.forEach(s=>{var n;return(n=s.hostUpdate)==null?void 0:n.call(s)}),this.update(i)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(i)}willUpdate(t){}_$AE(t){var i;(i=this._$EO)==null||i.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(i=>this._$ET(i,this[i]))),this._$EM()}updated(t){}firstUpdated(t){}};nf.elementStyles=[],nf.shadowRootOptions={mode:"open"},nf[ev("elementProperties")]=new Map,nf[ev("finalized")]=new Map,jx==null||jx({ReactiveElement:nf}),(pc.reactiveElementVersions??(pc.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const tv=globalThis,kS=tv.trustedTypes,J4=kS?kS.createPolicy("lit-html",{createHTML:e=>e}):void 0,qz="$lit$",ic=`lit$${Math.random().toFixed(9).slice(2)}$`,Bz="?"+ic,zte=`<${Bz}>`,Ih=document,Av=()=>Ih.createComment(""),Ov=e=>e===null||typeof e!="object"&&typeof e!="function",fR=Array.isArray,Vte=e=>fR(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Ux=`[ 	
\f\r]`,yg=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,X4=/-->/g,Q4=/>/g,dd=RegExp(`>|${Ux}(?:([^\\s"'>=/]+)(${Ux}*=${Ux}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),K4=/'/g,e5=/"/g,Hz=/^(?:script|style|textarea|title)$/i,Wz=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),LAe=Wz(1),NAe=Wz(2),vc=Symbol.for("lit-noChange"),Yi=Symbol.for("lit-nothing"),t5=new WeakMap,fh=Ih.createTreeWalker(Ih,129);function Zz(e,t){if(!fR(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return J4!==void 0?J4.createHTML(t):t}const Gte=(e,t)=>{const i=e.length-1,r=[];let s,n=t===2?"<svg>":t===3?"<math>":"",o=yg;for(let c=0;c<i;c++){const d=e[c];let f,g,v=-1,_=0;for(;_<d.length&&(o.lastIndex=_,g=o.exec(d),g!==null);)_=o.lastIndex,o===yg?g[1]==="!--"?o=X4:g[1]!==void 0?o=Q4:g[2]!==void 0?(Hz.test(g[2])&&(s=RegExp("</"+g[2],"g")),o=dd):g[3]!==void 0&&(o=dd):o===dd?g[0]===">"?(o=s??yg,v=-1):g[1]===void 0?v=-2:(v=o.lastIndex-g[2].length,f=g[1],o=g[3]===void 0?dd:g[3]==='"'?e5:K4):o===e5||o===K4?o=dd:o===X4||o===Q4?o=yg:(o=dd,s=void 0);const S=o===dd&&e[c+1].startsWith("/>")?" ":"";n+=o===yg?d+zte:v>=0?(r.push(f),d.slice(0,v)+qz+d.slice(v)+ic+S):d+ic+(v===-2?c:S)}return[Zz(e,n+(e[i]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};let O3=class Yz{constructor({strings:t,_$litType$:i},r){let s;this.parts=[];let n=0,o=0;const c=t.length-1,d=this.parts,[f,g]=Gte(t,i);if(this.el=Yz.createElement(f,r),fh.currentNode=this.el.content,i===2||i===3){const v=this.el.content.firstChild;v.replaceWith(...v.childNodes)}for(;(s=fh.nextNode())!==null&&d.length<c;){if(s.nodeType===1){if(s.hasAttributes())for(const v of s.getAttributeNames())if(v.endsWith(qz)){const _=g[o++],S=s.getAttribute(v).split(ic),T=/([.?@])?(.*)/.exec(_);d.push({type:1,index:n,name:T[2],strings:S,ctor:T[1]==="."?Bte:T[1]==="?"?Hte:T[1]==="@"?Wte:rT}),s.removeAttribute(v)}else v.startsWith(ic)&&(d.push({type:6,index:n}),s.removeAttribute(v));if(Hz.test(s.tagName)){const v=s.textContent.split(ic),_=v.length-1;if(_>0){s.textContent=kS?kS.emptyScript:"";for(let S=0;S<_;S++)s.append(v[S],Av()),fh.nextNode(),d.push({type:2,index:++n});s.append(v[_],Av())}}}else if(s.nodeType===8)if(s.data===Bz)d.push({type:2,index:n});else{let v=-1;for(;(v=s.data.indexOf(ic,v+1))!==-1;)d.push({type:7,index:n}),v+=ic.length-1}n++}}static createElement(t,i){const r=Ih.createElement("template");return r.innerHTML=t,r}};function Sm(e,t,i=e,r){var o,c;if(t===vc)return t;let s=r!==void 0?(o=i._$Co)==null?void 0:o[r]:i._$Cl;const n=Ov(t)?void 0:t._$litDirective$;return(s==null?void 0:s.constructor)!==n&&((c=s==null?void 0:s._$AO)==null||c.call(s,!1),n===void 0?s=void 0:(s=new n(e),s._$AT(e,i,r)),r!==void 0?(i._$Co??(i._$Co=[]))[r]=s:i._$Cl=s),s!==void 0&&(t=Sm(e,s._$AS(e,t.values),s,r)),t}let qte=class{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:r}=this._$AD,s=((t==null?void 0:t.creationScope)??Ih).importNode(i,!0);fh.currentNode=s;let n=fh.nextNode(),o=0,c=0,d=r[0];for(;d!==void 0;){if(o===d.index){let f;d.type===2?f=new iT(n,n.nextSibling,this,t):d.type===1?f=new d.ctor(n,d.name,d.strings,this,t):d.type===6&&(f=new Zte(n,this,t)),this._$AV.push(f),d=r[++c]}o!==(d==null?void 0:d.index)&&(n=fh.nextNode(),o++)}return fh.currentNode=Ih,s}p(t){let i=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,i),i+=r.strings.length-2):r._$AI(t[i])),i++}},iT=class Jz{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,i,r,s){this.type=2,this._$AH=Yi,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=Sm(this,t,i),Ov(t)?t===Yi||t==null||t===""?(this._$AH!==Yi&&this._$AR(),this._$AH=Yi):t!==this._$AH&&t!==vc&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):Vte(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==Yi&&Ov(this._$AH)?this._$AA.nextSibling.data=t:this.T(Ih.createTextNode(t)),this._$AH=t}$(t){var n;const{values:i,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=O3.createElement(Zz(r.h,r.h[0]),this.options)),r);if(((n=this._$AH)==null?void 0:n._$AD)===s)this._$AH.p(i);else{const o=new qte(s,this),c=o.u(this.options);o.p(i),this.T(c),this._$AH=o}}_$AC(t){let i=t5.get(t.strings);return i===void 0&&t5.set(t.strings,i=new O3(t)),i}k(t){fR(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let r,s=0;for(const n of t)s===i.length?i.push(r=new Jz(this.O(Av()),this.O(Av()),this,this.options)):r=i[s],r._$AI(n),s++;s<i.length&&(this._$AR(r&&r._$AB.nextSibling,s),i.length=s)}_$AR(t=this._$AA.nextSibling,i){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,i);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){var i;this._$AM===void 0&&(this._$Cv=t,(i=this._$AP)==null||i.call(this,t))}},rT=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,r,s,n){this.type=1,this._$AH=Yi,this._$AN=void 0,this.element=t,this.name=i,this._$AM=s,this.options=n,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Yi}_$AI(t,i=this,r,s){const n=this.strings;let o=!1;if(n===void 0)t=Sm(this,t,i,0),o=!Ov(t)||t!==this._$AH&&t!==vc,o&&(this._$AH=t);else{const c=t;let d,f;for(t=n[0],d=0;d<n.length-1;d++)f=Sm(this,c[r+d],i,d),f===vc&&(f=this._$AH[d]),o||(o=!Ov(f)||f!==this._$AH[d]),f===Yi?t=Yi:t!==Yi&&(t+=(f??"")+n[d+1]),this._$AH[d]=f}o&&!s&&this.j(t)}j(t){t===Yi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},Bte=class extends rT{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Yi?void 0:t}},Hte=class extends rT{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Yi)}},Wte=class extends rT{constructor(t,i,r,s,n){super(t,i,r,s,n),this.type=5}_$AI(t,i=this){if((t=Sm(this,t,i,0)??Yi)===vc)return;const r=this._$AH,s=t===Yi&&r!==Yi||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,n=t!==Yi&&(r===Yi||s);s&&this.element.removeEventListener(this.name,this,r),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i;typeof this._$AH=="function"?this._$AH.call(((i=this.options)==null?void 0:i.host)??this.element,t):this._$AH.handleEvent(t)}},Zte=class{constructor(t,i,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Sm(this,t)}};const zAe={I:iT},zx=tv.litHtmlPolyfillSupport;zx==null||zx(O3,iT),(tv.litHtmlVersions??(tv.litHtmlVersions=[])).push("3.3.0");const Yte=(e,t,i)=>{const r=(i==null?void 0:i.renderBefore)??t;let s=r._$litPart$;if(s===void 0){const n=(i==null?void 0:i.renderBefore)??null;r._$litPart$=s=new iT(t.insertBefore(Av(),n),n,void 0,i??{})}return s._$AI(e),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _h=globalThis;let tm=class extends nf{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var i;const t=super.createRenderRoot();return(i=this.renderOptions).renderBefore??(i.renderBefore=t.firstChild),t}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Yte(i,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return vc}};var wz;tm._$litElement$=!0,tm.finalized=!0,(wz=_h.litElementHydrateSupport)==null||wz.call(_h,{LitElement:tm});const Vx=_h.litElementPolyfillSupport;Vx==null||Vx({LitElement:tm});(_h.litElementVersions??(_h.litElementVersions=[])).push("4.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Xz={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},Qz=e=>(...t)=>({_$litDirective$:e,values:t});let Kz=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,i,r){this._$Ct=t,this._$AM=i,this._$Ci=r}_$AS(t,i){return this.update(t,i)}update(t,i){return this.render(...i)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Jte=Qz(class extends Kz{constructor(e){var t;if(super(e),e.type!==Xz.ATTRIBUTE||e.name!=="class"||((t=e.strings)==null?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,s;if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(n=>n!=="")));for(const n in t)t[n]&&!((r=this.nt)!=null&&r.has(n))&&this.st.add(n);return this.render(t)}const i=e.element.classList;for(const n of this.st)n in t||(i.remove(n),this.st.delete(n));for(const n in t){const o=!!t[n];o===this.st.has(n)||(s=this.nt)!=null&&s.has(n)||(o?(i.add(n),this.st.add(n)):(i.remove(n),this.st.delete(n)))}return vc}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const eV="important",Xte=" !"+eV,Qte=Qz(class extends Kz{constructor(e){var t;if(super(e),e.type!==Xz.ATTRIBUTE||e.name!=="style"||((t=e.strings)==null?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,i)=>{const r=e[i];return r==null?t:t+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:i}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?i.removeProperty(r):i[r]=null);for(const r in t){const s=t[r];if(s!=null){this.ft.add(r);const n=typeof s=="string"&&s.endsWith(Xte);r.includes("-")||n?i.setProperty(r,n?s.slice(0,-11):s,n?eV:""):i[r]=s}}return vc}});var tV=(e="",t={},i=tT())=>{const r={emit:s=>{e===""&&cR();const n=new CustomEvent(e,{detail:s,cancelable:!0,bubbles:!0,composed:!0,...t});return i.el.dispatchEvent(n),n}};return e===""&&jz(void 0,s=>{e=s.key},r),r},qAe=tV.bind(null,""),Kte=()=>{},Oh,eie=(Oh=class extends tm{constructor(){var i,r,s;super(),this.el=this.constructor.lazy??this,this.manager=bte(this),this._postLoad=((i=this.constructor.lazy)==null?void 0:i._postLoad)??new Ch,this._offspring=((r=this.constructor.lazy)==null?void 0:r._offspring)??[],this._postLoaded=((s=this.constructor.lazy)==null?void 0:s._postLoaded)??new Ch,this._enableUpdating=this.enableUpdating,this.enableUpdating=Kte;const t=Oh.prototype.shouldUpdate;this.shouldUpdate!==t&&(this._originalShouldUpdate=this.shouldUpdate,this.shouldUpdate=t)}static finalizeStyles(t){var s;const i=super.finalizeStyles(t),r=this.shadowRootOptions===z4;return((s=this.runtime)==null?void 0:s.commonStyles)===void 0||r?i:[this.runtime.commonStyles,...i]}static createProperty(t,i){const r=typeof i=="number"?i:Array.isArray(i)?i[0]:0,s=Array.isArray(i)?i[1]:void 0;super.createProperty(t,{attribute:r&1&&typeof t=="string"?Nz(t):!1,reflect:!!(r&2),type:r&4?Boolean:r&8?Number:void 0,state:!!(r&16),readOnly:!!(r&32),noAccessor:!!(r&64),...s})}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const t=!this.manager.connectedCalled;super.connectedCallback(),t&&queueMicrotask(()=>this._load().catch(i=>{this._postLoaded.reject(i),setTimeout(()=>{throw i})}))}createRenderRoot(){const t=this.el.shadowRoot,i=this.constructor,r=i.shadowRootOptions,n=t??(r===z4?this.el:this.el.attachShadow(r));if(Object.defineProperty(this,"shadowRoot",{value:n}),t)return tm.prototype.createRenderRoot.call(this),t;if(this.isConnected){const o=n.getRootNode();o.adoptedStyleSheets=[...o.adoptedStyleSheets,...i.elementStyles.map(c=>"styleSheet"in c?c.styleSheet:c)]}return n}async _load(){const t=this.el._ancestorLoad??Pz(this.el);t&&await t,await this.manager._load(),this._enableUpdating(!0),this.performUpdate(),this._postLoad.resolve(),await Promise.resolve();const i=this._offspring.filter(r=>{var s;return!((s=r.manager)!=null&&s.loadedCalled)});i.length&&await Promise.allSettled(i.map(async r=>await r.componentOnReady())),this._offspring.length=0,this.el.setAttribute(this.constructor.runtime.hydratedAttribute,""),this.manager._loaded(),this._postLoaded.resolve()}shouldUpdate(t){var i;return this.$changes=t,((i=this._originalShouldUpdate)==null?void 0:i.call(this,t))??!0}listen(t,i,r){const s=(i==null?void 0:i.bind(this))??i;this.manager.onLifecycle(()=>(this.el.addEventListener(t,s,r),()=>this.el.removeEventListener(t,s,r)))}listenOn(t,i,r,s){const n=(r==null?void 0:r.bind(this))??r;this.manager.onLifecycle(()=>(t.addEventListener(i,n,s),()=>t.removeEventListener(i,n,s)))}async componentOnReady(){return await this._postLoaded.promise,this}},Oh.lumina=!0,Oh);eie.$createEvent=tV;function tie(e){let t;const i=s=>{var n;t=new URL(s,((n=globalThis.location)==null?void 0:n.href)||void 0).href},r={...e,getAssetPath(s){var o;const n=new URL(s,t);return n.origin!==((o=globalThis.location)==null?void 0:o.origin)?n.href:n.pathname},setAssetPath:i,customElement(s,n){n.runtime=r,n.tagName=s,customElements.get(s)||customElements.define(s,n)}};return i(e.defaultAssetPath),r}var BAe=e=>typeof e=="object"&&e!=null?Jte(e):e,HAe=e=>typeof e=="object"&&e!=null?Qte(e):e,WAe=Yi;function ZAe(e,t,i){i==null?e.removeAttribute(t):e.setAttribute(t,i)}var YAe={toAttribute:e=>e===!0?"":e===!1?null:e},iie={},rie=(e,t)=>i=>{const r=i.tagName;let s=iie;const n={name:r,get prototype(){var c;if(s===void 0){if(s=(c=customElements.get(r))==null?void 0:c.prototype,!s)throw new Error(`Custom element "${r}" not found`);Object.defineProperty(n,"prototype",{value:s})}return s}},o=t({...i,react:e,elementClass:n});return s=void 0,o},Rl=(e,t)=>({tagName:e,events:t});const Ll=rie(Mee,Dee),Gx=Ll(Rl("calcite-action",{})),sie=Ll(Rl("calcite-avatar",{})),nie=Ll(Rl("calcite-button",{})),oie=Ll(Rl("calcite-list",{onCalciteListChange:"calciteListChange",onCalciteListDragEnd:"calciteListDragEnd",onCalciteListDragStart:"calciteListDragStart",onCalciteListFilter:"calciteListFilter",onCalciteListOrderChange:"calciteListOrderChange"})),i5=Ll(Rl("calcite-list-item",{onCalciteListItemClose:"calciteListItemClose",onCalciteListItemSelect:"calciteListItemSelect",onCalciteListItemSortHandleBeforeClose:"calciteListItemSortHandleBeforeClose",onCalciteListItemSortHandleBeforeOpen:"calciteListItemSortHandleBeforeOpen",onCalciteListItemSortHandleClose:"calciteListItemSortHandleClose",onCalciteListItemSortHandleOpen:"calciteListItemSortHandleOpen",onCalciteListItemToggle:"calciteListItemToggle"})),r5=Ll(Rl("calcite-list-item-group",{})),s5=Ll(Rl("calcite-panel",{onCalcitePanelClose:"calcitePanelClose",onCalcitePanelScroll:"calcitePanelScroll",onCalcitePanelToggle:"calcitePanelToggle"})),aie=Ll(Rl("calcite-shell",{})),qx=Ll(Rl("calcite-shell-panel",{}));function u(e,t,i,r){var s,n=arguments.length,o=n<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(o=(n<3?s(o):n>3?s(t,i,o):s(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o}function JAe(e,t){return function(i,r){t(i,r,e)}}function XAe(e,t,i,r){function s(n){return n instanceof i?n:new i(function(o){o(n)})}return new(i||(i=Promise))(function(n,o){function c(g){try{f(r.next(g))}catch(v){o(v)}}function d(g){try{f(r.throw(g))}catch(v){o(v)}}function f(g){g.done?n(g.value):s(g.value).then(c,d)}f((r=r.apply(e,[])).next())})}function QAe(e,t,i){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(n){return Promise.reject(n)}}),e.stack.push({value:t,dispose:r,async:i})}return t}var lie=typeof SuppressedError=="function"?SuppressedError:function(e,t,i){var r=new Error(i);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function KAe(e){function t(n){e.error=e.hasError?new lie(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var i,r=0;function s(){for(;i=e.stack.pop();)try{if(!i.async&&r===1)return r=0,e.stack.push(i),Promise.resolve().then(s);if(i.dispose){var n=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(n).then(s,function(o){return t(o),s()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}let nc;function B(e){return typeof nc[e]=="function"?nc[e]=nc[e](globalThis):nc[e]}var Sz,Tz,Ez,$z;nc=(Sz=globalThis.dojoConfig)!=null&&Sz.has||(Tz=globalThis.esriConfig)!=null&&Tz.has?{...(Ez=globalThis.dojoConfig)==null?void 0:Ez.has,...($z=globalThis.esriConfig)==null?void 0:$z.has}:{},B.add=(e,t,i,r)=>{(r||nc[e]===void 0)&&(nc[e]=t),i&&B(e)},B.cache=nc,B.add("big-integer-warning-enabled",!0),B.add("esri-deprecation-warnings",!0),B.add("esri-tests-disable-screenshots",!1),B.add("esri-tests-use-full-window",!1),B.add("esri-tests-post-to-influx",!0),B.add("esri-cim-animations-enable-status","enabled"),B.add("esri-cim-animations-spotlight",!1),B.add("esri-cim-animations-freeze-time",!1),B.add("enable-feature:multiple-highlights",!0),(()=>{var t;B.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(B.add("host-browser",e),B.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),B.add("dom",e),B("host-browser")){const i=navigator,r=i.userAgent,s=i.appVersion,n=parseFloat(s);if(B.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),B.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),B.add("khtml",s.includes("Konqueror")?n:void 0),B.add("edge",parseFloat(r.split("Edge/")[1])||void 0),B.add("opr",parseFloat(r.split("OPR/")[1])||void 0),B.add("webkit",!B("wp")&&!B("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),B.add("chrome",!B("edge")&&!B("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),B.add("android",!B("wp")&&parseFloat(r.split("Android ")[1])||void 0),B.add("safari",!s.includes("Safari")||B("wp")||B("chrome")||B("android")||B("edge")||B("opr")?void 0:parseFloat(s.split("Version/")[1])),B.add("mac",s.includes("Macintosh")),!B("wp")&&/(iPhone|iPod|iPad)/.test(r)){const o=RegExp.$1.replace(/P/,"p"),c=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",d=parseFloat(c.replace(/_/,".").replaceAll("_",""));B.add(o,d),B.add("ios",d)}B("webkit")||(!r.includes("Gecko")||B("wp")||B("khtml")||B("edge")||B.add("mozilla",n),B("mozilla")&&B.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&B.add("esri-mobile",t),i&&B.add("esri-iPhone",i),B.add("esri-geolocation",!!navigator.geolocation)}B.add("esri-wasm","WebAssembly"in globalThis),B.add("esri-performance-mode-frames-between-render",20),B.add("esri-force-performance-mode",!1),B.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),B.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),B.add("esri-atomics","Atomics"in globalThis),B.add("esri-workers","Worker"in globalThis),B.add("web-feat:cache","caches"in globalThis),B.add("esri-workers-arraybuffer-transfer",!B("safari")||Number(B("safari"))>=12),B.add("workers-pool-size",8),B.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),B.add("featurelayer-simplify-payload-size-factors",[1,1,4]),B.add("featurelayer-fast-triangulation-enabled",!0),B.add("featurelayer-animation-enabled",!0),B.add("featurelayer-snapshot-enabled",!0),B.add("featurelayer-snapshot-point-min-threshold",8e4),B.add("featurelayer-snapshot-point-max-threshold",4e5),B.add("featurelayer-snapshot-point-coverage",.1),B.add("featurelayer-query-max-depth",4),B.add("featurelayer-query-pausing-enabled",!1),B.add("featurelayer-advanced-symbols",!1),B.add("featurelayer-pbf",!0),B.add("featurelayer-pbf-statistics",!1),B.add("feature-layers-workers",!0),B.add("feature-polyline-generalization-factor",1),B.add("mapview-transitions-duration",200),B.add("mapview-essential-goto-duration",200),B.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),B.add("mapserver-pbf-version-support",10.81),B.add("mapservice-popup-identify-max-tolerance",20),B.add("request-queue-concurrency-hosted",16),B.add("request-queue-concurrency-non-hosted",4),B.add("curve-densification-coarse-segments",128),B.add("curve-densification-max-segments",2e3),B.add("curve-densification-min-segments",3),B.add("curve-densification-pixels-per-segment",16),B.add("view-readyState-waiting-delay",1e3),B.add("gradient-depth-bias",.01),B.add("gradient-depth-epsilon",1e-8),B("host-webworker")||B("host-browser")&&(B.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),B.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{B.add("esri-image-decode",!0,!0,!0)}).catch(()=>{B.add("esri-image-decode",!1,!0,!0)})}return!1}),B.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function eOe(e){}function uie(e){return()=>e}function tOe(e){return e}let mw=class Td{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Td._m}getInt(){return this._seed=(Td._a*this._seed+Td._c)%Td._m,this._seed}getFloat(){return this.getInt()/(Td._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const r=i-t;return t+this.getInt()/Td._m*r}};mw._m=2147483647,mw._a=48271,mw._c=0;const cie=1.5,iOe=1/cie,rOe=.5;function sOe(e,t){return t?e.filter((i,r,s)=>s.findIndex(t.bind(null,i))===r):Array.from(new Set(e))}function sT(e,t,i){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(i){for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function n5(e,t,i){let r,s;return i?(r=t.filter(n=>!e.some(o=>i(o,n))),s=e.filter(n=>!t.some(o=>i(o,n)))):(r=t.filter(n=>!e.includes(n)),s=e.filter(n=>!t.includes(n))),{added:r,removed:s}}function nOe(e){return e&&typeof e.length=="number"}let iV=class{constructor(){this.last=0}};const rV=new iV;function C3(e,t,i,r){r=r||rV;const s=Math.max(0,r.last-10);for(let o=s;o<i;++o)if(e[o]===t)return r.last=o,o;const n=Math.min(s,i);for(let o=0;o<n;++o)if(e[o]===t)return r.last=o,o;return-1}function die(e,t,i,r){const s=e.length,n=C3(e,t,s,r);if(n!==-1)return e[n]=e[s-1],e.pop(),t}const Zn=new Set;function hie(e,t,i=e.length,r=t.length,s,n){if(r===0||i===0)return i;Zn.clear();for(let c=0;c<r;++c)Zn.add(t[c]);s=s||rV;const o=Math.max(0,s.last-10);for(let c=o;c<i;++c)if(Zn.has(e[c])&&(n==null||n.push(e[c]),Zn.delete(e[c]),e[c]=e[i-1],--i,--c,Zn.size===0||i===0))return Zn.clear(),i;for(let c=0;c<o;++c)if(Zn.has(e[c])&&(n==null||n.push(e[c]),Zn.delete(e[c]),e[c]=e[i-1],--i,--c,Zn.size===0||i===0))return Zn.clear(),i;return Zn.clear(),i}function aOe(e,t,i){const r=e.length;if(t>=r)return e.slice();const s=sV(i),n=new Set,o=[];for(;o.length<t;){const c=Math.floor(s()*r);n.has(c)||(n.add(c),o.push(e[c]))}return o}function sV(e){return e?(o5.seed=e,()=>o5.getFloat()):Math.random}const o5=new mw;function lOe(e,t){const i=sV(t);for(let r=e.length-1;r>0;r--){const s=Math.floor(i()*(r+1)),n=e[r];e[r]=e[s],e[s]=n}return e}function nV(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function Al(e,t){return e!=null}const uOe=[];function cOe(e){return e instanceof ArrayBuffer}function mR(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int8Array"}function oV(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8Array"}function aV(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8ClampedArray"}function yR(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int16Array"}function lV(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint16Array"}function gR(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int32Array"}function uV(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint32Array"}function nT(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float32Array"}function oT(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float64Array"}function pie(e){return"buffer"in e}const cV=1024;function dOe(e){return oT(e)||nT(e)||gR(e)||yR(e)||mR(e)}function hOe(e){return oT(e)||nT(e)}function pOe(e){return oT(e)?179769e303:nT(e)?3402823e32:uV(e)?4294967295:lV(e)?65535:oV(e)||aV(e)?255:gR(e)?2147483647:yR(e)?32767:mR(e)?127:256}function fie(e,t){let i;for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function j(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=pV(e);if(t!=null)return t;if(FS(e))return e.clone();if(dV(e))return e.map(j);if(hV(e))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(e))i[r]=j(e[r]);return i}function I3(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=pV(e);if(t!=null)return t;if(dV(e)){let r=!0;const s=e.map(n=>{const o=I3(n);return n!=null&&o==null&&(r=!1),o});return r?s:null}if(FS(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(hV(e))return null;const i=new(Object.getPrototypeOf(e)).constructor;for(const r of Object.getOwnPropertyNames(e)){const s=e[r],n=I3(s);if(s!=null&&n==null)return null;i[r]=n}return i}function FS(e){return typeof e.clone=="function"}function dV(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function hV(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function a5(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function pV(e){if(mR(e)||oV(e)||aV(e)||yR(e)||lV(e)||gR(e)||uV(e)||nT(e)||oT(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,r]of e)t.set(i,j(r));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(j(i));return t}return null}function vR(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e==null?void 0:e.getTime)=="function"&&typeof(t==null?void 0:t.getTime)=="function"&&e.getTime()===t.getTime()||!1}function fV(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&sT(e,t):e instanceof Set?t instanceof Set&&yie(e,t):e instanceof Map?t instanceof Map&&gie(e,t):!!a5(e)&&a5(t)&&mie(e,t))}function mie(e,t){if(e===null||t===null)return!1;const i=Object.keys(e);if(t===null||Object.keys(t).length!==i.length)return!1;for(const r of i)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function yie(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function gie(e,t){if(e.size!==t.size)return!1;for(const[i,r]of e){const s=t.get(i);if(s!==r||s===void 0&&!t.has(i))return!1}return!0}function bR(e,t,i=!1){return yV(e,t,i)}function o1(e,t){if(t!=null)return t[e]||mV(e.split("."),!1,t)}function cr(e,t,i){const r=e.split("."),s=r.pop(),n=mV(r,!0,i);n&&s&&(n[s]=t)}function l5(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const i=t;if(e.length!==i.length)return!0;for(let r=0;r<e.length;r++)if(l5(e[r],i[r]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in e)if(l5(e[i],t[i]))return!0;return!1}return e!==t}function mV(e,t,i){let r=i;for(const s of e){if(r==null)return;if(!(s in r)){if(!t)return;r[s]={}}r=r[s]}return r}function yV(e,t,i){return t?Object.keys(t).reduce((r,s)=>{let n=r[s],o=t[s];return n===o?r:n===void 0?(r[s]=j(o),r):(Array.isArray(o)||Array.isArray(r)?(n=n?Array.isArray(n)?r[s]=n.slice():r[s]=[n]:r[s]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(c=>{n.includes(c)||n.push(c)}):r[s]=o.slice())):o&&typeof o=="object"?r[s]=yV(n,o,i):r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[s]=o),r)},e||{}):e}var xz;const Tt={apiKey:void 0,applicationName:"",applicationUrl:(xz=globalThis.location)==null?void 0:xz.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(bR(Tt,globalThis.esriConfig,!0),delete Tt.has),!Tt.assetsPath){{const e="4.32";Tt.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Tt.defaultAssetsPath=Tt.assetsPath}const vie=/\{([^}]+)\}/g;function u5(e){return e??""}function a1(e,t){return t?e.replaceAll(vie,typeof t=="object"?(i,r)=>u5(o1(r,t)):(i,r)=>u5(t(r))):e}function fOe(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>t!=null&&t.includes(i)?i:`\\${i}`)}function gV(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}let c5;function mOe(e){return c5??(c5=new DOMParser),c5.parseFromString(e||"","text/html").body.innerText||""}function yOe(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function gOe(e,...t){let i=e[0];for(let r=0;r<t.length;++r)i+=t[r]+e[r+1];return i}const d5={info:0,warn:1,error:2,none:3};let ne=class Fs{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,Fs._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=Fs.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,Fs._loggers.get(t)||new Fs({module:t})}_log(t,i,...r){if(this._matchLevel(t)){if(i!=="always"&&!Fs._throttlingDisabled){const s=_ie(r),n=this._loggedMessages[t].get(s);if(i==="once"&&n!=null||i==="oncePerTick"&&n&&n>=Fs._tickCounter)return;this._loggedMessages[t].set(s,Fs._tickCounter),Fs._scheduleTickCounterIncrement()}for(const s of Tt.log.interceptors)if(s(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(t,i){let r=this;for(;r!=null;){const s=r[t];if(s!=null)return s;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",bie)}_matchLevel(t){const i=Tt.log.level||"warn";return d5[this._parentWithMember("level",i)]<=d5[t]}static _scheduleTickCounterIncrement(){Fs._tickCounterScheduled||(Fs._tickCounterScheduled=!0,Promise.resolve().then(()=>{Fs._tickCounter++,Fs._tickCounterScheduled=!1}))}};function bie(e,t,...i){console[e](`[${t}]`,...i)}function _ie(...e){return gV(JSON.stringify(e,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}ne._loggers=new Map,ne._tickCounter=0,ne._tickCounterScheduled=!1,ne._throttlingDisabled=!1;function wie(e,t){for(const i of e.values())if(t(i))return!0;return!1}function vOe(e,t){for(const i of e.values())if(t(i))return i;return null}function l1(e,t,i){const r=e.get(t);if(r!==void 0)return r;const s=i();return e.set(t,s),s}function bOe(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}const im=()=>ne.getLogger("esri.core.accessorSupport.ensureTypes");function Sie(e){return e==null?e:new Date(e)}function Tie(e){return e==null?e:!!e}function u1(e){return e==null?e:e.toString()}function Xr(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function _R(e){return e==null?e:Math.round(parseFloat(e))}function Eie(e){return null}function $ie(e,t){return i=>{let r=e(i);return t.step!=null&&(r=Math.round(r/t.step)*t.step),t.min!=null&&(r=Math.max(t.min,r)),t.max!=null&&(r=Math.min(t.max,r)),r}}function vV(e){return(e==null?void 0:e.constructor)&&e.constructor.__accessorMetadata__!==void 0}function jS(e,t){return t!=null&&e&&!(t instanceof e)}function bV(e){return e&&"isCollection"in e}function h5(e){return e!=null&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function xie(e,t){if(!(t!=null&&t.constructor)||!bV(t.constructor))return R3(e,t)?t:new e(t);const i=h5(e.prototype.itemType),r=h5(t.constructor.prototype.itemType);return i?r?i===r?t:i.prototype.isPrototypeOf(r.prototype)?new e(t):(R3(e,t),t):new e(t):t}function R3(e,t){return!!vV(t)&&(im().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+aT(e)+"'"),!0)}function c1(e,t){return t==null?t:bV(e)?xie(e,t):jS(e,t)?R3(e,t)?t:new e(t):t}function aT(e){var t;return((t=e==null?void 0:e.prototype)==null?void 0:t.declaredClass)||"unknown"}const Mie=new WeakMap;function Aie(e){switch(e){case Number:return t=>Xr(t);case yt:return _R;case Boolean:return Tie;case String:return u1;case Date:return Sie;case lT:return Eie;default:return l1(Mie,e,()=>c1.bind(null,e))}}function ji(e,t){const i=Aie(e);return arguments.length===1?i:i(t)}function Cv(e,t,i){return arguments.length===1?Cv.bind(null,e):t&&(Array.isArray(t)?t.map(r=>e(r,i)):[e(t,i)])}function Oie(e,t){return arguments.length===1?Cv(i=>ji(e,i)):Cv(i=>ji(e,i),t)}function _V(e,t,i){return t!==0&&Array.isArray(i)?i.map(r=>_V(e,t-1,r)):e(i)}function US(e,t,i){if(arguments.length===2)return n=>US(e,t,n);if(!i)return i;i=_V(e,t,i);let r=t,s=i;for(;r>0&&Array.isArray(s);)r--,s=s[0];if(s!==void 0)for(let n=0;n<r;n++)i=[i];return i}function Cie(e,t,i){return arguments.length===2?US(r=>ji(e,r),t):US(r=>ji(e,r),t,i)}function wV(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function L3(e,t){if(arguments.length===2)return L3(e).call(null,t);const i=new Set,r=e.filter(c=>typeof c!="function"),s=e.filter(c=>typeof c=="function");for(const c of e)typeof c!="string"&&typeof c!="number"||i.add(c);let n=null,o=null;return(c,d)=>{if(c==null)return c;const f=typeof c,g=f==="string"||f==="number";return g&&(i.has(c)||s.some(v=>f==="string"&&v===String||f==="number"&&v===Number))||f==="object"&&s.some(v=>!jS(c,v))?c:(g&&r.length?(n||(n=r.map(v=>typeof v=="string"?`'${v}'`:`${v}`).join(", ")),im().error("Accessor#set",`'${c}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof c=="object"&&s.length?(o||(o=s.map(v=>aT(v)).join(", ")),im().error("Accessor#set",`'${c}' is not a valid value for this property, value must be one of ${o}`)):im().error("Accessor#set",`'${c}' is not a valid value for this property`),d&&(d.valid=!1),null)}}function Co(e,t){if(arguments.length===2)return Co(e).call(null,t);const i={},r=[],s=[];for(const d in e.typeMap){const f=e.typeMap[d];i[d]=ji(f),r.push(aT(f)),s.push(d)}const n=()=>`'${r.join("', '")}'`,o=()=>`'${s.join("', '")}'`,c=typeof e.key=="string"?d=>d[e.key]:e.key;return d=>{if(e.base&&!jS(e.base,d)||d==null)return d;const f=c(d)||e.defaultKeyValue,g=i[f];if(!g)return im().error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!jS(e.typeMap[f],d))return d;if(typeof e.key=="string"&&!vV(d)){const v={};for(const _ in d)_!==e.key&&(v[_]=d[_]);return g(v)}return g(d)}}let yt=class{},lT=class{};const SOe={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Iie(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function SV(e){switch(e.type){case"native":return ji(e.value);case"array":return Cv(SV(e.value));case"one-of":return Rie(e);default:return null}}function Rie(e){let t=null;return(i,r)=>P3(i,e)?i:(t==null&&(t=N3(e)),im().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function N3(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case yt:return"integer";case Date:return"date";case lT:return"null";default:return aT(e.value)}case"array":return`array of ${N3(e.value)}`;case"one-of":{const t=e.values.map(i=>N3(i));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function P3(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case yt:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case lT:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!P3(i,t.value));case"one-of":return t.values.some(i=>P3(e,i))}}const Lie={remove:()=>{}};function gt(e){return e?{remove(){e&&(e(),e=void 0)}}:Lie}function TV(e){e.forEach(t=>t==null?void 0:t.remove())}function TOe(e){TV(e),e.length=0}function d1(e){return gt(()=>TV(e))}function EOe(e){return gt(()=>{var t;return(t=e())==null?void 0:t.remove()})}function $Oe(e){return gt(()=>e==null?void 0:e.abort())}function Nie(e){return gt(e!=null?()=>e.destroy():void 0)}function Es(e){return e.__accessor__??null}function Pie(e,t){var i;return((i=e==null?void 0:e.metadata)==null?void 0:i[t])!=null}function yw(e,t,i){return i?zS(e,t,{policy:i,path:""}):zS(e,t,null)}function zS(e,t,i){return t?Object.keys(t).reduce((r,s)=>{const n=s;let o=null,c="merge";if(i&&(o=i.path?`${i.path}.${s}`:s,c=i.policy(o)),c==="replace"||c==="replace-arrays"&&Array.isArray(r[n]))return r[n]=t[n],r;if(r[n]===void 0)return r[n]=j(t[n]),r;let d=r[n],f=t[n];if(d===f)return r;if(Array.isArray(f)||Array.isArray(r))d=d?Array.isArray(d)?r[n]=d.slice():r[n]=[d]:r[n]=[],f&&(Array.isArray(f)||(f=[f]),f.forEach(g=>{d.includes(g)||d.push(g)}));else if(f&&typeof f=="object")if(i){const g=i.path;i.path=o,r[n]=zS(d,f,i),i.path=g}else r[n]=zS(d,f,null);else r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[n]=f);return r},e||{}):e}function EV(e){return Array.isArray(e)?e:e.split(".")}function p5(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function Die(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...p5(i));return t}return p5(e)}function $V(e,t,i,r){const s=Die(t);if(s.length!==1){const n=s.map(o=>r(e,o,i));return d1(n)}return r(e,s[0],i)}function xV(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const r=Es(t);return Pie(r,i)?r.get(i):t[i]}function MV(e,t,i){if(e==null)return e;const r=xV(t[i],e);return!r&&i<t.length-1?void 0:i===t.length-1?r:MV(r,t,i+1)}function h1(e,t,i=0){return typeof t!="string"||t.includes(".")?MV(e,EV(t),i):xV(t,e)}function ws(e,t){return h1(e,t)}function f5(e,t){return h1(t,e)!==void 0}function p1(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const r in t)t[r]=j(t[r]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function uT(e,t){const i=p1(e);let r=i[t];return r||(r=i[t]={}),r}function kie(e,t){return yw(e,t,jie)}const Fie=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function jie(e){return Fie.test(e)?"replace":"merge"}function Uie(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(o1(r,t)??"").toString())}let AV=class{constructor(t,i,r=void 0){this.name=t,this.details=r,this.message=(i&&Uie(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},z=class OV extends AV{constructor(t,i,r){super(t,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return j(i)}catch{return"[object]"}}))}}catch(t){throw ne.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new OV(t.name,t.message,t.details)}};z.prototype.type="error";function VS(e,t,i){if(e&&t)if(typeof t=="object")for(const r of Object.getOwnPropertyNames(t))VS(e,r,t[r]);else{if(t.includes(".")){const s=t.split("."),n=s.splice(-1,1)[0];return void VS(ws(e,s),n,i)}const r=e.__accessor__;r!=null&&zie(t,r),e[t]=i}}function zie(e,t){if(B("esri-unknown-property-errors")&&!Vie(e,t))throw new z("set:unknown-property",Gie(e,t))}function Vie(e,t){return t.metadata[e]!=null}function Gie(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}function h(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(t,i),s=uT(t,i);r&&(r.get||r.set?(s.get=r.get||s.get,s.set=r.set||s.set):"value"in r&&("value"in e&&ne.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),s.value=e.value=r.value)),e.readOnly!=null&&(s.readOnly=e.readOnly);const n=e.aliasOf;if(n){const d=typeof n=="string"?n:n.source,f=typeof n=="string"?null:n.overridable===!0;let g;s.dependsOn=[d],s.get=function(){let v=ws(this,d);if(typeof v=="function"){g||(g=d.split(".").slice(0,-1).join("."));const _=ws(this,g);_&&(v=v.bind(_))}return v},s.readOnly||(s.set=f?function(v){this._override(i,v)}:function(v){VS(this,d,v)})}const o=e.type,c=e.types;if(!s.cast){let d;o?d=qie(o):c&&(d=Array.isArray(c)?Cv(Co(c[0])):Co(c)),e.cast=Bie(e.cast,d)}kie(s,e),e.range&&(s.cast=$ie(s.cast,e.range))}}function CV(e,t,i){const r=uT(e,i);r.json||(r.json={});let s=r.json;return t!==void 0&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function qie(e){let t=0,i=e;if(Iie(e))return SV(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const r=i;if(wV(r))return t===0?L3(r):US(L3(r),t);if(t===1)return Oie(r);if(t>1)return Cie(r,t);const s=e;return s.from?s.from:ji(s)}function Bie(e,t){if(e||t)return e?t?(i,r)=>t(e(i,r),r):e:t}const IV=Symbol("Accessor-beforeDestroy");var bs;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(bs||(bs={}));var Mt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(Mt||(Mt={}));let cT=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){var t;(t=this.accessed)==null||t.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const GS=new cT,Gg=[];let iv=GS;function De(e){iv.onAccessed(e)}let gw=!1,vw=!1;function Ol(e,t,i){if(gw)return wR(e,t,i);let r=null;return RV(e),r=t.call(i),LV(),r}function Hie(e,t){return Ol(GS,e,t)}function wR(e,t,i){const r=gw;gw=!0,RV(e);let s=null;try{s=t.call(i)}catch(n){vw&&ne.getLogger("esri.core.accessorSupport.tracking").error(n)}return LV(),gw=r,s}function RV(e){iv=e,Gg.push(e)}function LV(){const e=Gg.length;if(e>1){const t=Gg.pop();iv=Gg[e-2],t.onTrackingEnd()}else if(e===1){const t=Gg.pop();iv=GS,t.onTrackingEnd()}else iv=GS}function NV(e,t){if(t.flags&Mt.DepTrackingInitialized)return;t.flags|=Mt.DepTrackingInitialized;const i=vw;vw=!1,t.flags&Mt.AutoTracked?wR(t.trackingTarget,t.metadata.get,e):PV(e,t),vw=i}const Wie=[];function PV(e,t){t.flags&Mt.ExplicitlyTracking||(t.flags|=Mt.ExplicitlyTracking,wR(t.trackingTarget,()=>{const i=t.metadata.dependsOn||Wie;for(const r of i)if(typeof r!="string"||r.includes(".")){const s=EV(r);for(let n=0,o=e;n<s.length&&o!=null&&typeof o=="object";++n)o=m5(o,s[n],n!==s.length-1)}else m5(e,r,!1)}),t.flags&=~Mt.ExplicitlyTracking)}function m5(e,t,i){const r=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(e)?e[n]:e.at(n)}const s=Es(e);if(s){const n=s.propertiesByName.get(r);n&&(De(n),NV(e,n))}return i?e[r]:void 0}function Zie(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(t[r]){const s=t[r];i[r].forEach(n=>{t[n]=s}),delete t[r]}}}let Ln=class extends AV{constructor(t,i,r){super(t,i,r)}};Ln.prototype.type="warning";function DV(e){var t;return!!e&&((t=e.prototype)==null?void 0:t.declaredClass)&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const D3=()=>ne.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function y5(e,t,i){var r,s;e&&(!i&&!t.read||(r=t.read)!=null&&r.reader||((s=t.read)==null?void 0:s.enabled)===!1||Xie(e)&&cr("read.reader",Vm(e),t))}function Vm(e){var i,r;const t=e.ndimArray??0;if(t>1)return Jie(e);if(t===1)return g5(e);if("type"in e&&FV(e.type)){const s=(r=(i=e.type.prototype)==null?void 0:i.itemType)==null?void 0:r.Type,n=g5(typeof s=="function"?{type:s}:{types:s});return(o,c,d)=>{const f=n(o,c,d);return f&&new e.type(f)}}return SR(e)}function SR(e){return"type"in e?Yie(e.type):Qie(e.types)}function Yie(e){return e.prototype.read?(t,i,r)=>{if(t==null)return t;const s=typeof t;if(s!=="object")return void D3().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const n=new e;return n.read(t,r),n}:e.fromJSON}function kV(e,t,i,r){return r!==0&&Array.isArray(t)?t.map(s=>kV(e,s,i,r-1)):e(t,void 0,i)}function Jie(e){const t=SR(e),i=kV.bind(null,t),r=e.ndimArray??0;return(s,n,o)=>{if(s==null)return s;s=i(s,o,r);let c=r,d=s;for(;c>0&&Array.isArray(d);)c--,d=d[0];if(d!==void 0)for(let f=0;f<c;f++)s=[s];return s}}function g5(e){const t=SR(e);return(i,r,s)=>{if(i==null)return i;if(Array.isArray(i)){const o=[];for(const c of i){const d=t(c,void 0,s);d!==void 0&&o.push(d)}return o}const n=t(i,void 0,s);return n!==void 0?[n]:void 0}}function FV(e){if(!DV(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?TR(t.Type):jV(t.Type))}function Xie(e){return"types"in e?jV(e.types):TR(e.type)}function TR(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||FV(e))}function jV(e){for(const t in e.typeMap)if(!TR(e.typeMap[t]))return!1;return!0}function Qie(e){let t=null;const i=e.errorContext??"type",r=e.validate;return(s,n,o)=>{if(s==null)return s;const c=typeof s;if(c!=="object")return void D3().error(`Expected JSON value of type 'object' to deserialize, but got '${c}'`);t||(t=Kie(e));const d=e.key;if(typeof d!="string")return;const f=s[d],g=f?t[f]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!g){const _=`Type '${f||"unknown"}' is not supported`;return o!=null&&o.messages&&s&&o.messages.push(new Ln(`${i}:unsupported`,_,{definition:s,context:o})),void D3().error(_)}const v=new g;return v.read(s,o),r?r(v):v}}function Kie(e){var i,r;const t={};for(const s in e.typeMap){const n=e.typeMap[s],o=p1(n.prototype);if(typeof e.key=="function")continue;const c=o[e.key];if(!c)continue;if((i=c.json)!=null&&i.type&&Array.isArray(c.json.type)&&c.json.type.length===1&&typeof c.json.type[0]=="string"){t[c.json.type[0]]=n;continue}const d=(r=c.json)==null?void 0:r.write;if(!(d!=null&&d.writer)){t[s]=n;continue}const f=d.target,g=typeof f=="string"?f:e.key,v={};d.writer(s,v,g),v[g]&&(t[v[g]]=n)}return t}function ere(e){if(e.json||(e.json={}),b5(e.json),_5(e.json),v5(e.json),e.json.origins)for(const t in e.json.origins)b5(e.json.origins[t]),_5(e.json.origins[t]),v5(e.json.origins[t]);return!0}function v5(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function b5(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function _5(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function w5(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const i=(e==null?void 0:e.ndimArray)??0;e&&(i===1||"type"in e&&DV(e.type))?t.write.writer=rre:i>1?t.write.writer=sre(i):t.types?Array.isArray(t.types)?t.write.writer=ire(t.types[0]):t.write.writer=tre(t.types):t.write.writer=Iv}function tre(e){return(t,i,r,s)=>t?UV(t,e,s)?Iv(t,i,r,s):void 0:Iv(t,i,r,s)}function UV(e,t,i){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(i!=null&&i.messages){const r=t.errorContext??"type",s=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new z(`${r}:unsupported`,s,{definition:e,context:i})),ne.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function ire(e){return(t,i,r,s)=>!t||!Array.isArray(t)?Iv(t,i,r,s):Iv(t.filter(n=>UV(n,e,s)),i,r,s)}function Iv(e,t,i,r){cr(i,qS(e,r),t)}function qS(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?BS(e):e}function BS(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function rre(e,t,i,r){let s;e===null?s=null:e&&typeof e.map=="function"?(s=e.map(n=>qS(n,r)),typeof s.toArray=="function"&&(s=s.toArray())):s=[qS(e,r)],cr(i,s,t)}function zV(e,t,i){return i!==0&&Array.isArray(e)?e.map(r=>zV(r,t,i-1)):qS(e,t)}function sre(e){return(t,i,r,s)=>{let n;if(t===null)n=null;else{n=zV(t,s,e);let o=e,c=n;for(;o>0&&Array.isArray(c);)o--,c=c[0];if(c!==void 0)for(let d=0;d<o;d++)n=[n]}cr(r,n,i)}}function nre(e,t){return ER(e,"any",t==null?void 0:t.origin)}function k3(e,t){return ER(e,"read",t==null?void 0:t.origin)}function VV(e,t){return ER(e,"write",t==null?void 0:t.origin)}function ER(e,t,i){let r=e==null?void 0:e.json;if(r!=null&&r.origins&&i){let s;s=i==="link-chart"?r.origins[i]&&(t==="any"||t in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],s&&(t==="any"||t in s)&&(r=s)}return r}function ore(e){var i;const t=are(e);if(e.json.origins)for(const r in e.json.origins){const s=e.json.origins[r],n=s.types?lre(s):t;y5(n,s,!1),s.types&&!s.write&&((i=e.json.write)!=null&&i.enabled)&&(s.write={...e.json.write}),w5(n,s)}y5(t,e.json,!0),w5(t,e.json)}function are(e){return e.json.types?F3(e.json):e.type?GV(e):F3(e)}function lre(e){return e.type?GV(e):F3(e)}function GV(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!wV(i);)i=i[0],t++;return{type:i,ndimArray:t}}function F3(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function ure(e){ere(e)&&(Zie(e),ore(e))}const Bx=new Set,Hx=new Set;function A(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,dre(t);const i=[],r=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!Bx.has(s.initialize)&&(Bx.add(s.initialize),i.push(s.initialize)),s.hasOwnProperty("destroy")&&!Hx.has(s.destroy)&&(Hx.add(s.destroy),r.push(s.destroy)),s=Object.getPrototypeOf(s);Bx.clear(),Hx.clear();const n=class extends t{constructor(...c){if(super(...c),this.constructor===n&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let d=i.length-1;d>=0;d--)i[d].call(this)}}),r.length){let d=!1;const f=this[IV];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!d){d=!0,f.call(this);for(let g=0;g<r.length;g++)r[g].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};n.__accessorMetadata__=p1(t.prototype),n.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(n,"name",{value:o,configurable:!0}),n}}function cre(e,t){return t.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r===void 0)return;i.mutable&&De(r);const s=i.store;return s.has(e)?s.get(e):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r!==void 0)return r.getComputed(i)}}function dre(e){const t=e.prototype,i=p1(t),r={};for(const s of Object.getOwnPropertyNames(i)){const n=i[s];ure(n),r[s]={enumerable:!0,configurable:!0,get:cre(s,n),set(o){const c=this.__accessor__;if(c!==void 0){if(c.mutable)return c.initialized&&n.readOnly?S5("read-only",s):c.lifecycle===bs.CONSTRUCTED&&n.constructOnly?S5("construct-only",s):void c.set(s,o)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,r)}const S5=(e,t)=>{ne.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)},hre="modulepreload",pre=function(e){return"/Agriculture-land/"+e},T5={},te=function(t,i,r){let s=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(i.map(d=>{if(d=pre(d),d in T5)return;T5[d]=!0;const f=d.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":hre,f||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),f)return new Promise((_,S)=>{v.addEventListener("load",_),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function n(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&n(c.reason);return t().catch(n)})},E5=new WeakMap;function fre(e,t,i=!1){const r=` DEPRECATED - ${t}`;if(!i)return void e.warn(r);let s=E5.get(e);s||(s=new Set,E5.set(e,s)),s.has(t)||(s.add(t),e.warn(r))}function mre(e,t,i={}){if(B("esri-deprecation-warnings")){const{moduleName:r}=i;Rv(e,`Function: ${(r?r+"::":"")+t+"()"}`,i)}}function yre(e,t,i={}){if(B("esri-deprecation-warnings")){const{moduleName:r}=i;Rv(e,`Property: ${(r?r+"::":"")+t}`,i)}}function gre(e,t,i={}){B("esri-deprecation-warnings")&&Rv(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...i})}function Rv(e,t,i={}){if(B("esri-deprecation-warnings")){const{replacement:r,version:s,see:n,warnOnce:o}=i;let c=t;if(r&&(c+=`
	 Replacement: ${r}`),s&&(c+=`
	 Version: ${s}`),n)if(Array.isArray(n)){c+=`
	 See for more details:`;for(const d of n)c+=`
		${d}`}else c+=`
	 See ${n} for more details.`;fre(e,c,o)}}function OOe(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function vre(e,t){for(const i of e)if(i!=null&&t(i))return i}function HS(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let Gm=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(i=>{t+=i.length}),t}add(t,i){if(HS(t)){const r=this._getOrCreateGroup(i);for(const s of t)x5(s)&&r.push(s)}else x5(t)&&this._getOrCreateGroup(i).push(t);return this}forEach(t,i){if(typeof t=="function")this._groups.forEach(r=>r.forEach(t));else{const r=this._getGroup(t);r&&i&&r.forEach(i)}}has(t){return this._groups.has(c_(t))}remove(t){if(typeof t!="string"&&HS(t)){for(const i of t)this.remove(i);return this}return this.has(t)?($5(this._getGroup(t)),this._groups.delete(c_(t)),this):this}removeAll(){return this._groups.forEach($5),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const i=[];return this._groups.set(c_(t),i),i}_getGroup(t){return this._groups.get(c_(t))}};function c_(e){return e||"_default_"}function $5(e){for(const t of e)t instanceof Gm?t.removeAll():t.remove()}function x5(e){return e!=null&&(!!e.remove||e instanceof Gm)}function qV(e,t){if(e==null)throw new Error(t??"value is None")}function Gt(e){return e==null||e.destroy(),null}function IOe(e){return e==null||e.dispose(),null}function ri(e){return e==null||e.remove(),null}function Tm(e){return e==null||e.abort(),null}function ROe(e){return e==null||e.release(),null}function bre(e,t,i){return e!=null&&t!=null?i!=null?i(e,t):e.equals(t):e===t}function _re(e,t){let i;return e.some((r,s)=>(i=t(r,s),i!=null)),i??void 0}function wre(e){return(e==null?void 0:e.release)&&typeof e.release=="function"}function Sre(e){return(e==null?void 0:e.acquire)&&typeof e.acquire=="function"}let qh=class j3{constructor(t,i,r,s=1,n=0){this._ctor=t,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=s,this._pool=new Array(n),this._initialSize=n;for(let o=0;o<n;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){let i;if(j3.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const r=this.allocationSize;for(let s=0;s<r;s++)this._pool[s]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):Sre(i)&&i.acquire(...t),i}release(t){t&&!j3.test.disabled&&(this._releaseFunction?this._releaseFunction(t):wre(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};qh.test={disabled:!1};let Tre=class{constructor(t,i){this._observers=t,this._observer=i}remove(){nV(this._observers,this._observer)}},BV=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return Ere;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,s=!1;const n=i.length;for(let o=0;o<n;++o){const c=i[o];if(c.destroyed)s=!0;else if(c===t){r=!0;break}}return r||(i.push(t),s&&this._removeDestroyedObservers()),new Tre(i,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const i=t.length;let r=0;for(let s=0;s<i;++s){for(;s+r<i&&t[s+r].destroyed;)++r;if(r>0){if(!(s+r<i))break;t[s]=t[s+r]}}t.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const i of t)i.onCommitted();this._observers=null}}};const Ere=gt();var tt;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(tt||(tt={}));const U3=tt.USER+1;function oc(e){switch(e){case"defaults":return tt.DEFAULTS;case"service":return tt.SERVICE;case"portal-item":return tt.PORTAL_ITEM;case"web-scene":return tt.WEB_SCENE;case"web-map":return tt.WEB_MAP;case"link-chart":return tt.LINK_CHART;case"user":return tt.USER;default:return null}}function WS(e){switch(e){case tt.DEFAULTS:return"defaults";case tt.SERVICE:return"service";case tt.PORTAL_ITEM:return"portal-item";case tt.WEB_SCENE:return"web-scene";case tt.WEB_MAP:return"web-map";case tt.LINK_CHART:return"link-chart";case tt.USER:return"user"}}function $re(e){return WS(e)}let M5=class extends BV{constructor(t,i){super(),this.propertyName=t,this.metadata=i,this.trackingTarget=new cT(this),this.flags=0,this.flags=Mt.Dirty|(i.nonNullable?Mt.NonNullable:0)|(i.hasOwnProperty("value")?Mt.HasDefaultValue:0)|(i.get===void 0?Mt.DepTrackingInitialized:0)|(i.dependsOn===void 0?Mt.AutoTracked:0)}destroy(){this.flags&Mt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&De(this);const i=t.store,r=this.propertyName,s=this.flags,n=i.get(r);if(s&Mt.Computing||~s&Mt.Dirty&&i.has(r))return n;this.flags|=Mt.Computing;const o=t.host;let c;s&Mt.AutoTracked?c=Ol(this.trackingTarget,this.metadata.get,o):(PV(o,this),c=this.metadata.get.call(o)),this.flags|=Mt.DepTrackingInitialized,i.set(r,c,tt.COMPUTED);const d=i.get(r);return d===n?this.flags&=~Mt.Dirty:Hie(this.commit,this),this.flags&=~Mt.Computing,d}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~Mt.Dirty,this.onCommitted()}onInvalidated(){~this.flags&Mt.Overridden&&(this.flags|=Mt.Dirty);const t=this._observers;if(t&&t.length>0)for(const i of t)i.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onCommitted()}}},xre=class HV{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new HV;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,j(r))}),i}get(t){return this._values.get(t)}originOf(){return tt.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function d_(e,t,i){return e!==void 0}function A5(e,t,i,r){return e!==void 0&&(!(i==null&&e.flags&Mt.NonNullable)||(r.lifecycle,bs.INITIALIZING,!1))}let Mre=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=bs.INITIALIZING,this.store=new xre,this.mutable=!0,this._origin=tt.USER;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const s=new M5(r,i[r]);this.propertiesByName.set(r,s)}this.metadata=i}initialize(){this.lifecycle=bs.CONSTRUCTING}constructed(){this.lifecycle=bs.CONSTRUCTED}destroy(){this.lifecycle=bs.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==bs.INITIALIZING}get(t){const i=this.propertiesByName.get(t);if(i.metadata.get)return i.getComputed(this);this.mutable&&De(i);const r=this.store;return r.has(t)?r.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const r=this.propertiesByName.get(t);if(r!==void 0&&r.flags&Mt.HasDefaultValue)return"defaults"}return WS(i)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const i=this.propertiesByName.get(t);if(d_(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const r=this.propertiesByName.get(t);d_(r)&&this._internalSet(r,i)}getDependsInfo(t,i,r){const s=this.propertiesByName.get(i);if(!d_(s))return"";const n=new cT,o=Ol(n,()=>{var f;return(f=s.metadata.get)==null?void 0:f.call(t)});let c=`${r}${t.declaredClass.split(".").pop()}.${i}: ${o}
`;const d=n.accessed??new Set;if(d.size===0)return c;r+="  ";for(const f of d)f instanceof M5&&(c+=`${r}${f.propertyName}: undefined
`);return c}setAtOrigin(t,i,r){const s=this.propertiesByName.get(t);if(d_(s))return this._setAtOrigin(s,i,r)}isOverridden(t){const i=this.propertiesByName.get(t);return i!==void 0&&!!(i.flags&Mt.Overridden)}clearOverride(t){const i=this.propertiesByName.get(t);i&&i.flags&Mt.Overridden&&(i.flags&=~Mt.Overridden,i.notifyChange())}override(t,i){const r=this.propertiesByName.get(t);if(!A5(r,t,i,this))return;const s=r.metadata.cast;if(s){const n=this._cast(s,i),{valid:o,value:c}=n;if(Wx.release(n),!o)return;i=c}r.flags|=Mt.Overridden,this._internalSet(r,i)}set(t,i){const r=this.propertiesByName.get(t);if(!A5(r,t,i,this))return;const s=r.metadata.cast;if(s){const o=this._cast(s,i),{valid:c,value:d}=o;if(Wx.release(o),!c)return;i=d}const n=r.metadata.set;n?n.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(t){this._origin=oc(t)}getDefaultOrigin(){return WS(this._origin)}notifyChange(t){const i=this.propertiesByName.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.propertiesByName.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.propertiesByName.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const r=this.lifecycle!==bs.INITIALIZING?this._origin:tt.DEFAULTS;this._setAtOrigin(t,i,r)}_setAtOrigin(t,i,r){const s=this.store,n=t.propertyName;s.has(n,r)&&vR(i,s.get(n))&&~t.flags&Mt.Overridden&&r===s.originOf(n)||(t.invalidate(),s.set(n,i,r),t.commit(),NV(this.host,t))}_cast(t,i){const r=Wx.acquire();return r.valid=!0,r.value=i,t&&(r.value=t.call(this.host,i,r)),r}},Are=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const Wx=new qh(Are);let Ore;function Cre(){return Ore}var O5;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(O5||(O5={}));function Ire(e){e.length=0}let Qr=class{constructor(t=50,i=50){this._pool=new qh(Array,void 0,Ire,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return Zx.acquire()}static release(t){return Zx.release(t)}static prune(){Zx.prune()}};const Zx=new Qr(100);let WV=class extends qh{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const h_=[];function ZS(e){h_.push(e),h_.length===1&&queueMicrotask(()=>{const t=h_.slice();h_.length=0;for(const i of t)i()})}let rv=class{constructor(t,i=30){this.name=t,this._counter=0,this._samples=new Array(i)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,i)=>t-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,i)=>t+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var z3;(function(e){const t=(n,o,c,d)=>{let f=o,g=o;const v=c>>>1,_=n[f-1];for(;g<=v;){g=f<<1,g<c&&d(n[g-1],n[g])<0&&++g;const S=n[g-1];if(d(S,_)<=0)break;n[f-1]=S,f=g}n[f-1]=_},i=(n,o)=>n<o?-1:n>o?1:0;function r(n,o,c,d){o===void 0&&(o=0),c===void 0&&(c=n.length),d===void 0&&(d=i);for(let g=c>>>1;g>o;g--)t(n,g,c,d);const f=o+1;for(let g=c-1;g>o;g--){const v=n[o];n[o]=n[g],n[g]=v,t(n,f,g,d)}}function*s(n,o,c,d){o===void 0&&(o=0),c===void 0&&(c=n.length),d===void 0&&(d=i);for(let g=c>>>1;g>o;g--)t(n,g,c,d),yield;const f=o+1;for(let g=c-1;g>o;g--){const v=n[o];n[o]=n[g],n[g]=v,t(n,f,g,d),yield}}e.sort=r,e.iterableSort=s})(z3||(z3={}));const C5=z3,Rre=1.5,Lre=1.1;let wh=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new iV,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>I5(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let r=0;r<this._length;r++){const s=this.data[r];t(s)&&i.push(s)}return i}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,i){const r=this.data.indexOf(t,i);return r!==-1&&r<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let r=0;r<i;r++)this.data[this._length++]=t[r]}fill(t,i){for(let r=0;r<i;r++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,I5(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=C3(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(C3(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,r){this.length=hie(this.data,t,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){if(t>=this.length||i>=this.length||t===i)return;const r=this.data[t];this.data[t]=this.data[i],this.data[i]=r}sort(t){C5.sort(this.data,0,this.length,t)}iterableSort(t){return C5.iterableSort(this.data,0,this.length,t)}some(t,i){for(let r=0;r<this.length;++r)if(t.call(i,this.data[r],r,this.data))return!0;return!1}find(t,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)if(t.call(i,r[n]))return r[n]}filterInPlace(t,i){let r=0;for(let s=0;s<this._length;++s){const n=this.data[s];t.call(i,n,s,this.data)&&(this.data[s]=this.data[r],this.data[r]=n,r++)}if(this._deallocator)for(let s=r;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=r,this._shrink(),this}forAll(t,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)t.call(i,r[n],n,r)}forEach(t,i){this.data.slice(0,this.length).forEach(t,i)}map(t,i){const r=new Array(this.length);for(let s=0;s<this.length;++s)r[s]=t.call(i,this.data[s],s,this.data);return r}reduce(t,i){let r=i;for(let s=0;s<this.length;++s)r=t(r,this.data[s],s,this.data);return r}has(t){const i=this.length,r=this.data;for(let s=0;s<i;++s)if(r[s]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function I5(e){e.data.length>Rre*e.length&&(e.data.length=Math.floor(e.length*Lre))}function Nre(e){return{setTimeout:(t,i)=>{const r=e.setTimeout(t,i);return gt(()=>e.clearTimeout(r))}}}const qm=Nre(globalThis);function dT(e){return Pre(e)||ZV(e)}function Pre(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function ZV(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function f1(e,t,i){if(!dT(e))throw new TypeError("target is not a Evented or EventTarget object");return ZV(e)?Dre(e,t,i):e.on(t,i)}function Dre(e,t,i,r){if(Array.isArray(t)){const s=t.slice();for(const n of s)e.addEventListener(n,i,r);return gt(()=>{for(const n of s)e.removeEventListener(n,i,r)})}return e.addEventListener(t,i,r),gt(()=>e.removeEventListener(t,i,r))}function YV(e,t,i){if(!dT(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const r=f1(e,t,s=>{r.remove(),i.call(e,s)});return r}function Bt(e="Aborted"){return new z("AbortError",e)}function li(e,t="Aborted"){if(Ks(e))throw Bt(t)}function m1(e){return e instanceof AbortSignal?e:(e==null?void 0:e.signal)??void 0}function Ks(e){const t=m1(e);return t!=null&&t.aborted}function wo(e){if(Ur(e))throw e}function R5(e){if(!Ur(e))throw e}function In(e,t){const i=m1(e);if(i!=null){if(!i.aborted)return YV(i,"abort",()=>t());t()}}function $R(e,t){const i=m1(e);if(i!=null)return li(i),YV(i,"abort",()=>t(Bt()))}function JV(e,t){return m1(t)==null?e:new Promise((i,r)=>{let s=In(t,()=>r(Bt()));const n=()=>{s=ri(s)};e.then(n,n),e.then(i,r)})}function Ur(e){return(e==null?void 0:e.name)==="AbortError"}async function Lv(e){try{return await e}catch(t){if(!Ur(t))throw t;return}}async function xR(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e),r=i.map(o=>e[o]),s=await xR(r),n={};return i.map((o,c)=>n[o]=s[c]),n}const t=e;return Promise.allSettled(t).then(i=>Array.from(t,(r,s)=>{const n=i[s];return n.status==="fulfilled"?{promise:r,value:n.value}:{promise:r,error:n.reason}}))}async function kre(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function VOe(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function XV(e,t=void 0,i){const r=new AbortController;return In(i,()=>r.abort()),new Promise((s,n)=>{let o=setTimeout(()=>{o=0,s(t)},e);In(r,()=>{o&&(clearTimeout(o),n(Bt()))})})}function GOe(e,t,i,r){const s=i&&"abort"in i?i:null;r!=null||s||(r=i);let n=setTimeout(()=>{n=0,s==null||s.abort()},t);const o=()=>r||new z("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(c=>{if(n===0)throw o();return clearTimeout(n),c},c=>{throw clearTimeout(n),n===0?o():c})}function Fre(e,t){const i=new AbortController,r=setTimeout(()=>i.abort(),t);return In(e,()=>{i.abort(),clearTimeout(r)}),{...e,signal:i.signal}}function ba(e){return e&&typeof e.then=="function"}function V3(e){return ba(e)?e:Promise.resolve(e)}function hT(e,t=-1){let i,r,s,n,o=null;const c=(...d)=>{if(i){r=d,n&&n.reject(Bt()),n=en();const _=n.promise;if(o){const S=o;o=null,S.abort()}return _}if(s=n||en(),n=null,t>0){const _=new AbortController;i=V3(e(...d,_.signal));const S=i;XV(t).then(()=>{i===S&&(n?_.abort():o=_)})}else i=1,i=V3(e(...d));const f=()=>{const _=r;r=s=i=o=null,_!=null&&c(..._)},g=i,v=s;return g.then(f,f),g.then(v.resolve,v.reject),v.promise};return c}function en(){let e,t;const i=new Promise((s,n)=>{e=s,t=n}),r=s=>{e(s)};return r.resolve=s=>e(s),r.reject=s=>t(s),r.timeout=(s,n)=>qm.setTimeout(()=>r.reject(n),s),r.promise=i,r}async function L5(e){await Promise.resolve(),li(e)}function qOe(e){return e}function jre(e){return 1e3*e}function BOe(e){return e}function HOe(e){return .001*e}let Ure=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},zre=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},G3=0;const gg={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},q3=["prepare","preRender","render","postRender","update","finish"],B3=[],Rh=new wh;let Vre=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,QV()}};function Gre(){Sh!=null&&(cancelAnimationFrame(Sh),Sh=requestAnimationFrame(MR))}function QV(){Sh==null&&(G3=performance.now(),Sh=requestAnimationFrame(MR))}const YS={frameTasks:Rh,willDispatch:!1,clearFrameTasks:qre,dispatch:e7,executeFrameTasks:Bre,reschedule:Gre};function y1(e){const t=new zre(e);return B3.push(t),YS.willDispatch||(YS.willDispatch=!0,ZS(e7)),t}function Em(e){const t=new Ure(e);return Rh.push(t),QV(),new Vre(t)}let Sh=null;function qre(e=!1){Rh.forAll(t=>{t.removed=!0}),e&&KV()}function MR(){const e=performance.now();Sh=null,Sh=Rh.some(i=>!i.paused&&!i.removed)?requestAnimationFrame(MR):null,YS.executeFrameTasks(e)}function Bre(e){const t=e-G3;G3=e;const i=1e3/60,r=Math.max(0,t-i);gg.time=e,gg.frameDuration=i-r;for(let s=0;s<q3.length;s++){const n=performance.now(),o=q3[s];Rh.forAll(c=>{var d;c.paused||c.removed||(s===0&&c.ticks++,c.phases[o]&&(gg.elapsedFrameTime=performance.now()-e,gg.deltaTime=c.ticks===0?0:t,(d=c.phases[o])==null||d.call(c,gg)))}),Yre[s].push(performance.now()-n)}KV(),Jre.push(performance.now()-e)}const p_=new wh;function KV(){Rh.forAll(e=>{e.removed&&p_.push(e)}),Rh.removeUnorderedMany(p_.data,p_.length),p_.clear()}function e7(){for(;B3.length;){const e=B3.shift();e.isActive&&e.callback()}YS.willDispatch=!1}function Hre(e=1,t){const i=en(),r=()=>{Ks(t)?i.reject(Bt()):e===0?i():(--e,ZS(()=>r()))};return r(),i.promise}function Wre(e){return Hre(1,e)}async function Zre(e){await Wre(e),await new Promise(t=>requestAnimationFrame(()=>{e!=null&&e.aborted||t()}))}const Yre=q3.map(e=>new rv(e)),Jre=new rv("total");function t7(e,t){for(const i of e.values())if(t(i))return!0;return!1}function JS(e,t){if(!t)return e;for(const i of t)i!=null&&e.add(i);return e}function N5(e,t){return t!=null&&e.add(t),e}function AR(e,t){const i=new Set;return JS(i,e),JS(i,t),i}function Xre(e,t){const i=new Set;for(const r of t)e.has(r)&&i.add(r);return i}function JOe(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function XOe(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function Qre(e,t){const i=new Set(e);for(const r of t)i.delete(r);return i}function Kre(e,t){return Qre(AR(e,t),Xre(e,t))}let ese=0;function bw(){return++ese}let pT=class extends cT{constructor(t){super(new tse(t)),this._observer&&P5.register(this,new WeakRef(this._observer),this)}destroy(){var t,i;this._observer&&P5.unregister(this._observer),(t=this.accessed)==null||t.clear(),this.clear(),(i=this._observer)==null||i.destroy()}},tse=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=ise}};const P5=new FinalizationRegistry(e=>{var t;(t=e.deref())==null||t.destroy()});function ise(){}let rm=!1;const XS=[];function i7(e,t){let i=new pT(n),r=null,s=!1;function n(){if(!i||s)return;if(rm)return void n7(n);const c=r;i.clear(),rm=!0,s=!0,r=Ol(i,e),s=!1,rm=!1,t(r,c),o7()}function o(){i&&(i.destroy(),i=null,r=null)}return s=!0,r=Ol(i,e),s=!1,gt(o)}function r7(e,t){let i=new pT(s),r=null;function s(){t(r,o)}function n(){i&&(i.destroy(),i=null),r=null}function o(){return i?(i.clear(),r=Ol(i,e),r):null}return o(),gt(n)}function s7(e,t){let i=!1,r=!1;const s=!!(t!=null&&t.sync);let n=new pT(()=>{i||r||(r=!0,s?o():queueMicrotask(o))});function o(){r=!1,n&&!i&&(rm?n7(o):(n.clear(),rm=!0,i=!0,Ol(n,e),i=!1,rm=!1,o7()))}function c(){n&&(n.destroy(),n=null)}return i=!0,Ol(n,e),i=!1,gt(c)}function n7(e){XS.includes(e)||XS.unshift(e)}function o7(){for(;XS.length;)XS.pop()()}var sv;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(sv||(sv={}));let Nv=class{constructor(){this.uid=bw(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,r,s,n){return this.pool.acquire(sv.Untracked,t,i,r,s,n,vR)}static acquireTracked(t,i,r,s){return this.pool.acquire(sv.Tracked,t,i,r,null,null,s)}notify(t,i){this.type===sv.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i,void 0,void 0)}acquire(t,i,r,s,n,o,c){this.uid=bw(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=r,this.getValue=s,this.target=n,this.path=o,this.equals=c}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=bw(),this.removed=!0}};Nv.pool=new WV(Nv);const _w=new Qr,El=new Set;let QS;function KS(e){El.delete(e),El.add(e),QS||(QS=y1(nse))}function rse(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function sse(e){for(const t of El.values())t.target===e&&(t.removed=!0)}function nse(){let e=10;for(;QS&&e--;){QS=null;const t=ose(),i=_w.acquire();for(const r of t){const s=r.uid;rse(r),s===r.uid&&r.removed&&i.push(r)}for(const r of El)r.removed&&(i.push(r),El.delete(r));for(const r of i)Nv.pool.release(r);_w.release(i),_w.release(t),H3.forEach(r=>r())}}function ose(){const e=_w.acquire();e.length=El.size;let t=0;for(const i of El)e[t]=i,++t;return El.clear(),e}const H3=new Set;function ase(e){return H3.add(e),gt(()=>H3.delete(e))}function lse(e,t,i){let r=$V(e,t,i,(s,n,o)=>{let c,d,f=r7(()=>h1(s,n),(g,v)=>{var _;((_=s.__accessor__)==null?void 0:_.lifecycle)===bs.DESTROYED||c&&c.uid!==d?r.remove():(c||(c=Nv.acquireUntracked(g,o,v,s,n),d=c.uid),KS(c))});return gt(()=>{f.remove(),c&&(c.uid!==d||c.removed||(c.removed=!0,KS(c)),c=null),r=f=null})});return r}function use(e,t,i){const r=$V(e,t,i,(s,n,o)=>{let c=!1;return i7(()=>h1(s,n),(d,f)=>{s.__accessor__.lifecycle!==bs.DESTROYED?c||(c=!0,vR(f,d)||o.call(s,d,f,n,s),c=!1):r.remove()})});return r}function cse(e,t,i,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==bs.DESTROYED?r?use(e,t,i):lse(e,t,i):gt()}function dse(e,t,i){let r,s,n=r7(e,(o,c)=>{r&&r.uid!==s?n.remove():(r||(r=Nv.acquireTracked(o,t,c,i),s=r.uid),KS(r))});return gt(()=>{n.remove(),r&&(r.uid!==s||r.removed||(r.removed=!0,KS(r)),r=null),n=null})}function hse(e,t,i){let r=!1;return i7(e,(s,n)=>{r||(r=!0,i(n,s)||t(s,n),r=!1)})}function pse(e,t,i=!1,r=fV){return i?hse(e,t,r):dse(e,t,r)}function D5(e){return t7(El,t=>t.oldValue===e)}var a7,l7;function fse(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const zo=Symbol("Accessor-Handles"),W3=Symbol("Accessor-Initialized");let Te=class ww{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const n=this;class o extends n{constructor(...d){super(...d),this.inherited=null,s&&s.apply(this,d)}}p1(o.prototype);for(const c in t){const d=t[c];o.prototype[c]=typeof d=="function"?function(...f){const g=this.inherited;let v;this.inherited=function(..._){if(n.prototype[c])return n.prototype[c].apply(this,_)};try{v=d.apply(this,f)}catch(_){throw this.inherited=g,_}return this.inherited=g,v}:t[c]}for(const c in i){const d=fse(i[c]);h(d)(o.prototype,c)}return A(r)(o)}static freeze(t){return t instanceof ww?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof ww?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){var r;if(this[a7]=null,this[l7]=!1,this.constructor===ww)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new Mre(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),t.length>0&&(i.ctorArgs=((r=this.normalizeCtorArgs)==null?void 0:r.apply(this,t))??t[0])}postscript(){const t=this.__accessor__,i=t.ctorArgs;t.initialize(),i&&(this.set(i),t.ctorArgs=null),t.constructed(),this.initialize(),this[W3]=!0}initialize(){}[IV](){this[zo]=Gt(this[zo])}destroy(){var t;this.destroyed||(sse(this),this.__accessor__.destroy(),(t=Cre())==null||t.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[W3]}get destroyed(){var t;return((t=this.__accessor__)==null?void 0:t.lifecycle)===bs.DESTROYED||!1}commitProperty(t){ws(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return VS(this,t,i),this}watch(t,i,r){return mre(ne.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),cse(this,t,i,r)}addHandles(t,i){if(this.destroyed){const r=Array.isArray(t)?t:[t];for(const s of r)s.remove();return}(this[zo]??(this[zo]=new Gm)).add(t,i)}removeHandles(t){var i;(i=this[zo])==null||i.remove(t)}removeAllHandles(){var t;(t=this[zo])==null||t.removeAll()}removeHandlesReference(t){var i;(i=this[zo])==null||i.removeReference(t)}hasHandles(t){var i;return((i=this[zo])==null?void 0:i.has(t))===!0}_override(t,i){i===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,i){i==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}};a7=zo,l7=W3;const u7=e=>{let t=class extends e{clone(){var d;const i=Es(this);qV(i,"unable to clone instance of non-accessor class");const r=i.metadata,s=i.store,n={},o=new Map;for(const f in r){const g=r[f],v=s==null?void 0:s.originOf(f),_=g.clonable;if(g.readOnly||_===!1||v!==tt.USER&&v!==tt.DEFAULTS&&v!==tt.WEB_MAP&&v!==tt.WEB_SCENE)continue;const S=this[f];let T=null;T=typeof _=="function"?_(S):_==="reference"?S:I3(S),S!=null&&T==null||(v===tt.DEFAULTS?o.set(f,T):n[f]=T)}const c=new(Object.getPrototypeOf(this)).constructor(n);if(o.size){const f=(d=Es(c))==null?void 0:d.store;if(f)for(const[g,v]of o)f.set(g,v,tt.DEFAULTS)}return c}};return t=u([A("esri.core.Clonable")],t),t};let qg=class extends u7(Te){};qg=u([A("esri.core.Clonable")],qg),function(e){e.ClonableMixin=u7}(qg||(qg={}));const at=qg;let Ed=class extends at{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};u([h({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Ed.prototype,"row",void 0),u([h({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Ed.prototype,"column",void 0),u([h({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Ed.prototype,"rows",void 0),u([h({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Ed.prototype,"columns",void 0),Ed=u([A("esri.CameraLayout")],Ed);const c7=Ed,k5=new Float32Array(1);function rCe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function Nn(e,t,i){return Math.min(Math.max(e,t),i)}function sCe(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function Bg(e,t,i){return e+(t-e)*i}function nCe(e,t,i,r,s){return Bg(r,s,(e-t)/(i-t))}function fT(e){return e*Math.PI/180}function d7(e){return 180*e/Math.PI}function oCe(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function aCe(e){return Math.acos(Nn(e,-1,1))}function mse(e){return Math.asin(Nn(e,-1,1))}function xo(e,t,i=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=i}function h7(e,t,i=1e-6){return!xo(e,t,i)&&e>t}function Z3(e,t,i=1e-6){return!xo(e,t,i)&&e<t}function yse(e,t,i=1e-6){return xo(e,t,i)||e>t}const e2=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function Y3(e){return e2.setFloat64(0,e),e2.getBigInt64(0)}function gse(e){return e2.setBigInt64(0,e),e2.getFloat64(0)}const Sw=BigInt("1000000"),vse=p7(1);function p7(e){const t=Y3(e=Math.abs(e)),i=gse(t<=Sw?Sw:t-Sw);return Math.abs(e-i)}function lCe(e,t,i=vse){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(i!=null&&p7(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const r=Y3(e),s=Y3(t);return r<0!=s<0?!1:!((r<s?s-r:r-s)>Sw)}function uCe(e){return f7(Math.max(-F5,Math.min(e,F5)))}function f7(e){return k5[0]=e,k5[0]}function cCe(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(xo(t,1)&&xo(i,1)&&xo(r,1))}const F5=f7(34028234663852886e22);function dCe(e,t,i){if(i===void 0||+i==0)return Math[e](t);if(t=+t,i=+i,isNaN(t)||typeof i!="number"||i%1!=0)return NaN;let r=t.toString().split("e");return r=(t=Math[e](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}let OR=class{constructor(t,i){this.min=t,this.max=i,this.range=i-t}normalize(t,i=0,r=!1){return j5(this.range,this.min,this.max,t,i,r)}clamp(t,i=0){return Nn(t-i,this.min,this.max)+i}monotonic(t,i,r){return t<i?i:i+J3(this.range,t-i,r)}minimalMonotonic(t,i,r){return j5(this.range,t,t+this.range,i,r)}center(t,i,r){return i=this.monotonic(t,i,r),this.normalize((t+i)/2,r)}diff(t,i,r){return this.monotonic(t,i,r)-t}shortestSignedDiff(t,i){t=this.normalize(t);const r=(i=this.normalize(i))-t,s=i<t?this.minimalMonotonic(t,i)-t:i-this.minimalMonotonic(i,t);return Math.abs(r)<Math.abs(s)?r:s}contains(t,i,r){return i=this.minimalMonotonic(t,i),(r=this.minimalMonotonic(t,r))>t&&r<i}};function j5(e,t,i,r,s=0,n=!1){return(r-=s)<t?r+=J3(e,t-r):r>i&&(r-=J3(e,r-i)),n&&r===i&&(r=t),r+s}function J3(e,t,i=0){return Math.ceil((t-i)/e)*e+i}const pCe=new OR(0,2*Math.PI),fCe=new OR(-Math.PI,Math.PI),bse=new OR(0,360);let _se=class m7{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new m7;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,j(r.value),r.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const r=this._values.get(t);return i==null||(r==null?void 0:r.origin)===i?r==null?void 0:r.value:void 0}originOf(t){var i;return((i=this._values.get(t))==null?void 0:i.origin)??tt.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(r=>{var s;return((s=this._values.get(r))==null?void 0:s.origin)===t})}set(t,i,r){if((r=this._normalizeOrigin(r))===tt.DEFAULTS){const s=this._values.get(t);if((s==null?void 0:s.origin)!=null&&s.origin>r)return}this._values.set(t,new wse(i,r))}delete(t,i){var r;(i=this._normalizeOrigin(i))!=null&&((r=this._values.get(t))==null?void 0:r.origin)!==i||this._values.delete(t)}has(t,i){var r;return(i=this._normalizeOrigin(i))!=null?((r=this._values.get(t))==null?void 0:r.origin)===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},r)=>t(i,r))}_normalizeOrigin(t){if(t!=null)return t===tt.DEFAULTS?t:tt.USER}},wse=class{constructor(t,i){this.value=t,this.origin=i}};function y7(e,t,i){t.keys().forEach(s=>{i.set(s,t.get(s),tt.DEFAULTS)});const r=e.metadata;Object.keys(r).forEach(s=>{e.internalGet(s)&&i.set(s,e.internalGet(s),tt.DEFAULTS)})}function Sse(e,t,i){if(!(e!=null&&e.read)||e.read.enabled===!1||!e.read.source)return!1;const r=e.read.source;if(typeof r=="string"){if(r===t||r.includes(".")&&r.indexOf(t)===0&&f5(r,i))return!0}else for(const s of r)if(s===t||s.includes(".")&&s.indexOf(t)===0&&f5(s,i))return!0;return!1}function Tse(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function Ese(e,t,i,r,s){let n=k3(t[i],s);Tse(n)&&(e[i]=!0);for(const o of Object.getOwnPropertyNames(t))n=k3(t[o],s),Sse(n,i,r)&&(e[o]=!0)}function $se(e,t,i,r){const s=i.metadata,n=nre(s[t],r),o=n==null?void 0:n.default;if(o===void 0)return;const c=typeof o=="function"?o.call(e,t,r):o;c!==void 0&&i.set(t,c)}const g7={origin:"service"};function v7(e,t,i=g7){if(!t||typeof t!="object")return;const r=Es(e),s=r.metadata,n={};for(const o of Object.getOwnPropertyNames(t))Ese(n,s,o,t,i);r.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(n)){const c=k3(s[o],i).read,d=c==null?void 0:c.source;let f;f=d&&typeof d=="string"?h1(t,d):t[o],c!=null&&c.reader&&(f=c.reader.call(e,f,t,i)),f!==void 0&&r.set(o,f)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(s))n[o]||$se(e,o,r,i)}r.setDefaultOrigin("user")}function xse(e,t,i,r=g7){var n;const s={...r,messages:[]};i(s),(n=s.messages)==null||n.forEach(o=>{o.type!=="warning"||e.loaded?r!=null&&r.messages&&r.messages.push(o):e.loadWarnings.push(o)})}function Mse(e,t,i,r,s){var o,c;const n={};return(c=(o=t.write)==null?void 0:o.writer)==null||c.call(e,r,n,i,s),n}function b7(e,t,i,r,s,n){if(!(r!=null&&r.write))return!1;const o=ws(e,i);if(!s&&r.write.overridePolicy){const c=r.write.overridePolicy.call(e,o,i,n??void 0);c!==void 0&&(s=c)}if(s||(s=r.write),!s||s.enabled===!1||s.layerContainerTypes&&(n!=null&&n.layerContainerType)&&!s.layerContainerTypes.includes(n.layerContainerType))return!1;if((o===null&&!s.allowNull&&!s.writerEnsuresNonNull||o===void 0)&&s.isRequired){const c=new z("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return c&&(n!=null&&n.messages)?n.messages.push(c):c&&!n&&ne.getLogger("esri.core.accessorSupport.write").error(c.name,c.message),!1}return!(o===void 0||o===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(i)===tt.DEFAULTS)&&Ase(e,i,n,r,o)||!s.ignoreOrigin&&(n!=null&&n.origin)&&t.store.multipleOriginsSupported&&t.store.originOf(i)<oc(n.origin))}function Ase(e,t,i,r,s){const n=r.default;if(n===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(s);if(typeof n=="function"){if(Array.isArray(s)){const o=n.call(e,t,i??void 0);return sT(o,s)}return!1}return n===s}function Ose(e,t,i,r){const s=Es(e),n=s.metadata,o=VV(n[t],r);return!!o&&b7(e,s,t,o,i,r)}function _7(e,t,i){var n,o;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return yw(t,e.toJSON(i));const r=Es(e),s=r.metadata;for(const c in s){const d=VV(s[c],i);if(!b7(e,r,c,d,void 0,i))continue;const f=ws(e,c),g=Mse(e,d,d.write&&typeof d.write.target=="string"?d.write.target:c,f,i);Object.keys(g).length>0&&(t=yw(t,g),(o=(n=i==null?void 0:i.resources)==null?void 0:n.pendingOperations)!=null&&o.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>yw(t,g,()=>"replace-arrays"))),i!=null&&i.writtenProperties&&i.writtenProperties.push({target:e,propName:c,oldOrigin:$re(r.store.originOf(c)),newOrigin:i.origin}))}return t}const w7=e=>{let t=class extends e{constructor(...i){super(...i);const r=Es(this),s=r.store,n=new _se;r.store=n,y7(r,s,n)}read(i,r){v7(this,i,r)}write(i,r){return _7(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return Cse.call(this,i,r)}};return t=u([A("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function Cse(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}let Hg=class extends w7(Te){};Hg=u([A("esri.core.JSONSupport")],Hg),function(e){function t(i){return i&&typeof i=="object"&&"toJSON"in i&&typeof i.toJSON=="function"}e.JSONSupportMixin=w7,e.isSerializable=t}(Hg||(Hg={}));const K=Hg,Ise=Object.prototype.toString;function Rse(e){const t="__accessorMetadata__"in e?ji(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Lse.apply(this,i)}}function Lse(e,t,i,r){uT(e,t).cast=r}function Nse(e){return(t,i)=>{uT(t,e).cast=t[i]}}function ht(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&Ise.call(e[0])==="[object Function]"?Rse(e[0]):e.length===1&&typeof e[0]=="string"?Nse(e[0]):void 0}function ue(e,t,i){let r,s;return t===void 0||Array.isArray(t)?(s=e,i=t,r=[void 0]):(s=t,r=Array.isArray(e)?e:[e]),(n,o)=>{const c=n.constructor.prototype;r.forEach(d=>{const f=CV(n,d,s);f.read&&typeof f.read=="object"||(f.read={}),f.read.reader=c[o],i&&(f.read.source=(f.read.source||[]).concat(i))})}}function de(e,t,i){let r,s;return t===void 0?(s=e,r=[void 0]):typeof t!="string"?(s=e,r=[void 0],i=t):(s=t,r=Array.isArray(e)?e:[e]),(n,o)=>{const c=n.constructor.prototype;for(const d of r){const f=CV(n,d,s);f.write&&typeof f.write=="object"||(f.write={}),i&&(f.write.target=i),f.write.writer=c[o]}}}let rt=class{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=Pse(t),this.apiValues=U5(this._apiToJSON),this.jsonValues=U5(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,s,n)=>{const o=this.toJSON(r);o!==void 0&&cr(n,o,s)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const i=this._apiToJSON[t];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function Pse(e){const t={};for(const i in e)t[e[i]]=i;return t}function U5(e){const t=[];for(const i in e)t.push(i);return t.sort(),t}function hr(){return function(e,t){return new rt(e,{ignoreUnknown:!0,...t})}}let CR=class{constructor(t,i,r,s,n,o){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=s,this.scaleHeight=n;const c=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*c,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const pi=new CR(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),ca=new CR(3396190,1/169.8944472236118,23e4,6e4,.111),bc=new CR(1737400,0,0,0,0),Dse=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,kse={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function z5(e){const t=e==null?void 0:e.match(Dse);if(!t)return null;const[,i,r,s]=t;if(!i)return null;let n=null,o=null,c=null;const{devext:d,qaext:f,www:g}=kse;if(r)if(n=i,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:c}=d);break;case"qa":({customBaseUrl:o,portalHostname:c}=f);break;default:return null}else({customBaseUrl:o,portalHostname:c}=g);else switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:c}=d);break;case"qaext":({customBaseUrl:o,portalHostname:c}=f);break;case"www":({customBaseUrl:o,portalHostname:c}=g);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:c,urlKey:n}}function Fse(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function S7(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):i.test(e)?e=e.replace(i,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}function T7(e){const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i.buffer}function jse(e){const t=new Uint8Array(e);let i="";for(let r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return btoa(i)}const Use=()=>ne.getLogger("esri.core.urlUtils"),Bm=Tt.request,V5="esri/config: esriConfig.request.proxyUrl is not set.",E7=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,$7=/^\s*http:/i,zse=/^\s*https:/i,Vse=/^\s*file:/i,Gse=/:\d+$/,qse=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Bse=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Hse=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let sm=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(Bse);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(Hse),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const f_={},Wse=new sm(Tt.applicationUrl);let Pr=Wse;const Zse=Yse();let IR=Zse;const RR=()=>Pr,_Ce=()=>IR;function Yse(){const e=Pr.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${Pr.scheme}://${Pr.host}${Pr.port!=null?`:${Pr.port}`:""}`}${t}`}function dr(e){if(!e)return null;const t={path:null,query:null},i=new sm(e),r=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.slice(0,r),t.query=LR(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.slice(0,t.path.length-(i.fragment.length+1)))),t}function LR(e){const t=e.split("&"),i={};for(const r of t){if(!r)continue;const s=r.indexOf("=");let n,o;s<0?(n=decodeURIComponent(r),o=""):(n=decodeURIComponent(r.slice(0,s)),o=decodeURIComponent(r.slice(s+1)));let c=i[n];typeof c=="string"&&(c=i[n]=[c]),Array.isArray(c)?c.push(o):i[n]=o}return i}function Pv(e,t){return e?Object.keys(e).map(i=>{const r=e[i];if(r==null)return"";const s=encodeURIComponent(i)+"=",n=t==null?void 0:t[i];return n?s+encodeURIComponent(n(r)):Array.isArray(r)?r.map(o=>K.isSerializable(o)?s+encodeURIComponent(JSON.stringify(o)):s+encodeURIComponent(o)).join("&"):K.isSerializable(r)?s+encodeURIComponent(JSON.stringify(r)):s+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function x7(e=!1){let t,i=Bm.proxyUrl;if(typeof e=="string"){t=tne(e);const r=mT(e);r&&(i=r.proxyUrl)}else t=!!e;if(!i)throw Use().warn(V5),new z("urlUtils:proxy-not-set",V5);return t&&Q3()&&(i=FR(i)),dr(i)}function wCe(e,t=!1){const i=mT(e);let r,s;if(i){const n=NR(i.proxyUrl);r=n.path,s=n.query?LR(n.query):null}else if(t){const n=x7(e);r=n.path,s=n.query}if(r){const n=dr(e);e=r+"?"+n.path;const o=Pv({...s,...n.query});o&&(e=`${e}?${o}`)}return e}const vg={path:"",query:""};function NR(e){const t=e.indexOf("?");return t!==-1?(vg.path=e.slice(0,t),vg.query=e.slice(t+1)):(vg.path=e,vg.query=null),vg}function M7(e){return e=(e=i2(e=ane(e=NR(e).path),!0)).toLowerCase()}function Jse(e){const t={proxyUrl:e.proxyUrl,urlPrefix:M7(e.urlPrefix)},i=Bm.proxyRules,r=t.urlPrefix;let s=i.length;for(let n=0;n<i.length;n++){const o=i[n].urlPrefix;if(r.indexOf(o)===0){if(r.length===o.length)return-1;s=n;break}o.indexOf(r)===0&&(s=n+1)}return i.splice(s,0,t),s}function mT(e){const t=Bm.proxyRules,i=M7(e);for(let r=0;r<t.length;r++)if(i.indexOf(t[r].urlPrefix)===0)return t[r]}function Xse(e,t){if(!e||!t)return!1;e=t2(e),t=t2(t);const i=z5(e),r=z5(t);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&$m(e,t,!0)}function A7(e,t){return e=t2(e),t=t2(t),i2(e)===i2(t)}function t2(e){const t=(e=Mo(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function X3(e,t=Bm.interceptors){const i=r=>r==null||r instanceof RegExp&&r.test(e)||typeof r=="string"&&e.startsWith(r);if(t){for(const r of t)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function $m(e,t,i=!1){if(!e||!t)return!1;const r=eA(e),s=eA(t);return!(!i&&r.scheme!==s.scheme)&&r.host!=null&&s.host!=null&&r.host.toLowerCase()===s.host.toLowerCase()&&r.port===s.port}function PR(e){if(typeof e=="string"){if(!Xs(e))return!0;e=eA(e)}if($m(e,Pr))return!0;const t=Bm.trustedServers||[];for(let i=0;i<t.length;i++){const r=Qse(t[i]);for(let s=0;s<r.length;s++)if($m(e,r[s]))return!0}return!1}function Qse(e){return f_[e]||(kR(e)||ha(e)?f_[e]=[new sm(Mn(e))]:f_[e]=[new sm(`http://${e}`),new sm(`https://${e}`)]),f_[e]}function Mn(e,t=IR,i){return ha(e)?i!=null&&i.preserveProtocolRelative?e:Pr.scheme==="http"&&Pr.authority===Js(e).slice(2)?`http:${e}`:`https:${e}`:kR(e)?e:xm(e[0]==="/"?nne(t):t,e)}function DR(e,t=IR,i){if(e==null||!Xs(e))return e;const r=Mo(e),s=r.toLowerCase(),n=Mo(t).toLowerCase().replace(/\/+$/,""),o=i?Mo(i).toLowerCase().replace(/\/+$/,""):null;if(o&&n.indexOf(o)!==0)return e;const c=(v,_,S)=>(S=v.indexOf(_,S))===-1?v.length:S;let d=c(s,"/",s.indexOf("//")+2),f=-1;for(;s.slice(0,d+1)===n.slice(0,d)+"/"&&(f=d+1,d!==s.length);)d=c(s,"/",d+1);if(f===-1||o&&f<o.length)return e;e=r.slice(f);const g=n.slice(f-1).replaceAll(/[^/]+/g,"").length;if(g>0)for(let v=0;v<g;v++)e=`../${e}`;else e=`./${e}`;return e}function Mo(e){return e=cne(e=une(e=lne(e=Mn(e=e.trim()))))}function xm(...e){const t=e.filter(Al);if(!(t!=null&&t.length))return;const i=[];if(Xs(t[0])){const s=t[0],n=s.indexOf("//");n!==-1&&(i.push(s.slice(0,n+1)),rne(t[0])&&(i[0]+="/"),t[0]=s.slice(n+2))}else t[0][0]==="/"&&i.push("");const r=t.reduce((s,n)=>n?s.concat(n.split("/")):s,[]);for(let s=0;s<r.length;s++){const n=r[s];n===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!n&&s===r.length-1||n&&(n!=="."||i.length===0))&&i.push(n)}return i.join("/")}function Js(e,t=!1){if(e==null||yT(e)||Bh(e))return null;let i=e.indexOf("://");if(i===-1&&ha(e))i=2;else{if(i===-1)return null;i+=3}const r=e.indexOf("/",i);return r!==-1&&(e=e.slice(0,r)),t&&(e=i2(e,!0)),e}function Xs(e){return ha(e)||kR(e)}function yT(e){return e!=null&&e.slice(0,5)==="blob:"}function Bh(e){return e!=null&&e.slice(0,5)==="data:"}function Kse(e){const t=Mm(e);return t!=null&&t.isBase64?T7(t.data):null}function SCe(e){return jse(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const ene=/^data:(.*?)(;base64)?,(.*)$/;function Mm(e){const t=e.match(ene);if(!t)return null;const[,i,r,s]=t;return{mediaType:i,isBase64:!!r,data:s}}function O7(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function TCe(e){return(await fetch(e)).blob()}function ECe(e){const t=Kse(e);if(!t)return null;const i=Mm(e);return new Blob([t],{type:i.mediaType})}function ha(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function kR(e){return e!=null&&E7.test(e)}function tne(e){return e!=null&&zse.test(e)||Pr.scheme==="https"&&ha(e)}function ine(e){return e!=null&&$7.test(e)||Pr.scheme==="http"&&ha(e)}function rne(e){return e!=null&&Vse.test(e)}function FR(e){return ha(e)?`https:${e}`:e.replace($7,"https:")}function sne(){return Pr.scheme==="http"}function Q3(){return Pr.scheme==="https"}function i2(e,t=!1){return ha(e)?e.slice(2):(e=e.replace(E7,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function nne(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function one(e){let t=0;if(Xs(e)){const r=e.indexOf("//");r!==-1&&(t=r+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function $Ce(e,t){if(!e)return"";const i=dr(e).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!(t!=null&&t.length))return r;const s=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(s,"")}function ane(e){return e.endsWith("/")?e:`${e}/`}function C7(e){return e.replace(/\/+$/,"")}function lne(e){if(/^https?:\/\//i.test(e)){const t=NR(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function une(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function cne(e){const t=Bm.httpsDomains;if(!ine(e))return e;const i=e.indexOf("/",7);let r;if(r=i===-1?e:e.slice(0,i),r=r.toLowerCase().slice(7),Gse.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return sne()&&r===Pr.authority&&!qse.test(e)||(Q3()&&r===Pr.authority||t&&t.some(s=>r===s||r.endsWith(`.${s}`))||Q3()&&!mT(e))&&(e=FR(e)),e}function K3(e,t,i){if(!(t&&i&&e&&Xs(e)))return e;const r=e.indexOf("//"),s=e.indexOf("/",r+2),n=e.indexOf(":",r+2),o=Math.min(s<0?e.length:s,n<0?e.length:n);return e.slice(r+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${i}${e.slice(o)}`}function eA(e){return typeof e=="string"?new sm(Mn(e)):(e.scheme||(e.scheme=Pr.scheme),e)}function xCe(e){return hne.test(e)}function I7(e,t){const i=dr(e),r=Object.keys(i.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function dne(e,t,i){const r=dr(e),s=r.query||{};return s[t]=String(i),`${r.path}?${Pv(s)}`}function Yx(e,t){if(!t)return e;const i=dr(e),r=i.query||{};for(const[n,o]of Object.entries(t))o!=null&&(r[n]=o);const s=Pv(r);return s?`${i.path}?${s}`:i.path}function MCe(e){if(e==null)return null;const t=e.match(R7);return t?t[2]:null}function G5(e){if(e==null)return null;const t=e.match(R7);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function ACe(e){return typeof e=="string"?Mm(e)??{data:e}:new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(Mm(r.result)),r.onerror=s=>i(s)})}const R7=/([^.]*)\.([^/]*)$/,hne=/(^data:image\/svg|\.svg$)/i,L7="20250407",N7="04d2b42da93678ca718b23aaf7e216985f10fa8e";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const pne="4.32";let Be,jR=pne;jR="4.32.10";function OCe(e){Be=e}function CCe(e){const t=Be==null?void 0:Be.findCredential(e);return t!=null&&t.token?dne(e,"token",t.token):e}B("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),B("host-webworker");function Hm(e,t){var r;const i=(r=t==null?void 0:t.url)==null?void 0:r.path;if(e&&i&&(e=Mn(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const s=DR(e,t.portalItem.itemUrl);s!=null&&fne.test(s)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(s).path)}return(e=tA(e,t==null?void 0:t.portal))&&gT.test(e)?zR(e):e}function g1(e,t,i=Dv.YES){var s,n;if((e=e&&gT.test(e)?D7(e):e)==null)return e;!Xs(e)&&(t!=null&&t.blockedRelativeUrls)&&t.blockedRelativeUrls.push(e);let r=Mn(e);if(t){const o=((s=t.verifyItemRelativeUrls)==null?void 0:s.rootPath)||((n=t.url)==null?void 0:n.path);if(o){const c=tA(o,t.portal),d=tA(r,t.portal);r=DR(d,c,c),r!=null&&r!==d&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=P7(r,t==null?void 0:t.portal),Xs(r)&&(r=Mo(r)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!Xs(r)&&!Bh(r)&&i===Dv.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function UR(e,t,i){return Hm(e,i)}function Lh(e,t,i,r){const s=g1(e,r);s!==void 0&&(t[i]=s)}const gT=/\/items\/([^/]+)\/resources\/(.*)/,fne=/^\.\/resources\//;function mne(e){const t=(e==null?void 0:e.match(gT))??null;return(t==null?void 0:t[1])??null}function yne(e){const t=(e==null?void 0:e.match(gT))??null;if(t==null)return null;const i=t[2],r=i.lastIndexOf("/");if(r===-1){const{path:o,extension:c}=G5(i);return{prefix:null,filename:o,extension:c}}const{path:s,extension:n}=G5(i.slice(r+1));return{prefix:i.slice(0,r),filename:s,extension:n}}function P7(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?K3(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function tA(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,r=RR();return $m(r,`${r.scheme}://${i}`)?K3(e,t.portalHostname,i):K3(e,i,t.portalHostname)}function zR(e){if(!e)return e||null;let t=e;return t&&Be&&!Be.findCredential(t)&&(t=S7(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function D7(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Be&&!Be.findCredential(t)&&(t=S7(t)),t}var Dv;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Dv||(Dv={}));const ICe=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Dv},ensureMainOnlineDomain:P7,fromCDNUrl:D7,fromJSON:Hm,itemIdFromResourceUrl:mne,prefixAndFilenameFromResourceUrl:yne,read:UR,toCDNUrl:zR,toJSON:g1,write:Lh},Symbol.toStringTag,{value:"Module"})),k7={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},F7=Object.values(k7),j7=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${F7.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),gne=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${F7.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),vne=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function RCe(e){return j7.test(e)}function Wm(e){if(e==null)return null;const t=dr(e),i=(t==null?void 0:t.path.match(j7))||(t==null?void 0:t.path.match(gne));if(!i)return null;const[,r,s,n,o]=i,c=s.indexOf("/");return{title:VR(c!==-1?s.slice(c+1):s),serverType:k7[n.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:r}}}function bne(e){const t=dr(e).path.match(vne);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function VR(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function _ne(e,t){const i=[];if(e){const r=Wm(e);r!=null&&r.title&&i.push(r.title)}if(t){const r=VR(t);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function r2(e){let t=Js(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function wne(e,t){return e&&C7(I7(e,t))}function Sne(e){let{url:t}=e;if(!t)return{url:t};t=I7(t,e.logger);const i=dr(t),r=Wm(i.path);let s;if(r!=null)r.sublayer!=null&&e.layer.layerId==null&&(s=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){const n=bne(i.path);n!=null&&(t=n.serviceUrl,s=n.sublayerId)}return{url:C7(t),layerId:s}}function Tne(e,t,i,r,s){Lh(t,r,"url",s),r.url&&e.layerId!=null&&(r.url=xm(r.url,i,e.layerId.toString()))}function LCe(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),s=t.includes("/imageserver/wmsserver"),n=t.includes("/wmsserver");return i&&(r||s||n)}const Ene=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function $ne(e){const t=Js(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!Ene.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function U7(e,t){return!(!Tt.apiKey||!$ne(e))}function xne(e,t,i=!1,r){return new Promise((s,n)=>{if(Ks(r))return void n(q5());let o=()=>{f(),n(new Error(`Unable to load ${t}`))},c=()=>{const g=e;f(),s(g)},d=()=>{if(!e)return;const g=e;f(),g.src="",n(q5())};const f=()=>{B("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",c)),o=null,c=null,e=null,r!=null&&r.removeEventListener("abort",d),d=null,i&&URL.revokeObjectURL(t)};r!=null&&r.addEventListener("abort",d),B("esri-image-decode")?e.decode().then(c,o):(e.addEventListener("error",o),e.addEventListener("load",c))})}function q5(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const z7="Timeout exceeded";function Mne(){return new Error(z7)}function NCe(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===z7}function Ane(e){Tt.request.crossOriginNoCorsDomains||(Tt.request.crossOriginNoCorsDomains={});const t=Tt.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[Js(i)??""]=0:(t[Js("http://"+i)??""]=0,t[Js("https://"+i)??""]=0)}function One(e){const t=Tt.request.crossOriginNoCorsDomains;if(t){let i=Js(e);if(i)return i=i.toLowerCase(),!$m(i,RR())&&t[i]<Date.now()-36e5}return!1}async function Cne(e){var s;const t=dr(e);e=t.path,((s=t.query)==null?void 0:s.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const i=Tt.request.crossOriginNoCorsDomains,r=Js(e);i&&r&&(i[r.toLowerCase()]=Date.now())}async function qt(e,t){var S;e instanceof URL&&(e=e.toString()),(t==null?void 0:t.query)instanceof URLSearchParams&&(t.query=LR(t.query.toString().replaceAll("+"," ")));const i=Bh(e),r=yT(e);r||i||(e=Mo(e));const s={url:e,requestOptions:{...t}},n=T=>({data:T,getAllHeaders:Am,getHeader:Am,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),o=X3(e,xn.internalInterceptors);if(o){const T=await H5(o,s);if(T!=null)return n(T)}let c=X3(e);if(c){const T=await H5(c,s);if(T!=null)return n(T);c.after||c.error||(c=null)}if(e=s.url,(t=s.requestOptions).responseType==="image"&&(B("host-webworker")||B("host-node")))throw Ao("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(t.method==="head"){if(t.body)throw Ao("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(i||r)throw Ao("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await Pne(),s2)return s2.execute(e,t);const d=new AbortController,f=In(t,()=>d.abort()),g={controller:d,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:c,params:s,redoRequest:!1,useIdentity:xn.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},v=t.useRequestQueue?Une(g):rA(g),_=await v.finally(()=>f==null?void 0:f.remove());return(S=c==null?void 0:c.after)==null||S.call(c,_),_}let s2;const xn=Tt.request,V7="FormData"in globalThis,Ine=new Set([499,498,403,401]),Rne=new Set(["COM_0056","COM_0057","SB_0008"]),Lne=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Am=()=>null,n2=Symbol();function Nne(e){const t=Js(e);t&&!qt._corsServers.includes(t)&&qt._corsServers.push(t)}function B5(e){const t=Js(e);return!t||t.endsWith(".arcgis.com")||qt._corsServers.includes(t)||PR(t)}function Ao(e,t,i,r){let s="Error";const n={url:i.url,requestOptions:i.requestOptions,getAllHeaders:Am,getHeader:Am,ssl:!1};if(t instanceof z)return t.details?(t.details=j(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=n,t;if(t){const o=r&&(()=>Array.from(r.headers)),c=r&&(g=>r.headers.get(g)),d=r==null?void 0:r.status,f=t.message;f&&(s=f),o&&c&&(n.getAllHeaders=o,n.getHeader=c),n.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||d||0,n.subCode=t.subcode,n.messageCode=t.messageCode,typeof t.details=="string"?n.messages=[t.details]:n.messages=t.details,n.raw=n2 in t?t[n2]:t}return Ur(t)?Bt():new z(e,s,n)}async function Pne(){B("host-webworker")&&!s2&&(s2=await te(()=>import("./request-CNCXcel6.js"),[]))}async function iA(){Be||await te(()=>import("./IdentityManager-OUvjCp0T.js"),[])}async function Dne(e){var c;const t=e.params.url,i=e.params.requestOptions,r=e.controller.signal,s=i.body;let n=null,o=null;if(V7&&"HTMLFormElement"in globalThis&&(s instanceof FormData?n=s:s instanceof HTMLFormElement&&(n=new FormData(s))),typeof s=="string"&&(o=s),e.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:xn.priority,redirect:"follow",signal:r},(n||o)&&(e.fetchOptions.body=n||o),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(c=i.query)!=null&&c.token||n!=null&&n.get("token")),!e.hasToken&&U7(t)&&(i.query||(i.query={}),i.query.token=Tt.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!G7(t)&&!Ks(r)){let d;i.authMode==="immediate"?(await iA(),d=await Be.getCredential(t,{signal:r}),e.credential=d):i.authMode==="no-prompt"?(await iA(),d=await Be.getCredential(t,{prompt:!1,signal:r}).catch(()=>{}),e.credential=d):Be&&(d=Be.findCredential(t)),d&&(e.credentialToken=d.token,e.useSSL=!!d.ssl)}}function G7(e){return Lne.some(t=>t.test(e))}async function kne(e){let t=e.params.url;const i=e.params.requestOptions,r=e.fetchOptions??{},s=yT(t)||Bh(t),n=i.responseType||"json",o=s?0:i.timeout!=null?i.timeout:xn.timeout;let c=!1;if(!s){e.useSSL&&(t=FR(t));let _={...i.query};e.credentialToken&&(_.token=e.credentialToken);let S=Pv(_);B("esri-url-encodes-apostrophe")&&(S=S.replaceAll("'","%27"));const T=t.length+1+S.length;let E;c=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||T>xn.maxUrlLength;const M=i.useProxy||!!mT(t);if(M){const C=x7(t);E=C.path,!c&&E.length+1+T>xn.maxUrlLength&&(c=!0),C.query&&(_={...C.query,..._})}if(r.method==="HEAD"&&(c||M)){if(c)throw T>xn.maxUrlLength?Ao("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Ao("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(M)throw Ao("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(c?(r.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=Yx(t,_):(r.body=Pv(_),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Yx(t,_),M&&(e.useProxy=!0,t=`${E}?${t}`),_.token&&V7&&r.body instanceof FormData&&!Fse(t)&&r.body.set("token",_.token),i.hasOwnProperty("withCredentials"))e.withCredentials=i.withCredentials;else if(!$m(t,RR())){if(PR(t))e.withCredentials=!0;else if(Be){const C=Be.findServerInfo(t);C!=null&&C.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(r.credentials="include",One(t)&&await Cne(c?Yx(t,_):t))}let d,f,g=0,v=!1;o>0&&(g=setTimeout(()=>{v=!0,e.controller.abort()},o));try{if(i.responseType==="native-request-init")f=r,f.url=t,i.signal?f.signal=i.signal:delete f.signal;else if(i.responseType!=="image"||r.cache!=="default"||r.method!=="GET"||c||Fne(i.headers)||!s&&!e.useProxy&&xn.proxyUrl&&!B5(t)){if(qt._beforeFetch&&await qt._beforeFetch(t,r),d=await fetch(t,r),qt._afterFetch&&await qt._afterFetch(d),e.useProxy||Nne(t),i.responseType==="native")f=d;else if(r.method!=="HEAD")if(d.ok){switch(n){case"array-buffer":f=await d.arrayBuffer();break;case"blob":case"image":f=await d.blob();break;default:f=await d.text()}if(g&&(clearTimeout(g),g=0),n==="json"||n==="xml"||n==="document")if(f)switch(n){case"json":f=JSON.parse(f);break;case"xml":f=W5(f,"application/xml");break;case"document":f=W5(f,"text/html")}else f=null;if(f){if(n==="array-buffer"||n==="blob"){const _=d.headers.get("Content-Type");if(_&&/application\/json|text\/plain/i.test(_)&&f[n==="blob"?"size":"byteLength"]<=750)try{const S=await new Response(f).json();S.error&&(f=S)}catch{}}n==="image"&&f instanceof Blob&&(f=await Z5(URL.createObjectURL(f),e,!0))}}else{f=await d.text();try{f=JSON.parse(f)}catch{}}}else f=await Z5(t,e)}catch(_){if(_.name==="AbortError")throw v?Mne():Bt("Request canceled");if(!(!d&&_ instanceof TypeError&&xn.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||B5(t))throw _;e.redoRequest=!0,Jse({proxyUrl:xn.proxyUrl,urlPrefix:Js(t)??""})}finally{g&&clearTimeout(g)}return[d,f]}async function H5(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let i,r;try{r=await e.before(t)}catch(s){i=Ao("request:interceptor",s,t)}if((r instanceof Error||r instanceof z)&&(i=Ao("request:interceptor",r,t)),i)throw e.error&&e.error(i),i;return r}}function Fne(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function W5(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}qt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],qt._beforeFetch=void 0,qt._afterFetch=void 0;const jne=new Map;async function Une(e){const t=Vne(e.params.url);if(!t)return rA(e);const{QueueProcessor:i}=await te(()=>import("./QueueProcessor-CoND9_z9.js"),[]);return l1(jne,t.origin,()=>{const s=t.isHosted?B("request-queue-concurrency-hosted"):B("request-queue-concurrency-non-hosted");return new i({concurrency:s,process:n=>{if(Ks(n.params.requestOptions))throw Ao("",Bt("Request canceled"),n.params);return rA(n)}})}).push(e)}async function rA(e){var n,o;let t,i;await Dne(e);try{do[t,i]=await kne(e);while(!await zne(e,t,i))}catch(c){const d=Ao("request:server",c,e.params,t);throw d.details.ssl=e.useSSL,(n=e.interceptor)!=null&&n.error&&e.interceptor.error(d),d}const r=e.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&((o=i.user)!=null&&o.username)&&!PR(r)){const c=Js(r,!0);c&&xn.trustedServers.push(c)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&Ane(i.authorizedCrossOriginNoCorsDomains)}const s=e.credential;if(s&&Be){const c=Be.findServerInfo(s.server);let d=c==null?void 0:c.owningSystemUrl;if(d){d=d.replace(/\/?$/,"/sharing");const f=Be.findCredential(d,s.userId);f&&Be._getIdenticalSvcIdx(d,f)===-1&&f.resources.unshift(d)}}return{data:i,getAllHeaders:t?()=>Array.from(t.headers):Am,getHeader:t?c=>t.headers.get(c):Am,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function zne(e,t,i){var f;if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||r.responseType==="native"||r.responseType==="native-request-init")return!0;let s,n;if(i&&(i.error&&typeof i.error=="object"?s=i.error:i.status==="error"&&Array.isArray(i.messages)&&(s={...i},s[n2]=i,s.details=i.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[n2]=i,s;let o,c=null;s&&(n=Number(s.code),c=s.hasOwnProperty("subcode")?Number(s.subcode):null,o=s.messageCode,o=o==null?void 0:o.toUpperCase());const d=r.authMode;if(n===403&&(c===4||(f=s.message)!=null&&f.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(d!=="no-prompt"||n===498)&&n!==void 0&&Ine.has(n)&&!G7(e.params.url)&&(n!==403||(!o||!Rne.has(o))&&(c==null||c===2&&e.credentialToken))){await iA();try{const g=await Be.getCredential(e.params.url,{error:Ao("request:server",s,e.params),prompt:d!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=g,e.credentialToken=g.token,e.useSSL=e.useSSL||g.ssl,!1}catch(g){if(d==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;s=g}}if(s)throw s;return!0}function Z5(e,t,i=!1){const r=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=xn.priority,s.src=e,xne(s,e,i,r)}function Vne(e){let t,i;return typeof e=="string"?(t=Js(e,!0),i=r2(e)):(t=e.origin,i=r2(e.toString())),t==null?null:{origin:t,isHosted:i}}function wi(e){if(!Tt.assetsPath)throw ne.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new z("assets:path-not-set","config.assetsPath is not set");return xm(Tt.assetsPath,e)}let Jx,k=null;function GR(){return!!k}function Gne(){return!!B("esri-wasm")}function q7(){return Jx||(Jx=te(()=>import("./pe-wasm-Co3DzcyP.js"),__vite__mapDeps([0,1])).then(e=>e.p).then(({default:e})=>e({locateFile:t=>wi(`esri/geometry/support/${t}`)})).then(e=>{W7(e)}),Jx)}var sA,ii;(function(e){function t(n,o,c){k.ensureCache.prepare();const d=uh(c),f=c===d,g=k.ensureFloat64(d),v=k._pe_geog_to_proj(k.getPointer(n),o,g);return v&&rc(c,o,g,f),v}function i(n,o,c,d){switch(d){case ii.PE_TRANSFORM_P_TO_G:return r(n,o,c);case ii.PE_TRANSFORM_G_TO_P:return t(n,o,c)}return 0}function r(n,o,c){return s(n,o,c,0)}function s(n,o,c,d){k.ensureCache.prepare();const f=uh(c),g=c===f,v=k.ensureFloat64(f),_=k._pe_proj_to_geog_center(k.getPointer(n),o,v,d);return _&&rc(c,o,v,g),_}e.geogToProj=t,e.projGeog=i,e.projToGeog=r,e.projToGeogCenter=s})(sA||(sA={})),function(e){function t(){e.PE_BUFFER_MAX=k.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=k.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=k.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=k.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=k.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=k.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=k.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=k.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=k.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=k.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=k.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=k.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=k.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=k.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=k.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=k.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=k.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=k.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=k.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=k.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=k.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=k.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=k.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=k.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=k.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=k.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=k.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=k.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=k.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=k.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=k.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=k.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(ii||(ii={}));let B7=null;var nA;(function(e){const t={},i={},r=S=>{const T=S.getType();switch(T){case ii.PE_TYPE_GEOGCS:S=k.castObject(S,k.PeGeogcs);break;case ii.PE_TYPE_PROJCS:S=k.castObject(S,k.PeProjcs);break;case ii.PE_TYPE_GEOGTRAN:S=k.castObject(S,k.PeGeogtran);break;default:T&ii.PE_TYPE_UNIT&&(S=k.castObject(S,k.PeUnit))}return S};function s(){k.PeFactory.prototype.initialize(null)}function n(S){return o(ii.PE_TYPE_COORDSYS,S)}function o(S,T){let E=null,M=t[S];if(M||(M={},t[S]=M),M.hasOwnProperty(String(T))&&(E=M[T],k.compare(E,k.NULL)&&(E=null)),!E){const C=k.PeFactory.prototype.factoryByType(S,T);k.compare(C,k.NULL)||(E=r(C),M[T]=E)}return E}function c(S,T){let E=null,M=i[S];if(M||(M={},i[S]=M),M.hasOwnProperty(T)&&(E=M[T],k.compare(E,k.NULL)&&(E=null)),!E){const C=k.PeFactory.prototype.fromString(S,T);k.compare(C,k.NULL)||(E=r(C),M[T]=E)}return E}function d(S){return o(ii.PE_TYPE_GEOGCS,S)}function f(S){return o(ii.PE_TYPE_GEOGTRAN,S)}function g(S){return k.PeFactory.prototype.getCode(S)}function v(S){return o(ii.PE_TYPE_PROJCS,S)}function _(S){return o(ii.PE_TYPE_UNIT,S)}e.initialize=s,e.coordsys=n,e.factoryByType=o,e.fromString=c,e.geogcs=d,e.geogtran=f,e.getCode=g,e.projcs=v,e.unit=_})(nA||(nA={}));let H7=null;var o2,oA,aA,lA,uA,cA,a2,dA,l2,u2,hA;function W7(e){function t(n,o,c){n[o]=c(n[o])}k=e,ii.init(),o2.init(),a2.init(),l2.init(),u2.init(),B7=class extends k.PeDouble{constructor(n=NaN){super(n)}destroy(){k.destroy(this)}[Symbol.dispose](){this.destroy()}},H7=class extends k.PeGCSExtent{destroy(){k.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[k.PeAngunit,k.PeDatum,k.PeGeogcs,k.PeGeogtran,k.PeObject,k.PeParameter,k.PePrimem,k.PeProjcs,k.PeSpheroid,k.PeUnit];for(const n of i)t(n.prototype,"getName",o=>function(){return o.call(this,new Array(ii.PE_NAME_MAX))});for(const n of[k.PeGeogtran,k.PeProjcs])t(n.prototype,"getParameters",o=>function(){const c=new Array(ii.PE_PARM_MAX);let d=o.call(this);for(let f=0;f<c.length;f++){const g=k.getValue(d,"*");c[f]=g?k.wrapPointer(g,k.PeParameter):null,d+=Int32Array.BYTES_PER_ELEMENT}return c});t(k.PeHorizon.prototype,"getCoord",n=>function(o=!1){const c=this.getSize();if(!c)return null;const d=[];return rc(d,c,n.call(this),o),d}),t(k.PeGTlistExtendedEntry.prototype,"getEntries",n=>{const o=k._pe_getPeGTlistExtendedGTsSize();return function(){let c=null;const d=n.call(this);if(!k.compare(d,k.NULL)){c=[d];const f=this.getSteps();if(f>1){const g=k.getPointer(d);for(let v=1;v<f;v++)c.push(k.wrapPointer(g+o*v,k.PeGTlistExtendedGTs))}}return c}});const r=k._pe_getPeHorizonSize(),s=n=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(n))return o.get(n);let c=null;const d=n.call(this);if(!k.compare(d,k.NULL)){c=[d];const f=d.getNump();if(f>1){const g=k.getPointer(d);for(let v=1;v<f;v++)c.push(k.wrapPointer(g+r*v,k.PeHorizon))}}return o.set(n,c),c};t(k.PeProjcs.prototype,"horizonGcsGenerate",s),t(k.PeProjcs.prototype,"horizonPcsGenerate",s),k.PeObject.prototype.toString=function(n=ii.PE_STR_OPTS_NONE){k.ensureCache.prepare();const o=k.getPointer(this),c=k.ensureInt8(new Array(ii.PE_BUFFER_MAX));return k.UTF8ToString(k._pe_object_to_string_ext(o,n,c))},k.PeGeogcs.prototype.destroy=function(){this.Delete(),yo(this),this.ptr=0},k.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},k.PeProjcs.prototype.destroy=function(){this.Delete(),yo(this),this.ptr=0},k.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function yo(e){if(!e)return;const t=k.getClass(e);if(!t)return;const i=k.getCache(t);if(!i)return;const r=k.getPointer(e);r&&delete i[r]}function m_(e,t){const i=[],r=new Array(t);for(let s=0;s<e;s++)i.push(k.ensureInt8(r));return i}function uh(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function rc(e,t,i,r=!1){if(r)for(let s=0;s<2*t;s++)e[s]=k.getValue(i+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=e.length===0;for(let n=0;n<t;n++)s&&(e[n]=new Array(2)),e[n][0]=k.getValue(i,"double"),e[n][1]=k.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=k.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=k._pe_getPeGTlistExtendedEntrySize()}function r(s,n,o,c,d,f){let g=null;const v=new k.PeInteger(f);try{const _=k.PeGTlistExtended.prototype.getGTlist(s,n,o,c,d,v);if((f=v.val)&&(g=[_],f>1)){const S=k.getPointer(_);for(let T=1;T<f;T++)g.push(k.wrapPointer(S+t*T,k.PeGTlistExtendedEntry))}}finally{k.destroy(v)}return g}e.init=i,e.getGTlist=r})(o2||(o2={})),function(e){function t(i){if(i!=null&&i.length){for(const r of i)yo(r),r.getEntries().forEach(s=>{yo(s);const n=s.getGeogtran();yo(n),n.getParameters().forEach(yo),[n.getGeogcs1(),n.getGeogcs2()].forEach(o=>{yo(o);const c=o.getDatum();yo(c),yo(c.getSpheroid()),yo(o.getPrimem()),yo(o.getUnit())})});k.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(oA||(oA={})),function(e){function t(i,r,s,n,o){k.ensureCache.prepare();const c=uh(s),d=s===c,f=k.ensureFloat64(c);let g=0;n&&(g=k.ensureFloat64(n));const v=k._pe_geog_to_geog(k.getPointer(i),r,f,g,o);return v&&rc(s,r,f,d),v}e.geogToGeog=t}(aA||(aA={})),function(e){function t(n,o,c,d,f,g,v,_){k.PeLineType.prototype.geodesic_coordinate(n,o,c,d,f,g,v,_)}function i(n,o,c,d,f,g,v,_,S){k.PeLineType.prototype.geodetic_coordinate(n,o,c,d,f,g,v,_,S)}function r(n,o,c,d,f,g,v,_,S,T){k.PeLineType.prototype.geodetic_distance(n,o,c,d,f,g,v,_,S,T)}function s(n,o,c,d,f,g,v,_,S){k.PeLineType.prototype.great_elliptic_distance(n,o,c,d,f,g,v,_,S)}e.geodesicCoordinate=t,e.geodeticCoordinate=i,e.geodeticDistance=r,e.greatEllipticDistance=s}(lA||(lA={})),function(e){function t(o,c){return k.PeMath.prototype.phi_to_eta(o,c)}function i(o,c){return k.PeMath.prototype.eta_to_phi(o,c)}function r(o,c){return k.PeMath.prototype.phi_to_phig(o,c)}function s(o,c,d){return k.PeMath.prototype.q(o,c,d)}function n(o,c){return k.PeMath.prototype.q90(o,c)}e.phiToEta=t,e.etaToPhi=i,e.phiToPhig=r,e.q=s,e.q90=n}(uA||(uA={})),function(e){const t=(f,g,v,_,S,T)=>{let E,M;switch(k.ensureCache.prepare(),f){case"dd":E=k._pe_geog_to_dd,M=ii.PE_DD_MAX;break;case"ddm":E=k._pe_geog_to_ddm,M=ii.PE_DDM_MAX;break;case"dms":E=k._pe_geog_to_dms,M=ii.PE_DMS_MAX}let C=0;g&&(C=k.getPointer(g));const L=uh(_),N=k.ensureFloat64(L),P=m_(v,M),U=E(C,v,N,S,k.ensureInt32(P));if(U)for(let W=0;W<v;W++)T[W]=k.UTF8ToString(P[W]);return U},i=(f,g,v,_,S)=>{let T;switch(k.ensureCache.prepare(),f){case"dd":T=k._pe_dd_to_geog;break;case"ddm":T=k._pe_ddm_to_geog;break;case"dms":T=k._pe_dms_to_geog}let E=0;g&&(E=k.getPointer(g));const M=_.map(P=>k.ensureString(P)),C=k.ensureInt32(M),L=k.ensureFloat64(new Array(2*v)),N=T(E,v,C,L);return N&&rc(S,v,L),N};function r(f,g,v,_,S){return t("dms",f,g,v,_,S)}function s(f,g,v,_){return i("dms",f,g,v,_)}function n(f,g,v,_,S){return t("ddm",f,g,v,_,S)}function o(f,g,v,_){return i("ddm",f,g,v,_)}function c(f,g,v,_,S){return t("dd",f,g,v,_,S)}function d(f,g,v,_){return i("dd",f,g,v,_)}e.geogToDms=r,e.dmsToGeog=s,e.geogToDdm=n,e.ddmToGeog=o,e.geogToDd=c,e.ddToGeog=d}(cA||(cA={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=k.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=k.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=k.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=k.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=k.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(s,n,o,c,d,f,g){k.ensureCache.prepare();let v=0;s&&(v=k.getPointer(s));const _=uh(o),S=k.ensureFloat64(_),T=m_(n,ii.PE_MGRS_MAX),E=k.ensureInt32(T),M=k._pe_geog_to_mgrs_extended(v,n,S,c,d,f,E);if(M)for(let C=0;C<n;C++)g[C]=k.UTF8ToString(T[C]);return M}function r(s,n,o,c,d){k.ensureCache.prepare();let f=0;s&&(f=k.getPointer(s));const g=o.map(T=>k.ensureString(T)),v=k.ensureInt32(g),_=k.ensureFloat64(new Array(2*n)),S=k._pe_mgrs_to_geog_extended(f,n,v,c,_);return S&&rc(d,n,_),S}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=r}(a2||(a2={})),function(e){function t(r,s,n,o,c,d,f){k.ensureCache.prepare();let g=0;r&&(g=k.getPointer(r));const v=uh(n),_=k.ensureFloat64(v),S=m_(s,ii.PE_MGRS_MAX),T=k.ensureInt32(S),E=k._pe_geog_to_usng(g,s,_,o,c,d,T);if(E)for(let M=0;M<s;M++)f[M]=k.UTF8ToString(S[M]);return E}function i(r,s,n,o){k.ensureCache.prepare();let c=0;r&&(c=k.getPointer(r));const d=n.map(_=>k.ensureString(_)),f=k.ensureInt32(d),g=k.ensureFloat64(new Array(2*s)),v=k._pe_usng_to_geog(c,s,f,g);return v&&rc(o,s,g),v}e.geogToUsng=t,e.usngToGeog=i}(dA||(dA={})),function(e){function t(){e.PE_UTM_OPTS_NONE=k.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=k.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=k.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(s,n,o,c,d){k.ensureCache.prepare();let f=0;s&&(f=k.getPointer(s));const g=uh(o),v=k.ensureFloat64(g),_=m_(n,ii.PE_UTM_MAX),S=k.ensureInt32(_),T=k._pe_geog_to_utm(f,n,v,c,S);if(T)for(let E=0;E<n;E++)d[E]=k.UTF8ToString(_[E]);return T}function r(s,n,o,c,d){k.ensureCache.prepare();let f=0;s&&(f=k.getPointer(s));const g=o.map(T=>k.ensureString(T)),v=k.ensureInt32(g),_=k.ensureFloat64(new Array(2*n)),S=k._pe_utm_to_geog(f,n,v,c,_);return S&&rc(d,n,_),S}e.init=t,e.geogToUtm=i,e.utmToGeog=r}(l2||(l2={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=k.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=k.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=k.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=k.PePCSInfo.prototype.PE_POLE_POINT}function r(s,n=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,c=null;return t.has(s)&&(c=t.get(s),c[n]&&(o=c[n])),o||(o=k.PePCSInfo.prototype.generate(s,n),c||(c=[],t.set(s,c)),c[n]=o),o}e.init=i,e.generate=r}(u2||(u2={})),function(e){function t(){return k.PeVersion.prototype.version_string()}e.versionString=t}(hA||(hA={}));const qne=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return sA},get PeDefs(){return ii},get PeDouble(){return B7},get PeFactory(){return nA},get PeGCSExtent(){return H7},get PeGTTransformations(){return aA},get PeGTlistExtended(){return o2},get PeGTlistExtendedEntry(){return oA},get PeLineType(){return lA},get PeMath(){return uA},get PeNotationDms(){return cA},get PeNotationMgrs(){return a2},get PeNotationUsng(){return dA},get PeNotationUtm(){return l2},get PePCSInfo(){return u2},get PeVersion(){return hA},_init:W7,get _pe(){return k},isLoaded:GR,isSupported:Gne,load:q7},Symbol.toStringTag,{value:"Module"}));var Nh;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Nh||(Nh={}));let m;const x={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(m=2e3;m<=2045;m++)x[m]=0;for(m=2056;m<=2065;m++)x[m]=0;for(m=2067;m<=2135;m++)x[m]=0;for(m=2137;m<=2154;m++)x[m]=0;for(m=2161;m<=2170;m++)x[m]=0;for(m=2172;m<=2193;m++)x[m]=0;for(m=2195;m<=2198;m++)x[m]=0;for(m=2200;m<=2203;m++)x[m]=0;for(m=2205;m<=2217;m++)x[m]=0;for(m=2222;m<=2224;m++)x[m]=1;for(m=2225;m<=2250;m++)x[m]=2;for(m=2251;m<=2253;m++)x[m]=1;for(m=2257;m<=2264;m++)x[m]=2;for(m=2274;m<=2279;m++)x[m]=2;for(m=2280;m<=2282;m++)x[m]=1;for(m=2283;m<=2289;m++)x[m]=2;for(m=2290;m<=2292;m++)x[m]=0;for(m=2308;m<=2313;m++)x[m]=0;for(m=2315;m<=2491;m++)x[m]=0;for(m=2494;m<=2866;m++)x[m]=0;for(m=2867;m<=2869;m++)x[m]=1;for(m=2870;m<=2888;m++)x[m]=2;for(m=2891;m<=2895;m++)x[m]=2;for(m=2896;m<=2898;m++)x[m]=1;for(m=2902;m<=2908;m++)x[m]=2;for(m=2915;m<=2920;m++)x[m]=2;for(m=2921;m<=2923;m++)x[m]=1;for(m=2924;m<=2930;m++)x[m]=2;for(m=2931;m<=2962;m++)x[m]=0;for(m=2964;m<=2968;m++)x[m]=2;for(m=2969;m<=2973;m++)x[m]=0;for(m=2975;m<=2991;m++)x[m]=0;for(m=2995;m<=3051;m++)x[m]=0;for(m=3054;m<=3079;m++)x[m]=0;for(m=3081;m<=3088;m++)x[m]=0;for(m=3092;m<=3101;m++)x[m]=0;for(m=3106;m<=3138;m++)x[m]=0;for(m=3146;m<=3151;m++)x[m]=0;for(m=3153;m<=3166;m++)x[m]=0;for(m=3168;m<=3172;m++)x[m]=0;for(m=3174;m<=3203;m++)x[m]=0;for(m=3294;m<=3358;m++)x[m]=0;for(m=3367;m<=3403;m++)x[m]=0;for(m=3408;m<=3416;m++)x[m]=0;for(m=3417;m<=3438;m++)x[m]=2;for(m=3441;m<=3446;m++)x[m]=2;for(m=3447;m<=3450;m++)x[m]=0;for(m=3451;m<=3459;m++)x[m]=2;for(m=3460;m<=3478;m++)x[m]=0;for(m=3554;m<=3559;m++)x[m]=0;for(m=3560;m<=3570;m++)x[m]=2;for(m=3571;m<=3581;m++)x[m]=0;for(m=3594;m<=3597;m++)x[m]=0;for(m=3601;m<=3604;m++)x[m]=0;for(m=3637;m<=3639;m++)x[m]=0;for(m=3665;m<=3667;m++)x[m]=0;for(m=3693;m<=3695;m++)x[m]=0;for(m=3701;m<=3727;m++)x[m]=0;for(m=3728;m<=3739;m++)x[m]=2;for(m=3740;m<=3751;m++)x[m]=0;for(m=3753;m<=3760;m++)x[m]=2;for(m=3761;m<=3773;m++)x[m]=0;for(m=3775;m<=3777;m++)x[m]=0;for(m=3779;m<=3781;m++)x[m]=0;for(m=3783;m<=3785;m++)x[m]=0;for(m=3788;m<=3791;m++)x[m]=0;for(m=3797;m<=3802;m++)x[m]=0;for(m=3814;m<=3816;m++)x[m]=0;for(m=3825;m<=3829;m++)x[m]=0;for(m=3832;m<=3841;m++)x[m]=0;for(m=3844;m<=3852;m++)x[m]=0;for(m=3873;m<=3885;m++)x[m]=0;for(m=3890;m<=3893;m++)x[m]=0;for(m=3907;m<=3912;m++)x[m]=0;for(m=3942;m<=3950;m++)x[m]=0;for(m=3968;m<=3970;m++)x[m]=0;for(m=3973;m<=3976;m++)x[m]=0;for(m=3986;m<=3989;m++)x[m]=0;for(m=3994;m<=3997;m++)x[m]=0;for(m=4048;m<=4051;m++)x[m]=0;for(m=4056;m<=4063;m++)x[m]=0;for(m=4093;m<=4096;m++)x[m]=0;for(m=4390;m<=4398;m++)x[m]=0;for(m=4399;m<=4413;m++)x[m]=2;for(m=4418;m<=4433;m++)x[m]=2;for(m=4455;m<=4457;m++)x[m]=2;for(m=4484;m<=4489;m++)x[m]=0;for(m=4491;m<=4554;m++)x[m]=0;for(m=4568;m<=4589;m++)x[m]=0;for(m=4652;m<=4656;m++)x[m]=0;for(m=4766;m<=4800;m++)x[m]=0;for(m=5014;m<=5016;m++)x[m]=0;for(m=5069;m<=5072;m++)x[m]=0;for(m=5105;m<=5130;m++)x[m]=0;for(m=5167;m<=5188;m++)x[m]=0;for(m=5253;m<=5259;m++)x[m]=0;for(m=5269;m<=5275;m++)x[m]=0;for(m=5292;m<=5311;m++)x[m]=0;for(m=5329;m<=5331;m++)x[m]=0;for(m=5343;m<=5349;m++)x[m]=0;for(m=5355;m<=5357;m++)x[m]=0;for(m=5387;m<=5389;m++)x[m]=0;for(m=5459;m<=5463;m++)x[m]=0;for(m=5479;m<=5482;m++)x[m]=0;for(m=5518;m<=5520;m++)x[m]=0;for(m=5530;m<=5539;m++)x[m]=0;for(m=5550;m<=5552;m++)x[m]=0;for(m=5562;m<=5583;m++)x[m]=0;for(m=5623;m<=5625;m++)x[m]=2;for(m=5631;m<=5639;m++)x[m]=0;for(m=5649;m<=5653;m++)x[m]=0;for(m=5663;m<=5680;m++)x[m]=0;for(m=5682;m<=5685;m++)x[m]=0;for(m=5875;m<=5877;m++)x[m]=0;for(m=5896;m<=5899;m++)x[m]=0;for(m=5921;m<=5940;m++)x[m]=0;for(m=6050;m<=6125;m++)x[m]=0;for(m=6244;m<=6275;m++)x[m]=0;for(m=6328;m<=6348;m++)x[m]=0;for(m=6350;m<=6356;m++)x[m]=0;for(m=6366;m<=6372;m++)x[m]=0;for(m=6381;m<=6387;m++)x[m]=0;for(m=6393;m<=6404;m++)x[m]=0;for(m=6480;m<=6483;m++)x[m]=0;for(m=6511;m<=6514;m++)x[m]=0;for(m=6579;m<=6581;m++)x[m]=0;for(m=6619;m<=6624;m++)x[m]=0;for(m=6625;m<=6627;m++)x[m]=2;for(m=6628;m<=6632;m++)x[m]=0;for(m=6634;m<=6637;m++)x[m]=0;for(m=6669;m<=6692;m++)x[m]=0;for(m=6707;m<=6709;m++)x[m]=0;for(m=6720;m<=6723;m++)x[m]=0;for(m=6732;m<=6738;m++)x[m]=0;for(m=6931;m<=6933;m++)x[m]=0;for(m=6956;m<=6959;m++)x[m]=0;for(m=7005;m<=7007;m++)x[m]=0;for(m=7057;m<=7070;m++)x[m]=2;for(m=7074;m<=7082;m++)x[m]=0;for(m=7109;m<=7118;m++)x[m]=0;for(m=7119;m<=7127;m++)x[m]=1;for(m=7374;m<=7376;m++)x[m]=0;for(m=7528;m<=7586;m++)x[m]=0;for(m=7587;m<=7645;m++)x[m]=2;for(m=7692;m<=7696;m++)x[m]=0;for(m=7755;m<=7787;m++)x[m]=0;for(m=7791;m<=7795;m++)x[m]=0;for(m=7799;m<=7801;m++)x[m]=0;for(m=7803;m<=7805;m++)x[m]=0;for(m=7825;m<=7831;m++)x[m]=0;for(m=7845;m<=7859;m++)x[m]=0;for(m=8013;m<=8032;m++)x[m]=0;for(m=8065;m<=8068;m++)x[m]=1;for(m=8518;m<=8529;m++)x[m]=2;for(m=8533;m<=8536;m++)x[m]=2;for(m=8538;m<=8540;m++)x[m]=2;for(m=8677;m<=8679;m++)x[m]=0;for(m=8836;m<=8840;m++)x[m]=0;for(m=8857;m<=8859;m++)x[m]=0;for(m=8908;m<=8910;m++)x[m]=0;for(m=9154;m<=9159;m++)x[m]=0;for(m=9205;m<=9218;m++)x[m]=0;for(m=9271;m<=9273;m++)x[m]=0;for(m=9295;m<=9297;m++)x[m]=0;for(m=9356;m<=9360;m++)x[m]=0;for(m=9404;m<=9407;m++)x[m]=0;for(m=9476;m<=9482;m++)x[m]=0;for(m=9487;m<=9494;m++)x[m]=0;for(m=9697;m<=9699;m++)x[m]=0;for(m=9821;m<=9865;m++)x[m]=0;for(m=10285;m<=10291;m++)x[m]=0;for(m=10314;m<=10317;m++)x[m]=0;for(m=10448;m<=10465;m++)x[m]=0;for(m=10731;m<=10733;m++)x[m]=0;for(m=11114;m<=11118;m++)x[m]=0;for(m=20004;m<=20032;m++)x[m]=0;for(m=20047;m<=20049;m++)x[m]=0;for(m=20062;m<=20092;m++)x[m]=0;for(m=20135;m<=20138;m++)x[m]=0;for(m=20248;m<=20258;m++)x[m]=0;for(m=20348;m<=20358;m++)x[m]=0;for(m=20436;m<=20440;m++)x[m]=0;for(m=20822;m<=20824;m++)x[m]=0;for(m=20904;m<=20932;m++)x[m]=0;for(m=20934;m<=20936;m++)x[m]=0;for(m=21004;m<=21032;m++)x[m]=0;for(m=21035;m<=21037;m++)x[m]=0;for(m=21095;m<=21097;m++)x[m]=0;for(m=21148;m<=21150;m++)x[m]=0;for(m=21207;m<=21264;m++)x[m]=0;for(m=21307;m<=21364;m++)x[m]=0;for(m=21413;m<=21423;m++)x[m]=0;for(m=21453;m<=21463;m++)x[m]=0;for(m=21473;m<=21483;m++)x[m]=0;for(m=21780;m<=21782;m++)x[m]=0;for(m=21891;m<=21894;m++)x[m]=0;for(m=21896;m<=21899;m++)x[m]=0;for(m=22171;m<=22177;m++)x[m]=0;for(m=22181;m<=22187;m++)x[m]=0;for(m=22191;m<=22197;m++)x[m]=0;for(m=22207;m<=22222;m++)x[m]=0;for(m=22229;m<=22232;m++)x[m]=0;for(m=22234;m<=22236;m++)x[m]=0;for(m=22243;m<=22250;m++)x[m]=0;for(m=22262;m<=22265;m++)x[m]=0;for(m=22307;m<=22322;m++)x[m]=0;for(m=22348;m<=22357;m++)x[m]=0;for(m=22407;m<=22422;m++)x[m]=0;for(m=22462;m<=22465;m++)x[m]=0;for(m=22521;m<=22525;m++)x[m]=0;for(m=22607;m<=22622;m++)x[m]=0;for(m=22641;m<=22646;m++)x[m]=0;for(m=22648;m<=22657;m++)x[m]=0;for(m=22707;m<=22722;m++)x[m]=0;for(m=22762;m<=22765;m++)x[m]=0;for(m=22807;m<=22822;m++)x[m]=0;for(m=22991;m<=22994;m++)x[m]=0;for(m=23028;m<=23038;m++)x[m]=0;for(m=23301;m<=23333;m++)x[m]=2;for(m=23830;m<=23853;m++)x[m]=0;for(m=23866;m<=23872;m++)x[m]=0;for(m=23877;m<=23884;m++)x[m]=0;for(m=23886;m<=23894;m++)x[m]=0;for(m=23946;m<=23948;m++)x[m]=0;for(m=24311;m<=24313;m++)x[m]=0;for(m=24342;m<=24347;m++)x[m]=0;for(m=24370;m<=24374;m++)x[m]=10;for(m=24375;m<=24381;m++)x[m]=0;for(m=24718;m<=24721;m++)x[m]=0;for(m=24817;m<=24821;m++)x[m]=0;for(m=24877;m<=24882;m++)x[m]=0;for(m=24891;m<=24893;m++)x[m]=0;for(m=25391;m<=25395;m++)x[m]=0;for(m=25828;m<=25838;m++)x[m]=0;for(m=26191;m<=26195;m++)x[m]=0;for(m=26391;m<=26393;m++)x[m]=0;for(m=26701;m<=26722;m++)x[m]=0;for(m=26729;m<=26799;m++)x[m]=2;for(m=26801;m<=26803;m++)x[m]=2;for(m=26811;m<=26813;m++)x[m]=2;for(m=26847;m<=26870;m++)x[m]=2;for(m=26891;m<=26899;m++)x[m]=0;for(m=26901;m<=26923;m++)x[m]=0;for(m=26929;m<=26946;m++)x[m]=0;for(m=26948;m<=26998;m++)x[m]=0;for(m=27037;m<=27040;m++)x[m]=0;for(m=27205;m<=27232;m++)x[m]=0;for(m=27258;m<=27260;m++)x[m]=0;for(m=27391;m<=27398;m++)x[m]=0;for(m=27561;m<=27564;m++)x[m]=0;for(m=27571;m<=27574;m++)x[m]=0;for(m=27581;m<=27584;m++)x[m]=0;for(m=27591;m<=27594;m++)x[m]=0;for(m=27700;m<=27707;m++)x[m]=0;for(m=28191;m<=28193;m++)x[m]=0;for(m=28348;m<=28358;m++)x[m]=0;for(m=28402;m<=28432;m++)x[m]=0;for(m=28462;m<=28492;m++)x[m]=0;for(m=29118;m<=29122;m++)x[m]=0;for(m=29168;m<=29172;m++)x[m]=0;for(m=29177;m<=29185;m++)x[m]=0;for(m=29187;m<=29195;m++)x[m]=0;for(m=29900;m<=29903;m++)x[m]=0;for(m=30161;m<=30179;m++)x[m]=0;for(m=30491;m<=30494;m++)x[m]=0;for(m=30729;m<=30732;m++)x[m]=0;for(m=31251;m<=31259;m++)x[m]=0;for(m=31265;m<=31268;m++)x[m]=0;for(m=31275;m<=31279;m++)x[m]=0;for(m=31281;m<=31297;m++)x[m]=0;for(m=31461;m<=31469;m++)x[m]=0;for(m=31491;m<=31495;m++)x[m]=0;for(m=31917;m<=31922;m++)x[m]=0;for(m=31965;m<=32e3;m++)x[m]=0;for(m=32001;m<=32003;m++)x[m]=2;for(m=32005;m<=32031;m++)x[m]=2;for(m=32033;m<=32060;m++)x[m]=2;for(m=32064;m<=32067;m++)x[m]=2;for(m=32074;m<=32077;m++)x[m]=2;for(m=32081;m<=32086;m++)x[m]=0;for(m=32107;m<=32130;m++)x[m]=0;for(m=32133;m<=32159;m++)x[m]=0;for(m=32164;m<=32167;m++)x[m]=2;for(m=32180;m<=32199;m++)x[m]=0;for(m=32201;m<=32260;m++)x[m]=0;for(m=32301;m<=32360;m++)x[m]=0;for(m=32401;m<=32460;m++)x[m]=0;for(m=32501;m<=32560;m++)x[m]=0;for(m=32601;m<=32662;m++)x[m]=0;for(m=32664;m<=32667;m++)x[m]=2;for(m=32701;m<=32761;m++)x[m]=0;for(m=53001;m<=53004;m++)x[m]=0;for(m=53008;m<=53019;m++)x[m]=0;for(m=53021;m<=53032;m++)x[m]=0;for(m=53034;m<=53037;m++)x[m]=0;for(m=53042;m<=53046;m++)x[m]=0;for(m=53074;m<=53080;m++)x[m]=0;for(m=54001;m<=54004;m++)x[m]=0;for(m=54008;m<=54019;m++)x[m]=0;for(m=54021;m<=54032;m++)x[m]=0;for(m=54034;m<=54037;m++)x[m]=0;for(m=54042;m<=54046;m++)x[m]=0;for(m=54048;m<=54053;m++)x[m]=0;for(m=54074;m<=54080;m++)x[m]=0;for(m=54098;m<=54101;m++)x[m]=0;for(m=102001;m<=102040;m++)x[m]=0;for(m=102042;m<=102063;m++)x[m]=0;for(m=102065;m<=102067;m++)x[m]=0;for(m=102070;m<=102117;m++)x[m]=0;for(m=102122;m<=102216;m++)x[m]=0;for(m=102221;m<=102377;m++)x[m]=0;for(m=102382;m<=102388;m++)x[m]=0;for(m=102389;m<=102398;m++)x[m]=2;for(m=102399;m<=102444;m++)x[m]=0;for(m=102445;m<=102447;m++)x[m]=2;for(m=102448;m<=102458;m++)x[m]=0;for(m=102459;m<=102468;m++)x[m]=2;for(m=102469;m<=102499;m++)x[m]=0;for(m=102500;m<=102519;m++)x[m]=1;for(m=102520;m<=102524;m++)x[m]=0;for(m=102525;m<=102529;m++)x[m]=2;for(m=102530;m<=102588;m++)x[m]=0;for(m=102590;m<=102598;m++)x[m]=0;for(m=102601;m<=102603;m++)x[m]=0;for(m=102605;m<=102628;m++)x[m]=0;for(m=102629;m<=102646;m++)x[m]=2;for(m=102648;m<=102700;m++)x[m]=2;for(m=102701;m<=102703;m++)x[m]=0;for(m=102707;m<=102730;m++)x[m]=2;for(m=102733;m<=102758;m++)x[m]=2;for(m=102767;m<=102900;m++)x[m]=0;for(m=102901;m<=102933;m++)x[m]=2;for(m=102934;m<=102950;m++)x[m]=13;for(m=102951;m<=102963;m++)x[m]=0;for(m=102965;m<=102969;m++)x[m]=0;for(m=102971;m<=102973;m++)x[m]=0;for(m=102975;m<=102989;m++)x[m]=0;for(m=102990;m<=102992;m++)x[m]=1;for(m=102997;m<=103002;m++)x[m]=0;for(m=103003;m<=103008;m++)x[m]=2;for(m=103009;m<=103011;m++)x[m]=0;for(m=103012;m<=103014;m++)x[m]=2;for(m=103019;m<=103021;m++)x[m]=0;for(m=103022;m<=103024;m++)x[m]=2;for(m=103029;m<=103031;m++)x[m]=0;for(m=103032;m<=103034;m++)x[m]=2;for(m=103065;m<=103068;m++)x[m]=0;for(m=103074;m<=103076;m++)x[m]=0;for(m=103077;m<=103079;m++)x[m]=1;for(m=103080;m<=103082;m++)x[m]=0;for(m=103083;m<=103085;m++)x[m]=2;for(m=103090;m<=103093;m++)x[m]=0;for(m=103097;m<=103099;m++)x[m]=0;for(m=103100;m<=103102;m++)x[m]=2;for(m=103107;m<=103109;m++)x[m]=0;for(m=103110;m<=103112;m++)x[m]=2;for(m=103113;m<=103116;m++)x[m]=0;for(m=103117;m<=103120;m++)x[m]=2;for(m=103153;m<=103157;m++)x[m]=0;for(m=103158;m<=103162;m++)x[m]=2;for(m=103163;m<=103165;m++)x[m]=0;for(m=103166;m<=103168;m++)x[m]=1;for(m=103169;m<=103171;m++)x[m]=2;for(m=103186;m<=103188;m++)x[m]=0;for(m=103189;m<=103191;m++)x[m]=2;for(m=103192;m<=103195;m++)x[m]=0;for(m=103196;m<=103199;m++)x[m]=2;for(m=103200;m<=103224;m++)x[m]=0;for(m=103225;m<=103227;m++)x[m]=1;for(m=103232;m<=103237;m++)x[m]=0;for(m=103238;m<=103243;m++)x[m]=2;for(m=103244;m<=103246;m++)x[m]=0;for(m=103247;m<=103249;m++)x[m]=2;for(m=103254;m<=103256;m++)x[m]=0;for(m=103257;m<=103259;m++)x[m]=2;for(m=103264;m<=103266;m++)x[m]=0;for(m=103267;m<=103269;m++)x[m]=2;for(m=103300;m<=103375;m++)x[m]=0;for(m=103381;m<=103383;m++)x[m]=0;for(m=103384;m<=103386;m++)x[m]=1;for(m=103387;m<=103389;m++)x[m]=0;for(m=103390;m<=103392;m++)x[m]=2;for(m=103397;m<=103399;m++)x[m]=0;for(m=103400;m<=103471;m++)x[m]=2;for(m=103476;m<=103478;m++)x[m]=0;for(m=103479;m<=103481;m++)x[m]=2;for(m=103486;m<=103488;m++)x[m]=0;for(m=103489;m<=103491;m++)x[m]=2;for(m=103492;m<=103495;m++)x[m]=0;for(m=103496;m<=103499;m++)x[m]=2;for(m=103528;m<=103543;m++)x[m]=0;for(m=103544;m<=103548;m++)x[m]=2;for(m=103549;m<=103551;m++)x[m]=0;for(m=103552;m<=103554;m++)x[m]=1;for(m=103555;m<=103557;m++)x[m]=2;for(m=103558;m<=103560;m++)x[m]=0;for(m=103571;m<=103573;m++)x[m]=0;for(m=103574;m<=103576;m++)x[m]=2;for(m=103577;m<=103580;m++)x[m]=0;for(m=103581;m<=103583;m++)x[m]=2;for(m=103595;m<=103694;m++)x[m]=0;for(m=103696;m<=103699;m++)x[m]=0;for(m=103700;m<=103793;m++)x[m]=2;for(m=103794;m<=103890;m++)x[m]=0;for(m=103891;m<=103896;m++)x[m]=2;for(m=103900;m<=103971;m++)x[m]=2;for(m=103972;m<=103977;m++)x[m]=0;for(m=112e3;m<=112101;m++)x[m]=0;const Z7=[102100,102113,3857,3785,900913],Bne=[104905,104971],Hne=[4326,...Z7,...Bne],kv=[-20037508342788905e-9,20037508342788905e-9],pA=[-20037508342787e-6,20037508342787e-6],Xx={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:kv,origin:pA,dx:1e-5},Y7={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:kv,origin:pA,dx:1e-5},102100:Xx,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:kv,origin:pA,dx:1e-5},3857:Xx,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:Xx};function Ji(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const i=e.wkid,r=t.wkid;if(i!=null||r!=null){if(i===r||pa(e)&&pa(t))return!0;const o=e.latestWkid;if(o!=null&&r===o)return!0;const c=t.latestWkid;return c!=null&&i===c}let s,n;return e.wkt2&&t.wkt2?(s=e.wkt2,n=t.wkt2):e.wkt&&t.wkt&&(s=e.wkt,n=t.wkt),!(!s||!n)&&s.toUpperCase()===n.toUpperCase()}function es(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&Y7[t]||null}function J7(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function Zm(e){if(!Zs(e))return!1;const{wkid:t}=e;if(t)return x[t]==null;const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function Wne(e){return!(X7(e)||Q7(e))}function Ph(e){return(e==null?void 0:e.wkid)===4326}function PCe(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function Y5(e){return(e==null?void 0:e.wkid)===Nh.CGCS2000}function pa(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&Z7.includes(t)}function Zne(e){return(e==null?void 0:e.wkid)===32662}function vT(e){return e===Nh.GCSMARS2000||e===Nh.GCSMARS2000_SPHERE}function X7(e){return vT(e==null?void 0:e.wkid)}function bT(e){return e===Nh.GCSMOON2000}function Q7(e){return bT(e==null?void 0:e.wkid)}function Yne(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&Hne.includes(t)}function Zs(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const K7={wkid:4326,wkt:a1(Y7[4326].wkTemplate,{Central_Meridian:"0.0"})},eG={wkid:102100,latestWkid:3857},Jne={wkid:32662};function qR(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const Xne=qR(pi),BR=qR(ca),HR=qR(bc),Qne={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${pi.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},Kne=BR.wkt.toUpperCase(),eoe=HR.wkt.toUpperCase();function toe(e){if(e!=null&&Zs(e)){const t=e.wkid,i=e.wkt2??e.wkt;if(vT(t))return ca;const r=i==null?void 0:i.toUpperCase();if(i&&r===Kne)return ca;if(bT(t)||r&&r===eoe)return bc}return pi}function DCe(e){return vT(e)?ca:bT(e)?bc:pi}function c2(e){return Ji(e,Xne)}function _c(e){return c2(e)||Ji(e,BR)||Ji(e,HR)}const tG=39.37,ioe=pi.radius*Math.PI/200,iG=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Om=x,rG=/UNIT\[([^\]]+)]/i,roe=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),soe=hr()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),Yn=e=>e*e,uu=e=>e*e*e,Fv={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Yn(.001)},"square-centimeters":{inBaseUnits:Yn(.01)},"square-decimeters":{inBaseUnits:Yn(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Yn(1e3)},"square-inches":{inBaseUnits:Yn(.0254)},"square-feet":{inBaseUnits:Yn(.3048)},"square-yards":{inBaseUnits:Yn(.9144)},"square-miles":{inBaseUnits:Yn(1609.344)},"square-nautical-miles":{inBaseUnits:Yn(1852)},"square-us-feet":{inBaseUnits:Yn(1200/3937)},acres:{inBaseUnits:.0015625*Yn(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*uu(.001)},"cubic-centimeters":{inBaseUnits:1e3*uu(.01)},"cubic-decimeters":{inBaseUnits:1e3*uu(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*uu(1e3)},"cubic-inches":{inBaseUnits:1e3*uu(.0254)},"cubic-feet":{inBaseUnits:1e3*uu(.3048)},"cubic-yards":{inBaseUnits:1e3*uu(.9144)},"cubic-miles":{inBaseUnits:1e3*uu(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},noe=(()=>{const e={};for(const t in Fv)for(const i in Fv[t].units)e[i]=t;return e})();function ooe(e,t,i){return e*Fv[i].units[t].inBaseUnits}function aoe(e,t,i){return e/Fv[i].units[t].inBaseUnits}const sG=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],loe=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function fA(e){const t=noe[e];if(!t)throw new Error("unknown type");return t}function J5(e,t=null){return t=t||fA(e),Fv[t].baseUnit===e}function Ti(e,t,i){if(t===i)return e;const r=fA(t);if(r!==fA(i))throw new Error("incompatible units");const s=J5(t,r)?e:ooe(e,t,r);return J5(i,r)?s:aoe(s,i,r)}function kCe(e,t,i,r=!1){if(!r&&Zm(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const s=Hh(t);return s!==i&&(e=s?Ti(e,s,i):Ti(e*=Fn(t),"meters",i)),e}function FCe(e,t,i,r=!1){if(!r&&Zm(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const s=Hh(i);return t!==s&&(e=s?Ti(e,t,s):Ti(e,t,"meters")/Fn(i)),e}function uoe(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function jCe(e){return uoe(e)}function UCe(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function zCe(e,t){const i=Ti(e,t,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function VCe(e,t){const i=Ti(e,t,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function GCe(e,t){const i=Ti(e,t,"feet");return Math.abs(i)<1e3?"feet":"miles"}function qCe(e,t){const i=Ti(e,t,"feet");return Math.abs(i)<1e5?"feet":"miles"}function BCe(e,t){const i=Ti(e,t,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function HCe(e,t){const i=Ti(e,t,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function coe(e,t,i){return Ti(e,t,"meters")/(i*Math.PI/180)}function WR(e){return soe.fromJSON(e.toLowerCase())||null}function d2(e){if(e!=null&&!Wne(e))return 1;const t=Fn(e);return t>1e5?1:t}function nG(e){return Fn(e)>=toe(e).metersPerDegree?"meters":Hh(e)}function Fn(e,t=pi.metersPerDegree){return doe(e,!0)??t}function doe(e,t=!1){const i=(e==null?void 0:e.wkid)??null,r=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let s=null;if(i){if(vT(i))return ca.metersPerDegree;if(bT(i))return bc.metersPerDegree;s=Om.values[Om[i]],!s&&t&&roe.has(i)&&(s=ioe)}else r&&(lG(r)?s=X5(iG.exec(r),s):aG(r)&&(s=X5(rG.exec(r),s)));return s}function WCe(e){return Zm(e)?1:Fn(e)}function X5(e,t){return e!=null&&e[1]?oG(e[1]):t}function oG(e){return parseFloat(e.split(",")[1])}function Hh(e){const t=(e==null?void 0:e.wkid)??null,i=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let r=null;if(t)r=Om.units[Om[t]];else if(i){const s=lG(i)?iG:aG(i)?rG:null;if(s){const n=s.exec(i);n!=null&&n[1]&&(r=poe(n[1]))}}return r!=null?WR(r):null}function ZCe(e){const t=Hh(e);return t!=null&&sG.includes(t)?t:null}function YCe(e){const t=nG(e);return t!=null&&sG.includes(t)?t:null}function JCe(e){const t=Hh(e);return t==null?null:loe.get(t)}function aG(e){return/^GEOCCS/i.test(e)}function lG(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const hoe=1e-7;function poe(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let i=t==null?void 0:t[1];if(!i||!WR(i)){const r=oG(e);i=null;const s=Om.values;for(let n=0;n<s.length;++n)if(Math.abs(r-s[n])<hoe){i=Om.units[n];break}}return i}function XCe(e){const t=Hh(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const foe={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},moe={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},yoe={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},goe=hr()(foe),voe=hr()(moe),QCe=hr()(yoe);var Vo;let At=Vo=class extends K{static fromJSON(e){if(!e)return null;if((e==null?void 0:e.wkid)===102100)return Vo.WebMercator;if((e==null?void 0:e.wkid)===4326)return Vo.WGS84;const t=new Vo;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Ph(this)}get isWebMercator(){return pa(this)}get isGeographic(){return Zm(this)}get isWrappable(){return Yne(this)}get metersPerUnit(){return Fn(this)}get unit(){return Hh(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Vo.WGS84)return new Vo(K7);if(this===Vo.WebMercator)return new Vo(eG);const e=new Vo;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=j(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,s=this.imageCoordinateSystem;return t==null||r?JSON.stringify(s)===JSON.stringify(e.imageCoordinateSystem):i?s.id===t&&s.referenceServiceName===i:s.id===t}return Ji(this,e)}toJSON(e){return this.write(void 0,e)}};At.GCS_NAD_1927=null,At.WGS84=null,At.WebMercator=null,At.PlateCarree=null,u([h({readOnly:!0})],At.prototype,"isWGS84",null),u([h({readOnly:!0})],At.prototype,"isWebMercator",null),u([h({readOnly:!0})],At.prototype,"isGeographic",null),u([h({readOnly:!0})],At.prototype,"isWrappable",null),u([h({type:yt,json:{write:!0}})],At.prototype,"latestWkid",void 0),u([h({readOnly:!0})],At.prototype,"metersPerUnit",null),u([h({readOnly:!0})],At.prototype,"unit",null),u([h({type:yt,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],At.prototype,"wkid",void 0),u([h({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],At.prototype,"wkt",void 0),u([de("wkt"),de("web-scene","wkt")],At.prototype,"writeWkt",null),u([h({type:String,json:{write:!1}})],At.prototype,"wkt2",void 0),u([h({type:yt,json:{write:!0}})],At.prototype,"vcsWkid",void 0),u([h({type:yt,json:{write:!0}})],At.prototype,"latestVcsWkid",void 0),u([h()],At.prototype,"imageCoordinateSystem",void 0),At=Vo=u([A("esri.geometry.SpatialReference")],At),At.prototype.toJSON.isDefaultToJSON=!0,At.GCS_NAD_1927=Te.freeze(new At({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),At.WGS84=Te.freeze(new At(K7)),At.WebMercator=Te.freeze(new At(eG)),At.PlateCarree=Te.freeze(new At(Jne));const Ge=At;let Go=class extends K{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Ge.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof Ge)return t;if(t!=null){const r=new Ge;return r.read(t,i),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};u([h()],Go.prototype,"type",void 0),u([h({readOnly:!0})],Go.prototype,"cache",null),u([h({readOnly:!0})],Go.prototype,"extent",null),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Go.prototype,"hasM",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Go.prototype,"hasZ",void 0),u([h({type:Ge,json:{write:!0},value:Ge.WGS84})],Go.prototype,"spatialReference",void 0),u([ue("spatialReference")],Go.prototype,"readSpatialReference",null),Go=u([A("esri.geometry.Geometry")],Go);const Nl=Go;function Cm(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new z("Mesh geometries are not supported for this operation")}function boe(e){e.forEach(Cm)}const _oe=57.29577951308232,woe=.017453292519943;function Q5(e){return e*_oe}function K5(e){return e*woe}function eIe(e){return Math.PI/2-2*Math.atan(Math.exp(-e/pi.radius))}function mA(e){return e.wkid!=null||e.wkt!=null}const Qx=[0,0];function h2(e,t,i,r,s){const n=e,o=s;if(o.spatialReference=i,"x"in n&&"x"in o)[o.x,o.y]=t(n.x,n.y,Qx,r);else if("xmin"in n&&"xmin"in o)[o.xmin,o.ymin]=t(n.xmin,n.ymin,Qx,r),[o.xmax,o.ymax]=t(n.xmax,n.ymax,Qx,r);else if("paths"in n&&"paths"in o||"rings"in n&&"rings"in o){const c="paths"in n?n.paths:n.rings,d=[];let f;for(let g=0;g<c.length;g++){const v=c[g];f=[],d.push(f);for(let _=0;_<v.length;_++)f.push(t(v[_][0],v[_][1],[0,0],r)),v[_].length>2&&f[_].push(v[_][2]),v[_].length>3&&f[_].push(v[_][3])}"paths"in o?o.paths=d:o.rings=d}else if("points"in n&&"points"in o){const c=n.points,d=[];for(let f=0;f<c.length;f++)d[f]=t(c[f][0],c[f][1],[0,0],r),c[f].length>2&&d[f].push(c[f][2]),c[f].length>3&&d[f].push(c[f][3]);o.points=d}return s}function Tw(e,t){const i=e&&(mA(e)?e:e.spatialReference),r=t&&(mA(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!r)&&(!!Ji(r,i)||pa(r)&&Ph(i)||pa(i)&&Ph(r))}function _T(e,t){if(e==null)return null;const i=e.spatialReference,r=t&&(mA(t)?t:t.spatialReference);return Tw(i,r)?Ji(i,r)?j(e):pa(r)?h2(e,Wf,Ge.WebMercator,!1,j(e)):Ph(r)?h2(e,wT,Ge.WGS84,!1,j(e)):null:null}function Wf(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=K5(t);return i[0]=K5(e)*pi.radius,i[1]=pi.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function wT(e,t,i=[0,0],r=!1){if(e===kv[0])i[0]=-180;else if(e===kv[1])i[0]=180;else{const s=Q5(e/pi.radius);i[0]=r?s:s-360*Math.floor((s+180)/360)}return i[1]=Q5(Math.PI/2-2*Math.atan(Math.exp(-t/pi.radius))),i}function Th(e,t=!1,i=j(e)){return Cm(e),Cm(i),h2(e,Wf,Ge.WebMercator,t,i)}function Zf(e,t=!1,i=j(e)){return Cm(e),Cm(i),h2(e,wT,Ge.WGS84,t,i)}function uG(e,t){const i=e.x-t.x,r=e.y-t.y,s=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(i*i+r*r+s*s)}function Soe(e){var t;return((t=cG(e,dG))==null?void 0:t[0])??null}function Toe(e){var t;return((t=cG(e,dG))==null?void 0:t[1])??null}function cG({x:e,y:t,spatialReference:i},r=[0,0]){if(i){if(pa(i))return wT(e,t,r);if(Zm(i))return r[0]=e,r[1]=t,r}return null}const dG=[0,0];var Ew;const Kx=[0,0];function e6(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Br=Ew=class extends Nl{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",Te.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,r,s){let n;if(Array.isArray(e))n=e,s=t,e=n[0],t=n[1],i=n[2],r=n[3];else if(e&&typeof e=="object"){if(n=e,e=n.x!=null?n.x:n.longitude,t=n.y!=null?n.y:n.latitude,i=n.z,r=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new Ge(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)ne.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)ne.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&(s!=null&&s.isWebMercator)){const c=Wf(n.longitude,n.latitude,Kx);e=c[0],t=c[1]}}}else e6(i)?(s=i,i=null):e6(r)&&(s=r,r=null);const o={x:e,y:t};return o.x==null&&o.y!=null?ne.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&ne.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(o.spatialReference=s),i!=null&&(o.z=i),r!=null&&(o.m=r),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return Toe(this)}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Wf(i,e,Kx)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return Soe(this)}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",Wf(e,t,Kx)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new Ew;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return Ew.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:i,z:r,m:s,spatialReference:n}=this,{z:o,m:c}=e;let{x:d,y:f,spatialReference:g}=e;if(!n.equals(g))if(n.isWebMercator&&g.isWGS84)[d,f]=Wf(d,f),g=n;else{if(!n.isWGS84||!g.isWebMercator)return!1;[d,f]=wT(d,f),g=n}return t===d&&i===f&&r===o&&s===c&&n.wkid===g.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=es(this.spatialReference);if(!e)return this;let t=this.x;const[i,r]=e.valid,s=2*r;let n;return t>r?(n=Math.ceil(Math.abs(t-r)/s),t-=n*s):t<i&&(n=Math.ceil(Math.abs(t-i)/s),t+=n*s),this._set("x",t),this}distance(e){return uG(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};u([h({readOnly:!0})],Br.prototype,"cache",null),u([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Br.prototype,"hasM",null),u([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Br.prototype,"hasZ",null),u([h({type:Number})],Br.prototype,"latitude",null),u([h({type:Number})],Br.prototype,"longitude",null),u([h({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),ht(e=>isNaN(e)?e:Xr(e))],Br.prototype,"x",void 0),u([de("x")],Br.prototype,"writeX",null),u([ue("x")],Br.prototype,"readX",null),u([h({type:Number,json:{write:!0}})],Br.prototype,"y",void 0),u([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Br.prototype,"z",void 0),u([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Br.prototype,"m",void 0),Br=Ew=u([A("esri.geometry.Point")],Br),Br.prototype.toJSON.isDefaultToJSON=!0;const Ye=Br;let qo=class extends at.ClonableMixin(K){constructor(...t){super(...t),this.position=new Ye([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new c7}normalizeCtorArgs(t,i,r,s){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const n={position:t};return i!=null&&(n.heading=i),r!=null&&(n.tilt=r),s!=null&&(n.fov=s),n}return t}writePosition(t,i,r,s){const n=t.clone();n.x=Xr(t.x||0),n.y=Xr(t.y||0),n.z=t.hasZ?Xr(t.z||0):t.z,i[r]=n.write({},s)}readPosition(t,i){const r=new Ye;return r.read(t,i),r.x=Xr(r.x||0),r.y=Xr(r.y||0),r.z=r.hasZ?Xr(r.z||0):r.z,r}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};u([h({type:Ye,json:{write:{isRequired:!0}}})],qo.prototype,"position",void 0),u([de("position")],qo.prototype,"writePosition",null),u([ue("position")],qo.prototype,"readPosition",null),u([h({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),ht(e=>bse.normalize(Xr(e)))],qo.prototype,"heading",void 0),u([h({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),ht(e=>Nn(Xr(e),-180,180))],qo.prototype,"tilt",void 0),u([h({type:Number,nonNullable:!0,json:{default:55,write:!0}}),ht(e=>Nn(Xr(e,55),1,170))],qo.prototype,"fov",void 0),u([h({type:c7,nonNullable:!0,json:{read:!1,write:!1}})],qo.prototype,"layout",void 0),qo=u([A("esri.Camera")],qo);const Eoe=qo,eM=[0,0];function v1(e,t){return t!=null&&Jr(e,t.x,t.y,t.z)}function iIe(e,t){var i;if(!((i=t.points)!=null&&i.length))return!1;for(const r of t.points)if(!Im(e,r))return!1;return!0}function $oe(e,t){const{xmin:i,ymin:r,zmin:s,xmax:n,ymax:o,zmax:c}=t;return e.hasZ&&t.hasZ?Jr(e,i,r,s)&&Jr(e,i,o,s)&&Jr(e,n,o,s)&&Jr(e,n,r,s)&&Jr(e,i,r,c)&&Jr(e,i,o,c)&&Jr(e,n,o,c)&&Jr(e,n,r,c):Jr(e,i,r)&&Jr(e,i,o)&&Jr(e,n,o)&&Jr(e,n,r)}function Im(e,t){return Jr(e,t[0],t[1])}function xoe(e,t){return Jr(e,t[0],t[1],t[2])}function Jr(e,t,i,r){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function ZR(e,t){return eM[1]=t.y,eM[0]=t.x,Moe(e,eM)}function Moe(e,t){return YR(e.rings,t)}function YR(e,t){if(!e)return!1;if(Aoe(e))return t6(!1,e,t);let i=!1;for(let r=0,s=e.length;r<s;r++)i=t6(i,e[r],t);return i}function Aoe(e){return!Array.isArray(e[0][0])}function t6(e,t,i){const[r,s]=i;let n=e,o=0;for(let c=0,d=t.length;c<d;c++){o++,o===d&&(o=0);const[f,g]=t[c],[v,_]=t[o];(g<s&&_>=s||_<s&&g>=s)&&f+(s-g)/(_-g)*(v-f)<r&&(n=!n)}return n}function Ooe(e,t){return v1(e,t)}function Coe(e,t){const i=e.hasZ&&t.hasZ;let r,s,n;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(s=t.ymin,e.ymax<s)return!1}else if(s=e.ymin,t.ymax<s)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(n=t.zmin,e.zmax<n)return!1}else if(n=e.zmin,t.zmax<n)return!1}return!0}function Ioe(e,t){const{points:i,hasZ:r}=t,s=r?xoe:Im;for(const n of i)if(s(e,n))return!0;return!1}const Dh=[0,0],kh=[0,0],Fh=[0,0],jh=[0,0],Roe=[Dh,kh,Fh,jh],hG=[[Fh,Dh],[Dh,kh],[kh,jh],[jh,Fh]];function Loe(e,t){return Noe(e,t.rings)}function Noe(e,t){Dh[0]=e.xmin,Dh[1]=e.ymax,kh[0]=e.xmax,kh[1]=e.ymax,Fh[0]=e.xmin,Fh[1]=e.ymin,jh[0]=e.xmax,jh[1]=e.ymin;for(const i of Roe)if(YR(t,i))return!0;for(const i of t){if(!i.length)continue;let r=i[0];if(Im(e,r))return!0;for(let s=1;s<i.length;s++){const n=i[s];if(Im(e,n)||pG(r,n,hG))return!0;r=n}}return!1}function Poe(e,t){Dh[0]=e.xmin,Dh[1]=e.ymax,kh[0]=e.xmax,kh[1]=e.ymax,Fh[0]=e.xmin,Fh[1]=e.ymin,jh[0]=e.xmax,jh[1]=e.ymin;const i=t.paths;for(const r of i){if(!i.length)continue;let s=r[0];if(Im(e,s))return!0;for(let n=1;n<r.length;n++){const o=r[n];if(Im(e,o)||pG(s,o,hG))return!0;s=o}}return!1}const tr=[0,0];function Doe(e){for(let t=0;t<e.length;t++){const i=e[t];for(let s=0;s<i.length-1;s++){const n=i[s],o=i[s+1];for(let c=t+1;c<e.length;c++)for(let d=0;d<e[c].length-1;d++){const f=e[c][d],g=e[c][d+1];if(yA(n,o,f,g,tr)&&!(tr[0]===n[0]&&tr[1]===n[1]||tr[0]===f[0]&&tr[1]===f[1]||tr[0]===o[0]&&tr[1]===o[1]||tr[0]===g[0]&&tr[1]===g[1]))return!0}}const r=i.length;if(!(r<=4))for(let s=0;s<r-3;s++){let n=r-1;s===0&&(n=r-2);const o=i[s],c=i[s+1];for(let d=s+2;d<n;d++){const f=i[d],g=i[d+1];if(yA(o,c,f,g,tr)&&!(tr[0]===o[0]&&tr[1]===o[1]||tr[0]===f[0]&&tr[1]===f[1]||tr[0]===c[0]&&tr[1]===c[1]||tr[0]===g[0]&&tr[1]===g[1]))return!0}}}return!1}function pG(e,t,i){for(let r=0;r<i.length;r++)if(yA(e,t,i[r][0],i[r][1]))return!0;return!1}function yA(e,t,i,r,s){const[n,o]=e,[c,d]=t,[f,g]=i,[v,_]=r,S=v-f,T=n-f,E=c-n,M=_-g,C=o-g,L=d-o,N=M*E-S*L;if(N===0)return!1;const P=(S*C-M*T)/N,U=(E*C-L*T)/N;return P>=0&&P<=1&&U>=0&&U<=1&&(s&&(s[0]=n+P*(c-n),s[1]=o+P*(d-o)),!0)}function koe(e){switch(e){case"esriGeometryEnvelope":case"extent":return Coe;case"esriGeometryMultipoint":case"multipoint":return Ioe;case"esriGeometryPoint":case"point":return Ooe;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return Loe;case"esriGeometryPolyline":case"polyline":return Poe}}var io;function Foe(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function cu(e,t,i){return t==null?i:i==null?t:e(t,i)}let qi=io=class extends Nl{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,r,s){return Foe(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Ge.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:r,spatialReference:s??Ge.WGS84}}static fromPoint(e){return new io({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Ye({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new io;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&Tw(t,i)&&(e=t.isWebMercator?Th(e):Zf(e,!0)),e.type==="point"?v1(this,e):e.type==="extent"&&$oe(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&Tw(t,i)&&(e=t.isWebMercator?Th(e):Zf(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,r=this.height*t;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const s=(this.zmax-this.zmin)*t;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*t;this.mmin+=s,this.mmax-=s}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!Ji(t,i)&&Tw(t,i)&&(e=t.isWebMercator?Th(e):Zf(e,!0)),koe(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=cu(Math.min,this.zmin,e.zmin),this.zmax=cu(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=cu(Math.min,this.mmin,e.mmin),this.mmax=cu(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=cu(Math.max,this.zmin,e.zmin),this.zmax=cu(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=cu(Math.max,this.mmin,e.mmin),this.mmax=cu(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=es(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const r=t.isWebMercator?Zf(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=tM(r.x,e).x),this.spatialReference=new Ge(a1((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,r]=e.valid,s=this.xmin,n=this.xmax;return s>=i&&s<=r&&n>=i&&n<=r||(t=this.center),t}_normalize(e,t,i){const r=this.spatialReference;if(!r)return this;const s=i??es(r);if(s==null)return this;const n=this._getParts(s).map(d=>d.extent);if(n.length<2)return n[0]||this;if(n.length>2)return e?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(e)return this._shiftCM(s);if(t)return n;let o=!0,c=!0;return n.forEach(d=>{d.hasZ||(o=!1),d.hasM||(c=!1)}),{rings:n.map(d=>{const f=[[d.xmin,d.ymin],[d.xmin,d.ymax],[d.xmax,d.ymax],[d.xmax,d.ymin],[d.xmin,d.ymin]];if(o){const g=(d.zmax-d.zmin)/2;for(let v=0;v<f.length;v++)f[v].push(g)}if(c){const g=(d.mmax-d.mmin)/2;for(let v=0;v<f.length;v++)f[v].push(g)}return f}),hasZ:o,hasM:c,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:s,ymax:n,spatialReference:o}=this,c=this.width,d=this.xmin,f=this.xmax;let g;e=e||es(o);const[v,_]=e.valid;g=tM(this.xmin,e);const S=g.x,T=g.frameId;g=tM(this.xmax,e);const E=g.x,M=g.frameId,C=S===E&&c>0;if(c>2*_){const L=new io(d<f?S:E,s,_,n,o),N=new io(v,s,d<f?E:S,n,o),P=new io(0,s,_,n,o),U=new io(v,s,0,n,o),W=[],re=[];L.contains(P)&&W.push(T),L.contains(U)&&re.push(T),N.contains(P)&&W.push(M),N.contains(U)&&re.push(M);for(let ae=T+1;ae<M;ae++)W.push(ae),re.push(ae);t.push({extent:L,frameIds:[T]},{extent:N,frameIds:[M]},{extent:P,frameIds:W},{extent:U,frameIds:re})}else S>E||C?t.push({extent:new io(S,s,_,n,o),frameIds:[T]},{extent:new io(v,s,E,n,o),frameIds:[M]}):t.push({extent:new io(S,s,E,n,o),frameIds:[T]});this.cache._parts=t}const i=this.hasZ,r=this.hasM;if(i||r){const s={};i&&(s.zmin=this.zmin,s.zmax=this.zmax),r&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(s)}return t}};function tM(e,t){const[i,r]=t.valid,s=2*r;let n,o=0;return e>r?(n=Math.ceil(Math.abs(e-r)/s),e-=n*s,o=n):e<i&&(n=Math.ceil(Math.abs(e-i)/s),e+=n*s,o=-n),{x:e,frameId:o}}u([h({readOnly:!0})],qi.prototype,"cache",null),u([h({readOnly:!0})],qi.prototype,"center",null),u([h({readOnly:!0})],qi.prototype,"extent",null),u([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],qi.prototype,"hasM",null),u([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],qi.prototype,"hasZ",null),u([h({readOnly:!0})],qi.prototype,"height",null),u([h({readOnly:!0})],qi.prototype,"width",null),u([h({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],qi.prototype,"xmin",void 0),u([h({type:Number,json:{write:!0}})],qi.prototype,"ymin",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],qi.prototype,"mmin",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],qi.prototype,"zmin",void 0),u([h({type:Number,json:{write:!0}})],qi.prototype,"xmax",void 0),u([h({type:Number,json:{write:!0}})],qi.prototype,"ymax",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],qi.prototype,"mmax",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],qi.prototype,"zmax",void 0),qi=io=u([A("esri.geometry.Extent")],qi),qi.prototype.toJSON.isDefaultToJSON=!0;const Pt=qi;function Rm(e,t,i=!1){let{hasM:r,hasZ:s}=e;Array.isArray(t)?t.length!==4||r||s?t.length===3&&i&&!r?(s=!0,r=!1):t.length===3&&r&&s&&(r=!1,s=!1):(r=!0,s=!0):(s=!s&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!s||t.hasZ)),e.hasZ=s,e.hasM=r}var gA;function i6(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function joe(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let wu=gA=class extends Nl{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var s;if(!e&&!t)return{};const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):joe(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const r=(s=i.points)==null?void 0:s[0];return r&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=r.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=r.length>3:i.hasM===void 0&&(i.hasM=r.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Pt,i=this.hasZ,r=this.hasM,s=i?3:2,n=e[0],o=i6(Math.min),c=i6(Math.max);let d,f,g,v,[_,S]=n,[T,E]=n;for(let M=0,C=e.length;M<C;M++){const L=e[M],[N,P]=L;if(_=o(_,N),S=o(S,P),T=c(T,N),E=c(E,P),i&&L.length>2){const U=L[2];d=o(d,U),g=c(g,U)}if(r&&L.length>s){const U=L[s];f=o(f,U),v=c(v,U)}}return t.xmin=_,t.ymin=S,t.xmax=T,t.ymax=E,t.spatialReference=this.spatialReference,i?(t.zmin=d,t.zmax=g):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=f,t.mmax=v):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=j(this.points)}addPoint(e){return Rm(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:j(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new gA(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=t[2],r=3),this.hasM&&(i.m=t[r]),new Ye(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Ye(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Rm(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};u([h({readOnly:!0})],wu.prototype,"cache",null),u([h()],wu.prototype,"extent",null),u([h({type:[[Number]],json:{write:{isRequired:!0}}})],wu.prototype,"points",void 0),u([de("points")],wu.prototype,"writePoints",null),wu=gA=u([A("esri.geometry.Multipoint")],wu),wu.prototype.toJSON.isDefaultToJSON=!0;const ST=wu;function rIe(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function Uoe(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var p2;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(p2||(p2={}));function sIe(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,i=e.hasM;if(e.type==="point")return i&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:i?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.slice();if(e.type==="extent"){const r=e.clone().normalize();if(!r)return null;let s=!1,n=!1;return r.forEach(o=>{o.hasZ&&(s=!0),o.hasM&&(n=!0)}),r.map(o=>{const c=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(s&&o.hasZ){const d=.5*(o.zmax-o.zmin);for(let f=0;f<c.length;f++)c[f].push(d)}if(n&&o.hasM){const d=.5*(o.mmax-o.mmin);for(let f=0;f<c.length;f++)c[f].push(d)}return c})}return null}function TT(e,t){const i=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const s=e[2]-t[2];return Math.sqrt(i*i+r*r+s*s)}return Math.sqrt(i*i+r*r)}function fG(e,t,i){const r=e[0]+i*(t[0]-e[0]),s=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[r,s,e[2]+i*(t[2]-e[2])]:[r,s]}function zoe(e,t,i,r){return Voe(e,t,i[r],i[r+1])}function Voe(e,t,i,r){const[s,n]=t,[o,c]=i,[d,f]=r,g=d-o,v=f-c,_=g*g+v*v,S=(s-o)*g+(n-c)*v,T=Math.min(1,Math.max(0,S/_));return e[0]=o+g*T,e[1]=c+v*T,e}function nIe(e,t,i,r,s,n){let o=i,c=r,d=s-o,f=n-c;if(d!==0||f!==0){const g=((e-o)*d+(t-c)*f)/(d*d+f*f);g>1?(o=s,c=n):g>0&&(o+=d*g,c+=f*g)}return d=e-o,f=t-c,d*d+f*f}function mG(e,t){return fG(e,t,.5)}function oIe(e){const t=e.length;let i=0;for(let r=0;r<t-1;++r)i+=TT(e[r],e[r+1]);return i}function aIe(e,t){if(t<=0)return e[0];const i=e.length;let r=0;for(let s=0;s<i-1;++s){const n=TT(e[s],e[s+1]);if(t-r<n){const o=(t-r)/n;return fG(e[s],e[s+1],o)}r+=n}return e[i-1]}function yG(e,t=p2.X,i=p2.Y){let r=0;const s=e.length;let n=e[0];for(let o=1;o<s;o++){const c=e[o];r+=(c[t]-n[t])*(c[i]+n[i]),n=c}if(!gG(e)){const o=e[0];r+=(o[t]-n[t])*(o[i]+n[i])}return r>=0}function gG(e){const t=e.length;return t<3||sT(e[0],e[t-1])}function lIe(e){"rings"in e&&(Goe(e),qoe(e))}function Goe(e){if(!("rings"in e))return!1;let t=!1;for(const i of e.rings)gG(i)||(i.push(i[0].slice()),t=!0);return t}function qoe(e){if(!("rings"in e)||e.rings.length===0||yG(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function uIe(e){return e.type!=="polygon"&&e.type!=="polyline"||Boe(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function Boe(e,t){const i=es(t);if(!i)return;const r=i.valid[0],s=i.valid[1],n=s-r;for(const o of e){let c=1/0,d=-1/0;for(const g of o){const v=Hoe(g[0],r,s);c=Math.min(c,v),d=Math.max(d,v),g[0]=v}const f=d-c;n-f<f&&o.forEach(g=>{g[0]<0&&(g[0]+=n)})}}function Hoe(e,t,i){const r=i-t;return e<t?i-(t-e)%r:e>i?t+(e-t)%r:e}function cIe(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[i,r]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return i.length===r.length&&i.every((s,n)=>s.length===r[n].length)}function dIe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function Woe(e){return e?Zoe(e.rings,e.hasZ??!1):null}function Zoe(e,t){if(!(e!=null&&e.length))return null;const i=[],r=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,o=e.length;n<o;n++){const c=vG(e[n],t,s);c&&r.push(c)}if(r.sort((n,o)=>{let c=n[2]-o[2];return c===0&&t&&(c=n[4]-o[4]),c}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],t&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||t&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){const n=e[0]&&e[0].length?Yoe(e[0],t):null;if(!n)return null;i[0]=n[0],i[1]=n[1],t&&n.length>2&&(i[2]=n[2])}return i}function vG(e,t,i){let r=0,s=0,n=0,o=0,c=0;const d=e.length?e[0][0]:0,f=e.length?e[0][1]:0,g=e.length&&t?e[0][2]:0;for(let _=0;_<e.length;_++){const S=e[_],T=e[(_+1)%e.length],[E,M,C]=S,L=E-d,N=M-f,[P,U,W]=T,re=P-d,ae=U-f,fe=L*ae-re*N;if(o+=fe,r+=(L+re)*fe,s+=(N+ae)*fe,t&&S.length>2&&T.length>2){const ye=C-g,Se=W-g,_e=L*Se-re*ye;n+=(ye+Se)*_e,c+=_e}E<i[0]&&(i[0]=E),E>i[1]&&(i[1]=E),M<i[2]&&(i[2]=M),M>i[3]&&(i[3]=M),t&&(C<i[4]&&(i[4]=C),C>i[5]&&(i[5]=C))}if(o>0&&(o*=-1),c>0&&(c*=-1),!o)return null;o*=.5,c*=.5;const v=[r/(6*o)+d,s/(6*o)+f,o];return t&&(i[4]===i[5]||c===0?(v[3]=(i[4]+i[5])/2,v[4]=0):(v[3]=n/(6*c)+g,v[4]=c)),v}function hIe(e,t){let i=0,r=0,s=0;e.nextPoint();const n=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let c=0;c<e.pathSize;c++){e.seekInPath(c);const d=[e.x,e.y];e.seekInPath((c+1)%e.pathSize);const f=[e.x,e.y],[g,v]=d,_=g-n,S=v-o,[T,E]=f,M=T-n,C=E-o,L=_*C-M*S;s+=L,i+=(_+M)*L,r+=(S+C)*L,g<t[0]&&(t[0]=g),g>t[1]&&(t[1]=g),v<t[2]&&(t[2]=v),v>t[3]&&(t[3]=v)}return s>0&&(s*=-1),s?(s*=.5,[i/(6*s)+n,r/(6*s)+o,s]):null}function Yoe(e,t){const i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,n=0,o=0,c=0;for(let d=0,f=e.length;d<f-1;d++){const g=e[d],v=e[d+1];if(g&&v){i[0]=g[0],i[1]=g[1],r[0]=v[0],r[1]=v[1],t&&g.length>2&&v.length>2&&(i[2]=g[2],r[2]=v[2]);const _=TT(i,r);if(_){s+=_;const S=mG(g,v);n+=_*S[0],o+=_*S[1],t&&S.length>2&&(c+=_*S[2])}}}return s>0?t?[n/s,o/s,c/s]:[n/s,o/s]:e.length?e[0]:null}function Joe(e){const{hasZ:t,totalSize:i}=e;if(i===0)return null;const r=[],s=[],n=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=vG(Uoe(e),e.hasZ,n);o&&s.push(o)}if(s.sort((o,c)=>{let d=o[2]-c[2];return d===0&&t&&(d=o[4]-c[4]),d}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],t&&(r[2]=s[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||t&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();const o=e.pathSize?Xoe(e):null;if(!o)return null;r[0]=o[0],r[1]=o[1],t&&o.length>2&&(r[2]=o[2])}return r}function Xoe(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,n=0,o=0,c=0;if(e.nextPoint()){let d=e.x,f=e.y,g=e.z;for(;e.nextPoint();){const v=e.x,_=e.y,S=e.z;i[0]=d,i[1]=f,r[0]=v,r[1]=_,t&&(i[2]=g,r[2]=S);const T=TT(i,r);if(T){s+=T;const E=mG(i,r);n+=T*E[0],o+=T*E[1],t&&E.length>2&&(c+=T*E[2])}d=v,f=_,g=S}}return s>0?t?[n/s,o/s,c/s]:[n/s,o/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const Qoe=1e-6;function pIe(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<Qoe){const s=Joe(e);return s?[s[0],s[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)eae(i,r,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=r[0],i[1]+=r[1],i}const Koe=1/3;function eae(e,t,i){if(!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,s=i.y;i.nextPoint();let n,o=i.x-r,c=i.y-s,d=0,f=0;for(;i.nextPoint();)d=i.x-r,f=i.y-s,n=.5*Koe*(d*c-f*o),e[0]+=n*(o+d),e[1]+=n*(c+f),o=d,c=f;const g=i.getCurrentRingArea(),v=[r,s];return v[0]-=t[0],v[1]-=t[1],v[0]*=g,v[1]*=g,e[0]+=v[0],e[1]+=v[1],e}function Kr(e=sae){return[e[0],e[1],e[2],e[3]]}function bG(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function fIe(e,t,i,r,s=Kr()){return s[0]=e,s[1]=t,s[2]=i,s[3]=r,s}function mIe(e,t=Kr()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function tae(e,t,i=new Pt){return i.xmin=e[0],i.ymin=e[1],i.xmax=e[2],i.ymax=e[3],i.spatialReference=t,i}function yIe(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function gIe(e,t,i){if(t!=null)if("length"in t)vA(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else bG(i,e)}function vIe(e,t,i=e){const r=t.length;let s=e[0],n=e[1],o=e[2],c=e[3];for(let d=0;d<r;d++){const f=t[d];s=Math.min(s,f[0]),n=Math.min(n,f[1]),o=Math.max(o,f[0]),c=Math.max(c,f[1])}return i[0]=s,i[1]=n,i[2]=o,i[3]=c,i}function bIe(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function JR(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function XR(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function _Ie(e){return JR(e)*XR(e)}function wIe(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function SIe(e){const t=JR(e),i=XR(e);return Math.sqrt(t*t+i*i)}function TIe(e,t){return iae(e,t.x,t.y)}function iae(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function EIe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function $Ie(e,t,i){return Math.max(t[0],e[0])-i<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-i<=Math.min(t[3],e[3])}function rae(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function xIe(e,t,i,r=e){return r[0]=e[0]+t,r[1]=e[1]+i,r[2]=e[2]+t,r[3]=e[3]+i,r}function MIe(e){return e?bG(e,r6):Kr(r6)}function vA(e){return e!=null&&e.length===4}function AIe(e,t){return vA(e)&&vA(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const r6=[1/0,1/0,-1/0,-1/0],sae=[0,0,0,0];function _G(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function wG(e){return e.points!==void 0}function SG(e){return e.x!==void 0&&e.y!==void 0}function TG(e){return e.paths!==void 0}function EG(e){return e.rings!==void 0}function $G(e){function t(i,r){return i==null?r:r==null?i:e(i,r)}return t}const ac=$G(Math.min),lc=$G(Math.max);function OIe(e,t){return TG(t)?Lm(e,t.paths,!1,!1):EG(t)?Lm(e,t.rings,!1,!1):wG(t)?QR(e,t.points,!1,!1,!1,!1):_G(t)?xG(e,t):(SG(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function CIe(e){let t,i,r,s;for(e.reset(),t=r=1/0,i=s=-1/0;e.nextPath();){const n=nae(e);t=Math.min(n[0],t),r=Math.min(n[1],r),i=Math.max(n[2],i),s=Math.max(n[3],s)}return Kr([t,r,i,s])}function nae(e){let t,i,r,s;for(t=r=1/0,i=s=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),i=Math.max(e.x,i),s=Math.max(e.y,s);return Kr([t,r,i,s])}function IIe(e,t){return TG(t)?Lm(e,t.paths,!0,!1):EG(t)?Lm(e,t.rings,!0,!1):wG(t)?QR(e,t.points,!0,!1,!0,!1):_G(t)?xG(e,t,!0,!1,!0,!1):(SG(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Lm(e,t,i,r){const s=i?3:2;if(!t.length||!t[0].length)return null;let n,o,c,d,[f,g]=t[0][0],[v,_]=t[0][0];for(let S=0;S<t.length;S++){const T=t[S];for(let E=0;E<T.length;E++){const M=T[E],[C,L]=M;if(f=ac(f,C),g=ac(g,L),v=lc(v,C),_=lc(_,L),i&&M.length>2){const N=M[2];n=ac(n,N),o=lc(o,N)}if(r&&M.length>s){const N=M[s];c=ac(n,N),d=lc(o,N)}}}return i?r?(e[0]=f,e[1]=g,e[2]=n,e[3]=c,e[4]=v,e[5]=_,e[6]=o,e[7]=d,e.length=8,e):(e[0]=f,e[1]=g,e[2]=n,e[3]=v,e[4]=_,e[5]=o,e.length=6,e):r?(e[0]=f,e[1]=g,e[2]=c,e[3]=v,e[4]=_,e[5]=d,e.length=6,e):(e[0]=f,e[1]=g,e[2]=v,e[3]=_,e.length=4,e)}function xG(e,t,i,r,s,n){const o=t.xmin,c=t.xmax,d=t.ymin,f=t.ymax;let g=t.zmin,v=t.zmax,_=t.mmin,S=t.mmax;return s?(g=g||0,v=v||0,n?(_=_||0,S=S||0,e[0]=o,e[1]=d,e[2]=g,e[3]=_,e[4]=c,e[5]=f,e[6]=v,e[7]=S,e):(e[0]=o,e[1]=d,e[2]=g,e[3]=c,e[4]=f,e[5]=v,e)):n?(_=_||0,S=S||0,e[0]=o,e[1]=d,e[2]=_,e[3]=c,e[4]=f,e[5]=S,e):(e[0]=o,e[1]=d,e[2]=c,e[3]=f,e)}function QR(e,t,i,r,s,n){const o=i?3:2,c=r&&n,d=i&&s;if(!t.length||!t[0].length)return null;let f,g,v,_,[S,T]=t[0],[E,M]=t[0];for(let C=0;C<t.length;C++){const L=t[C],[N,P]=L;if(S=ac(S,N),T=ac(T,P),E=lc(E,N),M=lc(M,P),d&&L.length>2){const U=L[2];f=ac(f,U),g=lc(g,U)}if(c&&L.length>o){const U=L[o];v=ac(f,U),_=lc(g,U)}}return s?(f=f||0,g=g||0,n?(v=v||0,_=_||0,e[0]=S,e[1]=T,e[2]=f,e[3]=v,e[4]=E,e[5]=M,e[6]=g,e[7]=_,e):(e[0]=S,e[1]=T,e[2]=f,e[3]=E,e[4]=M,e[5]=g,e)):n?(v=v||0,_=_||0,e[0]=S,e[1]=T,e[2]=v,e[3]=E,e[4]=M,e[5]=_,e):(e[0]=S,e[1]=T,e[2]=E,e[3]=M,e)}function oae(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function aae(e){return e.points!==void 0}function lae(e){return e.x!==void 0&&e.y!==void 0}function uae(e){return e.paths!==void 0}function cae(e){return e.rings!==void 0}const KR=[];function MG(e,t,i,r){return{xmin:e,ymin:t,xmax:i,ymax:r}}function AG(e,t,i,r,s,n){return{xmin:e,ymin:t,zmin:i,xmax:r,ymax:s,zmax:n}}function OG(e,t,i,r,s,n){return{xmin:e,ymin:t,mmin:i,xmax:r,ymax:s,mmax:n}}function CG(e,t,i,r,s,n,o,c){return{xmin:e,ymin:t,zmin:i,mmin:r,xmax:s,ymax:n,zmax:o,mmax:c}}function eL(e,t=!1,i=!1){return t?i?CG(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):AG(e[0],e[1],e[2],e[3],e[4],e[5]):i?OG(e[0],e[1],e[2],e[3],e[4],e[5]):MG(e[0],e[1],e[2],e[3])}function RIe(e){return e?oae(e)?e:lae(e)?hae(e):cae(e)?IG(e):uae(e)?RG(e):aae(e)?dae(e):null:null}function dae(e){const{hasZ:t,hasM:i,points:r}=e;return eL(QR(KR,r,t??!1,i??!1),t,i)}function hae(e){const{x:t,y:i,z:r,m:s}=e,n=s!=null;return r!=null?n?CG(t,i,r,s,t,i,r,s):AG(t,i,r,t,i,r):n?OG(t,i,s,t,i,s):MG(t,i,t,i)}function IG(e){const{hasZ:t,hasM:i,rings:r}=e,s=Lm(KR,r,t??!1,i??!1);return s?eL(s,t,i):null}function RG(e){const{hasZ:t,hasM:i,paths:r}=e,s=Lm(KR,r,t??!1,i??!1);return s?eL(s,t,i):null}var $w;function s6(e){return!Array.isArray(e[0])}function pae(e){var t;return typeof((t=e[0])==null?void 0:t[0])=="number"}function fae(e){var n,o;if(!e)return;let{rings:t,hasM:i,hasZ:r,spatialReference:s}=e;switch(t??(t=[]),pae(t)&&(t=[t]),(o=(n=t[0])==null?void 0:n[0])==null?void 0:o.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return s??(s=Ge.WGS84),{...e,hasM:i,hasZ:r,rings:t,spatialReference:s}}let Tn=$w=class extends Nl{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:i}=e;let r=!1,s=!1;for(const o of t)o.hasZ&&(r=!0),o.hasM&&(s=!0);const n={rings:t.map(o=>{const c=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const d=o.zmin+.5*(o.zmax-o.zmin);for(let f=0;f<c.length;f++)c[f].push(d)}if(s&&o.hasM){const d=o.mmin+.5*(o.mmax-o.mmin);for(let f=0;f<c.length;f++)c[f].push(d)}return c}),spatialReference:i};return r&&(n.hasZ=!0),s&&(n.hasM=!0),new $w(n)}constructor(e){super(fae(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=Woe(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Ye;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=j(e)}get extent(){const e=IG(this),{spatialReference:t}=this;return e?new Pt({...e,spatialReference:t}):null}get isSelfIntersecting(){return Doe(this.rings)}writeRings(e,t){t.rings=j(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(s6(e)){const r=[];for(let s=0,n=e.length;s<n;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new $w;return e.spatialReference=this.spatialReference,e.rings=j(this.rings),e.curveRings=j(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;if(t!=null!=(i!=null)||t!=null&&i!=null&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const r=([s,n,o,c],[d,f,g,v])=>s===d&&n===f&&(o==null&&g==null||o===g)&&(c==null&&v==null||c===v);for(let s=0;s<this.rings.length;s++){const n=this.rings[s],o=e.rings[s];if(!sT(n,o,r))return!1}return!0}contains(e){if(!e)return!1;const t=_T(e,this.spatialReference);return ZR(this,t??e)}isClockwise(e){const t=s6(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e;return yG(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Ye(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Ye(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Ye(i[0],i[1],i[2],i[3],this.spatialReference):new Ye(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(Rm(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Ye(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Ye(s,i));return this.notifyChange("rings"),r}setPoint(e,t,i){return this._validateInputs(e,t)?(Rm(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const r=this.rings[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([h({readOnly:!0})],Tn.prototype,"cache",null),u([h({readOnly:!0})],Tn.prototype,"centroid",null),u([h({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Tn.prototype,"curveRings",void 0),u([de("curveRings")],Tn.prototype,"writeCurveRings",null),u([h({readOnly:!0})],Tn.prototype,"extent",null),u([h({readOnly:!0})],Tn.prototype,"isSelfIntersecting",null),u([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],Tn.prototype,"rings",void 0),u([de("rings")],Tn.prototype,"writeRings",null),Tn=$w=u([A("esri.geometry.Polygon")],Tn);const Pn=Tn;Tn.prototype.toJSON.isDefaultToJSON=!0;var bA;function mae(e){return!Array.isArray(e[0])}function yae(e){var t;return typeof((t=e[0])==null?void 0:t[0])=="number"}function gae(e){var n,o;if(!e)return;let{paths:t,hasM:i,hasZ:r,spatialReference:s}=e;switch(t??(t=[]),yae(t)&&(t=[t]),(o=(n=t[0])==null?void 0:n[0])==null?void 0:o.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return s??(s=Ge.WGS84),{...e,hasM:i,hasZ:r,paths:t,spatialReference:s}}let sa=bA=class extends Nl{constructor(e){super(gae(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=j(e)}get extent(){const e=RG(this),{spatialReference:t}=this;return e?new Pt({...e,spatialReference:t}):null}writePaths(e,t){t.paths=j(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(mae(e)){const r=[];for(let s=0,n=e.length;s<n;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new bA;return e.spatialReference=this.spatialReference,e.paths=j(this.paths),e.curvePaths=j(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Ye(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Ye(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Ye(i[0],i[1],i[2],i[3],this.spatialReference):new Ye(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(Rm(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Ye(s,i));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Ye(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(Rm(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const r=this.paths[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([h({readOnly:!0})],sa.prototype,"cache",null),u([h({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],sa.prototype,"curvePaths",void 0),u([de("curvePaths")],sa.prototype,"writeCurvePaths",null),u([h({readOnly:!0})],sa.prototype,"extent",null),u([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],sa.prototype,"paths",void 0),u([de("paths")],sa.prototype,"writePaths",null),sa=bA=u([A("esri.geometry.Polyline")],sa);const Eo=sa;sa.prototype.toJSON.isDefaultToJSON=!0;function LG(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function NG(e){return e.points!==void 0}function PG(e){return e.x!==void 0&&e.y!==void 0}function tL(e){return e.paths!==void 0||e.curvePaths!==void 0}function Eh(e){return e.rings!==void 0||e.curveRings!==void 0}function Uh(e){return e==null?null:e instanceof Nl?e:PG(e)?Ye.fromJSON(e):tL(e)?Eo.fromJSON(e):Eh(e)?Pn.fromJSON(e):NG(e)?ST.fromJSON(e):LG(e)?Pt.fromJSON(e):null}function iL(e){return e?PG(e)?"esriGeometryPoint":tL(e)?"esriGeometryPolyline":Eh(e)?"esriGeometryPolygon":LG(e)?"esriGeometryEnvelope":NG(e)?"esriGeometryMultipoint":null:null}const vae={esriGeometryPoint:Ye,esriGeometryPolyline:Eo,esriGeometryPolygon:Pn,esriGeometryEnvelope:Pt,esriGeometryMultipoint:ST,esriGeometryMultiPatch:Pn};function bae(e){return e&&vae[e]||null}const rL=hr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),n6=hr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),b1={base:Nl,key:"type",typeMap:{extent:Pt,multipoint:ST,point:Ye,polyline:Eo,polygon:Pn}};var _A;let Su=_A=class extends K{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new _A({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};u([h({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:iM}}}}})],Su.prototype,"rotation",void 0),u([ht("rotation")],Su.prototype,"castRotation",null),u([h({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:iM}}}}})],Su.prototype,"scale",void 0),u([h({types:b1,json:{read:Uh,write:!0,origins:{"web-scene":{read:Uh,write:{overridePolicy:iM}}}}})],Su.prototype,"targetGeometry",void 0),u([h({type:Eoe,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],Su.prototype,"camera",void 0),Su=_A=u([A("esri.Viewpoint")],Su);const Rn=Su;function iM(){return{enabled:!this.camera}}let Dn=class DG{constructor(){this._emitter=new DG.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(s=null){this._target=s,this._listenersMap=null}clear(){var s;(s=this._listenersMap)==null||s.clear(),this._listenersMap=null}destroy(){this.clear()}emit(s,n){var f;let o=(f=this._listenersMap)==null?void 0:f.get(s);if(!o)return!1;const c=this._target||this;let d=!1;for(const g of o.slice()){const v="deref"in g?g.deref():g;v?v==null||v.call(c,n):d=!0}return d&&(o=o.filter(g=>!("deref"in g)||g.deref()!=null),this._listenersMap.set(s,o)),o.length>0}on(s,n){if(Array.isArray(s)){const c=s.map(d=>this.on(d,n));return d1(c)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const o=this._listenersMap.get(s)||[];return o.push(n),this._listenersMap.set(s,o),gt(()=>{var f;const c=(f=this._listenersMap)==null?void 0:f.get(s),d=(c==null?void 0:c.indexOf(n))??-1;d>=0&&c.splice(d,1)})}once(s,n){const o=this.on(s,c=>{o.remove();const d="deref"in n?n.deref():n;d==null||d.call(null,c)});return o}hasEventListener(s){var o;const n=(o=this._listenersMap)==null?void 0:o.get(s);return n!=null&&n.length>0}}e.EventEmitter=t,e.EventedMixin=r=>{let s=class extends r{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(n,o){return this._emitter.emit(n,o)}on(n,o){return this._emitter.on(n,o)}once(n,o){return this._emitter.once(n,o)}hasEventListener(n){return this._emitter.hasEventListener(n)}};return s=u([A("esri.core.Evented")],s),s};let i=class extends Te{constructor(){super(...arguments),this._emitter=new Dn.EventEmitter(this)}destroy(){this._emitter.clear()}emit(r,s){return this._emitter.emit(r,s)}on(r,s){return this._emitter.on(r,s)}once(r,s){return this._emitter.once(r,s)}hasEventListener(r){return this._emitter.hasEventListener(r)}};i=u([A("esri.core.Evented.EventedAccessor")],i),e.EventedAccessor=i})(Dn);var wt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(wt||(wt={}));function sL(e){return(t,i)=>{t[i]=e}}let _1=class extends BV{notify(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};var _l;let _ae=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},wae=class{constructor(t,i,r,s,n){this.target=t,this.added=i,this.removed=r,this.start=s,this.deleteCount=n}};const hn=new qh(_ae,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function o6(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function rM(e){return e?e instanceof ml?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function sM(e){if(e!=null&&e.length)return e[0]}function Sae(e,t,i,r){const s=Math.min(e.length-i,t.length-r);let n=0;for(;n<s&&e[i+n]===t[r+n];)n++;return n}function kG(e,t,i,r){t&&t.forEach((s,n,o)=>{e.push(s),kG(e,i.call(r,s,n,o),i,r)})}const du=new Set,hu=new Set,pu=new Set,nM=new Map;let Tae=0,ml=_l=class extends Dn.EventedAccessor{static isCollection(e){return e!=null&&e instanceof _l}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new _1,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:Tae++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof _l?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return De(this._observable),this._items}set items(e){this._emitBeforeChanges(wt.ADD)||(this._splice(0,this.length,rM(e)),this._emitAfterChanges(wt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return gt();if(e==="change"){const i=this._chgListeners,r={removed:!1,callback:t};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),gt(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return this._emitter.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,r=this.on(e,s=>{var n;(n=i())==null||n.call(null,s),r.remove()});return r}add(e,t){if(De(this._observable),this._emitBeforeChanges(wt.ADD))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(wt.ADD),this}addMany(e,t=this._items.length){if(De(this._observable),!(e!=null&&e.length))return this;if(this._emitBeforeChanges(wt.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,rM(e)),this._emitAfterChanges(wt.ADD),this}at(e){if(De(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(De(this._observable),!this.length||this._emitBeforeChanges(wt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(wt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return De(this._observable),this._createNewInstance({items:this._items.map(j)})}concat(...e){De(this._observable);const t=e.map(rM);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(De(this._observable),!this.length||this._emitBeforeChanges(wt.REMOVE))return;const i=this._splice(0,this.length),r=i.length;for(let s=0;s<r;s++)e.call(t,i[s],s,i);this._emitAfterChanges(wt.REMOVE)}destroyAll(){this.drain(o6)}destroyMany(e){const t=this.removeMany(e);return t.forEach(o6),t}every(e,t){return De(this._observable),this._items.every(e,t)}filter(e,t){De(this._observable);const i=arguments.length===2?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:i})}find(e,t){return De(this._observable),this._items.find(e,t)}findIndex(e,t){return De(this._observable),this._items.findIndex(e,t)}flatten(e,t){De(this._observable);const i=[];return kG(i,this,e,t),new _l(i)}forEach(e,t){return De(this._observable),this._items.forEach(e,t)}getItemAt(e){return De(this._observable),this._items[e]}getNextIndex(e){De(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return De(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return De(this._observable),this._items.indexOf(e,t)}join(e=","){return De(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return De(this._observable),this._items.lastIndexOf(e,t)}map(e,t){De(this._observable);const i=this._items.map(e,t);return new _l({items:i})}reorder(e,t=this.length-1){De(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(wt.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(wt.MOVE)}return e}}pop(){if(De(this._observable),!this.length||this._emitBeforeChanges(wt.REMOVE))return;const e=sM(this._splice(this.length-1,1));return this._emitAfterChanges(wt.REMOVE),e}push(...e){return De(this._observable),this._emitBeforeChanges(wt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(wt.ADD)),this.length}reduce(e,t){De(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){De(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return De(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(De(this._observable),e<0||e>=this.length||this._emitBeforeChanges(wt.REMOVE))return;const t=sM(this._splice(e,1));return this._emitAfterChanges(wt.REMOVE),t}removeMany(e){if(De(this._observable),!(e!=null&&e.length)||this._emitBeforeChanges(wt.REMOVE))return[];const t=e instanceof _l?e.toArray():e,i=this._items,r=[],s=t.length;for(let n=0;n<s;n++){const o=t[n],c=i.indexOf(o);if(c>-1){const d=1+Sae(t,i,n+1,c+1),f=this._splice(c,d);f&&f.length>0&&r.push.apply(r,f),n+=d-1}}return this._emitAfterChanges(wt.REMOVE),r}reverse(){if(De(this._observable),this._emitBeforeChanges(wt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(wt.MOVE),this}shift(){if(De(this._observable),!this.length||this._emitBeforeChanges(wt.REMOVE))return;const e=sM(this._splice(0,1));return this._emitAfterChanges(wt.REMOVE),e}slice(e=0,t=this.length){return De(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return De(this._observable),this._items.some(e,t)}sort(e){if(De(this._observable),!this.length||this._emitBeforeChanges(wt.MOVE)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(wt.MOVE),this}_requiresSort(e=(t,i)=>t===i?0:t<i?-1:1){const t=this.length-1;for(let i=0;i<t;i++)if(e(this.items[i],this.items[i+1])>0)return!0;return!1}splice(e,t,...i){De(this._observable);const r=(t?wt.REMOVE:0)|(i.length?wt.ADD:0);if(this._emitBeforeChanges(r))return[];const s=this._splice(e,t,i)||[];return this._emitAfterChanges(r),s}toArray(){return De(this._observable),this._items.slice()}toJSON(){return De(this._observable),this.toArray()}toLocaleString(){return De(this._observable),this._items.toLocaleString()}toString(){return De(this._observable),this._items.toString()}unshift(...e){return De(this._observable),!e.length||this._emitBeforeChanges(wt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(wt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const r=this._items,s=this.itemType;let n,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=y1(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=r.splice(e,t),this.hasEventListener("before-remove")){const c=hn.acquire();c.target=this,c.cancellable=!0;for(let d=0,f=o.length;d<f;d++)n=o[d],c.reset(n),this.emit("before-remove",c),c.defaultPrevented&&(o.splice(d,1),r.splice(e,0,n),e+=1,d-=1,f-=1);hn.release(c)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const c=hn.acquire();c.target=this,c.cancellable=!1;const d=o.length;for(let f=0;f<d;f++)c.reset(o[f]),this.emit("after-remove",c);hn.release(c)}}if(i!=null&&i.length){if(s){const g=[];for(const v of i){const _=s.ensureType(v);_==null&&v!=null||g.push(_)}i=g}const c=this.hasEventListener("before-add"),d=this.hasEventListener("after-add"),f=e===this.length;if(c||d){const g=hn.acquire();g.target=this,g.cancellable=!0;const v=hn.acquire();v.target=this,v.cancellable=!1;for(const _ of i)c?(g.reset(_),this.emit("before-add",g),g.defaultPrevented||(f?r.push(_):r.splice(e++,0,_),this._set("length",r.length),d&&(v.reset(_),this.emit("after-add",v)))):(f?r.push(_):r.splice(e++,0,_),this._set("length",r.length),v.reset(_),this.emit("after-add",v));hn.release(v),hn.release(g)}else{if(f)for(const g of i)r.push(g);else r.splice(e,0,...i);this._set("length",r.length)}}if((i!=null&&i.length||o!=null&&o.length)&&this._notifyChangeEvent(i,o),this.hasEventListener("after-splice")){const c=new wae(this,i,o,e,t);this.emit("after-splice",c)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=hn.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,hn.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=hn.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),hn.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;du.clear(),hu.clear(),pu.clear();for(const{added:d,removed:f}of i){if(d)if(pu.size===0&&hu.size===0)for(const g of d)du.add(g);else for(const g of d)hu.has(g)?(pu.add(g),hu.delete(g)):pu.has(g)||du.add(g);if(f)if(pu.size===0&&du.size===0)for(const g of f)hu.add(g);else for(const g of f)du.has(g)?du.delete(g):(pu.delete(g),hu.add(g))}const r=Qr.acquire();du.forEach(d=>{r.push(d)});const s=Qr.acquire();hu.forEach(d=>{s.push(d)});const n=this._items,o=t.items,c=Qr.acquire();if(pu.forEach(d=>{o.indexOf(d)!==n.indexOf(d)&&c.push(d)}),t.listeners&&(r.length||s.length||c.length)){const d={target:this,added:r,removed:s,moved:c},f=t.listeners.length;for(let g=0;g<f;g++){const v=t.listeners[g];v.removed||v.callback.call(this,d)}}Qr.release(r),Qr.release(s),Qr.release(c)}du.clear(),hu.clear(),pu.clear()}};ml.ofType=e=>{if(!e)return _l;if(nM.has(e))return nM.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const s=e.typeMap[r].prototype.declaredClass;t?t+=` | ${s}`:t=s}let i=class extends _l{};return u([sL({Type:e,ensureType:typeof e=="function"?ji(e):Co(e)})],i.prototype,"itemType",void 0),i=u([A(`esri.core.Collection<${t}>`)],i),nM.set(e,i),i},u([h()],ml.prototype,"_updating",void 0),u([h()],ml.prototype,"length",void 0),u([h()],ml.prototype,"items",null),u([h({readOnly:!0})],ml.prototype,"updating",null),ml=_l=u([A("esri.core.Collection")],ml);const pe=ml;function DIe(e,t,i){return xR(e.map((r,s)=>t.apply(i,[r,s])))}async function Eae(e,t,i){return(await xR(e.map((r,s)=>t.apply(i,[r,s])))).map(r=>r.value)}function nL(e){return{ok:!0,value:e}}function oL(e){return{ok:!1,error:e}}function $ae(e){return e!=null&&e.ok===!0?e.value:null}function xae(e){return e!=null&&e.ok===!1?e.error:null}async function ET(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return nL(await e)}catch(t){return oL(t)}}async function Mae(e){try{return nL(await e)}catch(t){return wo(t),oL(t)}}function w1(e,t){return new Tu(e,t)}let Tu=class extends Te{get value(){return $ae(this._result)}get error(){return xae(this._result)}get finished(){return this._result!=null}constructor(t,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Tm(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=t(r),this.promise.then(s=>{this._result=nL(s),this._cleanup()},s=>{this._result=oL(s),this._cleanup()}),this._abortHandle=In(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=ri(this._abortHandle),this._abortController=null}};u([h()],Tu.prototype,"value",null),u([h()],Tu.prototype,"error",null),u([h()],Tu.prototype,"finished",null),u([h()],Tu.prototype,"promise",void 0),u([h()],Tu.prototype,"_result",void 0),Tu=u([A("esri.core.asyncUtils.ReactiveTask")],Tu);function xe(e,t,i={}){return aL(e,t,i,FG)}function $s(e,t,i={}){return aL(e,t,i,jG)}function aL(e,t,i={},r){let s=null;const n=i.once?(o,c)=>{r(o)&&(ri(s),t(o,c))}:(o,c)=>{r(o)&&t(o,c)};if(s=pse(e,n,i.sync,i.equals),i.initial){const o=e();n(o,o)}return s}function Io(e,t,i,r={}){let s=null,n=null,o=null;function c(){var g;s&&n&&(n.remove(),(g=r.onListenerRemove)==null||g.call(r,s),s=null,n=null)}function d(g){r.once&&r.once&&ri(o),i(g)}const f=xe(e,(g,v)=>{var _;c(),dT(g)&&(s=g,n=f1(g,t,d),(_=r.onListenerAdd)==null||_.call(r,g))},{sync:r.sync,initial:!0});return o=gt(()=>{f.remove(),c()}),o}function lL(e,t){return Aae(e,jG,t)}function Aae(e,t,i){if(Ks(i))return Promise.reject(Bt());const r=e();if(t!=null&&t(r))return Promise.resolve(r);let s=null;function n(){s=ri(s)}return new Promise((o,c)=>{s=d1([In(i,()=>{n(),c(Bt())}),aL(e,d=>{n(),o(d)},{sync:!1,once:!0},t??FG)])})}function FG(e){return!0}function jG(e){return!!e}function Oae(e,t,i={}){let r=!1;const s=xe(e,(n,o)=>{r||t(n,o)},i);return{remove(){s.remove()},pause(){r=!0},resume(){r=!1}}}function Cae(e,t){const i=new pe,r=Io(e,"after-splice",({added:s,start:n,deleteCount:o})=>{const c=i.splice(n,o);for(const d of c)d.remove();if(s!=null&&s.length){const d=s.map(t);i.addMany(d,n)}},{sync:!0,onListenerRemove:()=>i.drain(s=>s.remove()),onListenerAdd:s=>i.addMany(s.items.map(t))});return i.addHandles(r),i}function FIe(e,t){const i=new pe,r=Cae(e,c=>w1(async d=>{const f=await t(c,d);if(Ks(d))throw f.remove(),Bt();return f})),s=()=>null,n=async c=>{const d=await c.promise,f=r.indexOf(c);f<0||i.splice(f,1,d)};i.addMany(r.items.map(s));for(const c of r)Lv(n(c));const o=r.on("after-splice",({added:c,start:d,deleteCount:f})=>{const g=i.splice(d,f);for(const v of g)v==null||v.remove();if(c!=null&&c.length){i.addMany(c.map(s),d);for(const v of c)Lv(n(v))}});return i.addHandles([Nie(r),o]),i}const fa={sync:!0},Nt={initial:!0},gs={sync:!0,initial:!0};let of=class extends pe{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(s7(()=>this._refresh(),fa))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let i=0;for(const r of t)r!=null&&(i=this._processCollection(i,r));this.splice(i,this.length)}_createNewInstance(t){return new pe(t)}_processCollection(t,i){if(!i)return t;const r=this.itemFilterFunction??(s=>!!s);for(const s of i)if(s){if(r(s)){const n=this.indexOf(s,t);n>=0?n!==t&&this.reorder(s,t):this.add(s,t),++t}if(this.getChildrenFunction){const n=this.getChildrenFunction(s);if(Array.isArray(n))for(const o of n)t=this._processCollection(t,o);else t=this._processCollection(t,n)}}return t}};u([h()],of.prototype,"getCollections",void 0),u([h()],of.prototype,"getChildrenFunction",void 0),u([h()],of.prototype,"itemFilterFunction",void 0),of=u([A("esri.core.CollectionFlattener")],of);const jv=of;let f2=class{constructor(t=i=>i.values().next().value){this._peeker=t,this._observable=new _1,this._items=new Set}get length(){return De(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return De(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const i=this.length;return this._items.forEach(r=>{t(r)||this._items.delete(r)}),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){De(this._observable),yield*this._items}};const UG=new FinalizationRegistry(e=>{e.close()});function Iae(e,t){UG.register(e,t,t)}function Rae(e){UG.unregister(e)}function zG(e,t){return new Proxy({},{get:(i,r,s)=>(...n)=>{let o,c;const d=n[n.length-1];return Lae(d)&&(o=d.signal,c=d.transferList,n.pop()),e.apply(t?`${t}.${r.toString()}`:r.toString(),n,{transferList:c,signal:o})}})}function Lae(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const Nae={statsWorker:()=>te(()=>import("./statsWorker-gLdNoCWX.js"),__vite__mapDeps([2,3,4,5,6,7])),geometryEngineWorker:()=>te(()=>import("./geometryEngineWorker-CA-tZxOm.js"),__vite__mapDeps([8,9,10,1,11])),arcadeGeometryOperatorsWorker:()=>te(()=>import("./operatorsWorker-DPIMyTSW.js"),[]),CSVSourceWorker:()=>te(()=>import("./CSVSourceWorker-BOA7Iol-.js"),__vite__mapDeps([12,13,11,14,15,16,17,18,19,20,21,22,23,24,25,4,3,5,6,7,26,27,28,29,30,31,32])),EdgeProcessingWorker:()=>te(()=>import("./EdgeProcessingWorker-CpSo8Wav.js"),__vite__mapDeps([33,34,35,36,37,38,39,40,41,42,43,44])),ElevationSamplerWorker:()=>te(()=>import("./ElevationSamplerWorker-Cr1mhbyx.js"),__vite__mapDeps([45,30,46,47,48,49,50,51,52,53,54,36,55])),FeatureServiceSnappingSourceWorker:()=>te(()=>import("./FeatureServiceSnappingSourceWorker-TIAEZlIF.js"),__vite__mapDeps([56,17,18,11,19,20,14,15,16,21,22,23,24,25,4,3,5,6,7,26,27,28,29,30,31,57,58,59,60,61])),GeoJSONSourceWorker:()=>te(()=>import("./GeoJSONSourceWorker-BxbEDuBI.js"),__vite__mapDeps([62,20,14,15,16,21,17,18,11,19,22,23,24,25,4,3,5,6,7,26,27,28,29,30,31,63,13,64])),LercWorker:()=>te(()=>import("./LercWorker-DzerVzO8.js"),[]),MemorySourceWorker:()=>te(()=>import("./MemorySourceWorker-DvpxYNQp.js"),__vite__mapDeps([65,20,14,15,16,21,66,17,18,11,19,22,23,24,25,4,3,5,6,7,26,27,28,29,30,31,64,13])),PBFDecoderWorker:()=>te(()=>import("./PBFDecoderWorker-3Dc6lo3k.js"),__vite__mapDeps([67,68,15,20,14,16,21,58,59])),FeaturePipelineWorker:()=>te(()=>import("./FeaturePipelineWorker-B3TQoh_4.js"),__vite__mapDeps([69,70,71,72,43,73,18,11,25,20,14,15,16,21,24,74,75,76,77,78,79,80,4,81,82,83,84,85,86,87,88,89,31,19,22,23,3,5,6,7,26,27,90,91,92,93,60,58,59,94,63,13,64,95,96,97])),PointCloudWorker:()=>te(()=>import("./PointCloudWorker-xKsVmuXk.js"),__vite__mapDeps([98,99,48,100,101,102,103,41,104,49,50,51,105])),RasterWorker:()=>te(()=>import("./RasterWorker-CbpJyfyK.js"),__vite__mapDeps([106,107,108,109,1,110,111,112,113])),SceneLayerSnappingSourceWorker:()=>te(()=>import("./SceneLayerSnappingSourceWorker-DogCsgFM.js"),__vite__mapDeps([114,115,116,48,105,49,100,117,35,36,37,38,39,40,41,42,43,44])),SceneLayerWorker:()=>te(()=>import("./SceneLayerWorker-wUIQkMQB.js"),__vite__mapDeps([118,46,54,119,52,116,48,105,49,100,120,103,41,121,79,122,123,124,125,104,99,50,51])),WFSSourceWorker:()=>te(()=>import("./WFSSourceWorker-DVEiUBin.js"),__vite__mapDeps([126,20,14,15,16,21,17,18,11,19,22,23,24,25,4,3,5,6,7,26,27,28,29,30,31,63,13,64,127,128])),WorkerTileHandler:()=>te(()=>import("./WorkerTileHandler-CjLnmhDd.js"),__vite__mapDeps([129,130,77,80,131,132,59,15,85,133,134,43,110,87,75])),Lyr3DWorker:()=>te(()=>import("./Lyr3DWorker-CbCe6I-T.js"),[]),Feature3DPipelineWorker:()=>te(()=>import("./Feature3DPipelineWorker-CEXeiIIC.js"),__vite__mapDeps([135,19,20,14,15,16,21,22,23,24,25,18,11,4,3,5,6,7,26,27,30,60,58,59,40,136,137,138,139,124,49,125,123,48,41,140,116,105,100,115,104,99,50,51,141,142,35,36,37,143,42,43,144,117,145,79,146,147,53,46,119,52,148,101,149,150,151,122,152])),TextureCompressionWorker:()=>te(()=>import("./TextureCompressionWorker-rP-hG9wJ.js"),__vite__mapDeps([153,142]))},VG="worker:port-closed";var ar;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(ar||(ar={}));let Pae=0;function GG(){return Pae++}function Dae(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function Uv(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function uL(e,t,i,r){if(t.type===ar.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==ar.INVOKE&&t.type!==ar.RESPONSE)return void e.postMessage(t);let s;if(Dae(i)?(s=a6(i.transferList),t.data=i.result):(s=a6(r),t.data=i),s){if(B("ff")){for(const n of s)if("byteLength"in n&&n.byteLength>267386880){const o="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case ar.INVOKE:throw o;case ar.RESPONSE:return void uL(e,{type:ar.RESPONSE,jobId:t.jobId,error:Uv(o)})}}}e.postMessage(t,s)}else e.postMessage(t)}function zv(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function a6(e){if(!(e!=null&&e.length))return null;if(B("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(i=>!kae(i));return t.length?t:null}function kae(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="ArrayBuffer"}async function zIe(e){try{return await e}catch(t){const i=(t==null?void 0:t.name)===VG;if(!(Ur(t)||i))throw t;return}}const{CLOSE:l6,ABORT:u6,INVOKE:c6,RESPONSE:bg,OPEN_PORT:d6,ON:Fae}=ar,jae=2;let Uae=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===ar.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},wc=class af{static connect(t,i){const r=new MessageChannel;let s;s=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const n=new af(r.port1,{channel:r,client:s,schedule:i});return typeof s=="object"&&"remoteClient"in s&&(s.remoteClient=n),af.clients.set(n,s),r.port2}static loadWorker(t){const i=Nae[t];return i?i():Promise.resolve(null)}constructor(t,i,r){this._port=t,this._jobQueue=r,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new Uae(s=>this._onInvokeMessage(s)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:l6}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,i,r){return this.apply(t,[i],r)}apply(t,i,r){const s=r==null?void 0:r.signal,n=r==null?void 0:r.transferList;if(!this._port)return Promise.reject(new z(VG,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:i}));const o=GG();return new Promise((c,d)=>{if(Ks(s))return this._processWork(),void d(Bt());const f=In(s,()=>{const v=this._outJobs.get(o);v&&(this._outJobs.delete(o),this._processWork(),ri(v.abortHandle),this._post({type:u6,jobId:o}),d(Bt()))}),g={resolve:c,reject:d,abortHandle:f,debugInfo:t};this._outJobs.set(o,g),this._post({type:c6,jobId:o,methodName:t,abortable:s!=null},i,n)})}createInvokeProxy(t){return zG(this,t)}on(t,i){const r=new MessageChannel;function s(n){i(n.data)}return this._port.postMessage({type:ar.ON,eventType:t,port:r.port2},[r.port2]),r.port1.addEventListener("message",s),r.port1.start(),gt(()=>{r.port1.postMessage({type:ar.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",s)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:d6,port:t.port2}),t.port1}_processWork(){var o;if(this._outJobs.size>=jae)return;const t=(o=this._jobQueue)==null?void 0:o.pop();if(!t)return;const{methodName:i,data:r,invokeOptions:s,resolver:n}=t;this.apply(i,r,s).then(c=>n.resolve(c)).catch(c=>n.reject(c))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{ri(t.abortHandle),t.reject(Bt(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,i){const r=zv(t);if(r)switch(r.type){case bg:this._onResponseMessage(r);break;case c6:i?this._onInvokeMessage(r):this._invokeQueue.push(r);break;case u6:this._onAbortMessage(r);break;case l6:this._onCloseMessage();break;case d6:this._onOpenPortMessage(r);break;case Fae:this._onOnMessage(r)}}_onAbortMessage(t){const i=this._inJobs,r=t.jobId,s=i.get(r);this._invokeQueue.push(t),s&&(s.controller&&s.controller.abort(),i.delete(r))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&af.clients.get(this)===t&&t.destroy(),af.clients.delete(this),t!=null&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:i,jobId:r,data:s=[],abortable:n}=t,o=n?new AbortController:null,c=this._inJobs;let d,f=this._client,g=f[i];try{if(!g&&i&&i.includes(".")){const v=i.split(".");for(let _=0;_<v.length-1;_++)f=f[v[_]],g=f[v[_+1]]}if(typeof g!="function")throw new TypeError(`${i} is not a function`);s.push({client:this,signal:o?o.signal:null}),d=g.apply(f,s)}catch(v){return void this._post({type:bg,jobId:r,error:Uv(v)})}ba(d)?(c.set(r,{controller:o,promise:d}),d.then(v=>{c.has(r)&&(c.delete(r),this._post({type:bg,jobId:r},v))},v=>{c.has(r)&&(c.delete(r),Ur(v)||this._post({type:bg,jobId:r,error:Uv(v||{message:`Error encountered at method ${i}`})}))})):this._post({type:bg,jobId:r},d)}_onOpenPortMessage(t){new af(t.port,{client:this._client})}_onOnMessage(t){const{port:i}=t,r=this._client.on(t.eventType,n=>{i.postMessage(n)}),s=f1(t.port,"message",n=>{const o=zv(n);(o==null?void 0:o.type)===ar.CLOSE&&(s.remove(),r.remove(),i.close())})}_onResponseMessage(t){const{jobId:i,error:r,data:s}=t,n=this._outJobs;if(!n.has(i))return;const o=n.get(i);n.delete(i),this._processWork(),ri(o.abortHandle),r?o.reject(z.fromJSON(JSON.parse(r))):o.resolve(s)}_post(t,i,r){return uL(this._port,t,i,r)}};wc.kernelInfo={buildDate:L7,fullVersion:jR,revision:N7},wc.clients=new Map;let zae=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new f2}destroy(){this.close()}get closed(){var t;return!((t=this._clients)!=null&&t.length)}open(t,i){return new Promise((r,s)=>{let n=!0;const o=c=>{li(i.signal),n&&(n=!1,c())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let c=0;c<t.length;++c){const d=t[c];ba(d)?this._clientPromises[c]=d.then(f=>(this._clients[c]=new wc(f,i,this._ongoingJobsQueue),o(r),this._clients[c]),()=>(o(s),null)):(this._clients[c]=new wc(d,i,this._ongoingJobsQueue),this._clientPromises[c]=Promise.resolve(this._clients[c]),o(r))}})}broadcast(t,i,r){const s=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const o=this._clientPromises[n];s[n]=o.then(c=>c==null?void 0:c.invoke(t,i,r))}return s}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(Bt(`Worker closing, aborting job calling '${t.methodName}'`));for(const i of this._clientPromises)i.then(r=>r==null?void 0:r.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,Rae(this)}invoke(t,i,r){return this.apply(t,[i],r)}apply(t,i,r){const s=en();this._ongoingJobsQueue.push({methodName:t,data:i,invokeOptions:r,resolver:s});for(let n=0;n<this._clientPromises.length;n++){const o=this._clients[n];o?o.jobAdded():this._clientPromises[n].then(c=>c==null?void 0:c.jobAdded())}return s.promise}createInvokeProxy(t){return zG(this,t)}on(t,i){return Promise.all(this._clientPromises).then(()=>d1(this._clients.map(r=>r.on(t,i))))}openPorts(){return new Promise(t=>{const i=new Array(this._clientPromises.length);let r=i.length;for(let s=0;s<this._clientPromises.length;++s)this._clientPromises[s].then(n=>{n&&(i[s]=n.openPort()),--r==0&&t(i)})})}get test(){}};const Vae={async request(e,t){var o,c;const i=e.options,r=i.responseType;i.signal=t==null?void 0:t.signal,i.responseType=r==="native"||r==="native-request-init"?"native-request-init":r&&["blob","json","text"].includes(r)&&((o=X3(e.url))!=null&&o.after)?r:"array-buffer";const s=await qt(e.url,i),n={data:s.data,httpStatus:s.httpStatus,ssl:s.ssl};switch((c=s.requestOptions)==null?void 0:c.responseType){case"native-request-init":return delete n.data.signal,n;case"blob":n.data=await n.data.arrayBuffer();break;case"json":n.data=new TextEncoder().encode(JSON.stringify(n.data)).buffer;break;case"text":n.data=new TextEncoder().encode(n.data).buffer}return{result:n,transferList:[n.data]}}};let nv;var Mz,Az;const Gae=((Mz=globalThis.esriConfig)==null?void 0:Mz.locale)??((Az=globalThis.dojoConfig)==null?void 0:Az.locale);var Oz;const ov=(Oz=globalThis.document)==null?void 0:Oz.documentElement;function qG(){var i;const e=ov==null?void 0:ov.getAttribute("lang"),t=(i=globalThis.navigator)==null?void 0:i.language;return Gae??e??t??"en"}function Ss(){return nv===void 0&&(nv=qG()),nv}function qIe(e=Ss()){const t=/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e);return t==null?void 0:t[1].toLowerCase()}const xw=[];function BG(e){return xw.push(e),gt(()=>xw.splice(xw.indexOf(e),1))}const Mw=[];function cL(e){return Mw.push(e),gt(()=>Mw.splice(Mw.indexOf(e),1))}function h6(){const e=qG();nv!==e&&([...Mw].forEach(t=>t(e)),nv=e,[...xw].forEach(t=>t(e)))}var Cz;(Cz=globalThis.addEventListener)==null||Cz.call(globalThis,"languagechange",h6),ov&&new MutationObserver(()=>{h6()}).observe(ov,{attributeFilter:["lang"]});const ma="system",zh="unknown",Sc="UTC",qae=Intl.DateTimeFormat().resolvedOptions().timeZone,p6=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class Wh extends Error{}class Bae extends Wh{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class Hae extends Wh{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class Wae extends Wh{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Yf extends Wh{}class HG extends Wh{constructor(t){super(`Invalid unit ${t}`)}}class Lr extends Wh{}class fu extends Wh{constructor(){super("Zone is an abstract class")}}const ve="numeric",Ro="short",Qs="long",m2={year:ve,month:ve,day:ve},WG={year:ve,month:Ro,day:ve},Zae={year:ve,month:Ro,day:ve,weekday:Ro},ZG={year:ve,month:Qs,day:ve},YG={year:ve,month:Qs,day:ve,weekday:Qs},JG={hour:ve,minute:ve},XG={hour:ve,minute:ve,second:ve},QG={hour:ve,minute:ve,second:ve,timeZoneName:Ro},KG={hour:ve,minute:ve,second:ve,timeZoneName:Qs},eq={hour:ve,minute:ve,hourCycle:"h23"},tq={hour:ve,minute:ve,second:ve,hourCycle:"h23"},iq={hour:ve,minute:ve,second:ve,hourCycle:"h23",timeZoneName:Ro},rq={hour:ve,minute:ve,second:ve,hourCycle:"h23",timeZoneName:Qs},sq={year:ve,month:ve,day:ve,hour:ve,minute:ve},nq={year:ve,month:ve,day:ve,hour:ve,minute:ve,second:ve},oq={year:ve,month:Ro,day:ve,hour:ve,minute:ve},aq={year:ve,month:Ro,day:ve,hour:ve,minute:ve,second:ve},Yae={year:ve,month:Ro,day:ve,weekday:Ro,hour:ve,minute:ve},lq={year:ve,month:Qs,day:ve,hour:ve,minute:ve,timeZoneName:Ro},uq={year:ve,month:Qs,day:ve,hour:ve,minute:ve,second:ve,timeZoneName:Ro},cq={year:ve,month:Qs,day:ve,weekday:Qs,hour:ve,minute:ve,timeZoneName:Qs},dq={year:ve,month:Qs,day:ve,weekday:Qs,hour:ve,minute:ve,second:ve,timeZoneName:Qs};class Zh{get type(){throw new fu}get name(){throw new fu}get ianaName(){return this.name}get isUniversal(){throw new fu}offsetName(t,i){throw new fu}formatOffset(t,i){throw new fu}offset(t){throw new fu}equals(t){throw new fu}get isValid(){throw new fu}}let oM=null;class $T extends Zh{static get instance(){return oM===null&&(oM=new $T),oM}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return _q(t,i,r)}formatOffset(t,i){return av(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let Aw={};function Jae(e){return Aw[e]||(Aw[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Aw[e]}const Xae={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Qae(e,t){const i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,s,n,o,c,d,f,g]=r;return[o,s,n,c,d,f,g]}function Kae(e,t){const i=e.formatToParts(t),r=[];for(let s=0;s<i.length;s++){const{type:n,value:o}=i[s],c=Xae[n];n==="era"?r[c]=o:Xe(c)||(r[c]=parseInt(o,10))}return r}let y_={};class xs extends Zh{static create(t){return y_[t]||(y_[t]=new xs(t)),y_[t]}static resetCache(){y_={},Aw={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=xs.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return _q(t,i,r,this.name)}formatOffset(t,i){return av(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const r=Jae(this.name);let[s,n,o,c,d,f,g]=r.formatToParts?Kae(r,i):Qae(r,i);c==="BC"&&(s=-Math.abs(s)+1);const _=MT({year:s,month:n,day:o,hour:d===24?0:d,minute:f,second:g,millisecond:0});let S=+i;const T=S%1e3;return S-=T>=0?T:1e3+T,(_-S)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let f6={};function ele(e,t={}){const i=JSON.stringify([e,t]);let r=f6[i];return r||(r=new Intl.ListFormat(e,t),f6[i]=r),r}let wA={};function SA(e,t={}){const i=JSON.stringify([e,t]);let r=wA[i];return r||(r=new Intl.DateTimeFormat(e,t),wA[i]=r),r}let TA={};function tle(e,t={}){const i=JSON.stringify([e,t]);let r=TA[i];return r||(r=new Intl.NumberFormat(e,t),TA[i]=r),r}let EA={};function ile(e,t={}){const{base:i,...r}=t,s=JSON.stringify([e,r]);let n=EA[s];return n||(n=new Intl.RelativeTimeFormat(e,t),EA[s]=n),n}let Wg=null;function rle(){return Wg||(Wg=new Intl.DateTimeFormat().resolvedOptions().locale,Wg)}let m6={};function sle(e){let t=m6[e];if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,m6[e]=t}return t}function nle(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(i===-1)return[e];{let r,s;try{r=SA(e).resolvedOptions(),s=e}catch{const d=e.substring(0,i);r=SA(d).resolvedOptions(),s=d}const{numberingSystem:n,calendar:o}=r;return[s,n,o]}}function ole(e,t,i){return(i||t)&&(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function ale(e){const t=[];for(let i=1;i<=12;i++){const r=Re.utc(2009,i,1);t.push(e(r))}return t}function lle(e){const t=[];for(let i=1;i<=7;i++){const r=Re.utc(2016,11,13+i);t.push(e(r))}return t}function g_(e,t,i,r){const s=e.listingMode();return s==="error"?null:s==="en"?i(t):r(t)}function ule(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class cle{constructor(t,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:s,floor:n,...o}=r;if(!i||Object.keys(o).length>0){const c={useGrouping:!1,...r};r.padTo>0&&(c.minimumIntegerDigits=r.padTo),this.inf=tle(t,c)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):mL(t,3);return Fi(i,this.padTo)}}}class dle{constructor(t,i,r){this.opts=r,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),c=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&xs.create(c).valid?(s=c,this.dt=t):(s="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const n={...this.opts};n.timeZone=n.timeZone||s,this.dtf=SA(i,n)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class hle{constructor(t,i,r){this.opts={style:"long",...r},!i&&vq()&&(this.rtf=ile(t,r))}format(t,i){return this.rtf?this.rtf.format(t,i):Ple(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}const ple={firstDay:1,minimalDays:4,weekend:[6,7]};class Ct{static fromOpts(t){return Ct.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,r,s,n=!1){const o=t||Ei.defaultLocale,c=o||(n?"en-US":rle()),d=i||Ei.defaultNumberingSystem,f=r||Ei.defaultOutputCalendar,g=$A(s)||Ei.defaultWeekSettings;return new Ct(c,d,f,g,o)}static resetCache(){Wg=null,wA={},TA={},EA={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:r,weekSettings:s}={}){return Ct.create(t,i,r,s)}constructor(t,i,r,s,n){const[o,c,d]=nle(t);this.locale=o,this.numberingSystem=i||c||null,this.outputCalendar=r||d||null,this.weekSettings=s,this.intl=ole(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=ule(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Ct.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,$A(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return g_(this,t,Tq,()=>{const r=i?{month:t,day:"numeric"}:{month:t},s=i?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=ale(n=>this.extract(n,r,"month"))),this.monthsCache[s][t]})}weekdays(t,i=!1){return g_(this,t,xq,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=i?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=lle(n=>this.extract(n,r,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return g_(this,void 0,()=>Mq,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Re.utc(2016,11,13,9),Re.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return g_(this,t,Aq,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[Re.utc(-40,1,1),Re.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[t]})}extract(t,i,r){const s=this.dtFormatter(t,i),n=s.formatToParts(),o=n.find(c=>c.type.toLowerCase()===r);return o?o.value:null}numberFormatter(t={}){return new cle(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new dle(t,this.intl,i)}relFormatter(t={}){return new hle(this.intl,this.isEnglish(),t)}listFormatter(t={}){return ele(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:bq()?sle(this.locale):ple}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let aM=null;class lr extends Zh{static get utcInstance(){return aM===null&&(aM=new lr(0)),aM}static instance(t){return t===0?lr.utcInstance:new lr(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new lr(AT(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${av(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${av(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return av(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class fle extends Zh{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function sc(e,t){if(Xe(e)||e===null)return t;if(e instanceof Zh)return e;if(_le(e)){const i=e.toLowerCase();return i==="default"?t:i==="local"||i==="system"?$T.instance:i==="utc"||i==="gmt"?lr.utcInstance:lr.parseSpecifier(i)||xs.create(e)}else return fc(e)?lr.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new fle(e)}const dL={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},y6={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},mle=dL.hanidec.replace(/[\[|\]]/g,"").split("");function yle(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);if(e[i].search(dL.hanidec)!==-1)t+=mle.indexOf(e[i]);else for(const s in y6){const[n,o]=y6[s];r>=n&&r<=o&&(t+=r-n)}}return parseInt(t,10)}else return t}let lf={};function gle(){lf={}}function Jn({numberingSystem:e},t=""){const i=e||"latn";return lf[i]||(lf[i]={}),lf[i][t]||(lf[i][t]=new RegExp(`${dL[i]}${t}`)),lf[i][t]}let g6=()=>Date.now(),v6="system",b6=null,_6=null,w6=null,S6=60,T6,E6=null;class Ei{static get now(){return g6}static set now(t){g6=t}static set defaultZone(t){v6=t}static get defaultZone(){return sc(v6,$T.instance)}static get defaultLocale(){return b6}static set defaultLocale(t){b6=t}static get defaultNumberingSystem(){return _6}static set defaultNumberingSystem(t){_6=t}static get defaultOutputCalendar(){return w6}static set defaultOutputCalendar(t){w6=t}static get defaultWeekSettings(){return E6}static set defaultWeekSettings(t){E6=$A(t)}static get twoDigitCutoffYear(){return S6}static set twoDigitCutoffYear(t){S6=t%100}static get throwOnInvalid(){return T6}static set throwOnInvalid(t){T6=t}static resetCaches(){Ct.resetCache(),xs.resetCache(),Re.resetCache(),gle()}}class $o{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const hq=[0,31,59,90,120,151,181,212,243,273,304,334],pq=[0,31,60,91,121,152,182,213,244,274,305,335];function On(e,t){return new $o("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function hL(e,t,i){const r=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const s=r.getUTCDay();return s===0?7:s}function fq(e,t,i){return i+(S1(e)?pq:hq)[t-1]}function mq(e,t){const i=S1(e)?pq:hq,r=i.findIndex(n=>n<t),s=t-i[r];return{month:r+1,day:s}}function pL(e,t){return(e-t+7)%7+1}function y2(e,t=4,i=1){const{year:r,month:s,day:n}=e,o=fq(r,s,n),c=pL(hL(r,s,n),i);let d=Math.floor((o-c+14-t)/7),f;return d<1?(f=r-1,d=Vv(f,t,i)):d>Vv(r,t,i)?(f=r+1,d=1):f=r,{weekYear:f,weekNumber:d,weekday:c,...OT(e)}}function $6(e,t=4,i=1){const{weekYear:r,weekNumber:s,weekday:n}=e,o=pL(hL(r,1,t),i),c=nm(r);let d=s*7+n-o-7+t,f;d<1?(f=r-1,d+=nm(f)):d>c?(f=r+1,d-=nm(r)):f=r;const{month:g,day:v}=mq(f,d);return{year:f,month:g,day:v,...OT(e)}}function lM(e){const{year:t,month:i,day:r}=e,s=fq(t,i,r);return{year:t,ordinal:s,...OT(e)}}function x6(e){const{year:t,ordinal:i}=e,{month:r,day:s}=mq(t,i);return{year:t,month:r,day:s,...OT(e)}}function M6(e,t){if(!Xe(e.localWeekday)||!Xe(e.localWeekNumber)||!Xe(e.localWeekYear)){if(!Xe(e.weekday)||!Xe(e.weekNumber)||!Xe(e.weekYear))throw new Yf("Cannot mix locale-based week fields with ISO-based week fields");return Xe(e.localWeekday)||(e.weekday=e.localWeekday),Xe(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Xe(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function vle(e,t=4,i=1){const r=xT(e.weekYear),s=Cn(e.weekNumber,1,Vv(e.weekYear,t,i)),n=Cn(e.weekday,1,7);return r?s?n?!1:On("weekday",e.weekday):On("week",e.weekNumber):On("weekYear",e.weekYear)}function ble(e){const t=xT(e.year),i=Cn(e.ordinal,1,nm(e.year));return t?i?!1:On("ordinal",e.ordinal):On("year",e.year)}function yq(e){const t=xT(e.year),i=Cn(e.month,1,12),r=Cn(e.day,1,g2(e.year,e.month));return t?i?r?!1:On("day",e.day):On("month",e.month):On("year",e.year)}function gq(e){const{hour:t,minute:i,second:r,millisecond:s}=e,n=Cn(t,0,23)||t===24&&i===0&&r===0&&s===0,o=Cn(i,0,59),c=Cn(r,0,59),d=Cn(s,0,999);return n?o?c?d?!1:On("millisecond",s):On("second",r):On("minute",i):On("hour",t)}function Xe(e){return typeof e>"u"}function fc(e){return typeof e=="number"}function xT(e){return typeof e=="number"&&e%1===0}function _le(e){return typeof e=="string"}function wle(e){return Object.prototype.toString.call(e)==="[object Date]"}function vq(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function bq(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Sle(e){return Array.isArray(e)?e:[e]}function A6(e,t,i){if(e.length!==0)return e.reduce((r,s)=>{const n=[t(s),s];return r&&i(r[0],n[0])===r[0]?r:n},null)[1]}function Tle(e,t){return t.reduce((i,r)=>(i[r]=e[r],i),{})}function Nm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $A(e){if(e==null)return null;if(typeof e!="object")throw new Lr("Week settings must be an object");if(!Cn(e.firstDay,1,7)||!Cn(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!Cn(t,1,7)))throw new Lr("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Cn(e,t,i){return xT(e)&&e>=t&&e<=i}function Ele(e,t){return e-t*Math.floor(e/t)}function Fi(e,t=2){const i=e<0;let r;return i?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function Yu(e){if(!(Xe(e)||e===null||e===""))return parseInt(e,10)}function hd(e){if(!(Xe(e)||e===null||e===""))return parseFloat(e)}function fL(e){if(!(Xe(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function mL(e,t,i=!1){const r=10**t;return(i?Math.trunc:Math.round)(e*r)/r}function S1(e){return e%4===0&&(e%100!==0||e%400===0)}function nm(e){return S1(e)?366:365}function g2(e,t){const i=Ele(t-1,12)+1,r=e+(t-i)/12;return i===2?S1(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function MT(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function O6(e,t,i){return-pL(hL(e,1,t),i)+t-1}function Vv(e,t=4,i=1){const r=O6(e,t,i),s=O6(e+1,t,i);return(nm(e)-r+s)/7}function xA(e){return e>99?e:e>Ei.twoDigitCutoffYear?1900+e:2e3+e}function _q(e,t,i,r=null){const s=new Date(e),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(n.timeZone=r);const o={timeZoneName:t,...n},c=new Intl.DateTimeFormat(i,o).formatToParts(s).find(d=>d.type.toLowerCase()==="timezonename");return c?c.value:null}function AT(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const r=parseInt(t,10)||0,s=i<0||Object.is(i,-0)?-r:r;return i*60+s}function wq(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Lr(`Invalid unit value ${e}`);return t}function v2(e,t){const i={};for(const r in e)if(Nm(e,r)){const s=e[r];if(s==null)continue;i[t(r)]=wq(s)}return i}function av(e,t){const i=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${Fi(i,2)}:${Fi(r,2)}`;case"narrow":return`${s}${i}${r>0?`:${r}`:""}`;case"techie":return`${s}${Fi(i,2)}${Fi(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function OT(e){return Tle(e,["hour","minute","second","millisecond"])}const $le=["January","February","March","April","May","June","July","August","September","October","November","December"],Sq=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],xle=["J","F","M","A","M","J","J","A","S","O","N","D"];function Tq(e){switch(e){case"narrow":return[...xle];case"short":return[...Sq];case"long":return[...$le];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Eq=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$q=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Mle=["M","T","W","T","F","S","S"];function xq(e){switch(e){case"narrow":return[...Mle];case"short":return[...$q];case"long":return[...Eq];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Mq=["AM","PM"],Ale=["Before Christ","Anno Domini"],Ole=["BC","AD"],Cle=["B","A"];function Aq(e){switch(e){case"narrow":return[...Cle];case"short":return[...Ole];case"long":return[...Ale];default:return null}}function Ile(e){return Mq[e.hour<12?0:1]}function Rle(e,t){return xq(t)[e.weekday-1]}function Lle(e,t){return Tq(t)[e.month-1]}function Nle(e,t){return Aq(t)[e.year<0?0:1]}function Ple(e,t,i="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&n){const v=e==="days";switch(t){case 1:return v?"tomorrow":`next ${s[e][0]}`;case-1:return v?"yesterday":`last ${s[e][0]}`;case 0:return v?"today":`this ${s[e][0]}`}}const o=Object.is(t,-0)||t<0,c=Math.abs(t),d=c===1,f=s[e],g=r?d?f[1]:f[2]||f[1]:d?s[e][0]:e;return o?`${c} ${g} ago`:`in ${c} ${g}`}function C6(e,t){let i="";for(const r of e)r.literal?i+=r.val:i+=t(r.val);return i}const Dle={D:m2,DD:WG,DDD:ZG,DDDD:YG,t:JG,tt:XG,ttt:QG,tttt:KG,T:eq,TT:tq,TTT:iq,TTTT:rq,f:sq,ff:oq,fff:lq,ffff:cq,F:nq,FF:aq,FFF:uq,FFFF:dq};class Dr{static create(t,i={}){return new Dr(t,i)}static parseFormat(t){let i=null,r="",s=!1;const n=[];for(let o=0;o<t.length;o++){const c=t.charAt(o);c==="'"?(r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),i=null,r="",s=!s):s||c===i?r+=c:(r.length>0&&n.push({literal:/^\s+$/.test(r),val:r}),r=c,i=c)}return r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),n}static macroTokenToFormatOpts(t){return Dle[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return Fi(t,i);const r={...this.opts};return i>0&&(r.padTo=i),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,i){const r=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",n=(S,T)=>this.loc.extract(t,S,T),o=S=>t.isOffsetFixed&&t.offset===0&&S.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,S.format):"",c=()=>r?Ile(t):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(S,T)=>r?Lle(t,S):n(T?{month:S}:{month:S,day:"numeric"},"month"),f=(S,T)=>r?Rle(t,S):n(T?{weekday:S}:{weekday:S,month:"long",day:"numeric"},"weekday"),g=S=>{const T=Dr.macroTokenToFormatOpts(S);return T?this.formatWithSystemDefault(t,T):S},v=S=>r?Nle(t,S):n({era:S},"era"),_=S=>{switch(S){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return c();case"d":return s?n({day:"numeric"},"day"):this.num(t.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return f("short",!0);case"cccc":return f("long",!0);case"ccccc":return f("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return f("short",!1);case"EEEE":return f("long",!1);case"EEEEE":return f("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(t.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(t.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(t.year,6);case"G":return v("short");case"GG":return v("long");case"GGGGG":return v("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return g(S)}};return C6(Dr.parseFormat(i),_)}formatDurationFromString(t,i){const r=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=d=>f=>{const g=r(f);return g?this.num(d.get(g),f.length):f},n=Dr.parseFormat(i),o=n.reduce((d,{literal:f,val:g})=>f?d:d.concat(g),[]),c=t.shiftTo(...o.map(r).filter(d=>d));return C6(n,s(c))}}const Oq=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ym(...e){const t=e.reduce((i,r)=>i+r.source,"");return RegExp(`^${t}$`)}function Jm(...e){return t=>e.reduce(([i,r,s],n)=>{const[o,c,d]=n(t,s);return[{...i,...o},c||r,d]},[{},null,1]).slice(0,2)}function Xm(e,...t){if(e==null)return[null,null];for(const[i,r]of t){const s=i.exec(e);if(s)return r(s)}return[null,null]}function Cq(...e){return(t,i)=>{const r={};let s;for(s=0;s<e.length;s++)r[e[s]]=Yu(t[i+s]);return[r,null,i+s]}}const Iq=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,kle=`(?:${Iq.source}?(?:\\[(${Oq.source})\\])?)?`,yL=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Rq=RegExp(`${yL.source}${kle}`),gL=RegExp(`(?:T${Rq.source})?`),Fle=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,jle=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ule=/(\d{4})-?(\d{3})/,zle=Cq("weekYear","weekNumber","weekDay"),Vle=Cq("year","ordinal"),Gle=/(\d{4})-(\d\d)-(\d\d)/,Lq=RegExp(`${yL.source} ?(?:${Iq.source}|(${Oq.source}))?`),qle=RegExp(`(?: ${Lq.source})?`);function om(e,t,i){const r=e[t];return Xe(r)?i:Yu(r)}function Ble(e,t){return[{year:om(e,t),month:om(e,t+1,1),day:om(e,t+2,1)},null,t+3]}function Qm(e,t){return[{hours:om(e,t,0),minutes:om(e,t+1,0),seconds:om(e,t+2,0),milliseconds:fL(e[t+3])},null,t+4]}function T1(e,t){const i=!e[t]&&!e[t+1],r=AT(e[t+1],e[t+2]),s=i?null:lr.instance(r);return[{},s,t+3]}function E1(e,t){const i=e[t]?xs.create(e[t]):null;return[{},i,t+1]}const Hle=RegExp(`^T?${yL.source}$`),Wle=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Zle(e){const[t,i,r,s,n,o,c,d,f]=e,g=t[0]==="-",v=d&&d[0]==="-",_=(S,T=!1)=>S!==void 0&&(T||S&&g)?-S:S;return[{years:_(hd(i)),months:_(hd(r)),weeks:_(hd(s)),days:_(hd(n)),hours:_(hd(o)),minutes:_(hd(c)),seconds:_(hd(d),d==="-0"),milliseconds:_(fL(f),v)}]}const Yle={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function vL(e,t,i,r,s,n,o){const c={year:t.length===2?xA(Yu(t)):Yu(t),month:Sq.indexOf(i)+1,day:Yu(r),hour:Yu(s),minute:Yu(n)};return o&&(c.second=Yu(o)),e&&(c.weekday=e.length>3?Eq.indexOf(e)+1:$q.indexOf(e)+1),c}const Jle=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Xle(e){const[,t,i,r,s,n,o,c,d,f,g,v]=e,_=vL(t,s,r,i,n,o,c);let S;return d?S=Yle[d]:f?S=0:S=AT(g,v),[_,new lr(S)]}function Qle(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Kle=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,eue=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,tue=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function I6(e){const[,t,i,r,s,n,o,c]=e;return[vL(t,s,r,i,n,o,c),lr.utcInstance]}function iue(e){const[,t,i,r,s,n,o,c]=e;return[vL(t,c,i,r,s,n,o),lr.utcInstance]}const rue=Ym(Fle,gL),sue=Ym(jle,gL),nue=Ym(Ule,gL),oue=Ym(Rq),Nq=Jm(Ble,Qm,T1,E1),aue=Jm(zle,Qm,T1,E1),lue=Jm(Vle,Qm,T1,E1),uue=Jm(Qm,T1,E1);function cue(e){return Xm(e,[rue,Nq],[sue,aue],[nue,lue],[oue,uue])}function due(e){return Xm(Qle(e),[Jle,Xle])}function hue(e){return Xm(e,[Kle,I6],[eue,I6],[tue,iue])}function pue(e){return Xm(e,[Wle,Zle])}const fue=Jm(Qm);function mue(e){return Xm(e,[Hle,fue])}const yue=Ym(Gle,qle),gue=Ym(Lq),vue=Jm(Qm,T1,E1);function bue(e){return Xm(e,[yue,Nq],[gue,vue])}const R6="Invalid Duration",Pq={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},_ue={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Pq},pn=146097/400,Up=146097/4800,wue={years:{quarters:4,months:12,weeks:pn/7,days:pn,hours:pn*24,minutes:pn*24*60,seconds:pn*24*60*60,milliseconds:pn*24*60*60*1e3},quarters:{months:3,weeks:pn/28,days:pn/4,hours:pn*24/4,minutes:pn*24*60/4,seconds:pn*24*60*60/4,milliseconds:pn*24*60*60*1e3/4},months:{weeks:Up/7,days:Up,hours:Up*24,minutes:Up*24*60,seconds:Up*24*60*60,milliseconds:Up*24*60*60*1e3},...Pq},mh=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Sue=mh.slice(0).reverse();function mu(e,t,i=!1){const r={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new bt(r)}function Dq(e,t){let i=t.milliseconds??0;for(const r of Sue.slice(1))t[r]&&(i+=t[r]*e[r].milliseconds);return i}function L6(e,t){const i=Dq(e,t)<0?-1:1;mh.reduceRight((r,s)=>{if(Xe(t[s]))return r;if(r){const n=t[r]*i,o=e[s][r],c=Math.floor(n/o);t[s]+=c*i,t[r]-=c*o*i}return s},null),mh.reduce((r,s)=>{if(Xe(t[s]))return r;if(r){const n=t[r]%1;t[r]-=n,t[s]+=n*e[r][s]}return s},null)}function Tue(e){const t={};for(const[i,r]of Object.entries(e))r!==0&&(t[i]=r);return t}class bt{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;let r=i?wue:_ue;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||Ct.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,i){return bt.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new Lr(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new bt({values:v2(t,bt.normalizeUnit),loc:Ct.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(fc(t))return bt.fromMillis(t);if(bt.isDuration(t))return t;if(typeof t=="object")return bt.fromObject(t);throw new Lr(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[r]=pue(t);return r?bt.fromObject(r,i):bt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[r]=mue(t);return r?bt.fromObject(r,i):bt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new Lr("need to specify a reason the Duration is invalid");const r=t instanceof $o?t:new $o(t,i);if(Ei.throwOnInvalid)throw new Wae(r);return new bt({invalid:r})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new HG(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Dr.create(this.loc,r).formatDurationFromString(this,t):R6}toHuman(t={}){if(!this.isValid)return R6;const i=mh.map(r=>{const s=this.values[r];return Xe(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(s)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=mL(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Re.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Dq(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=bt.fromDurationLike(t),r={};for(const s of mh)(Nm(i.values,s)||Nm(this.values,s))&&(r[s]=i.get(s)+this.get(s));return mu(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const i=bt.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=wq(t(this.values[r],r));return mu(this,{values:i},!0)}get(t){return this[bt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i={...this.values,...v2(t,bt.normalizeUnit)};return mu(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:r,matrix:s}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:s,conversionAccuracy:r};return mu(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return L6(this.matrix,t),mu(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=Tue(this.normalize().shiftToAll().toObject());return mu(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>bt.normalizeUnit(o));const i={},r={},s=this.toObject();let n;for(const o of mh)if(t.indexOf(o)>=0){n=o;let c=0;for(const f in r)c+=this.matrix[f][o]*r[f],r[f]=0;fc(s[o])&&(c+=s[o]);const d=Math.trunc(c);i[o]=d,r[o]=(c*1e3-d*1e3)/1e3}else fc(s[o])&&(r[o]=s[o]);for(const o in r)r[o]!==0&&(i[n]+=o===n?r[o]:r[o]/this.matrix[n][o]);return L6(this.matrix,i),mu(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return mu(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(r,s){return r===void 0||r===0?s===void 0||s===0:r===s}for(const r of mh)if(!i(this.values[r],t.values[r]))return!1;return!0}}const zp="Invalid Interval";function Eue(e,t){return!e||!e.isValid?Si.invalid("missing or invalid start"):!t||!t.isValid?Si.invalid("missing or invalid end"):t<e?Si.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Si{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new Lr("need to specify a reason the Interval is invalid");const r=t instanceof $o?t:new $o(t,i);if(Ei.throwOnInvalid)throw new Hae(r);return new Si({invalid:r})}static fromDateTimes(t,i){const r=_g(t),s=_g(i),n=Eue(r,s);return n??new Si({start:r,end:s})}static after(t,i){const r=bt.fromDurationLike(i),s=_g(t);return Si.fromDateTimes(s,s.plus(r))}static before(t,i){const r=bt.fromDurationLike(i),s=_g(t);return Si.fromDateTimes(s.minus(r),s)}static fromISO(t,i){const[r,s]=(t||"").split("/",2);if(r&&s){let n,o;try{n=Re.fromISO(r,i),o=n.isValid}catch{o=!1}let c,d;try{c=Re.fromISO(s,i),d=c.isValid}catch{d=!1}if(o&&d)return Si.fromDateTimes(n,c);if(o){const f=bt.fromISO(s,i);if(f.isValid)return Si.after(n,f)}else if(d){const f=bt.fromISO(r,i);if(f.isValid)return Si.before(c,f)}}return Si.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(t,i);let s;return i!=null&&i.useLocaleWeeks?s=this.end.reconfigure({locale:r.locale}):s=this.end,s=s.startOf(t,i),Math.floor(s.diff(r,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?Si.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(_g).filter(o=>this.contains(o)).sort((o,c)=>o.toMillis()-c.toMillis()),r=[];let{s}=this,n=0;for(;s<this.e;){const o=i[n]||this.e,c=+o>+this.e?this.e:o;r.push(Si.fromDateTimes(s,c)),s=c,n+=1}return r}splitBy(t){const i=bt.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,s=1,n;const o=[];for(;r<this.e;){const c=this.start.plus(i.mapUnits(d=>d*s));n=+c>+this.e?this.e:c,o.push(Si.fromDateTimes(r,n)),r=n,s+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return i>=r?null:Si.fromDateTimes(i,r)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return Si.fromDateTimes(i,r)}static merge(t){const[i,r]=t.sort((s,n)=>s.s-n.s).reduce(([s,n],o)=>n?n.overlaps(o)||n.abutsStart(o)?[s,n.union(o)]:[s.concat([n]),o]:[s,o],[[],null]);return r&&i.push(r),i}static xor(t){let i=null,r=0;const s=[],n=t.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),o=Array.prototype.concat(...n),c=o.sort((d,f)=>d.time-f.time);for(const d of c)r+=d.type==="s"?1:-1,r===1?i=d.time:(i&&+i!=+d.time&&s.push(Si.fromDateTimes(i,d.time)),i=null);return Si.merge(s)}difference(...t){return Si.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:zp}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=m2,i={}){return this.isValid?Dr.create(this.s.loc.clone(i),t).formatInterval(this):zp}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:zp}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:zp}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:zp}toFormat(t,{separator:i="  "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:zp}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):bt.invalid(this.invalidReason)}mapEndpoints(t){return Si.fromDateTimes(t(this.s),t(this.e))}}class v_{static hasDST(t=Ei.defaultZone){const i=Re.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return xs.isValidZone(t)}static normalizeZone(t){return sc(t,Ei.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||Ct.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||Ct.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||Ct.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Ct.create(i,r,n)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Ct.create(i,r,n)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||Ct.create(i,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||Ct.create(i,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Ct.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return Ct.create(i,null,"gregory").eras(t)}static features(){return{relative:vq(),localeWeek:bq()}}}function N6(e,t){const i=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(t)-i(e);return Math.floor(bt.fromMillis(r).as("days"))}function $ue(e,t,i){const r=[["years",(d,f)=>f.year-d.year],["quarters",(d,f)=>f.quarter-d.quarter+(f.year-d.year)*4],["months",(d,f)=>f.month-d.month+(f.year-d.year)*12],["weeks",(d,f)=>{const g=N6(d,f);return(g-g%7)/7}],["days",N6]],s={},n=e;let o,c;for(const[d,f]of r)i.indexOf(d)>=0&&(o=d,s[d]=f(e,t),c=n.plus(s),c>t?(s[d]--,e=n.plus(s),e>t&&(c=e,s[d]--,e=n.plus(s))):e=c);return[e,s,c,o]}function xue(e,t,i,r){let[s,n,o,c]=$ue(e,t,i);const d=t-s,f=i.filter(v=>["hours","minutes","seconds","milliseconds"].indexOf(v)>=0);f.length===0&&(o<t&&(o=s.plus({[c]:1})),o!==s&&(n[c]=(n[c]||0)+d/(o-s)));const g=bt.fromObject(n,r);return f.length>0?bt.fromMillis(d,r).shiftTo(...f).plus(g):g}const Mue="missing Intl.DateTimeFormat.formatToParts support";function $t(e,t=i=>i){return{regex:e,deser:([i])=>t(yle(i))}}const Aue="",kq=`[ ${Aue}]`,Fq=new RegExp(kq,"g");function Oue(e){return e.replace(/\./g,"\\.?").replace(Fq,kq)}function P6(e){return e.replace(/\./g,"").replace(Fq," ").toLowerCase()}function Xn(e,t){return e===null?null:{regex:RegExp(e.map(Oue).join("|")),deser:([i])=>e.findIndex(r=>P6(i)===P6(r))+t}}function D6(e,t){return{regex:e,deser:([,i,r])=>AT(i,r),groups:t}}function b_(e){return{regex:e,deser:([t])=>t}}function Cue(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Iue(e,t){const i=Jn(t),r=Jn(t,"{2}"),s=Jn(t,"{3}"),n=Jn(t,"{4}"),o=Jn(t,"{6}"),c=Jn(t,"{1,2}"),d=Jn(t,"{1,3}"),f=Jn(t,"{1,6}"),g=Jn(t,"{1,9}"),v=Jn(t,"{2,4}"),_=Jn(t,"{4,6}"),S=M=>({regex:RegExp(Cue(M.val)),deser:([C])=>C,literal:!0}),E=(M=>{if(e.literal)return S(M);switch(M.val){case"G":return Xn(t.eras("short"),0);case"GG":return Xn(t.eras("long"),0);case"y":return $t(f);case"yy":return $t(v,xA);case"yyyy":return $t(n);case"yyyyy":return $t(_);case"yyyyyy":return $t(o);case"M":return $t(c);case"MM":return $t(r);case"MMM":return Xn(t.months("short",!0),1);case"MMMM":return Xn(t.months("long",!0),1);case"L":return $t(c);case"LL":return $t(r);case"LLL":return Xn(t.months("short",!1),1);case"LLLL":return Xn(t.months("long",!1),1);case"d":return $t(c);case"dd":return $t(r);case"o":return $t(d);case"ooo":return $t(s);case"HH":return $t(r);case"H":return $t(c);case"hh":return $t(r);case"h":return $t(c);case"mm":return $t(r);case"m":return $t(c);case"q":return $t(c);case"qq":return $t(r);case"s":return $t(c);case"ss":return $t(r);case"S":return $t(d);case"SSS":return $t(s);case"u":return b_(g);case"uu":return b_(c);case"uuu":return $t(i);case"a":return Xn(t.meridiems(),0);case"kkkk":return $t(n);case"kk":return $t(v,xA);case"W":return $t(c);case"WW":return $t(r);case"E":case"c":return $t(i);case"EEE":return Xn(t.weekdays("short",!1),1);case"EEEE":return Xn(t.weekdays("long",!1),1);case"ccc":return Xn(t.weekdays("short",!0),1);case"cccc":return Xn(t.weekdays("long",!0),1);case"Z":case"ZZ":return D6(new RegExp(`([+-]${c.source})(?::(${r.source}))?`),2);case"ZZZ":return D6(new RegExp(`([+-]${c.source})(${r.source})?`),2);case"z":return b_(/[a-z_+-/]{1,256}?/i);case" ":return b_(/[^\S\n\r]/);default:return S(M)}})(e)||{invalidReason:Mue};return E.token=e,E}const Rue={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Lue(e,t,i){const{type:r,value:s}=e;if(r==="literal"){const d=/^\s+$/.test(s);return{literal:!d,val:d?" ":s}}const n=t[r];let o=r;r==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=i.hour12?"hour12":"hour24");let c=Rue[o];if(typeof c=="object"&&(c=c[n]),c)return{literal:!1,val:c}}function Nue(e){return[`^${e.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,e]}function Pue(e,t,i){const r=e.match(t);if(r){const s={};let n=1;for(const o in i)if(Nm(i,o)){const c=i[o],d=c.groups?c.groups+1:1;!c.literal&&c.token&&(s[c.token.val[0]]=c.deser(r.slice(n,n+d))),n+=d}return[r,s]}else return[r,{}]}function Due(e){const t=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return Xe(e.z)||(i=xs.create(e.z)),Xe(e.Z)||(i||(i=new lr(e.Z)),r=e.Z),Xe(e.q)||(e.M=(e.q-1)*3+1),Xe(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Xe(e.u)||(e.S=fL(e.u)),[Object.keys(e).reduce((n,o)=>{const c=t(o);return c&&(n[c]=e[o]),n},{}),i,r]}let uM=null;function kue(){return uM||(uM=Re.fromMillis(1555555555555)),uM}function Fue(e,t){if(e.literal)return e;const i=Dr.macroTokenToFormatOpts(e.val),r=Vq(i,t);return r==null||r.includes(void 0)?e:r}function jq(e,t){return Array.prototype.concat(...e.map(i=>Fue(i,t)))}class Uq{constructor(t,i){if(this.locale=t,this.format=i,this.tokens=jq(Dr.parseFormat(i),t),this.units=this.tokens.map(r=>Iue(r,t)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,s]=Nue(this.units);this.regex=RegExp(r,"i"),this.handlers=s}}explainFromTokens(t){if(this.isValid){const[i,r]=Pue(t,this.regex,this.handlers),[s,n,o]=r?Due(r):[null,null,void 0];if(Nm(r,"a")&&Nm(r,"H"))throw new Yf("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:s,zone:n,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function zq(e,t,i){return new Uq(e,i).explainFromTokens(t)}function jue(e,t,i){const{result:r,zone:s,specificOffset:n,invalidReason:o}=zq(e,t,i);return[r,s,n,o]}function Vq(e,t){if(!e)return null;const r=Dr.create(t,e).dtFormatter(kue()),s=r.formatToParts(),n=r.resolvedOptions();return s.map(o=>Lue(o,e,n))}const cM="Invalid DateTime",Uue=864e13;function Zg(e){return new $o("unsupported zone",`the zone "${e.name}" is not supported`)}function dM(e){return e.weekData===null&&(e.weekData=y2(e.c)),e.weekData}function hM(e){return e.localWeekData===null&&(e.localWeekData=y2(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function pd(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Re({...i,...t,old:i})}function Gq(e,t,i){let r=e-t*60*1e3;const s=i.offset(r);if(t===s)return[r,t];r-=(s-t)*60*1e3;const n=i.offset(r);return s===n?[r,s]:[e-Math.min(s,n)*60*1e3,Math.max(s,n)]}function __(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Ow(e,t,i){return Gq(MT(e),t,i)}function k6(e,t){const i=e.o,r=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,n={...e.c,year:r,month:s,day:Math.min(e.c.day,g2(r,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=bt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),c=MT(n);let[d,f]=Gq(c,i,e.zone);return o!==0&&(d+=o,f=e.zone.offset(d)),{ts:d,o:f}}function Vp(e,t,i,r,s,n){const{setZone:o,zone:c}=i;if(e&&Object.keys(e).length!==0||t){const d=t||c,f=Re.fromObject(e,{...i,zone:d,specificOffset:n});return o?f:f.setZone(c)}else return Re.invalid(new $o("unparsable",`the input "${s}" can't be parsed as ${r}`))}function w_(e,t,i=!0){return e.isValid?Dr.create(Ct.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function pM(e,t){const i=e.c.year>9999||e.c.year<0;let r="";return i&&e.c.year>=0&&(r+="+"),r+=Fi(e.c.year,i?6:4),t?(r+="-",r+=Fi(e.c.month),r+="-",r+=Fi(e.c.day)):(r+=Fi(e.c.month),r+=Fi(e.c.day)),r}function F6(e,t,i,r,s,n){let o=Fi(e.c.hour);return t?(o+=":",o+=Fi(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(o+=":")):o+=Fi(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(o+=Fi(e.c.second),(e.c.millisecond!==0||!r)&&(o+=".",o+=Fi(e.c.millisecond,3))),s&&(e.isOffsetFixed&&e.offset===0&&!n?o+="Z":e.o<0?(o+="-",o+=Fi(Math.trunc(-e.o/60)),o+=":",o+=Fi(Math.trunc(-e.o%60))):(o+="+",o+=Fi(Math.trunc(e.o/60)),o+=":",o+=Fi(Math.trunc(e.o%60)))),n&&(o+="["+e.zone.ianaName+"]"),o}const qq={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},zue={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Vue={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Bq=["year","month","day","hour","minute","second","millisecond"],Gue=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],que=["year","ordinal","hour","minute","second","millisecond"];function Bue(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new HG(e);return t}function j6(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Bue(e)}}function Hue(e){return Iw[e]||(Cw===void 0&&(Cw=Ei.now()),Iw[e]=e.offset(Cw)),Iw[e]}function U6(e,t){const i=sc(t.zone,Ei.defaultZone);if(!i.isValid)return Re.invalid(Zg(i));const r=Ct.fromObject(t);let s,n;if(Xe(e.year))s=Ei.now();else{for(const d of Bq)Xe(e[d])&&(e[d]=qq[d]);const o=yq(e)||gq(e);if(o)return Re.invalid(o);const c=Hue(i);[s,n]=Ow(e,c,i)}return new Re({ts:s,zone:i,loc:r,o:n})}function z6(e,t,i){const r=Xe(i.round)?!0:i.round,s=(o,c)=>(o=mL(o,r||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(o,c)),n=o=>i.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(i.unit)return s(n(i.unit),i.unit);for(const o of i.units){const c=n(o);if(Math.abs(c)>=1)return s(c,o)}return s(e>t?-0:0,i.units[i.units.length-1])}function V6(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}let Cw,Iw={};class Re{constructor(t){const i=t.zone||Ei.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new $o("invalid input"):null)||(i.isValid?null:Zg(i));this.ts=Xe(t.ts)?Ei.now():t.ts;let s=null,n=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[s,n]=[t.old.c,t.old.o];else{const c=fc(t.o)&&!t.old?t.o:i.offset(this.ts);s=__(this.ts,c),r=Number.isNaN(s.year)?new $o("invalid input"):null,s=r?null:s,n=r?null:c}this._zone=i,this.loc=t.loc||Ct.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=s,this.o=n,this.isLuxonDateTime=!0}static now(){return new Re({})}static local(){const[t,i]=V6(arguments),[r,s,n,o,c,d,f]=i;return U6({year:r,month:s,day:n,hour:o,minute:c,second:d,millisecond:f},t)}static utc(){const[t,i]=V6(arguments),[r,s,n,o,c,d,f]=i;return t.zone=lr.utcInstance,U6({year:r,month:s,day:n,hour:o,minute:c,second:d,millisecond:f},t)}static fromJSDate(t,i={}){const r=wle(t)?t.valueOf():NaN;if(Number.isNaN(r))return Re.invalid("invalid input");const s=sc(i.zone,Ei.defaultZone);return s.isValid?new Re({ts:r,zone:s,loc:Ct.fromObject(i)}):Re.invalid(Zg(s))}static fromMillis(t,i={}){if(fc(t))return t<-864e13||t>Uue?Re.invalid("Timestamp out of range"):new Re({ts:t,zone:sc(i.zone,Ei.defaultZone),loc:Ct.fromObject(i)});throw new Lr(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(fc(t))return new Re({ts:t*1e3,zone:sc(i.zone,Ei.defaultZone),loc:Ct.fromObject(i)});throw new Lr("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const r=sc(i.zone,Ei.defaultZone);if(!r.isValid)return Re.invalid(Zg(r));const s=Ct.fromObject(i),n=v2(t,j6),{minDaysInFirstWeek:o,startOfWeek:c}=M6(n,s),d=Ei.now(),f=Xe(i.specificOffset)?r.offset(d):i.specificOffset,g=!Xe(n.ordinal),v=!Xe(n.year),_=!Xe(n.month)||!Xe(n.day),S=v||_,T=n.weekYear||n.weekNumber;if((S||g)&&T)throw new Yf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(_&&g)throw new Yf("Can't mix ordinal dates with month/day");const E=T||n.weekday&&!S;let M,C,L=__(d,f);E?(M=Gue,C=zue,L=y2(L,o,c)):g?(M=que,C=Vue,L=lM(L)):(M=Bq,C=qq);let N=!1;for(const ye of M){const Se=n[ye];Xe(Se)?N?n[ye]=C[ye]:n[ye]=L[ye]:N=!0}const P=E?vle(n,o,c):g?ble(n):yq(n),U=P||gq(n);if(U)return Re.invalid(U);const W=E?$6(n,o,c):g?x6(n):n,[re,ae]=Ow(W,f,r),fe=new Re({ts:re,zone:r,o:ae,loc:s});return n.weekday&&S&&t.weekday!==fe.weekday?Re.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${fe.toISO()}`):fe.isValid?fe:Re.invalid(fe.invalid)}static fromISO(t,i={}){const[r,s]=cue(t);return Vp(r,s,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[r,s]=due(t);return Vp(r,s,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[r,s]=hue(t);return Vp(r,s,i,"HTTP",i)}static fromFormat(t,i,r={}){if(Xe(t)||Xe(i))throw new Lr("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:n=null}=r,o=Ct.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),[c,d,f,g]=jue(o,t,i);return g?Re.invalid(g):Vp(c,d,r,`format ${i}`,t,f)}static fromString(t,i,r={}){return Re.fromFormat(t,i,r)}static fromSQL(t,i={}){const[r,s]=bue(t);return Vp(r,s,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new Lr("need to specify a reason the DateTime is invalid");const r=t instanceof $o?t:new $o(t,i);if(Ei.throwOnInvalid)throw new Bae(r);return new Re({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const r=Vq(t,Ct.fromObject(i));return r?r.map(s=>s?s.val:null).join(""):null}static expandFormat(t,i={}){return jq(Dr.parseFormat(t),Ct.fromObject(i)).map(s=>s.val).join("")}static resetCache(){Cw=void 0,Iw={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?dM(this).weekYear:NaN}get weekNumber(){return this.isValid?dM(this).weekNumber:NaN}get weekday(){return this.isValid?dM(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?hM(this).weekday:NaN}get localWeekNumber(){return this.isValid?hM(this).weekNumber:NaN}get localWeekYear(){return this.isValid?hM(this).weekYear:NaN}get ordinal(){return this.isValid?lM(this.c).ordinal:NaN}get monthShort(){return this.isValid?v_.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?v_.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?v_.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?v_.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,i=6e4,r=MT(this.c),s=this.zone.offset(r-t),n=this.zone.offset(r+t),o=this.zone.offset(r-s*i),c=this.zone.offset(r-n*i);if(o===c)return[this];const d=r-o*i,f=r-c*i,g=__(d,o),v=__(f,c);return g.hour===v.hour&&g.minute===v.minute&&g.second===v.second&&g.millisecond===v.millisecond?[pd(this,{ts:d}),pd(this,{ts:f})]:[this]}get isInLeapYear(){return S1(this.year)}get daysInMonth(){return g2(this.year,this.month)}get daysInYear(){return this.isValid?nm(this.year):NaN}get weeksInWeekYear(){return this.isValid?Vv(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Vv(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:r,calendar:s}=Dr.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:s}}toUTC(t=0,i={}){return this.setZone(lr.instance(t),i)}toLocal(){return this.setZone(Ei.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(t=sc(t,Ei.defaultZone),t.equals(this.zone))return this;if(t.isValid){let s=this.ts;if(i||r){const n=t.offset(this.ts),o=this.toObject();[s]=Ow(o,n,t)}return pd(this,{ts:s,zone:t})}else return Re.invalid(Zg(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:r}={}){const s=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:r});return pd(this,{loc:s})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=v2(t,j6),{minDaysInFirstWeek:r,startOfWeek:s}=M6(i,this.loc),n=!Xe(i.weekYear)||!Xe(i.weekNumber)||!Xe(i.weekday),o=!Xe(i.ordinal),c=!Xe(i.year),d=!Xe(i.month)||!Xe(i.day),f=c||d,g=i.weekYear||i.weekNumber;if((f||o)&&g)throw new Yf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&o)throw new Yf("Can't mix ordinal dates with month/day");let v;n?v=$6({...y2(this.c,r,s),...i},r,s):Xe(i.ordinal)?(v={...this.toObject(),...i},Xe(i.day)&&(v.day=Math.min(g2(v.year,v.month),v.day))):v=x6({...lM(this.c),...i});const[_,S]=Ow(v,this.o,this.zone);return pd(this,{ts:_,o:S})}plus(t){if(!this.isValid)return this;const i=bt.fromDurationLike(t);return pd(this,k6(this,i))}minus(t){if(!this.isValid)return this;const i=bt.fromDurationLike(t).negate();return pd(this,k6(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},s=bt.normalizeUnit(t);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(s==="weeks")if(i){const n=this.loc.getStartOfWeek(),{weekday:o}=this;o<n&&(r.weekNumber=this.weekNumber-1),r.weekday=n}else r.weekday=1;if(s==="quarters"){const n=Math.ceil(this.month/3);r.month=(n-1)*3+1}return this.set(r)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?Dr.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):cM}toLocaleString(t=m2,i={}){return this.isValid?Dr.create(this.loc.clone(i),t).formatDateTime(this):cM}toLocaleParts(t={}){return this.isValid?Dr.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:n=!1}={}){if(!this.isValid)return null;const o=t==="extended";let c=pM(this,o);return c+="T",c+=F6(this,o,i,r,s,n),c}toISODate({format:t="extended"}={}){return this.isValid?pM(this,t==="extended"):null}toISOWeekDate(){return w_(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:n=!1,format:o="extended"}={}){return this.isValid?(s?"T":"")+F6(this,o==="extended",i,t,r,n):null}toRFC2822(){return w_(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return w_(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?pM(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(i||t)&&(r&&(s+=" "),i?s+="z":t&&(s+="ZZ")),w_(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():cM}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",r={}){if(!this.isValid||!t.isValid)return bt.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...r},n=Sle(i).map(bt.normalizeUnit),o=t.valueOf()>this.valueOf(),c=o?this:t,d=o?t:this,f=xue(c,d,n,s);return o?f.negate():f}diffNow(t="milliseconds",i={}){return this.diff(Re.now(),t,i)}until(t){return this.isValid?Si.fromDateTimes(this,t):this}hasSame(t,i,r){if(!this.isValid)return!1;const s=t.valueOf(),n=this.setZone(t.zone,{keepLocalTime:!0});return n.startOf(i,r)<=s&&s<=n.endOf(i,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||Re.fromObject({},{zone:this.zone}),r=t.padding?this<i?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=t.unit;return Array.isArray(t.unit)&&(s=t.unit,n=void 0),z6(i,this.plus(r),{...t,numeric:"always",units:s,unit:n})}toRelativeCalendar(t={}){return this.isValid?z6(t.base||Re.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Re.isDateTime))throw new Lr("min requires all arguments be DateTimes");return A6(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(Re.isDateTime))throw new Lr("max requires all arguments be DateTimes");return A6(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,r={}){const{locale:s=null,numberingSystem:n=null}=r,o=Ct.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});return zq(o,t,i)}static fromStringExplain(t,i,r={}){return Re.fromFormatExplain(t,i,r)}static buildFormatParser(t,i={}){const{locale:r=null,numberingSystem:s=null}=i,n=Ct.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return new Uq(n,t)}static fromFormatParser(t,i,r={}){if(Xe(t)||Xe(i))throw new Lr("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:n=null}=r,o=Ct.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});if(!o.equals(i.locale))throw new Lr(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${i.locale}`);const{result:c,zone:d,specificOffset:f,invalidReason:g}=i.explainFromTokens(t);return g?Re.invalid(g):Vp(c,d,r,`format ${i.format}`,t,f)}static get DATE_SHORT(){return m2}static get DATE_MED(){return WG}static get DATE_MED_WITH_WEEKDAY(){return Zae}static get DATE_FULL(){return ZG}static get DATE_HUGE(){return YG}static get TIME_SIMPLE(){return JG}static get TIME_WITH_SECONDS(){return XG}static get TIME_WITH_SHORT_OFFSET(){return QG}static get TIME_WITH_LONG_OFFSET(){return KG}static get TIME_24_SIMPLE(){return eq}static get TIME_24_WITH_SECONDS(){return tq}static get TIME_24_WITH_SHORT_OFFSET(){return iq}static get TIME_24_WITH_LONG_OFFSET(){return rq}static get DATETIME_SHORT(){return sq}static get DATETIME_SHORT_WITH_SECONDS(){return nq}static get DATETIME_MED(){return oq}static get DATETIME_MED_WITH_SECONDS(){return aq}static get DATETIME_MED_WITH_WEEKDAY(){return Yae}static get DATETIME_FULL(){return lq}static get DATETIME_FULL_WITH_SECONDS(){return uq}static get DATETIME_HUGE(){return cq}static get DATETIME_HUGE_WITH_SECONDS(){return dq}}function _g(e){if(Re.isDateTime(e))return e;if(e&&e.valueOf&&fc(e.valueOf()))return Re.fromJSDate(e);if(e&&typeof e=="object")return Re.fromObject(e);throw new Lr(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const Wue="shortOffset";function Zue(e){return"timeZoneIANA"in e}function Yue(e){return e.startsWith("UTC")}function Gv(e,t=!1){return{json:{read:{source:e,reader:(i,r)=>r[e]?Rw(r[e]):null},write:!!t&&{allowNull:!0,writer(i,r){r[e]=i?Jue(i):null}}}}}function Rw(e,t=ma){return e?Zue(e)?e.timeZoneIANA:Xue(e,t):t}function Jue(e){return{timeZoneIANA:e}}function Xue(e,t=ma){if(!e||!p6.has(e.timeZone))return t;const i=p6.get(e.timeZone);return Yue(e.timeZone)||e.respectsDaylightSaving?i:Que(i)}function Que(e){const t=Re.local().setZone(e),i=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${lr.instance(-i).formatOffset(0,"narrow")}`}function BIe(e,t,i,r,s){if(t&&s==="date")return{timeZone:Sc,timeZoneName:void 0};const n=r.timeStyle||r.hour,o=i===zh;return{timeZone:o?s==="timestamp-offset"?void 0:e??Sc:i,timeZoneName:o&&n?Wue:void 0}}function Kue(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(r=>r.toLowerCase()));return e===ma||e===zh||t.has(e.toLowerCase())||i.has(e.toLowerCase())}const ece={year:void 0,month:void 0,day:void 0,weekday:void 0},tce={hour:void 0,minute:void 0,second:void 0},Hq={timeZone:Sc},Uo={year:"numeric",month:"numeric",day:"numeric"},wg={year:"numeric",month:"long",day:"numeric"},Sg={year:"numeric",month:"short",day:"numeric"},Tg={year:"numeric",month:"long",weekday:"long",day:"numeric"},Ju={hour:"numeric",minute:"numeric"},$d={...Ju,second:"numeric"},Wq={hourCycle:"h23"},Eg={...Ju,...Wq},$g={...$d,...Wq},Zq={"short-date":Uo,"short-date-short-time":{...Uo,...Ju},"short-date-short-time-24":{...Uo,...Eg},"short-date-long-time":{...Uo,...$d},"short-date-long-time-24":{...Uo,...$g},"short-date-le":Uo,"short-date-le-short-time":{...Uo,...Ju},"short-date-le-short-time-24":{...Uo,...Eg},"short-date-le-long-time":{...Uo,...$d},"short-date-le-long-time-24":{...Uo,...$g},"long-month-day-year":wg,"long-month-day-year-short-time":{...wg,...Ju},"long-month-day-year-short-time-24":{...wg,...Eg},"long-month-day-year-long-time":{...wg,...$d},"long-month-day-year-long-time-24":{...wg,...$g},"day-short-month-year":Sg,"day-short-month-year-short-time":{...Sg,...Ju},"day-short-month-year-short-time-24":{...Sg,...Eg},"day-short-month-year-long-time":{...Sg,...$d},"day-short-month-year-long-time-24":{...Sg,...$g},"long-date":Tg,"long-date-short-time":{...Tg,...Ju},"long-date-short-time-24":{...Tg,...Eg},"long-date-long-time":{...Tg,...$d},"long-date-long-time-24":{...Tg,...$g},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Ju,"long-time":$d},ice=hr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),Yq={ar:"ar-u-nu-latn-ca-gregory"};let MA=new WeakMap;const CT=Zq["short-date-short-time"];function rce(e){let t=MA.get(e);if(!t){const i=Ss(),r=Yq[i]||i,s=bL(e.timeZone??ma),n={...e,timeZone:s};t=new Intl.DateTimeFormat(r,n),MA.set(e,t)}return t}function HIe(e){return Zq[e]}function Vh(e,t=CT){return rce(t).format(e)}function WIe(e,t=CT){return Vh(new Date(e),{...t,...Hq,...tce})}function ZIe(e,t=CT){return Vh(new Date(`1970-01-01T${e}Z`),{...t,...Hq,...ece})}function YIe(e,t=CT){if(t.timeZone)return Vh(new Date(e),t);const i=Re.fromISO(e,{setZone:!0}),r=Ss(),s=Yq[r]??r,n=i.offset===0?Sc:t.timeZone,o={...t,timeZone:n};return i.toLocaleString(o,{locale:s})}function bL(e){switch(e){case ma:return qae;case zh:return Sc;default:return e}}cL(()=>{MA=new WeakMap});const sce={ar:"ar-u-nu-latn"};let Lw=new WeakMap,Jq={};function AA(e){const t=e||Jq;if(!Lw.has(t)){const i=Ss(),r=sce[Ss()]||i;Lw.set(t,new Intl.NumberFormat(r,e))}return Lw.get(t)}function JIe(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function b2(e,t){return Object.is(e,-0)&&(e=0),AA(t).format(e)}function XIe(e,t=Ss()){var r,s;if(!e)return null;let i=G6.get(t);if(!i){const n=AA().formatToParts(12345.6),o=[...AA({useGrouping:!1}).format(9876543210)].reverse(),c=new Map(o.map((S,T)=>[S,T])),d=new RegExp(`[${(r=n.find(S=>S.type==="group"))==null?void 0:r.value}]`,"g"),f=new RegExp(`[${(s=n.find(S=>S.type==="decimal"))==null?void 0:s.value}]`),g=new RegExp(`[${o.join("")}]`,"g"),v=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,_=/[-\u2212\u2013\u2014\u2015]/g;i=S=>{if((S=S.trim().replaceAll(d,"").replace(f,".").replace(g,E=>String(c.get(E))).replaceAll(v,"").replaceAll(_,"-"))==="")return null;const T=Number(S);return isNaN(T)?null:T},G6.set(t,i)}return i(e)}cL(()=>{Lw=new WeakMap,Jq={}});const G6=new Map,Xq=()=>ne.getLogger("esri.intl.substitute");function nce(e,t,i={}){const{format:r={}}=i;return a1(e,s=>oce(s,t,r))}function oce(e,t,i){let r,s;const n=e.indexOf(":");if(n===-1?r=e.trim():(r=e.slice(0,n).trim(),s=e.slice(n+1).trim()),!r)return"";const o=o1(r,t);if(o==null)return"";const c=(s?i==null?void 0:i[s]:null)??(i==null?void 0:i[r]);return c?ace(o,c):s?lce(o,s):_L(o)}function ace(e,t){switch(t.type){case"date":return Vh(e,t.intlOptions);case"number":return b2(e,t.intlOptions);default:return Xq().warn("missing format descriptor for key {key}"),_L(e)}}function lce(e,t){switch(t.toLowerCase()){case"dateformat":return Vh(e);case"numberformat":return b2(e);default:return Xq().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Vh(e):/^numberformat/i.test(t)?b2(e):_L(e)}}function _L(e){switch(typeof e){case"string":return e;case"number":return b2(e);case"boolean":return""+e;default:return e instanceof Date?Vh(e):""}}const q6=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,Qq={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function uce(e){return e in Qq}function B6(e){if(uce(e)){const t=Qq[e];return t===!0?e:t}return null}const Yg=[],am=new Map;function H6(e){for(const t of am.keys())tB(e.pattern,t)&&am.delete(t)}function cce(e){return Yg.includes(e)||(H6(e),Yg.unshift(e)),gt(()=>{const t=Yg.indexOf(e);t>-1&&(Yg.splice(t,1),H6(e))})}async function Kq(e){const t=Ss();am.has(e)||am.set(e,dce(e,t));const i=am.get(e);return i&&await hce.add(i),i}function eB(e){if(!q6.test(e))return null;const t=q6.exec(e);if(t===null)return null;const[,i,r]=t;return B6(i+(r?"-"+r.toUpperCase():""))??B6(i)}async function dce(e,t){const i=[];for(const r of Yg)if(tB(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(s){i.push(s)}throw i.length?new z("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:i}):new z("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function tB(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}cL(()=>{am.clear()});const hce=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=en())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function pce(e,t,i,r){const s=t.exec(i);if(!s)throw new z("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${t}"`);const n=s[1]?`${s[1]}/`:"",o=s[2],c=eB(r),d=`${n}${o}.json`,f=c?`${n}${o}_${c}.json`:d;let g;try{g=await W6(e(f))}catch(v){if(f===d)throw new z("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:v});try{g=await W6(e(d))}catch(_){throw new z("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:_})}}return g}async function W6(e){if(Z6.fetchBundleAsset!=null)return Z6.fetchBundleAsset(e);const t=await qt(e,{responseType:"text"});return JSON.parse(t.data)}let fce=class{constructor({base:t="",pattern:i,location:r=new URL(window.location.href)}){let s;s=typeof r=="string"?n=>new URL(n,new URL(r,window.location.href)).href:r instanceof URL?n=>new URL(n,r).href:r,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=s,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,i){return pce(this.getAssetUrl,this.matcher,t,i)}};function mce(e){return new fce(e)}const Z6={};cce(mce({pattern:"esri/",location:wi}));const Y6={};function yce(e){var i;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:((i=e.packages)==null?void 0:i.slice())||[],paths:{...Y6.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=Y6.baseUrl),t}let gce=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...r)=>t[i](...r)})}},Nw=class{constructor(){this._dispatcher=new gce,this._workerPostMessage({type:ar.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){ZS(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,i,r){this._dispatcher.addEventListener(t,i,r)}removeEventListener(t,i,r){this._dispatcher.removeEventListener(t,i,r)}_workerPostMessage(t){ZS(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const i=zv(t);if(i&&i.type===ar.OPEN){const{modulePath:r,jobId:s}=i;let n=await wc.loadWorker(r);n||(n=await import(r));const o=wc.connect(n);this._workerPostMessage({type:ar.OPENED,jobId:s,data:o})}}};const OA=()=>ne.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:vce}=ar,bce='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let S_,T_;const J6="Failed to create Worker. Fallback to execute module in main thread";async function _ce(){if(!B("esri-workers"))return X6(new Nw);if(!S_&&!T_)try{const t=bce.split("{CONFIGURATION}").join(wce());S_=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){T_=t||{}}let e;if(S_)try{e=new Worker(S_,{name:"esri-worker-"+Sce++})}catch{OA().warn(J6,T_),e=new Nw}else OA().warn(J6,T_),e=new Nw;return X6(e)}async function X6(e){return new Promise(t=>{function i(s){const n=zv(s);n&&n.type===vce&&(e.removeEventListener("message",i),e.removeEventListener("error",r),t(e))}function r(s){s.preventDefault(),e.removeEventListener("message",i),e.removeEventListener("error",r),OA().warn("Failed to create Worker. Fallback to execute module in main thread",s),(e=new Nw).addEventListener("message",i),e.addEventListener("error",r)}e.addEventListener("message",i),e.addEventListener("error",r)})}function wce(){let e;if(Tt.default!=null){const s={...Tt};delete s.default,e=JSON.parse(JSON.stringify(s))}else e=JSON.parse(JSON.stringify(Tt));e.assetsPath=Mn(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?Mn(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=Ss(),e.has={"esri-csp-restrictions":B("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":B("esri-2d-update-debug"),"esri-2d-log-updating":B("esri-2d-log-updating"),"featurelayer-pbf":B("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":B("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":B("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":B("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":B("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":B("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":B("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":B("featurelayer-snapshot-enabled"),"esri-atomics":B("esri-atomics"),"esri-shared-array-buffer":B("esri-shared-array-buffer"),"esri-tiles-debug":B("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":B("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":B("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=Mn(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Mn(e.workers.workerPath):e.workers.workerPath=Mn(wi("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=Tt.workers.loaderConfig,i=yce({baseUrl:t==null?void 0:t.baseUrl,locale:Ss(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:i,kernelInfo:{buildDate:L7,fullVersion:jR,revision:N7}})}let Sce=0;const{ABORT:Q6,INVOKE:Tce,OPEN:Ece,OPENED:$ce,RESPONSE:xg}=ar;let xce=class iB{static async create(t){const i=await _ce();return new iB(i,t)}constructor(t,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=i,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",r=>{r.preventDefault(),ne.getLogger("esri.core.workers.WorkerOwner").error(r)})}terminate(){this.worker.terminate()}async open(t,i={}){const{signal:r}=i,s=GG();return new Promise((n,o)=>{const c={resolve:n,reject:o,abortHandle:$R(r,()=>{this._outJobs.delete(s),this._post({type:Q6,jobId:s})})};this._outJobs.set(s,c),this._post({type:Ece,jobId:s,modulePath:t})})}_onMessage(t){const i=zv(t);if(i)switch(i.type){case $ce:this._onOpenedMessage(i);break;case xg:this._onResponseMessage(i);break;case Q6:this._onAbortMessage(i);break;case Tce:this._onInvokeMessage(i)}}_onAbortMessage(t){const i=this._inJobs,r=t.jobId,s=i.get(r);s&&(s.controller&&s.controller.abort(),i.delete(r))}_onInvokeMessage(t){const{methodName:i,jobId:r,data:s,abortable:n}=t,o=n?new AbortController:null,c=this._inJobs,d=Vae[i];let f;try{if(typeof d!="function")throw new TypeError(`${i} is not a function`);f=d.call(null,s,{signal:o?o.signal:null})}catch(g){return void this._post({type:xg,jobId:r,error:Uv(g)})}ba(f)?(c.set(r,{controller:o,promise:f}),f.then(g=>{c.has(r)&&(c.delete(r),this._post({type:xg,jobId:r},g))},g=>{c.has(r)&&(c.delete(r),g||(g={message:"Error encountered at method"+i}),Ur(g)||this._post({type:xg,jobId:r,error:Uv(g||{message:`Error encountered at method ${i}`})}))})):this._post({type:xg,jobId:r},f)}_onOpenedMessage(t){const{jobId:i,data:r}=t,s=this._outJobs.get(i);s&&(this._outJobs.delete(i),ri(s.abortHandle),s.resolve(r))}_onResponseMessage(t){const{jobId:i,error:r,data:s}=t,n=this._outJobs.get(i);n&&(this._outJobs.delete(i),ri(n.abortHandle),r?n.reject(z.fromJSON(JSON.parse(r))):n.resolve(s))}_post(t,i,r){return uL(this.worker,t,i,r)}};const K6=B("host-browser")?Math.min(navigator.hardwareConcurrency-1,B("workers-pool-size")??8):0;let yh=B("esri-mobile")?Math.min(K6,3):K6;yh||(yh=B("safari")&&B("mac")?7:2);let eF=0;const Pw=[];function Mce(){sB()}async function E_(e,t){const i=new zae,{registryTarget:r,...s}=t;return await i.open(e,s),r&&Iae(r,i),i}async function rB(e,t={}){if(typeof e!="string")throw new z("workers:undefined-module","modulePath is missing");let i=t.strategy||"distributed";if(B("host-webworker")&&!B("esri-workers")&&(i="local"),i==="local"){let r=await wc.loadWorker(e);r||(r=await import(e)),li(t.signal);const s=t.client||r;return E_([wc.connect(r,t.schedule)],{...t,client:s})}if(await sB(),li(t.signal),i==="dedicated"){const r=eF++%yh;return E_([await Pw[r].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const r=Math.min(t.maxNumWorkers,yh);if(r<yh){const s=new Array(r);for(let n=0;n<r;++n){const o=eF++%yh;s[n]=Pw[o].open(e,t)}return E_(s,t)}}return E_(Pw.map(r=>r.open(e,t)),t)}let $_=null;async function sB(){if($_)return $_;new AbortController;const e=[];for(let t=0;t<yh;t++){const i=xce.create(t).then(r=>(Pw[t]=r,r));e.push(i)}return $_=Promise.all(e),$_}function Lc(){return[0,0,0]}function wL(e){return[e[0],e[1],e[2]]}function Km(e,t,i){return[e,t,i]}function Ace(e,t,i){return[e,t,i]}function Oce(e,t=Lc()){const i=Math.min(3,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function Cce(e,t){return new Float64Array(e,t,3)}function nB(){return Lc()}function oB(){return Km(1,1,1)}function aB(){return Km(1,0,0)}function lB(){return Km(0,1,0)}function uB(){return Km(0,0,1)}const Ice=nB(),Rce=oB(),Lce=aB(),Nce=lB(),Pce=uB();Object.freeze(Object.defineProperty({__proto__:null,ONES:Rce,UNIT_X:Lce,UNIT_Y:Nce,UNIT_Z:Pce,ZEROS:Ice,clone:wL,create:Lc,createView:Cce,freeze:Ace,fromArray:Oce,fromValues:Km,ones:oB,unitX:aB,unitY:lB,unitZ:uB,zeros:nB},Symbol.toStringTag,{value:"Module"}));const tRe=Math.PI/180,iRe=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,yu=pi.radius,Qn=pi.eccentricitySquared,Dce={a1:yu*Qn,a2:yu*Qn*yu*Qn,a3:yu*Qn*Qn/2,a4:yu*Qn*yu*Qn*2.5,a5:yu*Qn+yu*Qn*Qn/2,a6:1-Qn},rRe={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:pi.radius,f:pi.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:bc.radius,f:bc.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:ca.radius,f:ca.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:ca.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var G;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(G||(G={}));const kce={[G.WGS84]:{[G.CGCS2000]:ti,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:ti,[G.SPHERICAL_ECEF]:uv,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:lm,[G.PLATE_CARREE]:um,[G.WGS84]:ti,[G.WGS84_ECEF]:hm},[G.CGCS2000]:{[G.CGCS2000]:ti,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:ti,[G.SPHERICAL_ECEF]:uv,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:lm,[G.PLATE_CARREE]:um,[G.WGS84]:ti,[G.WGS84_ECEF]:hm},[G.GCSMARS2000]:{[G.CGCS2000]:null,[G.GCSMARS2000]:ti,[G.GCSMOON2000]:null,[G.LON_LAT]:ti,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:rF,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.GCSMOON2000]:{[G.CGCS2000]:null,[G.GCSMARS2000]:null,[G.GCSMOON2000]:ti,[G.LON_LAT]:ti,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:iF,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.WEB_MERCATOR]:{[G.CGCS2000]:lv,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:lv,[G.SPHERICAL_ECEF]:jce,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:ti,[G.PLATE_CARREE]:Vce,[G.WGS84]:lv,[G.WGS84_ECEF]:Uce},[G.WGS84_ECEF]:{[G.CGCS2000]:pm,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:pm,[G.SPHERICAL_ECEF]:Xce,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:Qce,[G.PLATE_CARREE]:Gce,[G.WGS84]:pm,[G.WGS84_ECEF]:ti},[G.SPHERICAL_ECEF]:{[G.CGCS2000]:dm,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:dm,[G.SPHERICAL_ECEF]:ti,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:Zce,[G.PLATE_CARREE]:qce,[G.WGS84]:dm,[G.WGS84_ECEF]:Yce},[G.SPHERICAL_MARS_PCPF]:{[G.CGCS2000]:null,[G.GCSMARS2000]:nF,[G.GCSMOON2000]:null,[G.LON_LAT]:nF,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:ti,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.SPHERICAL_MOON_PCPF]:{[G.CGCS2000]:null,[G.GCSMARS2000]:null,[G.GCSMOON2000]:sF,[G.LON_LAT]:sF,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:ti,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.UNKNOWN]:{[G.CGCS2000]:null,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:null,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:ti,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.LON_LAT]:{[G.CGCS2000]:ti,[G.GCSMARS2000]:ti,[G.GCSMOON2000]:ti,[G.LON_LAT]:ti,[G.SPHERICAL_ECEF]:uv,[G.SPHERICAL_MARS_PCPF]:rF,[G.SPHERICAL_MOON_PCPF]:iF,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:lm,[G.PLATE_CARREE]:um,[G.WGS84]:ti,[G.WGS84_ECEF]:hm},[G.PLATE_CARREE]:{[G.CGCS2000]:cm,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:cm,[G.SPHERICAL_ECEF]:Bce,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:Hce,[G.PLATE_CARREE]:ti,[G.WGS84]:cm,[G.WGS84_ECEF]:Wce}};function cB(e,t){var i;return(i=Fce(e,t))==null?void 0:i.projector}function Fce(e,t){if(e==null||t==null)return null;if(ja.source.spatialReference===e&&ja.dest.spatialReference===t)return ja;const i=tF(e,ja.source),r=tF(t,ja.dest);return i===G.UNKNOWN&&r===G.UNKNOWN?Ji(e,t)?ja.projector=ti:ja.projector=null:ja.projector=kce[i][r],ja}function tF(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Fn(e,1)),c2(e)?t.spatialReferenceId=G.SPHERICAL_ECEF:Ph(e)?t.spatialReferenceId=G.WGS84:pa(e)?t.spatialReferenceId=G.WEB_MERCATOR:Zne(e)?t.spatialReferenceId=G.PLATE_CARREE:e.wkt===Qne.wkt?t.spatialReferenceId=G.WGS84_ECEF:e.wkid===Nh.CGCS2000?t.spatialReferenceId=G.CGCS2000:e.wkt===BR.wkt?t.spatialReferenceId=G.SPHERICAL_MARS_PCPF:e.wkt===HR.wkt?t.spatialReferenceId=G.SPHERICAL_MOON_PCPF:X7(e)?t.spatialReferenceId=G.GCSMARS2000:Q7(e)?t.spatialReferenceId=G.GCSMOON2000:t.spatialReferenceId=G.UNKNOWN):G.UNKNOWN}function ti(e,t,i,r){e!==i&&(i[r++]=e[t++],i[r++]=e[t++],i[r]=e[t])}function lv(e,t,i,r){i[r]=Dm*(e[t]/$h),i[r+1]=Dm*(dB-2*Math.atan(Math.exp(-e[t+1]/$h))),i[r+2]=e[t+2]}function jce(e,t,i,r){const s=e[t]/$h,n=dB-2*Math.atan(Math.exp(-e[t+1]/$h)),o=$h+e[t+2],c=Math.cos(n)*o;i[r]=Math.cos(s)*c,i[r+1]=Math.sin(s)*c,i[r+2]=Math.sin(n)*o}function Uce(e,t,i,r){lv(e,t,i,r),hm(i,r,i,r)}function zce(e,t,i,r,s){const n=.4999999*Math.PI,o=Nn(Pm*e[t+1],-n,n),c=Math.sin(o);i[r++]=Pm*e[t]*s.radius,i[r++]=s.halfSemiMajorAxis*Math.log((1+c)/(1-c)),i[r]=e[t+2]}function lm(e,t,i,r){zce(e,t,i,r,pi)}function um(e,t,i,r){i[r]=e[t]*oF,i[r+1]=e[t+1]*oF,i[r+2]=e[t+2]}function cm(e,t,i,r){i[r]=e[t]*aF,i[r+1]=e[t+1]*aF,i[r+2]=e[t+2]}function Vce(e,t,i,r){lv(e,t,i,r),um(i,r,i,r)}function Gce(e,t,i,r){pm(e,t,i,r),um(i,r,i,r)}function qce(e,t,i,r){dm(e,t,i,r),um(i,r,i,r)}function Bce(e,t,i,r){cm(e,t,i,r),uv(i,r,i,r)}function Hce(e,t,i,r){cm(e,t,i,r),lm(i,r,i,r)}function Wce(e,t,i,r){cm(e,t,i,r),hm(i,r,i,r)}function SL(e,t,i,r,s){const n=s+e[t+2],o=Pm*e[t+1],c=Pm*e[t],d=Math.cos(o)*n;i[r]=Math.cos(c)*d,i[r+1]=Math.sin(c)*d,i[r+2]=Math.sin(o)*n}function iF(e,t,i,r){SL(e,t,i,r,bc.radius)}function rF(e,t,i,r){SL(e,t,i,r,ca.radius)}function uv(e,t,i,r){SL(e,t,i,r,pi.radius)}function TL(e,t,i,r,s){const n=e[t],o=e[t+1],c=e[t+2],d=Math.sqrt(n*n+o*o+c*c),f=mse(c/(d===0?1:d)),g=Math.atan2(o,n);i[r++]=Dm*g,i[r++]=Dm*f,i[r]=d-s}function sF(e,t,i,r){TL(e,t,i,r,bc.radius)}function nF(e,t,i,r){TL(e,t,i,r,ca.radius)}function dm(e,t,i,r){TL(e,t,i,r,pi.radius)}function Zce(e,t,i,r){dm(e,t,i,r),lm(i,r,i,r)}function Yce(e,t,i,r){dm(e,t,i,r),hm(i,r,i,r)}function Jce(e,t,i,r,s){const n=Pm*e[t],o=Pm*e[t+1],c=e[t+2],d=Math.sin(o),f=Math.cos(o),g=s.radius/Math.sqrt(1-s.eccentricitySquared*d*d);i[r++]=(g+c)*f*Math.cos(n),i[r++]=(g+c)*f*Math.sin(n),i[r++]=(g*(1-s.eccentricitySquared)+c)*d}function hm(e,t,i,r){Jce(e,t,i,r,pi)}function pm(e,t,i,r){const s=Dce,n=e[t],o=e[t+1],c=e[t+2];let d,f,g,v,_,S,T,E,M,C,L,N,P,U,W,re,ae,fe,ye,Se,_e;d=Math.abs(c),f=n*n+o*o,g=Math.sqrt(f),v=f+c*c,_=Math.sqrt(v),Se=Math.atan2(o,n),S=c*c/v,T=f/v,U=s.a2/_,W=s.a3-s.a4/_,T>.3?(E=d/_*(1+T*(s.a1+U+S*W)/_),ye=Math.asin(E),C=E*E,M=Math.sqrt(1-C)):(M=g/_*(1-S*(s.a5-U-T*W)/_),ye=Math.acos(M),C=1-M*M,E=Math.sqrt(C)),L=1-pi.eccentricitySquared*C,N=pi.radius/Math.sqrt(L),P=s.a6*N,U=g-N*M,W=d-P*E,ae=M*U+E*W,re=M*W-E*U,fe=re/(P/L+ae),ye+=fe,_e=ae+re*fe/2,c<0&&(ye=-ye),i[r++]=Dm*Se,i[r++]=Dm*ye,i[r]=_e}function Xce(e,t,i,r){pm(e,t,i,r),uv(i,r,i,r)}function Qce(e,t,i,r){pm(e,t,i,r),lm(i,r,i,r)}const ja={source:{spatialReference:null,spatialReferenceId:G.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:G.UNKNOWN,metersPerUnit:1},projector:ti},Pm=fT(1),Dm=d7(1),dB=.5*Math.PI,$h=pi.radius,oF=$h*Math.PI/180,aF=180/($h*Math.PI);function $1(e,t,i,r,s,n,o=Math.floor(e.length/3)){const c=cB(t,s);if(c==null)return!1;if(c===ti){if(e===r&&i===n)return!0;const f=i+3*o;for(let g=i,v=n;g<f;g++,v++)r[v]=e[g];return!0}const d=i+3*o;for(let f=i,g=n;f<d;f+=3,g+=3)c(e,f,r,g);return!0}const sRe=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:$1},Symbol.toStringTag,{value:"Module"}));function lF(e,t,i,r,s,n){return x_[0]=e,x_[1]=t,x_[2]=i,$1(x_,r,0,s,n,0)}const x_=Lc();let M_=0,fM=class CA{static fromGE(t){const i=new CA;return i._wkt=t.wkt,i._wkid=t.wkid,i._isInverse=t.isInverse,i}constructor(t){this.uid=M_++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=M_++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=M_++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=M_++}getInverse(){const t=new CA;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},_2=class Jg{static cacheKey(t,i){var r,s,n,o,c,d;return[((r=t.wkid)==null?void 0:r.toString())??"-1",((s=t.wkt)==null?void 0:s.toString())??"",((n=t.wkt2)==null?void 0:n.toString())??"",((o=i.wkid)==null?void 0:o.toString())??"-1",((c=i.wkt)==null?void 0:c.toString())??"",((d=i.wkt2)==null?void 0:d.toString())??""].join()}static fromGE(t){const i=new Jg;let r="";for(const s of t.steps){const n=fM.fromGE(s);i.steps.push(n),r+=n.uid.toString()+","}return i._cachedProjection={},i._gtlistentry=null,i._chain=r,i}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t==null?void 0:t.steps)for(const i of t.steps)i instanceof fM?this.steps.push(i):this.steps.push(new fM({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}getInverse(){const t=new Jg;t.steps=[];for(let i=this.steps.length-1;i>=0;i--){const r=this.steps[i];t.steps.push(r.getInverse())}return t}getGTListEntry(){let t="";for(const i of this.steps)t+=i.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,i,r){this._cachedProjection[Jg.cacheKey(t,i)]=r}getCachedGeTransformation(t,i){let r="";for(const n of this.steps)r+=n.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const s=this._cachedProjection[Jg.cacheKey(t,i)];return s===void 0?null:s}};function hB(e,t,i){if(t==null||i==null||i.vcsWkid||Ji(t,i)||_c(t)||_c(i))return null;const r=d2(t)/d2(i);if(r===1)return null;switch(e){case"point":case"esriGeometryPoint":return s=>Kce(s,r);case"polyline":case"esriGeometryPolyline":return s=>tde(s,r);case"polygon":case"esriGeometryPolygon":return s=>ede(s,r);case"multipoint":case"esriGeometryMultipoint":return s=>ide(s,r);case"extent":case"esriGeometryEnvelope":return s=>rde(s,r);default:return null}}function Kce(e,t){(e==null?void 0:e.z)!=null&&(e.z*=t)}function ede(e,t){if(e)for(const i of e.rings)for(const r of i)r.length>2&&(r[2]*=t)}function tde(e,t){if(e)for(const i of e.paths)for(const r of i)r.length>2&&(r[2]*=t)}function ide(e,t){if(e)for(const i of e.points)i.length>2&&(i[2]*=t)}function rde(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let Oo=null,Tc=null,cv=null,Dw={};const EL=new _1;function Nc(){return!!Oo&&GR()}function pB(){return!!Nc()||(De(EL),Ec(),!1)}function fB(e,t){return!e||!t||ya(e,t)||pB()}function sde(e,t){return!ya(e,t)&&!Nc()}function Ec(e){return cv==null&&(cv=Promise.all([q7(),te(()=>import("./geometryEngineBase-B0ZyeKAX.js"),__vite__mapDeps([10,1])).then(t=>t.g),te(()=>import("./hydrated-DMdtqeoT.js"),[])])),cv.then(([,t,{hydratedAdapter:i}])=>{li(e),Tc=i,Oo=t.default,Oo._enableProjection(qne),EL.notify()})}function Pc(e,t,i=null,r=null){return Array.isArray(e)?e.length===0?[]:(boe(e),IA(Tc,e,e[0].spatialReference,t,i,r)):(Cm(e),IA(Tc,[e],e.spatialReference,t,i,r)[0])}function IA(e,t,i,r,s=null,n=null){if(i==null||r==null)return t;if(ya(i,r,s))return t.map(o=>kw(o,i,r));if(s==null&&c2(i))return t.map(o=>kw(o,i,Ge.WGS84)).map(o=>qv(o,r));if(s==null&&c2(r))return t.map(o=>qv(o,Ge.WGS84)).map(o=>kw(o,Ge.WGS84,r));if(s==null){const o=_2.cacheKey(i,r);Dw[o]!==void 0?s=Dw[o]:((s=yB(i,r,void 0))==null&&(s=new _2),Dw[o]=s)}if(Oo==null||e==null)throw new IT;return n!=null?Oo._project(e,t,i,r,s,n):Oo._project(e,t,i,r,s)}function nde(e,t){const i=mB([e],t);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function mB(e,t){if(!Nc()){for(const i of e)if(i!=null&&!Ji(i.spatialReference,t)&&Zs(i.spatialReference)&&Zs(t)&&!ya(i.spatialReference,t))return De(EL),{pending:Ec(),geometries:null}}return{pending:null,geometries:e.map(i=>i==null?null:Ji(i.spatialReference,t)?i:Zs(i.spatialReference)&&Zs(t)?qv(i,t):null)}}function yB(e,t,i=null){if(e==null||t==null)return null;if(Oo==null||Tc==null)throw new IT;const r=Oo._getTransformation(Tc,e,t,i,i==null?void 0:i.spatialReference);return r!==null?_2.fromGE(r):null}function ode(e,t,i=null){if(Oo==null||Tc==null)throw new IT;const r=Oo._getTransformationBySuitability(Tc,e,t,i,i==null?void 0:i.spatialReference);if(r!==null){const s=[];for(const n of r)s.push(_2.fromGE(n));return s}return[]}let IT=class extends z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function ade(){Oo=null,Tc=null,cv=null,Dw={}}const lde={get loadPromise(){return cv}};function qv(e,t){try{const i=Pc(e,t);if(i==null)return null;"xmin"in e&&"xmin"in i&&(i.zmin=e.zmin,i.zmax=e.zmax);const r=hB(i.type,e.spatialReference,t);return r!=null&&r(i),i}catch(i){if(!(i instanceof IT))throw i;return null}}async function ude(e,t,i){const r=e.spatialReference;return r!=null&&t!=null&&await $L(r,t,null,i),qv(e,t)}function ya(e,t,i){return!i&&(!!Ji(e,t)||Zs(e)&&Zs(t)&&!!cB(e,t))}function cde(e,t){if(Ji(e,t))return!0;if(!Zs(e)||!Zs(t))return!1;const i=Ph(e)||pa(e)||Y5(e),r=Ph(t)||pa(t)||Y5(t);return i&&r}async function $L(e,t,i,r){if(Nc())return L5(r);if(Array.isArray(e)){for(const{source:s,dest:n,geographicTransformation:o}of e)if(s&&n&&!ya(s,n,o))return Ec(r)}else if(e&&t&&!ya(e,t,i))return Ec(r);return L5(r)}function kw(e,t,i){return e?"x"in e?gB(e,t,new Ye,i,0):"xmin"in e?wB(e,t,new Pt,i,0):"rings"in e?_B(e,t,new Pn,i,0):"paths"in e?bB(e,t,new Eo,i,0):"points"in e?vB(e,t,new ST,i,0):null:null}function dde(e,t,i=t.spatialReference,r=0){return i!=null&&e.spatialReference!=null&&gB(e,e.spatialReference,t,i,r)!=null}function gB(e,t,i,r,s){Nr[0]=e.x,Nr[1]=e.y;const n=e.z;return Nr[2]=n!==void 0?n:s,$1(Nr,t,0,Nr,r,0)?(i.x=Nr[0],i.y=Nr[1],i.spatialReference=r,n!==void 0||_c(r)?(i.z=Nr[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),e.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=e.m,i.hasM=!0),i):null}function hde(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&vB(e,e.spatialReference,t,i,r)!=null}function vB(e,t,i,r,s){const{points:n,hasZ:o,hasM:c}=e,d=[],f=n.length,g=[];for(const _ of n)g.push(_[0],_[1],o?_[2]:s);if(!$1(g,t,0,g,r,0,f))return null;const v=o||_c(r);for(let _=0;_<f;++_){const S=3*_,T=g[S],E=g[S+1];v&&c?d.push([T,E,g[S+2],n[_][3]]):v?d.push([T,E,g[S+2]]):c?d.push([T,E,n[_][2]]):d.push([T,E])}return i.points=d,i.spatialReference=r,i.hasZ=o,i.hasM=c,i}function pde(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&bB(e,e.spatialReference,t,i,r)!=null}function bB(e,t,i,r,s){const{paths:n,hasZ:o,hasM:c}=e,d=[];if(!SB(n,o??!1,c??!1,t,d,r,s))return null;const f=o||_c(r);return i.paths=d,i.spatialReference=r,i.hasZ=f,i.hasM=c,i}function fde(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&_B(e,e.spatialReference,t,i,r)!=null}function _B(e,t,i,r,s){const{rings:n,hasZ:o,hasM:c}=e,d=[];if(!SB(n,o??!1,c??!1,t,d,r,s))return null;const f=o||_c(r);return i.rings=d,i.spatialReference=r,i.hasZ=f,i.hasM=c,i}function mde(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&wB(e,e.spatialReference,t,i,r)!=null}function wB(e,t,i,r,s){const{xmin:n,ymin:o,xmax:c,ymax:d,hasZ:f,hasM:g}=e,v=f?e.zmin:s;if(!lF(n,o,v,t,Nr,r))return null;const _=f||_c(r);i.xmin=Nr[0],i.ymin=Nr[1],_&&(i.zmin=Nr[2]);const S=f?e.zmax:s;return lF(c,d,S,t,Nr,r)?(i.xmax=Nr[0],i.ymax=Nr[1],_&&(i.zmax=Nr[2]),g&&(i.mmin=e.mmin,i.mmax=e.mmax),i.spatialReference=r,i):null}function SB(e,t,i,r,s,n,o=0){const c=new Array;for(const g of e)for(const v of g)c.push(v[0],v[1],t?v[2]:o);if(!$1(c,r,0,c,n,0))return!1;let d=0;s.length=0;const f=t||_c(n);for(const g of e){const v=new Array;for(const _ of g)f&&i?v.push([c[d++],c[d++],c[d++],_[3]]):f?v.push([c[d++],c[d++],c[d++]]):i?(v.push([c[d++],c[d++],_[2]]),d++):(v.push([c[d++],c[d++]]),d++);s.push(v)}return!0}const Nr=Lc(),oRe=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:ya,getTransformation:yB,getTransformations:ode,initializeProjection:$L,isEqualBaseGCS:cde,isLoaded:Nc,isLoadedOrLoad:pB,isLoadedOrLoadFor:fB,load:Ec,project:Pc,projectExtent:mde,projectMany:IA,projectMultipoint:hde,projectOrLoad:nde,projectOrLoadMany:mB,projectPoint:dde,projectPolygon:fde,projectPolyline:pde,projectWithZConversion:ude,projectWithoutEngine:kw,requiresLoad:sde,test:lde,tryProjectWithZConversion:qv,unload:ade},Symbol.toStringTag,{value:"Module"}));var RA;let Bo=RA=class extends K{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new RA({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};u([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Bo.prototype,"cols",void 0),u([h({type:yt,json:{write:!0}})],Bo.prototype,"level",void 0),u([h({type:String,json:{write:!0}})],Bo.prototype,"levelValue",void 0),u([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Bo.prototype,"origin",void 0),u([h({type:Number,json:{write:!0}})],Bo.prototype,"resolution",void 0),u([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Bo.prototype,"rows",void 0),u([h({type:Number,json:{write:!0}})],Bo.prototype,"scale",void 0),Bo=RA=u([A("esri.layers.support.LOD")],Bo);const Xu=Bo;let yde=class{constructor(t,i,r,s,n=void 0){this.id=t,this.level=i,this.row=r,this.col=s,this.extent=n}};var Eu;const uF=new rt({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let gr=Eu=class extends K{static create(e={}){const{resolutionFactor:t=1,scales:i,size:r=256,spatialReference:s=Ge.WebMercator,numLODs:n=24}=e;if(!Zs(s)){const v=[];if(i)for(let _=0;_<i.length;_++){const S=i[_];v.push(new Xu({level:_,scale:S,resolution:S}))}else{let _=5e-4;for(let S=n-1;S>=0;S--)v.unshift(new Xu({level:S,scale:_,resolution:_})),_*=2}return new Eu({dpi:96,lods:v,origin:new Ye(0,0,s),size:[r,r],spatialReference:s})}const o=es(s),c=e.origin?new Ye({x:e.origin.x,y:e.origin.y,spatialReference:s}):new Ye(o?{x:o.origin[0],y:o.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),d=96,f=1/(Fn(s)*39.37*d),g=[];if(i)for(let v=0;v<i.length;v++){const _=i[v],S=_*f;g.push(new Xu({level:v,scale:_,resolution:S}))}else{let v=Zm(s)?512/r*5916575275917094e-7:256/r*591657527591555e-6;const _=Math.ceil(n/t);g.push(new Xu({level:0,scale:v,resolution:v*f}));for(let S=1;S<_;S++){const T=v/2**t,E=T*f;g.push(new Xu({level:S,scale:T,resolution:E})),v=T}}return new Eu({dpi:d,lods:g,origin:c,size:[r,r],spatialReference:s})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const i=es(e);return e.isWrappable&&!!i&&Math.abs(i.origin[0]-t.x)<=i.dx}return!1}readOrigin(e,t){return Ye.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,i=0;const r=[],s=this._levelToLOD={};e&&(t=-1/0,i=1/0,e.forEach(n=>{r.push(n.scale),t=n.scale>t?n.scale:t,i=n.scale<i?n.scale:i,s[n.level]=n})),this._set("scales",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const i=Math.floor(e),r=i+1;return t[i]/(t[i]/t[r])**(e-i)}scaleToZoom(e){const t=this.scales,i=t.length-1;let r=0;for(;r<i;r++){const s=t[r],n=t[r+1];if(s<=e)return r;if(n===e)return r+1;if(s>e&&n<e)return r+Math.log(s/e)/Math.log(s/n)}return r}tileAt(e,t,i,r){const s=this.lodAt(e);if(!s)return null;let n,o;if(typeof t=="number")n=t,o=i;else if(Ji(t.spatialReference,this.spatialReference))n=t.x,o=t.y,r=i;else{const f=_T(t,this.spatialReference);if(f==null)return null;n=f.x,o=f.y,r=i}const c=s.resolution*this.size[0],d=s.resolution*this.size[1];return r||(r=new yde(null,0,0,0,Kr())),r.level=e,r.row=Math.floor((this.origin.y-o)/d+.001),r.col=Math.floor((n-this.origin.x)/c+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=Eu.ExtrapolateOptions.NONE){let i=this.lodAt(e.level);if(!i&&t===Eu.ExtrapolateOptions.POWER_OF_TWO){const o=this.lods[this.lods.length-1];o.level<e.level&&(i=o)}if(!i)return;const r=e.level-i.level,s=i.resolution*this.size[0]/2**r,n=i.resolution*this.size[1]/2**r;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=Kr()),e.extent[0]=this.origin.x+e.col*s,e.extent[1]=this.origin.y-(e.row+1)*n,e.extent[2]=e.extent[0]+s,e.extent[3]=e.extent[1]+n}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const i=this.lodAt(t.level);if(i==null)return null;const{resolution:r}=i,s=r*this.size[0],n=r*this.size[1];return e[0]=this.origin.x+t.col*s,e[1]=this.origin.y-(t.row+1)*n,e[2]=e[0]+s,e[3]=e[1]+n,e}lodAt(e){var t;return((t=this._levelToLOD)==null?void 0:t[e])??null}clone(){return Eu.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const t=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&t===0)return this;const i=[],r=this.lods.length-t;for(let s=0;s<r;s++){const n=s+t,{scale:o,resolution:c}=n>=0?this.lods[n]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};i.push(new Xu({level:s,scale:o,resolution:c}))}return new Eu({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:i})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let i=0;i<e.length;i++){const r=e[i];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};u([h({type:Number,json:{write:!0}})],gr.prototype,"compressionQuality",void 0),u([h({type:Number,json:{write:!0}})],gr.prototype,"dpi",void 0),u([h({type:String,json:{read:uF.read,write:uF.write,origins:{"web-scene":{read:!1,write:!1}}}})],gr.prototype,"format",void 0),u([h({readOnly:!0})],gr.prototype,"isWrappable",null),u([h({type:Ye,json:{write:!0}})],gr.prototype,"origin",void 0),u([ue("origin")],gr.prototype,"readOrigin",null),u([h({type:[Xu],value:null,json:{write:!0}})],gr.prototype,"lods",null),u([h({readOnly:!0})],gr.prototype,"scales",void 0),u([h({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],gr.prototype,"size",void 0),u([ue("size",["rows","cols"])],gr.prototype,"readSize",null),u([de("size",{cols:{type:yt},rows:{type:yt}})],gr.prototype,"writeSize",null),u([h({type:Ge,json:{write:!0}})],gr.prototype,"spatialReference",void 0),gr=Eu=u([A("esri.layers.support.TileInfo")],gr),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(gr||(gr={}));const gde=gr,Fw={widthBreakpoint:{getValue(e){const t=e.viewSize[0],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,i=t[0],r=t[1],s=this.values;return r>=i?s.portrait:s.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},mM={xsmall:544,small:768,medium:992,large:1200};function vde(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function yM(e,t){return t?Fw[e].valueToClassName[t].split(" "):[]}const bde=e=>{let t=class extends e{constructor(...i){super(...i),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=mM}initialize(){this.addHandles(xe(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Nt))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(i){if(i!==this._get("breakpoints")){if(!vde(i)){const r=JSON.stringify(mM,null,2);console.warn("provided breakpoints are not valid, using defaults:"+r),i=mM}this._set("breakpoints",{...i})}}_updateClassNames(){if(!this.container)return;const i=Qr.acquire(),r=Qr.acquire();let s,n=!1;for(s in Fw){const o=this[s],c=Fw[s].getValue({viewSize:this.size,breakpoints:this.breakpoints});o!==c&&(n=!0,this[s]=c,yM(s,o).forEach(d=>r.push(d)),yM(s,c).forEach(d=>i.push(d)))}n&&(this._applyClassNameChanges(i,r),Qr.release(i),Qr.release(r))}_applyClassNameChanges(i,r){const s=this.container;s&&(r.forEach(n=>s.classList.remove(n)),i.forEach(n=>s.classList.add(n)))}_removeActiveClassNames(){const i=this.container;if(!i)return;let r;for(r in Fw)yM(r,this[r]).forEach(s=>i.classList.remove(s))}};return u([h()],t.prototype,"breakpoints",null),u([h()],t.prototype,"orientation",void 0),u([h()],t.prototype,"widthBreakpoint",void 0),u([h()],t.prototype,"heightBreakpoint",void 0),t=u([A("esri.views.BreakpointsOwner")],t),t};function xL(e){return typeof e=="string"?document.getElementById(e):e??null}function cF(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}let xh=class extends Te{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,i,r={}){return this._installWatch(t,i,r,xe)}addWhen(t,i,r={}){return this._installWatch(t,i,r,$s)}addOnCollectionChange(t,i,{initial:r=!1,final:s=!1}={}){const n=++this._handleId;return this.addHandles([Io(t,"after-changes",this._createSyncUpdatingCallback(),fa),Io(t,"change",i,{onListenerAdd:r?o=>i({added:o.toArray(),removed:[]}):void 0,onListenerRemove:s?o=>i({added:[],removed:o.toArray()}):void 0})],n),gt(()=>this.removeHandles(n))}addPromise(t){if(t==null)return t;const i=++this._handleId;this.addHandles(gt(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(A_)||this._set("updating",!1))}),i),this._pendingPromises.add(t),this._set("updating",!0);const r=()=>this.removeHandles(i);return t.then(r,r),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,i,r={},s){const n=++this._handleId;r.sync||this._installSyncUpdatingWatch(t,n);const o=s(t,i,r);return this.addHandles(o,n),gt(()=>this.removeHandles(n))}_installSyncUpdatingWatch(t,i){const r=this._createSyncUpdatingCallback(),s=xe(t,r,{sync:!0,equals:()=>!1});return this.addHandles(s,i),s}_createSyncUpdatingCallback(){return()=>{this.removeHandles(A_),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(y1(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(A_))}),A_)}}};u([h({readOnly:!0})],xh.prototype,"updating",void 0),xh=u([A("esri.core.support.UpdatingHandles")],xh);const A_=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei() <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w2=function(){return w2=Object.assign||function(t){for(var i,r=1,s=arguments.length;r<s;r++){i=arguments[r];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},w2.apply(this,arguments)},LA={exports:{}},fi={},NA={exports:{}},Yh={};function TB(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function _de(e,t,i){}function wde(e,t,i){}var Sde=/javascript\s*\:/img;function Tde(e,t){return Sde.test(t)?"":t}Yh.whiteList=TB();Yh.getDefaultWhiteList=TB;Yh.onAttr=_de;Yh.onIgnoreAttr=wde;Yh.safeAttrValue=Tde;var Ede={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,s;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,s=e.length;r<s;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Mg=Ede;function $de(e,t){e=Mg.trimRight(e),e[e.length-1]!==";"&&(e+=";");var i=e.length,r=!1,s=0,n=0,o="";function c(){if(!r){var g=Mg.trim(e.slice(s,n)),v=g.indexOf(":");if(v!==-1){var _=Mg.trim(g.slice(0,v)),S=Mg.trim(g.slice(v+1));if(_){var T=t(s,o.length,_,S,g);T&&(o+=T+"; ")}}}s=n+1}for(;n<i;n++){var d=e[n];if(d==="/"&&e[n+1]==="*"){var f=e.indexOf("*/",n+2);if(f===-1)break;n=f+1,s=n+1,r=!1}else d==="("?r=!0:d===")"?r=!1:d===";"?r||c():d===`
`&&c()}return Mg.trim(o)}var xde=$de,O_=Yh,Mde=xde;function dF(e){return e==null}function Ade(e){var t={};for(var i in e)t[i]=e[i];return t}function EB(e){e=Ade(e||{}),e.whiteList=e.whiteList||O_.whiteList,e.onAttr=e.onAttr||O_.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||O_.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||O_.safeAttrValue,this.options=e}EB.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,r=i.whiteList,s=i.onAttr,n=i.onIgnoreAttr,o=i.safeAttrValue,c=Mde(e,function(d,f,g,v,_){var S=r[g],T=!1;if(S===!0?T=S:typeof S=="function"?T=S(v):S instanceof RegExp&&(T=S.test(v)),T!==!0&&(T=!1),v=o(g,v),!!v){var E={position:f,sourcePosition:d,source:_,isWhite:T};if(T){var M=s(g,v,E);return dF(M)?g+":"+v:M}else{var M=n(g,v,E);if(!dF(M))return M}}});return c};var Ode=EB;(function(e,t){var i=Yh,r=Ode;function s(o,c){var d=new r(c);return d.process(o)}t=e.exports=s,t.FilterCSS=r;for(var n in i)t[n]=i[n]})(NA,NA.exports);var ML=NA.exports,AL={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,s;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,s=e.length;r<s;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,i=t.exec(e);return i?i.index:-1}},Cde=ML.FilterCSS,Ide=ML.getDefaultWhiteList,S2=AL;function $B(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var xB=new Cde;function Rde(e,t,i){}function Lde(e,t,i){}function Nde(e,t,i){}function Pde(e,t,i){}function MB(e){return e.replace(kde,"&lt;").replace(Fde,"&gt;")}function Dde(e,t,i,r){if(i=LB(i),t==="href"||t==="src"){if(i=S2.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(t==="background"){if(C_.lastIndex=0,C_.test(i))return""}else if(t==="style"){if(hF.lastIndex=0,hF.test(i)||(pF.lastIndex=0,pF.test(i)&&(C_.lastIndex=0,C_.test(i))))return"";r!==!1&&(r=r||xB,i=r.process(i))}return i=NB(i),i}var kde=/</g,Fde=/>/g,jde=/"/g,Ude=/&quot;/g,zde=/&#([a-zA-Z0-9]*);?/gim,Vde=/&colon;?/gim,Gde=/&newline;?/gim,C_=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,hF=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,pF=/u\s*r\s*l\s*\(.*/gi;function AB(e){return e.replace(jde,"&quot;")}function OB(e){return e.replace(Ude,'"')}function CB(e){return e.replace(zde,function(i,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function IB(e){return e.replace(Vde,":").replace(Gde," ")}function RB(e){for(var t="",i=0,r=e.length;i<r;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return S2.trim(t)}function LB(e){return e=OB(e),e=CB(e),e=IB(e),e=RB(e),e}function NB(e){return e=AB(e),e=MB(e),e}function qde(){return""}function Bde(e,t){typeof t!="function"&&(t=function(){});var i=!Array.isArray(e);function r(o){return i?!0:S2.indexOf(e,o)!==-1}var s=[],n=!1;return{onIgnoreTag:function(o,c,d){if(r(o))if(d.isClosing){var f="[/removed]",g=d.position+f.length;return s.push([n!==!1?n:d.position,g]),n=!1,f}else return n||(n=d.position),"[removed]";else return t(o,c,d)},remove:function(o){var c="",d=0;return S2.forEach(s,function(f){c+=o.slice(d,f[0]),d=f[1]}),c+=o.slice(d),c}}}function Hde(e){for(var t="",i=0;i<e.length;){var r=e.indexOf("<!--",i);if(r===-1){t+=e.slice(i);break}t+=e.slice(i,r);var s=e.indexOf("-->",r);if(s===-1)break;i=s+3}return t}function Wde(e){var t=e.split("");return t=t.filter(function(i){var r=i.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),t.join("")}fi.whiteList=$B();fi.getDefaultWhiteList=$B;fi.onTag=Rde;fi.onIgnoreTag=Lde;fi.onTagAttr=Nde;fi.onIgnoreTagAttr=Pde;fi.safeAttrValue=Dde;fi.escapeHtml=MB;fi.escapeQuote=AB;fi.unescapeQuote=OB;fi.escapeHtmlEntities=CB;fi.escapeDangerHtml5Entities=IB;fi.clearNonPrintableCharacter=RB;fi.friendlyAttrValue=LB;fi.escapeAttrValue=NB;fi.onIgnoreTagStripAll=qde;fi.StripTagBody=Bde;fi.stripCommentTag=Hde;fi.stripBlankChar=Wde;fi.cssFilter=xB;fi.getDefaultCSSWhiteList=Ide;var RT={},Qu=AL;function Zde(e){var t=Qu.spaceIndex(e),i;return t===-1?i=e.slice(1,-1):i=e.slice(1,t+1),i=Qu.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function Yde(e){return e.slice(0,2)==="</"}function Jde(e,t,i){var r="",s=0,n=!1,o=!1,c=0,d=e.length,f="",g="";e:for(c=0;c<d;c++){var v=e.charAt(c);if(n===!1){if(v==="<"){n=c;continue}}else if(o===!1){if(v==="<"){r+=i(e.slice(s,c)),n=c,s=c;continue}if(v===">"){r+=i(e.slice(s,n)),g=e.slice(n,c+1),f=Zde(g),r+=t(n,r.length,f,g,Yde(g)),s=c+1,n=!1;continue}if(v==='"'||v==="'")for(var _=1,S=e.charAt(c-_);S.trim()===""||S==="=";){if(S==="="){o=v;continue e}S=e.charAt(c-++_)}}else if(v===o){o=!1;continue}}return s<e.length&&(r+=i(e.substr(s))),r}var Xde=/[^a-zA-Z0-9\\_:.-]/gim;function Qde(e,t){var i=0,r=0,s=[],n=!1,o=e.length;function c(_,S){if(_=Qu.trim(_),_=_.replace(Xde,"").toLowerCase(),!(_.length<1)){var T=t(_,S||"");T&&s.push(T)}}for(var d=0;d<o;d++){var f=e.charAt(d),g,v;if(n===!1&&f==="="){n=e.slice(i,d),i=d+1,r=e.charAt(i)==='"'||e.charAt(i)==="'"?i:ehe(e,d+1);continue}if(n!==!1&&d===r){if(v=e.indexOf(f,d+1),v===-1)break;g=Qu.trim(e.slice(r+1,v)),c(n,g),n=!1,d=v,i=d+1;continue}if(/\s|\n|\t/.test(f))if(e=e.replace(/\s|\n|\t/g," "),n===!1)if(v=Kde(e,d),v===-1){g=Qu.trim(e.slice(i,d)),c(g),n=!1,i=d+1;continue}else{d=v-1;continue}else if(v=the(e,d-1),v===-1){g=Qu.trim(e.slice(i,d)),g=fF(g),c(n,g),n=!1,i=d+1;continue}else continue}return i<e.length&&(n===!1?c(e.slice(i)):c(n,fF(Qu.trim(e.slice(i))))),Qu.trim(s.join(" "))}function Kde(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="="?t:-1}}function ehe(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="'"||i==='"'?t:-1}}function the(e,t){for(;t>0;t--){var i=e[t];if(i!==" ")return i==="="?t:-1}}function ihe(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function fF(e){return ihe(e)?e.substr(1,e.length-2):e}RT.parseTag=Jde;RT.parseAttr=Qde;var rhe=ML.FilterCSS,vo=fi,PB=RT,she=PB.parseTag,nhe=PB.parseAttr,jw=AL;function I_(e){return e==null}function ohe(e){var t=jw.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=jw.trim(e.slice(t+1,-1));var i=e[e.length-1]==="/";return i&&(e=jw.trim(e.slice(0,-1))),{html:e,closing:i}}function ahe(e){var t={};for(var i in e)t[i]=e[i];return t}function lhe(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map(function(r){return r.toLowerCase()}):t[i.toLowerCase()]=e[i];return t}function DB(e){e=ahe(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=vo.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=lhe(e.whiteList||e.allowList):e.whiteList=vo.whiteList,e.onTag=e.onTag||vo.onTag,e.onTagAttr=e.onTagAttr||vo.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||vo.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||vo.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||vo.safeAttrValue,e.escapeHtml=e.escapeHtml||vo.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new rhe(e.css))}DB.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,r=i.whiteList,s=i.onTag,n=i.onIgnoreTag,o=i.onTagAttr,c=i.onIgnoreTagAttr,d=i.safeAttrValue,f=i.escapeHtml,g=t.cssFilter;i.stripBlankChar&&(e=vo.stripBlankChar(e)),i.allowCommentTag||(e=vo.stripCommentTag(e));var v=!1;i.stripIgnoreTagBody&&(v=vo.StripTagBody(i.stripIgnoreTagBody,n),n=v.onIgnoreTag);var _=she(e,function(S,T,E,M,C){var L={sourcePosition:S,position:T,isClosing:C,isWhite:Object.prototype.hasOwnProperty.call(r,E)},N=s(E,M,L);if(!I_(N))return N;if(L.isWhite){if(L.isClosing)return"</"+E+">";var P=ohe(M),U=r[E],W=nhe(P.html,function(re,ae){var fe=jw.indexOf(U,re)!==-1,ye=o(E,re,ae,fe);return I_(ye)?fe?(ae=d(E,re,ae,g),ae?re+'="'+ae+'"':re):(ye=c(E,re,ae,fe),I_(ye)?void 0:ye):ye});return M="<"+E,W&&(M+=" "+W),P.closing&&(M+=" /"),M+=">",M}else return N=n(E,M,L),I_(N)?f(M):N},f);return v&&(_=v.remove(_)),_};var uhe=DB;(function(e,t){var i=fi,r=RT,s=uhe;function n(c,d){var f=new s(d);return f.process(c)}t=e.exports=n,t.filterXSS=n,t.FilterXSS=s,function(){for(var c in i)t[c]=i[c];for(var d in r)t[d]=r[d]}();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(LA,LA.exports);var Gp=LA.exports,che=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},dhe=function(){function e(t,i){var r=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=w2(w2({},Gp.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(n,o,c,d){return n==="a"&&o==="href"||(n==="img"||n==="source")&&o==="src"?r.sanitizeUrl(c):Gp.safeAttrValue(n,o,c,d)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var s;t&&!i?s=t:t&&i?(s=Object.create(this.arcgisFilterOptions),s.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(n){if(n==="whiteList")s.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,t.whiteList||{}]);else if(n==="css"){var o=t.css.whiteList;o!=null&&t.css instanceof Object&&Object.keys(o).forEach(function(c){return s.css.whiteList[c]=o[c]})}else s[n]=t[n]})):(s=Object.create(this.arcgisFilterOptions),s.whiteList=this.arcgisWhiteList,s.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=s,this._xssFilter=new Gp.FilterXSS(s)}return e.prototype.sanitize=function(t,i){switch(i===void 0&&(i={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,i);default:return i.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,i){var r=(i??{}).isProtocolRequired,s=r===void 0?!0:r,n=this._trim(t.substring(0,t.indexOf(":"))),o=t==="/",c=/^#/.test(t),d=n&&this.allowedProtocols.indexOf(n.toLowerCase())>-1;return o||c||d?Gp.escapeAttrValue(t):!n&&!s?Gp.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,i,r,s){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,i,r,s):Gp.safeAttrValue(t,i,r,s)},e.prototype.validate=function(t,i){i===void 0&&(i={});var r=this.sanitize(t,i);return{isValid:t===r,sanitized:r}},e.prototype.encodeHTML=function(t){var i=this;return String(t).replace(/[&<>"'\/]/g,function(r){return i._entityMap[r]})},e.prototype.encodeAttrValue=function(t){var i=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(r,s){return i.test(r)?r:"&#x".concat(Number(t.charCodeAt(s)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var i={};return t.forEach(function(r){Object.keys(r).forEach(function(s){Array.isArray(r[s])&&Array.isArray(i[s])?i[s]=i[s].concat(r[s]):i[s]=r[s]})}),i},e.prototype._iterateOverObject=function(t,i){var r=this;i===void 0&&(i={});try{var s=!1,n=void 0;if(Array.isArray(t))n=t.reduce(function(c,d){var f=r.validate(d,i);return f.isValid?c.concat([d]):(s=!0,c.concat([f.sanitized]))},[]);else if(che(t)){var o=Object.keys(t);n=o.reduce(function(c,d){var f=t[d],g=r.validate(f,i);return g.isValid?c[d]=f:(s=!0,c[d]=g.sanitized),c},{})}else return i.allowUndefined&&typeof t>"u"?void 0:null;return s?n:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const LT=new Map;function kB(){LT.clear()}function hhe(e){return LT.get(e)}function phe(e,t){LT.set(e,t)}function gM(e){LT.delete(e)}function fhe(...e){const t=Qr.acquire();for(let r=0;r<e.length;r++){const s=e[r],n=typeof s;if(n==="string")t.push(s);else if(Array.isArray(s))t.push.apply(t,s);else if(n==="object")for(const o in s)s[o]&&t.push(o)}const i=t.join(" ");return Qr.release(t),i}(()=>{const e=new Map,t=new ResizeObserver(r=>{var s;kB();for(const n of r)(s=e.get(n.target))==null||s(n)}),i=(r,s,n)=>(e.set(r,s),t.observe(r,n),gt(()=>{t.unobserve(r),e.delete(r)}));return(r,s,n)=>{let o=null;return d1([xe(()=>typeof r=="function"?r():r,c=>{o==null||o.remove(),c&&(o=i(c,s,n))},gs),gt(()=>o==null?void 0:o.remove())])}})();function mhe(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function uRe(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function cRe(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const yhe=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],ghe=yhe.reduce((e,t)=>(e[t]=[],e),{}),vhe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],FB=new dhe({whiteList:ghe,onTagAttr:(e,t,i)=>{const r=`${t}="${i}"`;if(vhe.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function bhe(e){return e==="Enter"||e===" "}async function dv(e,t){await Zre(m1(t));const i=typeof e=="function"?e():e;i&&("setFocus"in i&&typeof i.setFocus=="function"?await i.setFocus():i instanceof HTMLElement&&i.focus())}const jB="http://www.w3.org/",NT=`${jB}2000/svg`,UB=`${jB}1999/xlink`;let mF=[],OL=(e,t)=>{let i={};return Object.keys(e).forEach(r=>{i[r]=e[r]}),t&&Object.keys(t).forEach(r=>{i[r]=t[r]}),i},CL=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),zB=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},_he=(e,t,i)=>{if(t.vnodeSelector!==""){for(let r=i;r<e.length;r++)if(CL(e[r],t))return r}return-1},vM=(e,t,i,r)=>{let s=e[t];if(s.vnodeSelector==="")return;let n=s.properties;if(!(n&&(n.key===void 0?n.bind:n.key))){for(let o=0;o<e.length;o++)if(o!==t){let c=e[o];if(CL(c,s))throw new Error(`${i.vnodeSelector} had a ${s.vnodeSelector} child ${r==="added"?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},whe=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},PA=[],DA=!1,VB=e=>{(e.children||[]).forEach(VB),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},yF=()=>{DA=!1,PA.forEach(VB),PA.length=0},gF=e=>{PA.push(e),DA||(DA=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(yF,{timeout:16}):setTimeout(yF,16))},vF=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i)return t.style.pointerEvents="none",void i(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),gF(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),gF(e))},She=(e,t,i)=>{if(!t)return;let r=i.eventHandlerInterceptor,s=Object.keys(t),n=s.length;for(let o=0;o<n;o++){let c=s[o],d=t[c];if(c==="className")throw new Error('Property "className" is not supported, use "class".');if(c==="class")FA(e,d,!0);else if(c==="classes"){let f=Object.keys(d),g=f.length;for(let v=0;v<g;v++){let _=f[v];d[_]&&e.classList.add(_)}}else if(c==="styles"){let f=Object.keys(d),g=f.length;for(let v=0;v<g;v++){let _=f[v],S=d[_];S&&(zB(S),i.styleApplyer(e,_,S))}}else if(c!=="key"&&d!=null){let f=typeof d;f==="function"?(c.lastIndexOf("on",0)===0&&(r&&(d=r(c,d,e,t)),c==="oninput"&&function(){let g=d;d=function(v){g.apply(this,[v]),v.target["oninput-value"]=v.target.value}}()),e[c]=d):i.namespace===NT?c==="href"?e.setAttributeNS(UB,c,d):e.setAttribute(c,d):f==="string"&&c!=="value"?c==="innerHTML"?e[c]=FB.sanitize(d):kA(e)&&c in e?e[c]=d:e.setAttribute(c,d):e[c]=d}}};function kA(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let T2,The=(e,t,i)=>{if(t)for(let r of t)hv(r,e,void 0,i)},GB=(e,t,i)=>{The(e,t.children,i),t.text&&(e.textContent=t.text),She(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},hv=(e,t,i,r)=>{let s,n=0,o=e.vnodeSelector,c=t.ownerDocument;if(o==="")s=e.domNode=c.createTextNode(e.text),i!==void 0?t.insertBefore(s,i):t.appendChild(s);else{for(let d=0;d<=o.length;++d){let f=o.charAt(d);if(d===o.length||f==="."||f==="#"){let g=o.charAt(n-1),v=o.slice(n,d);g==="."?s.classList.add(v):g==="#"?s.id=v:(v==="svg"&&(r=OL(r,{namespace:NT})),r.namespace!==void 0?s=e.domNode=c.createElementNS(r.namespace,v):(s=e.domNode=e.domNode||c.createElement(v),v==="input"&&e.properties&&e.properties.type!==void 0&&s.setAttribute("type",e.properties.type)),i!==void 0?t.insertBefore(s,i):s.parentNode!==t&&t.appendChild(s)),n=d+1}}GB(s,e,r)}},FA=(e,t,i)=>{t&&t.split(" ").forEach(r=>{r&&e.classList.toggle(r,i)})},Ehe=(e,t,i,r)=>{if(!i)return;let s=!1,n=Object.keys(i),o=n.length;for(let c=0;c<o;c++){let d=n[c],f=i[d],g=t[d];if(d==="class")g!==f&&(FA(e,g,!1),FA(e,f,!0));else if(d==="classes"){let v=e.classList,_=Object.keys(f),S=_.length;for(let T=0;T<S;T++){let E=_[T],M=!!f[E];M!==!!g[E]&&(s=!0,M?v.add(E):v.remove(E))}}else if(d==="styles"){let v=Object.keys(f),_=v.length;for(let S=0;S<_;S++){let T=v[S],E=f[T];E!==g[T]&&(s=!0,E?(zB(E),r.styleApplyer(e,T,E)):r.styleApplyer(e,T,""))}}else if(f||typeof g!="string"||(f=""),d!=="value"||kA(e)){if(f!==g){let v=typeof f;v==="function"&&r.eventHandlerInterceptor||(r.namespace===NT?d==="href"?e.setAttributeNS(UB,d,f):e.setAttribute(d,f):v==="string"?d==="innerHTML"?e[d]=FB.sanitize(f):d==="role"&&f===""?e.removeAttribute(d):kA(e)&&d in e?e[d]=f:e.setAttribute(d,f):e[d]!==f&&(e[d]=f),s=!0)}}else{let v=e[d];v!==f&&(e["oninput-value"]?v===e["oninput-value"]:f!==g)&&(e[d]=f,e["oninput-value"]=void 0),f!==g&&(s=!0)}}return s},$he=(e,t,i,r,s)=>{if(i===r)return!1;r=r||mF;let n,o=(i=i||mF).length,c=r.length,d=0,f=0,g=!1;for(;f<c;){let v=d<o?i[d]:void 0,_=r[f];if(v!==void 0&&CL(v,_))g=T2(v,_,s)||g,d++;else{let S=_he(i,_,d+1);if(S>=0){for(n=d;n<S;n++)vF(i[n]),vM(i,n,e,"removed");g=T2(i[S],_,s)||g,d=S+1}else hv(_,t,d<o?i[d].domNode:void 0,s),whe(_),vM(r,f,e,"added")}f++}if(o>d)for(n=d;n<o;n++)vF(i[n]),vM(i,n,e,"removed");return g};T2=(e,t,i)=>{let r=e.domNode,s=!1;if(e===t)return!1;let n=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let o=r.ownerDocument.createTextNode(t.text);return r.parentNode.replaceChild(o,r),t.domNode=o,s=!0,s}t.domNode=r}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(i=OL(i,{namespace:NT})),e.text!==t.text&&(n=!0,t.text===void 0?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,n=$he(t,r,e.children,t.children,i)||n,n=Ehe(r,e.properties,t.properties,i)||n,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,i,t.vnodeSelector,t.properties,t.children]);return n&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),s};let R_=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=e;e=i,T2(r,i,t)},domNode:e.domNode});const xhe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}};let Xg=e=>OL(xhe,e),uc={append:(e,t,i)=>(i=Xg(i),hv(t,e,void 0,i),R_(t,i)),insertBefore:(e,t,i)=>(i=Xg(i),hv(t,e.parentNode,e,i),R_(t,i)),merge:(e,t,i)=>(i=Xg(i),t.domNode=e,GB(e,t,i),R_(t,i)),replace:(e,t,i)=>(i=Xg(i),hv(t,e.parentNode,e,i),e.parentNode.removeChild(e),R_(t,i))},qB,Mhe=(e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i};qB=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let Ahe=(e,t)=>{let i=e;return t.forEach(r=>{i=i&&i.children?qB(i.children,s=>s.domNode===r):void 0}),i},Ohe=(e,t,i)=>{let r=function(s){i("domEvent",s);let n=t(),o=Mhe(s.currentTarget,n.domNode);o.reverse();let c,d=Ahe(n.getLastRender(),o);return e.scheduleRender(),d&&(c=d.properties[`on${s.type}`].apply(d.properties.bind||this,arguments)),i("domEventProcessed",s),c};return(s,n,o,c)=>r},bF=e=>{let t,i,r=Xg(e),s=r.performanceLogger,n=!0,o=!1,c=[],d=[],f=(v,_,S)=>{let T,E=()=>T;r.eventHandlerInterceptor=Ohe(t,E,s),T=v(_,S(),r),c.push(T),d.push(S)},g=()=>{if(i=void 0,n){n=!1,s("renderStart",void 0);for(let v=0;v<c.length;v++){let _=d[v]();s("rendered",void 0),c[v].update(_),s("patched",void 0)}s("renderDone",void 0),n=!0}};return t={renderNow:g,scheduleRender:()=>{i||o||(i=requestAnimationFrame(g))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),o=!0},resume:()=>{o=!1,n=!0,t.scheduleRender()},append:(v,_)=>{f(uc.append,v,_)},insertBefore:(v,_)=>{f(uc.insertBefore,v,_)},merge:(v,_)=>{f(uc.merge,v,_)},replace:(v,_)=>{f(uc.replace,v,_)},detach:v=>{for(let _=0;_<d.length;_++)if(d[_]===v)return d.splice(_,1),c.splice(_,1)[0];throw new Error("renderFunction was not found")}},t},$u=class extends Te{constructor(){super(...arguments),this.items=new pe,this._watchUpdatingTracking=new xh,this._callbacks=new Map,this._projector=bF(),this._hiddenProjector=bF()}get needsRender(){return this.items.length>0}get updating(){var t;return((t=this._watchUpdatingTracking)==null?void 0:t.updating)??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,i=>{for(const r of i.added){const s=()=>r.render();this._callbacks.set(r,s),this._projector.append(this.surface,s)}for(const r of i.removed){const s=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(s.domNode),this._callbacks.delete(r)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const i=this._hiddenSurface,r=this._hiddenProjector;let s;const n=()=>(s=t.render(),s);r.append(i,n),r.renderNow();const o={left:0,top:0,right:0,bottom:0};if(s!=null&&s.domNode){const c=s.domNode.getBoundingClientRect();o.left=c.left,o.top=c.top,o.right=c.right,o.bottom=c.bottom}for(r.detach(n);i.firstChild;)i.removeChild(i.firstChild);return o}overlaps(t,i){const r=this.computeBoundingRect(t),s=this.computeBoundingRect(i);return Math.max(r.left,s.left)<=Math.min(r.right,s.right)&&Math.max(r.top,s.top)<=Math.min(r.bottom,s.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t,i){const r=!!(i!=null&&i.disableDecorations);if(!this.items.some(n=>n.visible&&!(r&&n.isDecoration)))return;const s=t.getContext("2d");s.save(),s.font=this._fontString(),this.items.forEach(n=>{r&&n.isDecoration||(s.save(),n.renderCanvas(s),s.restore())}),s.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};u([h({readOnly:!0})],$u.prototype,"surface",void 0),u([h({readOnly:!0})],$u.prototype,"items",void 0),u([h({readOnly:!0})],$u.prototype,"needsRender",null),u([h({readOnly:!0})],$u.prototype,"_watchUpdatingTracking",void 0),u([h({readOnly:!0})],$u.prototype,"updating",null),$u=u([A("esri.views.overlay.ViewOverlay")],$u);const _F=$u,bM=[0,0];function Che(e){const t=(e.ownerDocument||window.document).defaultView,i=e.getBoundingClientRect();return bM[0]=i.left+((t==null?void 0:t.pageXOffset)??0),bM[1]=i.top+((t==null?void 0:t.pageYOffset)??0),bM}function wF(e){e&&(e.textContent="",e.parentNode&&e.parentNode.removeChild(e))}function Ihe(e){const t=document.createElement("div");return e.appendChild(t),t}const qp=16,Ag=750,Rhe=512,Lhe=2,Nhe=e=>{let t=class extends e{constructor(...i){super(...i),this._freqInfo={freq:qp,time:Ag},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([xe(()=>this.cursor,r=>{const{surface:s}=this;s&&s.setAttribute("data-cursor",r)}),xe(()=>this.navigating,r=>{const{surface:s}=this;s&&s.setAttribute("data-navigating",r.toString())})])}initialize(){this.addHandles([xe(()=>this.ui,(i,r)=>this._handleUIChange(i,r),Nt),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){var i;this.destroyed||((i=this.ui)==null||i.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(i){const r=this._get("container"),s=xL(i);if(s||typeof i!="string"||ne.getLogger(this).error("#container",`element with id '${i}' not found`),r===s)return;if(this._stopMeasuring(),r&&(r.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(wF(this.root),this._set("root",null)),this.userContent&&(cF(this.userContent,r),wF(this.userContent),this._set("userContent",null))),!s)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);s.classList.add("esri-view");const n=document.createElement("div");n.className="esri-view-user-storage",cF(s,n),s.appendChild(n),this._set("userContent",n);const o=document.createElement("div");o.className="esri-view-root",s.insertBefore(o,s.firstChild),this._set("root",o);const c=document.createElement("div");c.className="esri-view-surface",c.setAttribute("role","application"),c.tabIndex=0,o.appendChild(c),this._set("surface",c);const d=new _F;o.appendChild(d.surface),this._set("overlay",d),this.addHandles(xe(()=>d.needsRender,f=>{f&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Em({render:()=>{var g;return(g=this.overlay)==null?void 0:g.render()}}):this._overlayRenderTaskHandle=ri(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",s),this._startMeasuring()}get focused(){const i=document.activeElement===this.surface;return document.hasFocus()&&i}get size(){return[this.width,this.height]}blur(){var i;(i=this.surface)==null||i.blur()}focus(){var i;(i=this.surface)==null||i.focus()}pageToContainer(i,r,s){const n=this.position;return i-=n?n[0]:0,r-=n?n[1]:0,s?(s[0]=i,s[1]=r):s=[i,r],s}containerToPage(i,r,s){const n=this.position;return i+=n?n[0]:0,r+=n?n[1]:0,s?(s[0]=i,s[1]=r):s=[i,r],s}_handleUIChange(i,r){this.removeHandles("ui"),r&&r!==i&&r.destroy(),i&&(i.view=this,this.addHandles(xe(()=>this.root,s=>{i.container=s?Ihe(s):null},Nt),"ui")),this._set("ui",i)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const i=this._freqInfo;i.freq=qp,i.time=Ag;const r=Em({prepare:o=>{const c=this._measure(),d=this._freqInfo;if(d.time+=o.deltaTime,c&&(d.freq=qp,this._get("resizing")||this._set("resizing",!0)),d.time<d.freq)return;d.time=0;const f=this._position();d.freq=f||c?qp:Math.min(Ag,d.freq*Lhe),!c&&d.freq>=Rhe&&(r.pause(),this._get("resizing")&&this._set("resizing",!1))}}),s=new ResizeObserver(o=>{i.freq=qp,i.time=Ag,r.resume()});this.container!=null&&s.observe(this.container);const n=gt(()=>s.disconnect());this.addHandles([f1(window,"resize",()=>{i.freq=qp,i.time=Ag,r.resume()}),n,r],"measuring"),this._measure(),this._position()}_measure(){const i=this.container,r=i?i.clientWidth:0,s=i?i.clientHeight:0;if(r===0||s===0)return this.suspended||this._set("suspended",!0),!1;const n=this.width,o=this.height;return r===n&&s===o?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",r),this._set("height",s),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:n,oldHeight:o,width:r,height:s}),!0)}_position(){const i=this.container,r=this.position,s=i&&Che(i);return!!s&&(!r||s[0]!==r[0]||s[1]!==r[1])&&(this._set("position",[s[0],s[1]]),!0)}forceDOMReadyCycle(){}};return u([h()],t.prototype,"container",null),u([h({readOnly:!0})],t.prototype,"focused",null),u([h({readOnly:!0})],t.prototype,"height",void 0),u([h()],t.prototype,"messagesCommon",void 0),u([h({type:_F})],t.prototype,"overlay",void 0),u([h({readOnly:!0})],t.prototype,"position",void 0),u([h({readOnly:!0})],t.prototype,"resizing",void 0),u([h({readOnly:!0})],t.prototype,"root",void 0),u([h({value:null,readOnly:!0})],t.prototype,"size",null),u([h({readOnly:!0})],t.prototype,"surface",void 0),u([h({readOnly:!0})],t.prototype,"suspended",void 0),u([h({nonNullable:!0})],t.prototype,"ui",void 0),u([h({readOnly:!0})],t.prototype,"userContent",void 0),u([h({readOnly:!0})],t.prototype,"width",void 0),u([h()],t.prototype,"widthBreakpoint",void 0),t=u([A("esri.views.DOMContainer")],t),t},Phe=B("mac")?"Meta":"Control",Dhe=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),khe=e=>Dhe.has(e);let Fhe=class{constructor(t,i=[]){this.eventType=t,this.keyModifiers=i}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=t.modifiers;for(const r of this.keyModifiers)if(!i.has(r))return!1;return!0}},Xi=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const i=this._incoming[t];for(const r of i)this._incomingEventMatches.push(r.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager||(t.setEventCallback(i=>this._handleEvent(i)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,i,r){let s;typeof i=="function"?(r=i,s=[]):s=i||[];const n=typeof t=="string"?new Fhe(t,s):t,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},c=g=>{const v=this._incoming[g.match.eventType];if(v){const _=v.indexOf(g);v.splice(_,1),o(),this._manager&&this._manager.updateDependencies()}},d=new jhe(n,r,{onPause:c,onRemove:c,onResume:g=>{const v=this._incoming[g.match.eventType];v&&!v.includes(g)&&(v.push(g),o(),this._manager&&this._manager.updateDependencies())}});let f=this._incoming[n.eventType];return f||(f=[],this._incoming[n.eventType]=f),f.push(d),o(),this._manager&&this._manager.updateDependencies(),d}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const i=new Uhe(t,{onEmit:(r,s,n,o)=>{var c;(c=this._manager)==null||c.emit(r.eventType,s,n,o)},onRemove:r=>{var s;delete this._outgoing[r.eventType],(s=this._manager)==null||s.updateDependencies()}});return this._outgoing[t]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!0)}stopCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(t){var r;const i=this._incoming[t.type];if(i){for(const s of i)if(s.match.matches(t)&&((r=s.callback)==null||r.call(s,t),t.shouldStopPropagation()))break}}},jhe=class{constructor(t,i,r){this.match=t,this._callback=i,this._handler=r}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},Uhe=class{constructor(t,i){this.eventType=t,this._removed=!1,this._handler=i}emit(t,i,r){this._removed||this._handler.onEmit(this,t,i,r)}remove(){this._removed=!0,this._handler.onRemove(this)}},zhe=class extends Xi{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",i=>this._update(i.data))}_update(t){const i=t.native.pointerType==="touch"?"touch":"mouse",{x:r,y:s}=t;i===this._value&&this._x===r&&this._y===s||(this._value=i,this._x=r,this._y=s,this._onChange(i,r,s))}},Vhe=class{constructor(t,i){this._observable=new _1,this._value=t,this._equalityFunction=i}get value(){return De(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function km(e,t=fV){return new Vhe(e,t)}let Ghe=class extends Xi{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=km(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},qhe=class{constructor(t,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const r in t){const s=t[r],n=new WV(s,void 0,void 0,2,2);this._properties[r]={pool:n,acquired:[]}}this._afterDispatchHandle=ase(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const i=this._properties[t];for(const r of i.acquired)D5(r)||i.pool.release(r);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(t){const i=this._owner._get(t),r=this._properties[t];let s=r.pool.acquire();for(r.acquired.push(s);s===i;)r.acquired.push(s),s=r.pool.acquire();return s}_release(){for(const t in this._properties){const i=this._properties[t];let r=0;for(const s of i.acquired)D5(s)?i.acquired[r++]=s:i.pool.release(s);i.acquired.length=r}}},fn=class extends Te{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=Phe,this._latestPointerType="mouse",this._propertiesPool=new qhe({latestPointerLocation:Whe},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const i of t)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,i,r=mc.INTERNAL){if(this._nameToGroup[t]||i.length===0)return;const s={name:t,handlers:i.map(n=>({handler:n,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=s;for(let n=s.handlers.length-1;n>=0;n--){const o=s.handlers[n];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(c,d,f,g,v)=>{this._emitInputEvent(o.priorityIndex+1,c,d,f,v,g)},setPointerCapture:(c,d)=>{this._setPointerCapture(s,o,c,d)},setEventCallback:c=>{o.eventCallback=c},setUninstallCallback:c=>{o.uninstallCallback=c},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const i=this._nameToGroup[t];i?(i.handlers.forEach(r=>{var s;r.removed=!0,(s=r.uninstallCallback)==null||s.call(r)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):ne.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}isModifierKeyDown(t){return this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,i=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const s=this._handlers[r];s.priorityIndex=r,this._handlersPriority.push(s)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const s=this._handlersPriority[r];s.priorityIndex=r;let n=s.handler.hasSideEffects;if(!n){for(const o of s.handler.outgoingEventTypes)if(t.has(o)){n=!0;break}}if(n)for(const o of s.handler.incomingEventMatches){t.add(o.eventType);for(const c of o.keyModifiers)khe(c)||i.add(c)}s.active=n}this._sourceEvents=t,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,i,r){this._latestPointerType=t;const s=this._get("latestPointerLocation");if(s==null||s.x!==i||s.y!==r){const n=this._propertiesPool.get("latestPointerLocation");n.x=i,n.y=r,this._set("latestPointerLocation",n)}}_onEventReceived(t,i){if(t==="pointer-capture-lost"){const n=i;this._pointerCaptures.delete(n.native.pointerId)}this._updateKeyModifiers(t,i);const r=this.test.timestamp!=null?this.test.timestamp:i.native?i.native.timestamp:void 0,s=i.native?i.native.cancelable:void 0;this._emitInputEventFromSource(t,i,r,s)}_updateKeyModifiers(t,i){if(!i)return;let r=!1;const s=()=>{r||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),r=!0)},n=(c,d)=>{d&&!this._activeKeyModifiers.has(c)?(s(),this._activeKeyModifiers.add(c)):!d&&this._activeKeyModifiers.has(c)&&(s(),this._activeKeyModifiers.delete(c))};if(t==="key-down"||t==="key-up"){const c=i.key;this._keyModifiers.has(c)&&n(c,t==="key-down")}const o=i.native;n("Alt",!!(o!=null&&o.altKey)),n("Control",!!(o!=null&&o.ctrlKey)),n("Ctrl",!!(o!=null&&o.ctrlKey)),n("Shift",!!(o!=null&&o.shiftKey)),n("Meta",!!(o!=null&&o.metaKey)),n("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new zhe((t,i,r)=>this._setLatestPointer(t,i,r)),this._multiTouchHandler=new Ghe,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],mc.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,mc.INTERNAL)}_setPointerCapture(t,i,r,s){const n=t.name+"-"+i.priorityIndex,o=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,o),s?(o.add(n),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):o.has(n)&&(o.delete(n),o.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,i,r,s){this._emitInputEvent(0,t,i,r,s)}_emitInputEvent(t,i,r,s,n,o){const c=s!==void 0?s:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),d=n!==void 0&&n,f={event:new Bhe(i,r,c,o||this._activeKeyModifiers,d),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(f):this._doNewPropagation(f)}_doNewPropagation(t){this._currentPropagation={events:new f2,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var i,r,s;this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:n,priorityIndex:o}=t.events.pop(),c=(i=n.data)==null?void 0:i.eventId;if(!(c!=null&&this._stoppedPropagationEventIds.has(c)))for(t.currentHandler=this._handlersPriority[o];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!n.shouldStopPropagation()&&((s=(r=t.currentHandler).eventCallback)==null||s.call(r,n)),n.shouldStopPropagation()){c!=null&&this._stoppedPropagationEventIds.add(c);break}if(n.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:n,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const i=new f2;i.push(t);const r=this._currentPropagation;if(r){for(;r.events.length;)i.push(r.events.pop());r.events=i,r.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,i){if(t.handler.hasSideEffects!==i.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==i.groupPriority)return t.groupPriority>i.groupPriority?-1:1;for(const r of t.handler.incomingEventMatches)for(const s of i.handler.incomingEventMatches){if(r.eventType!==s.eventType)continue;const n=r.keyModifiers.filter(o=>s.keyModifiers.includes(o));if(n.length===r.keyModifiers.length!=(n.length===s.keyModifiers.length))return r.keyModifiers.length>s.keyModifiers.length?-1:1}return t.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(t){const i=[];for(const r of t){let s=0;for(;s<i.length&&this._compareHandlerPriority(r,i[s])>=0;)s++;i.splice(s,0,r)}return i}get debug(){const t=i=>{const r=this._setPointerCapture;this._setPointerCapture=()=>{},i(),this._setPointerCapture=r};return{injectEvent:(i,r)=>{t(()=>this._onEventReceived(i,r))},disablePointerCapture:t}}};u([h({readOnly:!0})],fn.prototype,"hasPendingInputs",null),u([h({constructOnly:!0})],fn.prototype,"eventSource",void 0),u([h({constructOnly:!0})],fn.prototype,"recognizers",void 0),u([h()],fn.prototype,"_latestPointerType",void 0),u([h()],fn.prototype,"latestPointerType",null),u([h()],fn.prototype,"multiTouchActive",null),u([h({readOnly:!0})],fn.prototype,"latestPointerLocation",void 0),u([h()],fn.prototype,"_paused",void 0),u([h({readOnly:!0})],fn.prototype,"updating",null),fn=u([A("esri.views.input.InputManager")],fn);let Bhe=class{constructor(t,i,r,s,n){this.type=t,this.data=i,this.timestamp=r,this.modifiers=s,this.cancelable=n,this._propagationState=Ku.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Ku.STOPPED}shouldStopPropagation(){return!!(this._propagationState&Ku.STOPPED)}async(t){this._propagationState|=Ku.PAUSED;const i=(r,s)=>{this._propagationState&=~Ku.PAUSED;const n=this._resumeCallback;if(this._resumeCallback=null,n&&n(),s)throw r;return r};return(typeof t=="function"?t():t).then(r=>i(r,!1),r=>i(r,!0))}shouldPausePropagation(t){return!!(this._propagationState&Ku.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var Ku;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Ku||(Ku={}));const mc={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let Hhe=class{};const Whe=Hhe;function gu(e){return e!=null&&"open"in e&&"declaredClass"in e}function SF(e){return e!=null&&"declaredClass"in e&&"dockOptions"in e}const Zhe=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([xe(()=>[this.ui,this.popup],([i,r],s)=>{const n="popup",o="manual";if(s){const[c,d]=s;c&&gu(d)&&(d.view=null,SF(d)&&c.remove(d,n))}i&&gu(r)&&(r.view=this,SF(r)&&i.add(r,{key:n,position:o,internal:!0}))},Nt),this.on("click",i=>{this.popup&&this.popupEnabled&&(i.pointerType!=="mouse"||i.button===0)&&(gu(this.popup)?this.popup.viewModel.handleViewClick(i):i.async(async()=>{await this.setupPopup(),gu(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(i)}))},mc.WIDGET)]),lL(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{te(()=>import("./Popup-BTZeTCKA.js").then(i=>i.P),__vite__mapDeps([154,155,61,156,157,158,5,159,160,161,110,162,163,164,165,60,58,59,15,16,14,21,166,24,167,168,169]))})}destroy(){this.destroyed||this.closePopup()}async openPopup(i){if(gu(this.popup))return this.popup.open(i);try{if(await this.setupPopup(),!this.popup)return void ne.getLogger(this).error(new z("view:null-popup","Popup is null and can't be opened"));this.popup.open(i)}catch{}}closePopup(){var i;(i=this._popupSetupTask)==null||i.abort(),gu(this.popup)&&this.popup.close()}async fetchPopupFeatures(i,r){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(i,r),r)}async setupPopup(){var i;if((i=this._popupSetupTask)==null||i.abort(),this.popup&&!gu(this.popup))return this._popupSetupTask=w1(async r=>{const{default:s}=await te(()=>import("./Popup-BTZeTCKA.js").then(o=>o.P),__vite__mapDeps([154,155,61,156,157,158,5,159,160,161,110,162,163,164,165,60,58,59,15,16,14,21,166,24,167,168,169]));if(li(r),!this.popup||gu(this.popup))return;const n=this.popup;delete n.open,delete n.close,this.popup=new s(n)}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:i,hits:r},s){const n=[],o=[];let c=!1;const d=Fre(s,B("popup-view-fetch-timeout")??Jhe),f=_=>{const S=new Yhe(_);return o.push(S),n.push(S.promise),S},g=_=>{const S=o.at(-1);return S&&S.layerView===_&&!c?S:f(_)};for(const _ of r)"graphic"in _?(g(_.layerView).graphics.push(_.graphic),c=!1):(n.push(_.layerView.fetchPopupFeaturesAtLocation(_.mapPoint,d)),c=!0);o.map(_=>_.resolve(d));const v=kre(n).then(_=>_.filter(S=>!!S).flat());return{pendingFeatures:n,allGraphicsPromise:v,location:i}}async _getPopupHits(i,r){const{hits:s,location:n}=await this.popupHitTest(i);li(r);const o=[];for(const c of s)if("graphic"in c){if(this._isValidPopupGraphic(c.graphic,r)){const d=this._isValidPopupGraphicsLayerView(c.layerView)?c.layerView:void 0;o.push({graphic:c.graphic,layerView:d})}}else this._isValidPopupLocationLayerView(c.layerView)&&o.push({mapPoint:c.mapPoint,layerView:c.layerView});return{hits:o,location:n}}_isValidPopupGraphic(i,r){return i&&!!i.getEffectivePopupTemplate(r==null?void 0:r.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(i){return!i||(!("layer"in i)||!i.suspended)&&"fetchPopupFeaturesFromGraphics"in i}_isValidPopupLocationLayerView(i){return(!("layer"in i)||!i.suspended)&&"fetchPopupFeaturesAtLocation"in i}};return u([h()],t.prototype,"popup",void 0),u([h()],t.prototype,"popupEnabled",void 0),t=u([A("esri.views.PopupView")],t),t};let Yhe=class{constructor(t){this.layerView=t,this._resolver=en(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(t){const{layerView:i,graphics:r,_resolver:s}=this;if(!i)return s.resolve(r),s.promise;let n;return i.fetchPopupFeaturesFromGraphics(r,t).catch(o=>(n=o,null)).then(o=>{o?s.resolve(o):s.reject(n)}),s.promise}};const Jhe=5e3;function Cl(e,t,i=pe){return t||(t=new i),t===e||(t.removeAll(),Xhe(e)?t.addMany(e):e&&t.add(e)),t}function BB(e){return e}function Xhe(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var ec;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(ec||(ec={}));let Qhe=class{constructor(){this._resolver=en(),this._status=ec.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=ec.RESOLVED,this._cleanUp()},()=>{this._status=ec.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===ec.RESOLVED}isRejected(){return this._status===ec.REJECTED}isFulfilled(){return this._status!==ec.PENDING}abort(){this._resolver.reject(Bt())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=en(),i=[...this._resolvingPromises,t.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==r||Ur(s)||this._resolver.reject(s)}),t.resolve()}};const HB=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new Qhe,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=u([A("esri.core.Promise")],t),t};let Qg=class extends HB(Te){};Qg=u([A("esri.core.Promise")],Qg),function(e){e.EsriPromiseMixin=HB}(Qg||(Qg={}));const x1=Qg,Khe="not-loaded",epe="loading",tpe="failed",TF="loaded",WB=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const s=this.load.bind(this);this.load=n=>{const o=new Promise((c,d)=>{const f=$R(n,d);this.destroyed&&d(new z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(c,d).finally(()=>{f&&f.remove()})});if(this.loadStatus===Khe){this._set("loadStatus",epe);const c=this._loadController=new AbortController;s({signal:c.signal})}return r(),o}})),this.when(()=>{this._set("loadStatus",TF),this._loadController=null},r=>{this._set("loadStatus",tpe),this._set("loadError",r),this._loadController=null})}destroy(){this._loadController&&(this._loadController=Tm(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===TF}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var i;return this.isFulfilled()||(this._set("loadError",new z("load:cancelled","Cancelled")),(i=this._loadController)==null||i.abort(),this._promiseProps.abort()),this}};return u([h({readOnly:!0})],t.prototype,"loaded",null),u([h({readOnly:!0})],t.prototype,"loadError",void 0),u([h({clonable:!1})],t.prototype,"loadStatus",void 0),u([h({type:[Ln],readOnly:!0})],t.prototype,"loadWarnings",null),t=u([A("esri.core.Loadable")],t),t};let Kg=class extends WB(x1){};Kg=u([A("esri.core.Loadable")],Kg),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=WB,e.isLoadable=t}(Kg||(Kg={}));const ga=Kg;async function ZB(e,t){return await e.load(),ipe(e,t)}async function ipe(e,t){const i=[],r=(...n)=>{for(const o of n)o!=null&&(Array.isArray(o)?r(...o):pe.isCollection(o)?o.forEach(c=>r(c)):ga.isLoadable(o)&&i.push(o))};t(r);let s=null;if(await Eae(i,async n=>{const o=await ET(rpe(n)?n.loadAll():n.load());o.ok!==!1||s||(s=o)}),s)throw s.error;return e}function rpe(e){return"loadAll"in e&&typeof e.loadAll=="function"}let L_;function spe(e){return L_&&!L_.destroyed||(L_=e()),L_}var jA;const npe=new rt({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let mn=jA=class extends Te{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new jA({categories:this.categories?j(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let r="";if(this.extent){const o=_T(this.extent,Ge.WGS84);o!=null&&(r=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let s=this.query;!this.disableExtraQuery&&e.extraQuery&&(s="("+s+")"+e.extraQuery);const n={categories:i,bbox:r,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(o=>npe.toJSON(o.trim())).join(","),n.sortOrder=this.sortOrder),{query:{...t,...n}}}};u([h()],mn.prototype,"categories",void 0),u([h()],mn.prototype,"disableExtraQuery",void 0),u([h({type:Pt})],mn.prototype,"extent",void 0),u([h()],mn.prototype,"filter",void 0),u([h()],mn.prototype,"num",void 0),u([h()],mn.prototype,"query",void 0),u([h()],mn.prototype,"sortField",void 0),u([h()],mn.prototype,"sortOrder",null),u([h()],mn.prototype,"start",void 0),mn=jA=u([A("esri.portal.PortalQueryParams")],mn);const To=mn;var UA;let Li=UA=class extends K{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var i;const e=this.url,t=this.thumbnail;return e&&t&&this.portal?(i=this.portal)==null?void 0:i.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new UA({sourceJSON:e});return t.read(e),t}queryItems(e,t){let i=ji(To,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new To,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new To,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const n=new To({disableExtraQuery:!0,num:1,query:s});return i.queryGroups(n,t)}throw new z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],n=new To({num:1,query:`typekeywords:"${e}"`});return s.queryItems(n,t)}throw new z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(s=>{const n=s==null?void 0:s.categorySchema;return n!=null&&n.length?n:[]}):[])}};u([h()],Li.prototype,"access",void 0),u([h({type:Date})],Li.prototype,"created",void 0),u([h()],Li.prototype,"description",void 0),u([h()],Li.prototype,"id",void 0),u([h()],Li.prototype,"isInvitationOnly",void 0),u([h({type:Date})],Li.prototype,"modified",void 0),u([h()],Li.prototype,"owner",void 0),u([h()],Li.prototype,"portal",void 0),u([h()],Li.prototype,"snippet",void 0),u([h()],Li.prototype,"sortField",void 0),u([h()],Li.prototype,"sortOrder",void 0),u([h()],Li.prototype,"sourceJSON",void 0),u([h()],Li.prototype,"tags",void 0),u([h()],Li.prototype,"thumbnail",void 0),u([h({readOnly:!0})],Li.prototype,"thumbnailUrl",null),u([h()],Li.prototype,"title",void 0),u([h({readOnly:!0})],Li.prototype,"url",null),Li=UA=u([A("esri.portal.PortalGroup")],Li);const zA=Li;let xd=class extends Te{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};u([h()],xd.prototype,"nextQueryParams",void 0),u([h()],xd.prototype,"queryParams",void 0),u([h()],xd.prototype,"results",void 0),u([h()],xd.prototype,"total",void 0),xd=u([A("esri.portal.PortalQueryResult")],xd);const ope=xd;let Ha=class extends K{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var i;const t=(i=this.portal)==null?void 0:i.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};u([h({type:Date})],Ha.prototype,"created",void 0),u([h()],Ha.prototype,"id",void 0),u([h()],Ha.prototype,"portal",void 0),u([h()],Ha.prototype,"title",void 0),u([h({readOnly:!0})],Ha.prototype,"url",null),u([h()],Ha.prototype,"username",void 0),Ha=u([A("esri.portal.PortalFolder")],Ha);const ape=Ha;var VA;let Vt=VA=class extends K{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e==null?void 0:e.data,r=e==null?void 0:e.folder,s={method:"post"};t&&(s.query=t.createPostQuery(),i!=null&&(typeof i=="string"?s.query.text=i:typeof i=="object"&&(s.query.text=JSON.stringify(i))));let n=this.userContentUrl;return r&&(n+="/"+(typeof r=="string"?r:r.id)),this.portal.request(n+"/addItem",s).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let i=this.userContentUrl;e.ownerFolder&&(i+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const i=this.userContentUrl+"/deleteItems",r=[],s=e.map(n=>n.id);if(s.length){const n={method:"post",query:{items:s.join(","),permanentDelete:t}},o=await this.portal.request(i,n);for(const c of o.results){const d=e.find(v=>c.itemId===v.id),f=c.success;let g=null;f?(d.id=null,d.portal=null):c.error&&(g=new z("portal:delete-item-failed",c.error.message,c.error)),r.push({item:d,success:f,error:g})}}return r}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let i;return i=t&&t.folders?t.folders.map(r=>{const s=ape.fromJSON(r);return s.portal=this.portal,s}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const r=zA.fromJSON(i);return r.portal=this.portal,r}):[],t})}async fetchItems(e){e??(e={});let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:i}=await te(()=>Promise.resolve().then(()=>YB),void 0),r={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},s=await this.portal.request(t,{query:r});let n;return s!=null&&s.items?(n=s.items.map(o=>{const c=i.fromJSON(o);return c.portal=this.portal,c}),await Promise.all(n.map(o=>o.load())),{items:n,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new zA({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const i=this.userContentUrl,r=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(i+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new z("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new VA({sourceJSON:e});return t.read(e),t}};u([h()],Vt.prototype,"access",void 0),u([h({type:Date})],Vt.prototype,"created",void 0),u([h()],Vt.prototype,"culture",void 0),u([h()],Vt.prototype,"description",void 0),u([h()],Vt.prototype,"email",void 0),u([h()],Vt.prototype,"favGroupId",void 0),u([h()],Vt.prototype,"fullName",void 0),u([h({type:Date})],Vt.prototype,"modified",void 0),u([h()],Vt.prototype,"orgId",void 0),u([h()],Vt.prototype,"portal",void 0),u([h()],Vt.prototype,"preferredView",void 0),u([h()],Vt.prototype,"privileges",void 0),u([h()],Vt.prototype,"region",void 0),u([h()],Vt.prototype,"role",void 0),u([h()],Vt.prototype,"roleId",void 0),u([h()],Vt.prototype,"sourceJSON",void 0),u([h()],Vt.prototype,"thumbnail",void 0),u([h({readOnly:!0})],Vt.prototype,"thumbnailUrl",null),u([h()],Vt.prototype,"units",void 0),u([h({readOnly:!0})],Vt.prototype,"userContentUrl",null),u([h({readOnly:!0})],Vt.prototype,"url",null),u([h()],Vt.prototype,"username",void 0),u([h()],Vt.prototype,"userLicenseTypeId",void 0),u([h()],Vt.prototype,"userType",void 0),Vt=VA=u([A("esri.portal.PortalUser")],Vt);const IL=Vt;var js;let Og;const EF={PortalGroup:()=>Promise.resolve({default:zA}),PortalItem:()=>te(()=>Promise.resolve().then(()=>YB),void 0),PortalUser:()=>Promise.resolve({default:IL})};let ce=js=class extends K.JSONSupportMixin(ga){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Tt.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){$F.unregister(this),this.defaultBasemap=Gt(this.defaultBasemap),this.defaultDevBasemap=Gt(this.defaultDevBasemap),this.defaultVectorBasemap=Gt(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=ri(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Tt.request.trustedServers.includes(t)||Tt.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var i;const e=(i=this.user)==null?void 0:i.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return U7(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=IL.fromJSON(e),t.portal=this),t}load(e){const t=te(()=>Promise.resolve().then(()=>Mpe),void 0).then(({default:i})=>{li(e),Og=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{var r;if(!this.hasAPIKey&&Be){const s=Be;this.credential=s.findCredential(this.restUrl),this.credential||this.authMode!==js.AUTH_MODE_AUTO&&this.authMode!==js.AUTH_MODE_NO_PROMPT||((r=this._esriIdCredentialCreateHandle)==null||r.remove(),this._esriIdCredentialCreateHandle=s.on("credential-create",lpe(new WeakRef(this))),$F.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await te(async()=>{const{default:i}=await import("./ElevationLayer-D9Qnu1Jp.js");return{default:i}},__vite__mapDeps([170,171,172,173,61,15,174]))).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}async fetchBasemaps(e,t){const i=await this._fetchBasemaps(e,t);if((t==null?void 0:t.include3d)===!0&&this.use3dBasemaps!==!1){const r=await this._fetchBasemaps3D(e,t);i.unshift(...r)}return i}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new To;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const i=(await this.queryItems(t,e)).results.find(r=>r.type==="Web Scene");return i?new Og({portalItem:i}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Ks(e)?Promise.reject(Bt()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(t=>t.classificationSchema):null}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new To({num:100,sortField:"title"});if(t!=null&&t.length){const r=[];for(const s of t)r.push(`(title:"${s.title}" AND owner:${s.owner})`);return i.query=r.join(" OR "),this.queryGroups(i,e).then(s=>s.results)}return Ks(e)?Promise.reject(Bt()):Promise.resolve([])}fetchRegions(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||Ss();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||Ss();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return spe(()=>new js)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,i){const r=this.restUrl+"/portals/self",s={authMode:e,query:{culture:Ss().toLowerCase()},withCredentials:!0,...i};return s.authMode==="auto"&&(s.authMode="no-prompt"),t&&(s.query.default=!0),this.request(r,s)}queryPortal(e,t,i,r){const s=ji(To,t),n=o=>this.request(this.restUrl+e,{...s.toRequestOptions(this),...r}).then(c=>{const d=s.clone();return d.start=c.nextStart,new ope({nextQueryParams:d,queryParams:s,total:c.total,results:js._resultsToTypedArray(o,{portal:this},c,r)})}).then(c=>Promise.all(c.results.map(d=>typeof d.when=="function"?d.when():c)).then(()=>c,d=>(wo(d),c)));return i&&EF[i]?EF[i]().then(({default:o})=>(li(r),n(o))):n()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new z("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===js.AUTH_MODE_ANONYMOUS||this.authMode===js.AUTH_MODE_NO_PROMPT&&!Be)return Promise.reject(new z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return Be?Be.getCredential(this.restUrl,{prompt:this.authMode!==js.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){var i;const t=(i=this.credential)==null?void 0:i.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,i){return this.request(e,t).then(r=>{const s=js._resultsToTypedArray(i,{portal:this},r);return Promise.all(s.map(n=>typeof n.when=="function"?n.when():r)).then(()=>s,()=>s)})}request(e,t={}){const i={f:"json",...t.query},{authMode:r=this.authMode===js.AUTH_MODE_ANONYMOUS||this.authMode===js.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:s=null,cacheBust:n=!1,method:o="auto",responseType:c="json",signal:d}=t,f={authMode:r,body:s,cacheBust:n,method:o,query:i,responseType:c,timeout:0,signal:d};return t.withCredentials&&(f.withCredentials=!0),qt(this._normalizeSSL(e),f).then(g=>g.data)}toJSON(){throw new z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new js({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const i=new To;i.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const r=await this.queryGroups(i,t);if(!r.total)return[];const s=r.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const n=await s.queryItems(i,t);return n.total?n.results.filter(o=>o.type==="Web Map").map(o=>new Og({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];if(this.hasAPIKey)return[];const r=new To({query:i,disableExtraQuery:!0}),s=await this.queryGroups(r,t);if(!s.total)return[];const n=s.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const o=await n.queryItems(r,t);return o.total?o.results.filter(c=>c.type==="Web Scene").map(c=>new Og({portalItem:c})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=Og.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,r){let s;if(i){const n=r!=null?r.signal:null;s=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(s=s.map(o=>{const c=Object.assign(e?e.fromJSON(o):o,t);return typeof c.load=="function"&&c.load(n),c}))}else s=[];return s}};ce.AUTH_MODE_ANONYMOUS="anonymous",ce.AUTH_MODE_AUTO="auto",ce.AUTH_MODE_IMMEDIATE="immediate",ce.AUTH_MODE_NO_PROMPT="no-prompt",u([h()],ce.prototype,"access",void 0),u([h()],ce.prototype,"allSSL",void 0),u([h()],ce.prototype,"authMode",void 0),u([h()],ce.prototype,"authorizedCrossOriginDomains",void 0),u([ue("authorizedCrossOriginDomains")],ce.prototype,"readAuthorizedCrossOriginDomains",null),u([h()],ce.prototype,"basemapGalleryGroupQuery",void 0),u([h({json:{name:"3DBasemapGalleryGroupQuery"}})],ce.prototype,"basemapGalleryGroupQuery3D",void 0),u([h()],ce.prototype,"bingKey",void 0),u([h()],ce.prototype,"canListApps",void 0),u([h()],ce.prototype,"canListData",void 0),u([h()],ce.prototype,"canListPreProvisionedItems",void 0),u([h()],ce.prototype,"canProvisionDirectPurchase",void 0),u([h()],ce.prototype,"canSearchPublic",void 0),u([h()],ce.prototype,"canShareBingPublic",void 0),u([h()],ce.prototype,"canSharePublic",void 0),u([h()],ce.prototype,"canSignInArcGIS",void 0),u([h()],ce.prototype,"canSignInIDP",void 0),u([h()],ce.prototype,"colorSetsGroupQuery",void 0),u([h()],ce.prototype,"commentsEnabled",void 0),u([h({type:Date})],ce.prototype,"created",void 0),u([h()],ce.prototype,"credential",void 0),u([h()],ce.prototype,"culture",void 0),u([h()],ce.prototype,"currentVersion",void 0),u([h()],ce.prototype,"customBaseUrl",void 0),u([h()],ce.prototype,"default3DBasemapQuery",void 0),u([h()],ce.prototype,"defaultBasemap",void 0),u([ue("defaultBasemap")],ce.prototype,"readDefaultBasemap",null),u([h()],ce.prototype,"defaultDevBasemap",void 0),u([ue("defaultDevBasemap")],ce.prototype,"readDefaultDevBasemap",null),u([h({type:Pt})],ce.prototype,"defaultExtent",void 0),u([h()],ce.prototype,"defaultVectorBasemap",void 0),u([ue("defaultVectorBasemap")],ce.prototype,"readDefaultVectorBasemap",null),u([h()],ce.prototype,"description",void 0),u([h()],ce.prototype,"devBasemapGalleryGroupQuery",void 0),u([h()],ce.prototype,"eueiEnabled",void 0),u([h({readOnly:!0})],ce.prototype,"extraQuery",null),u([h()],ce.prototype,"featuredGroups",void 0),u([h()],ce.prototype,"featuredItemsGroupQuery",void 0),u([h()],ce.prototype,"galleryTemplatesGroupQuery",void 0),u([h()],ce.prototype,"layoutGroupQuery",void 0),u([h()],ce.prototype,"livingAtlasGroupQuery",void 0),u([h({readOnly:!0})],ce.prototype,"hasAPIKey",null),u([h()],ce.prototype,"hasCategorySchema",void 0),u([h()],ce.prototype,"hasClassificationSchema",void 0),u([h()],ce.prototype,"helpBase",void 0),u([h()],ce.prototype,"helperServices",void 0),u([h()],ce.prototype,"helpMap",void 0),u([h()],ce.prototype,"homePageFeaturedContent",void 0),u([h()],ce.prototype,"homePageFeaturedContentCount",void 0),u([h()],ce.prototype,"httpPort",void 0),u([h()],ce.prototype,"httpsPort",void 0),u([h()],ce.prototype,"id",void 0),u([h()],ce.prototype,"ipCntryCode",void 0),u([h({readOnly:!0})],ce.prototype,"isOrganization",null),u([h()],ce.prototype,"isPortal",void 0),u([h()],ce.prototype,"isReadOnly",void 0),u([h({readOnly:!0})],ce.prototype,"itemPageUrl",null),u([h()],ce.prototype,"layerTemplatesGroupQuery",void 0),u([h()],ce.prototype,"maxTokenExpirationMinutes",void 0),u([h({type:Date})],ce.prototype,"modified",void 0),u([h()],ce.prototype,"name",void 0),u([h()],ce.prototype,"portalHostname",void 0),u([h()],ce.prototype,"portalMode",void 0),u([h()],ce.prototype,"portalProperties",void 0),u([h()],ce.prototype,"region",void 0),u([h()],ce.prototype,"recycleBinEnabled",void 0),u([h({readOnly:!0})],ce.prototype,"restUrl",null),u([h()],ce.prototype,"rotatorPanels",void 0),u([h()],ce.prototype,"showHomePageDescription",void 0),u([h()],ce.prototype,"sourceJSON",void 0),u([h()],ce.prototype,"staticImagesUrl",void 0),u([h({json:{name:"2DStylesGroupQuery"}})],ce.prototype,"stylesGroupQuery2d",void 0),u([h({json:{name:"stylesGroupQuery"}})],ce.prototype,"stylesGroupQuery3d",void 0),u([h()],ce.prototype,"supportsHostedServices",void 0),u([h()],ce.prototype,"symbolSetsGroupQuery",void 0),u([h()],ce.prototype,"templatesGroupQuery",void 0),u([h()],ce.prototype,"thumbnail",void 0),u([h({readOnly:!0})],ce.prototype,"thumbnailUrl",null),u([h()],ce.prototype,"units",void 0),u([h()],ce.prototype,"url",void 0),u([h()],ce.prototype,"urlKey",void 0),u([ue("urlKey")],ce.prototype,"readUrlKey",null),u([h()],ce.prototype,"user",void 0),u([ue("user")],ce.prototype,"readUser",null),u([h()],ce.prototype,"use3dBasemaps",void 0),u([h()],ce.prototype,"useDefault3dBasemap",void 0),u([h()],ce.prototype,"useStandardizedQuery",void 0),u([h()],ce.prototype,"useVectorBasemaps",void 0),u([h()],ce.prototype,"vectorBasemapGalleryGroupQuery",void 0),ce=js=u([A("esri.portal.Portal")],ce);const Ms=ce,$F=new FinalizationRegistry(e=>{e.remove()});function lpe(e){const t=Be;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let Wa=class extends Te{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t!=null&&t.portalItem&&t.path?{...t,path:xF(t.path,t.portalItem)}:t}set path(t){t!=null&&Xs(t)?ne.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return xF(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",i){const r=this.cdnUrl;if(r==null)throw new z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:t,query:{token:this.portalItem.apiKey,_ts:i!=null&&i.cacheBust?Date.now():null},signal:i==null?void 0:i.signal})}async update(t,i){const{addOrUpdateResources:r}=await te(()=>import("./resourceUtils-C8W26h_E.js"),[]);return await r(this.portalItem,[{resource:this,content:t,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"update",i),this}hasPath(){return this.path!=null}};function xF(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&Xs(e)&&(e=DR(e,t.itemUrl)),e==null?void 0:e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}u([h()],Wa.prototype,"portalItem",void 0),u([h({type:String,value:null})],Wa.prototype,"path",null),u([ht("path")],Wa.prototype,"_castPath",null),u([h({type:String,readOnly:!0})],Wa.prototype,"url",null),u([h({type:String,readOnly:!0})],Wa.prototype,"cdnUrl",null),u([h({type:String,readOnly:!0})],Wa.prototype,"itemRelativeUrl",null),Wa=u([A("esri.portal.PortalItemResource")],Wa);const upe=Wa;let e0=class extends Te{constructor(t){super(t),this.created=null,this.rating=null}};u([h({type:Date})],e0.prototype,"created",void 0),u([h()],e0.prototype,"rating",void 0),e0=u([A("esri.portal.PortalRating")],e0);const _M=e0;var Md;const cpe=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),dpe=new Set(["KML","GeoJson","CSV"]);let He=Md=class extends K.JSONSupportMixin(ga){static from(e){return c1(Md,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return e==="Feature Service"||e==="Feature Collection"?i=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?i=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?i="Scene Layer":e==="Video Service"?i="Video Layer":e==="Scene Package"?i="Scene Layer Package":e==="Stream Service"?i="Feature Layer":e==="Geoprocessing Service"?i=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?i="GeoEnrichment Service":e==="Geocoding Service"?i="Locator":e==="Microsoft Powerpoint"?i="Microsoft PowerPoint":e==="GeoJson"?i="GeoJSON":e==="Globe Service"?i="Globe Layer":e==="Vector Tile Service"?i="Tile Layer":e==="netCDF"?i="NetCDF":e==="Map Service"?i=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e!=null&&e.toLowerCase().includes("add in")?i=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?i="Big Data File Share":e==="Compact Tile Package"?i="Tile Package (tpkx)":e==="Raster function template"?i="Raster Function Template":e==="OGCFeatureServer"?i="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?i="Instant App":e==="Insights Page"?i="Insights Report":e==="Excalibur Imagery Project"?i="Excalibur Project":e==="3DTiles Service"?i="3D tiles layer":e==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(e){return e&&e.length?new Pt(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){var S;const e=((S=this.type)==null?void 0:S.toLowerCase())||"",t=this.typeKeywords||[],i="esri/images/portal/",r="16";let s,n=!1,o=!1,c=!1,d=!1,f=!1,g=!1,v=!1,_=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(n=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(o=t.includes("Table"),c=t.includes("Route Layer"),d=t.includes("Markup"),f=t.includes("Spatiotemporal"),g=t.includes("UtilityNetwork"),s=f&&o?"spatiotemporaltable":o?"table":c?"routelayer":d?"markup":f?"spatiotemporal":g?"utilitynetwork":n?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(f=t.includes("Spatiotemporal"),v=t.includes("Relational"),s=f||v?"mapimages":n||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):s=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?s="maps":e==="web scene"?s=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?s="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?s="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?s="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?s="datafiles":e==="360 vr experience"?s="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?s="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?s="addindesktop":e==="pdf"?s="pdf":e==="microsoft word"?s="word":e==="microsoft excel"?s="excel":e==="microsoft powerpoint"?s="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?s="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?s="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?s="layersgray":e==="analysis model"?s="analysismodel":e==="scene package"?s="scenepackage":e==="3dtiles package"?s="3dtileslayerpackage":e==="3dtiles service"?s="3dtileslayer":e==="mobile scene package"?s="mobilescenepackage":e==="tile package"||e==="compact tile package"?s="tilepackage":e==="task file"?s="taskfile":e==="report template"?s="report-template":e==="statistical data collection"?s="statisticaldatacollection":e==="insights workbook"?s="workbook":e==="insights model"?s="insightsmodel":e==="insights page"?s="insightspage":e==="insights theme"?s="insightstheme":e==="hub initiative"?s="hubinitiative":e==="hub page"?s="hubpage":e==="hub site application"?s="hubsite":e==="hub event"?s="hubevent":e==="hub project"?s="hubproject":e==="relational database connection"?s="relationaldatabaseconnection":e==="big data file share"?s="datastorecollection":e==="image collection"?s="imagecollection":e==="desktop style"?s="desktopstyle":e==="style"?s=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?s="dashboard":e==="raster function template"?s="rasterprocessingtemplate":e==="vector tile package"?s="vectortilepackage":e==="ortho mapping project"?s="orthomappingproject":e==="ortho mapping template"?s="orthomappingtemplate":e==="solution"?s="solutions":e==="geopackage"?s="geopackage":e==="deep learning package"?s="deeplearningpackage":e==="real time analytic"?s="realtimeanalytics":e==="reality mapping project"?s="realitymappingproject":e==="big data analytic"?s="bigdataanalytics":e==="feed"?s="feed":e==="excalibur imagery project"?s="excaliburimageryproject":e==="notebook"?s="notebook":e==="storymap"?s="storymap":e==="survey123 add in"?s="survey123addin":e==="mission"?s="mission":e==="mission report"?s="missionreport":e==="mission template"?s="missiontemplate":e==="quickcapture project"?s="quickcaptureproject":e==="pro report"?s="proreport":e==="pro report template"?s="proreporttemplate":e==="urban model"?s="urbanmodel":e==="urban project"?s="urbanproject":e==="web experience"?s="experiencebuilder":e==="web experience template"?s="webexperiencetemplate":e==="experience builder widget"?s="experiencebuilderwidget":e==="experience builder widget package"?s="experiencebuilderwidgetpackage":e==="workflow"?s="workflow":e==="kernel gateway connection"?s="kernelgatewayconnection":e==="insights script"?s="insightsscript":e==="hub initiative template"?s="hubinitiativetemplate":e==="storymap theme"?s="storymaptheme":e==="knowledge graph"?s="knowledgegraph":e==="knowledge graph layer"?s="knowledgegraphlayer":e==="knowledge studio project"?s="knowledgestudio":e==="native application"?s="nativeapp":e==="native application installer"?s="nativeappinstaller":e==="web link chart"?s="linkchart":e==="knowledge graph web investigation"?s="investigation":e==="ogcfeatureserver"?s="features":e==="pro presentation"?s="propresentation":e==="pro project"?s="proproject":e==="insights workbook package"?s="insightsworkbookpackage":e==="apache parquet"?s="apacheparquet":e==="notebook code snippet library"?s="notebookcodesnippets":e==="suitability model"?s="suitabilitymodel":e==="esri classifier definition"?s="classifierdefinition":e==="esri classification schema"?s="classificationschema":e==="insights data engineering workbook"?s="dataengineeringworkbook":e==="insights data engineering model"?s="dataengineeringmodel":e==="deep learning studio project"?s="deeplearningproject":e==="discussion"?s="discussion":e==="allsource project"?s="allsourceproject":e==="api key"?s="apikey":e==="data pipeline"?s="datapipelines":e==="group layer"?(_=t.includes("Map"),s=_?"layergroup2d":"layergroup"):s=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",s?wi(i+s+r+".png"):null}get isLayer(){return this.type!=null&&cpe.has(this.type)}get itemCdnUrl(){return zR(this.itemUrl)}get itemPageUrl(){var t;const e=(t=this.portal)==null?void 0:t.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){var i;const e=this.itemUrl,t=this.thumbnail;return e&&t?((i=this.portal)==null?void 0:i.normalizeUrl(`${e}/info/${t}?f=json`))??null:null}get userItemUrl(){var i,r,s;const e=(i=this.portal)==null?void 0:i.restUrl;if(!e)return null;const t=this.owner||((s=(r=this.portal)==null?void 0:r.user)==null?void 0:s.username);return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=Ms.getDefault()),i=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}},i=e instanceof _M?e.rating:e;return i==null||isNaN(i)||typeof e!="number"||(t.query.rating=i),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new _M({rating:i,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:j(this.applicationProxies),avgRating:this.avgRating,categories:j(this.categories),classification:j(this.classification),created:j(this.created),culture:this.culture,description:this.description,extent:j(this.extent),groupCategories:j(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:j(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:j(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:j(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:j(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new Md({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){var t;const e=this.toJSON();for(const i of["tags","typeKeywords","categories"])e[i]=(t=e[i])==null?void 0:t.join(", ");for(const i of["extent","classification"]){const r=e[i];r&&(e[i]=JSON.stringify(r))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new _M(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},Md)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e==null?void 0:e.data,i={method:"post"};i.query=this.createPostQuery();for(const r in i.query)i.query[r]===null&&(i.query[r]="");return i.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?i.query.text=t:typeof t=="object"&&(i.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new z("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:i}=this;await t.signIn();const{copyResources:r,folder:s,tags:n,title:o}=e||{},c={method:"post",query:{copyPrivateResources:r==="all",folder:typeof s=="string"?s:s==null?void 0:s.id,includeResources:!!r,tags:n==null?void 0:n.join(","),title:o}},{itemId:d}=await t.request(`${i}/copy`,c);return new Md({id:d,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,i=e.filename,r={method:"post"};if(typeof t=="string")Bh(t)?r.query={data:t}:r.query={url:Mn(t)},i!=null&&(r.query.filename=i);else{const s=new FormData;i!=null?s.append("file",t,i):s.append("file",t),r.body=s}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then(()=>this.reload())}):Promise.reject(new z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:i}=await te(()=>import("./resourceUtils-C8W26h_E.js"),[]);return i(this,e,t)}async addResource(e,t,i){const{addOrUpdateResources:r}=await te(()=>import("./resourceUtils-C8W26h_E.js"),[]);return e.portalItem=this,await r(this,[{resource:e,content:t,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"add",i),e}async removeResource(e,t){const{removeResource:i}=await te(()=>import("./resourceUtils-C8W26h_E.js"),[]);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await te(()=>import("./resourceUtils-C8W26h_E.js"),[]);return t(this,e)}resourceFromPath(e){return new upe({portalItem:this,path:e})}toJSON(){var i,r;const e=this.extent,t={accessInformation:this.accessInformation,categories:j(this.categories),classification:j(this.classification),created:(i=this.created)==null?void 0:i.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(r=this.modified)==null?void 0:r.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:j(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:j(this.typeKeywords),url:this.url};return fie(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Md({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};u([h({type:["private","shared","org","public"]})],He.prototype,"access",void 0),u([h()],He.prototype,"accessInformation",void 0),u([h({type:String})],He.prototype,"apiKey",void 0),u([h({json:{read:{source:"appProxies"}}})],He.prototype,"applicationProxies",void 0),u([h()],He.prototype,"avgRating",void 0),u([h()],He.prototype,"categories",void 0),u([h()],He.prototype,"classification",void 0),u([h({type:Date})],He.prototype,"created",void 0),u([h()],He.prototype,"culture",void 0),u([h()],He.prototype,"description",void 0),u([h({readOnly:!0})],He.prototype,"displayName",null),u([h({type:Pt})],He.prototype,"extent",void 0),u([ue("extent")],He.prototype,"readExtent",null),u([h()],He.prototype,"groupCategories",void 0),u([h({readOnly:!0})],He.prototype,"iconUrl",null),u([h()],He.prototype,"id",void 0),u([h({readOnly:!0})],He.prototype,"isLayer",null),u([h({type:Boolean,readOnly:!0})],He.prototype,"isOrgItem",void 0),u([h()],He.prototype,"itemControl",void 0),u([h({readOnly:!0})],He.prototype,"itemPageUrl",null),u([h({readOnly:!0})],He.prototype,"itemUrl",null),u([h()],He.prototype,"licenseInfo",void 0),u([h({type:Date})],He.prototype,"modified",void 0),u([h()],He.prototype,"name",void 0),u([h()],He.prototype,"numComments",void 0),u([h()],He.prototype,"numRatings",void 0),u([h()],He.prototype,"numViews",void 0),u([h()],He.prototype,"owner",void 0),u([h()],He.prototype,"ownerFolder",void 0),u([h({type:Ms})],He.prototype,"portal",void 0),u([h()],He.prototype,"screenshots",void 0),u([h()],He.prototype,"size",void 0),u([h()],He.prototype,"snippet",void 0),u([h()],He.prototype,"sourceJSON",void 0),u([h({type:String})],He.prototype,"sourceUrl",void 0),u([h({type:String})],He.prototype,"spatialReference",void 0),u([h()],He.prototype,"tags",void 0),u([h()],He.prototype,"thumbnail",void 0),u([h({readOnly:!0})],He.prototype,"thumbnailUrl",null),u([h()],He.prototype,"title",void 0),u([h()],He.prototype,"type",void 0),u([h()],He.prototype,"typeKeywords",void 0),u([h({type:String,json:{read(e,t){var i;if(dpe.has(t.type)){const r=(i=this.portal)==null?void 0:i.restUrl;e||(e=r&&this.id?`${r}/content/items/${this.id}/data`:null)}return e}}})],He.prototype,"url",void 0),u([h({readOnly:!0})],He.prototype,"userItemUrl",null),He=Md=u([A("esri.portal.PortalItem")],He);const fm=He,YB=Object.freeze(Object.defineProperty({__proto__:null,default:fm},Symbol.toStringTag,{value:"Module"}));async function hpe(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,i=await Kq("esri/t9n/basemaps");return i[e]||i[t]}const GA={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return wi("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return wi("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return wi("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return wi("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return wi("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return wi("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return wi("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return wi("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return wi("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return wi("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return wi("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return wi("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return wi("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return wi("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return wi("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return wi("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return wi("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}};let Za=class extends Te{constructor(t){super(t),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const t=this.language;let i=t==="local"||t==="global"?t:eB(t??Ss())??"global";return i=i==="no"?"nb":i,i}};u([h()],Za.prototype,"apiKey",void 0),u([h()],Za.prototype,"id",void 0),u([h()],Za.prototype,"language",void 0),u([h()],Za.prototype,"places",void 0),u([h()],Za.prototype,"serviceUrl",void 0),u([h()],Za.prototype,"worldview",void 0),Za=u([A("esri.support.BasemapStyle")],Za);const ppe=Za;function RRe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function fpe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function Ad(e){return(e==null?void 0:e.type)==="subtype-sublayer"}const LRe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function qA(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function NRe(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function PT(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function PRe(e){var i;const t=e==null?void 0:e.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&((i=e==null?void 0:e.source)==null?void 0:i.type)==="feature-layer"}async function RL(e,t){const i=Be==null?void 0:Be.findServerInfo(e);if((i==null?void 0:i.currentVersion)!=null)return i.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const s=`${e.slice(0,r)}/rest/info`,n=t!=null?t.signal:null,{data:o}=await qt(s,{query:{f:"json"},responseType:"json",signal:n});return(o==null?void 0:o.owningSystemUrl)||null}function JB(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function mpe(e){return JB(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function ype(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function gpe(e){return!!ype(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const vpe=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),XB=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wcs","wfs","wms","wmts"]),bpe=new Set([...XB,"link-chart"]);function _pe(e){switch(e.layerContainerType){case"basemap":return vpe;case"operational-layers":return e.origin==="link-chart"?bpe:XB;default:return null}}function wpe(e,t){if(t.restrictedWebMapWriting){const i=_pe(t);return i==null||i.has(e.type)&&!PT(e)}return!0}function Spe(e,t){var i;if(t)if(PT(e)){const r=o1("featureCollection.layers",t),s=(i=r==null?void 0:r[0])==null?void 0:i.layerDefinition;s&&MF(e,s)}else e.type!=="group"&&MF(e,t)}function MF(e,t){"maxScale"in e&&(t.maxScale=BS(e.maxScale)??void 0),"minScale"in e&&(t.minScale=BS(e.minScale)??void 0)}function Tpe(e,t){if(Spe(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=BS(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(PT(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function AF(e,t,i){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return i!=null&&i.messages&&i.messages.push(new z("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(PT(e)&&!e.isTable)t=e.resourceInfo;else if(wpe(e,i)){const r={};return e.write(r,i)?r:null}return t!=null&&Tpe(e,t=j(t)),t}var t0;let Epe=0,Us=t0=class extends K.JSONSupportMixin(ga){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Epe++,this.baseLayers=new pe,this.referenceLayers=new pe;const t=r=>{r.parent&&r.parent!==this&&"remove"in r.parent&&r.parent.remove(r),r.parent=this,r.type==="elevation"&&ne.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=r=>{r.parent=null};this.addHandles([this.baseLayers.on("after-add",r=>t(r.item)),this.referenceLayers.on("after-add",r=>t(r.item)),this.baseLayers.on("after-remove",r=>i(r.item)),this.referenceLayers.on("after-remove",r=>i(r.item))])}initialize(){this.when().catch(e=>{ne.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const i of e)i.destroy();const t=this.referenceLayers.toArray();for(const i of t)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=Gt(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Cl(e,this._get("baseLayers")))}_writeBaseLayers(e,t,i){const r=[];e&&(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach(s=>{const n=AF(s,i.webmap?i.webmap.getLayerJSONFromResourceInfo(s):null,i);n!=null&&r.push(n)}),this.referenceLayers.forEach(s=>{const n=AF(s,i.webmap?i.webmap.getLayerJSONFromResourceInfo(s):null,i);n!=null&&(s.type!=="scene"&&(n.isReference=!0),r.push(n))})),t.baseMapLayers=r}set referenceLayers(e){this._set("referenceLayers",Cl(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return ZB(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>FS(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>FS(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new t0({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){var i;return e=e||{},t!=null&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&((i=this.resourceInfo)!=null&&i.data.baseMapLayers)&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const s=j(r);return s.url&&ha(s.url)&&(s.url=`https:${s.url}`),s.templateUrl&&ha(s.templateUrl)&&(s.templateUrl=`https:${s.templateUrl}`),s})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:i,style:r}=this;li(e);const s=[];if(t){const n=t.context?t.context.url:null;if(s.push(this._loadLayersFromJSON(t.data,n,e)),t.data.id&&!t.data.title){const o=t.data.id;s.push(hpe(o).then(c=>{c&&this.read({title:c},t.context)}))}}else i?s.push(this._loadFromItem(i,e)):r&&s.push(this._loadFromStylesService(r,e));await Promise.all(s)}async _loadLayersFromJSON(e,t,i){var d,f;const r=(d=this.resourceInfo)==null?void 0:d.context,s=((f=this.portalItem)==null?void 0:f.portal)||(r==null?void 0:r.portal)||null,n=xpe[(r==null?void 0:r.origin)||""]??"web-map",{populateOperationalLayers:o}=await te(async()=>{const{populateOperationalLayers:g}=await import("./layersCreator-CeLGjMa9.js");return{populateOperationalLayers:g}},__vite__mapDeps([175,176,177,178,179,180])),c=[];if(li(i),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const g={context:{...r,origin:n,url:t,portal:s,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},v=T=>n==="web-scene"&&T.layerType==="ArcGISSceneServiceLayer"||T.isReference,_=o(this.baseLayers,e.baseMapLayers.filter(T=>!v(T)),g);c.push(_);const S=o(this.referenceLayers,e.baseMapLayers.filter(v),g);c.push(S)}await Promise.allSettled(c)}async _loadFromItem(e,t){const i=await e.load(t),r=await i.fetchData("json",t),s=dr(e.itemUrl??"");return this._set("resourceInfo",{data:r.baseMap??{},context:{origin:$pe[e.type||""]??"web-map",portal:e.portal||Ms.getDefault(),url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||Ms.getDefault(),url:s}),this._loadLayersFromJSON(this.resourceInfo.data,s,t)}async _loadFromStylesService(e,t){const i=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,r=`${i}/styles/${e.id}/self`,s=`${i}/webmaps/${e.id}`,[n,o]=await Promise.all([(await qt(r,{query:{token:e.apiKey},signal:t==null?void 0:t.signal})).data,(await qt(s,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:e.apiKey},signal:t==null?void 0:t.signal})).data]);this.thumbnailUrl??(this.thumbnailUrl=n.thumbnailUrl);const c=dr(s);if(this._set("resourceInfo",{data:o.baseMap??{},context:{origin:"web-map",url:c}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:o.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,c,t),e.apiKey)for(const d of[...this.baseLayers,...this.referenceLayers])"apiKey"in d&&(d.apiKey=e.apiKey)}static fromId(e){const t=GA[e];return t?t.itemId?new t0({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):t0.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};u([h({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,i,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:pe}},writer(e,t,i,r){this._writeBaseLayers(e,t,r)}}}}}})],Us.prototype,"baseLayers",null),u([h({type:String,json:{origins:{"web-scene":{write:!0}}}})],Us.prototype,"id",void 0),u([h({type:fm})],Us.prototype,"portalItem",void 0),u([h()],Us.prototype,"referenceLayers",null),u([h({readOnly:!0})],Us.prototype,"resourceInfo",void 0),u([h({type:Ge})],Us.prototype,"spatialReference",void 0),u([h({type:ppe})],Us.prototype,"style",void 0),u([h()],Us.prototype,"thumbnailUrl",void 0),u([h({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Us.prototype,"title",void 0),u([de("title")],Us.prototype,"writeTitle",null),Us=t0=u([A("esri.Basemap")],Us);const $pe={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},xpe={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},pv=Us,Mpe=Object.freeze(Object.defineProperty({__proto__:null,default:pv},Symbol.toStringTag,{value:"Module"})),E2={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function QB(e){return!!E2[e]||!!E2[e.toLowerCase()]}function LL(e){return E2[e]??E2[e.toLowerCase()]}function Ape(e){return[...LL(e)]}function wM(e,t,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?e+(t-e)*r:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function KB(e,t,i,r=1){const s=(e%360+360)%360/360,n=i<=.5?i*(t+1):i+t-i*t,o=2*i-n;return[Math.round(255*wM(o,n,s+1/3)),Math.round(255*wM(o,n,s)),Math.round(255*wM(o,n,s-1/3)),r]}function Ope(e){const t=e.length>5,i=t?8:4,r=(1<<i)-1,s=t?1:17,n=t?e.length===9:e.length===5;let o=+("0x"+e.slice(1));if(isNaN(o))return null;const c=[0,0,0,1];let d;return n&&(d=o&r,o>>=i,c[3]=s*d/255),d=o&r,o>>=i,c[2]=s*d,d=o&r,o>>=i,c[1]=s*d,d=o&r,o>>=i,c[0]=s*d,c}const DRe=2.2;function N_(e){return Nn(_R(e),0,255)}function P_(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}function D_(e,t){const i=e.toString(16).padStart(2,"0");return t?i.slice(0,1):i}let Ne=class Bi{static blendColors(t,i,r,s=new Bi){return s.r=Math.round(t.r+(i.r-t.r)*r),s.g=Math.round(t.g+(i.g-t.g)*r),s.b=Math.round(t.b+(i.b-t.b)*r),s.a=t.a+(i.a-t.a)*r,s._sanitize()}static fromRgb(t,i){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(r){const s=r[2].split(/\s*,\s*/),n=r[1];if(n==="rgb"&&s.length===3||n==="rgba"&&s.length===4){const o=s[0];if(o.charAt(o.length-1)==="%"){const c=s.map(d=>2.56*parseFloat(d));return s.length===4&&(c[3]=parseFloat(s[3])),Bi.fromArray(c,i)}return Bi.fromArray(s.map(c=>parseFloat(c)),i)}if(n==="hsl"&&s.length===3||n==="hsla"&&s.length===4)return Bi.fromArray(KB(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])),i)}return null}static fromHex(t,i=new Bi){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const r=parseInt(t.slice(1,2),16),s=parseInt(t.slice(2,3),16),n=parseInt(t.slice(3,4),16),o=t.length===5?15:parseInt(t.slice(4),16);return Bi.fromArray([r+16*r,s+16*s,n+16*n,(o+16*o)/255],i)}case 7:case 9:{const r=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16),o=t.length===7?255:parseInt(t.slice(7),16);return Bi.fromArray([r,s,n,o/255],i)}default:return null}}static fromArray(t,i=new Bi){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const r=QB(t)?LL(t):null;return r&&Bi.fromArray(r,i)||Bi.fromRgb(t,i)||Bi.fromHex(t,i)}static fromJSON(t){return t!=null?new Bi([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Bi.fromString(t,this):Array.isArray(t)?Bi.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Bi||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const i=(t==null?void 0:t.capitalize)??!1,r=(t==null?void 0:t.digits)??6,s=r===3||r===4,n=r===4||r===8,o=`#${D_(this.r,s)}${D_(this.g,s)}${D_(this.b,s)}${n?D_(Math.round(255*this.a),s):""}`;return i?o.toUpperCase():o}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Bi.AlphaMode.ALWAYS){const i=N_(this.r),r=N_(this.g),s=N_(this.b);return t===Bi.AlphaMode.ALWAYS||this.a!==1?[i,r,s,N_(255*this.a)]:[i,r,s]}clone(){return new Bi(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(P_(this.r,0,255)),this.g=Math.round(P_(this.g,0,255)),this.b=Math.round(P_(this.b,0,255)),this.a=P_(this.a,0,1),this}_set(t,i,r,s){this.r=t,this.g=i,this.b=r,this.a=s}};Ne.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Ne);function Ie(e,t={}){const i=e instanceof rt?e:new rt(e,t),{alwaysWriteDefaults:r,default:s,ignoreUnknown:n=!0,name:o,nonNullable:c,readOnly:d=!1}=t;return h({type:n?i.apiValues:String,json:{type:i.jsonValues,default:s,name:o,read:!d&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:c,readOnly:d})}var BA;let Uw=BA=class extends K{constructor(e){super(e),this.type="none"}clone(){return new BA({type:this.type})}};u([Ie({none:"none",stayAbove:"stay-above"}),h({json:{write:{isRequired:!0}}})],Uw.prototype,"type",void 0),Uw=BA=u([A("esri.ground.NavigationConstraint")],Uw);const Cpe=Symbol("GroundInstance");function DT(e){const t=_R(100*(1-e));return Math.max(0,Math.min(t,100))}function Bv(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var eH,HA;let Ya=HA=class extends K.JSONSupportMixin(ga){constructor(e){super(e),this[eH]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new pe;const t=r=>{r.parent&&r.parent!==this&&"remove"in r.parent&&r.parent.remove(r),r.parent=this,r.type!=="elevation"&&r.type!=="base-elevation"&&ne.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=r=>{r.parent=null};this.addHandles([this.layers.on("after-add",r=>t(r.item)),this.layers.on("after-remove",r=>i(r.item))])}initialize(){this.when().catch(e=>{Ur(e)||ne.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)Gt(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}get layers(){return this._get("layers")}set layers(e){this._set("layers",Cl(e,this._get("layers")))}writeLayers(e,t,i,r){const s=[];e&&(r={...r,layerContainerType:"ground"},e.forEach(n=>{if("write"in n){const o={};uie(n)().write(o,r)&&s.push(o)}else r!=null&&r.messages&&r.messages.push(new z("layer:unsupported",`Layers (${n.title}, ${n.id}) of type '${n.declaredClass}' cannot be persisted in the ground`,{layer:n}))})),t.layers=s}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return ZB(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await te(()=>import("./ElevationQuery-PX4mg3Rb.js"),[]);li(t);const r=new i,s=this.layers.filter(OF).toArray();return r.queryAll(s,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await te(()=>import("./ElevationQuery-PX4mg3Rb.js"),[]);li(t);const r=new i,s=this.layers.filter(OF).toArray();return r.createSamplerAll(s,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:j(this.surfaceColor),navigationConstraint:j(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new HA({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,i){const r=(t==null?void 0:t.origin)||"web-scene",s=(t==null?void 0:t.portal)||null,n=(t==null?void 0:t.url)||null,{populateOperationalLayers:o}=await te(async()=>{const{populateOperationalLayers:d}=await import("./layersCreator-CeLGjMa9.js");return{populateOperationalLayers:d}},__vite__mapDeps([175,176,177,178,179,180]));li(i);const c=[];if(e.layers&&Array.isArray(e.layers)){const d={context:{origin:r,url:n,portal:s,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};c.push(o(this.layers,e.layers,d))}await Promise.allSettled(c)}};function Ipe(e){return e&&"createElevationSampler"in e}function OF(e){return e.type==="elevation"||Ipe(e)}eH=Cpe,u([h({json:{read:!1,write:{isRequired:!0}}})],Ya.prototype,"layers",null),u([de("layers")],Ya.prototype,"writeLayers",null),u([h({readOnly:!0})],Ya.prototype,"resourceInfo",void 0),u([h({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:yt,read:{reader:Bv,source:"transparency"},write:{writer:(e,t)=>{t.transparency=DT(e)},target:"transparency"}}})],Ya.prototype,"opacity",void 0),u([h({type:Ne,json:{type:[yt],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Ya.prototype,"surfaceColor",void 0),u([h({type:Uw,json:{write:!0}})],Ya.prototype,"navigationConstraint",void 0),Ya=HA=u([A("esri.Ground")],Ya);const $2=Ya,k_=new WeakMap;function NL(e){return!e.destroyed&&(k_.has(e)||e.addHandles([xe(()=>{const t=e.parent;return!(!t||!("type"in t))&&(t.type==="catalog-dynamic-group"||NL(t))},t=>k_.set(e,t),gs),gt(()=>k_.delete(e))]),k_.get(e))}function CF(e,t){var c;const i=e.parent,r=e.layer;if((r==null?void 0:r.type)!=="map-image"||!r.sourceJSON||!i)return!1;const s=r.sourceJSON.layers;if(!s)return!1;const n=s.find(d=>e.id===d.id),o=t==="footprints"?"Feature Layer":"Catalog Dynamic Group Layer";return(n==null?void 0:n.type)===o&&((c=s.find(d=>d.id===i.id))==null?void 0:c.type)==="Catalog Layer"}function Rpe(e){return typeof e=="object"&&e!=null&&"loaded"in e&&e.loaded===!0&&"type"in e}function Lpe(e){var t,i;return!(!Rpe(e)||!((i=(t=mpe(e))==null?void 0:t.operations)!=null&&i.supportsEditing)||"editingEnabled"in e&&!gpe(e)||NL(e))}const Npe=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,Ppe="screenUtils.toPt: input not recognized!",tH=96;function Dpe(e){return e?e/72*tH:0}function kn(e){return e?72*e/tH:0}function dt(e){if(typeof e=="string"){const t=e.match(Npe);if(t){const i=Number(t[1]),r=t[3]&&t[3].toLowerCase(),s=e.charAt(0)==="-",n=r==="px"?kn(i):i;return s?-n:n}return console.warn(Ppe),null}return e}function ur(e=0,t=0){return{x:e,y:t}}function kRe(e){return e?ur(e.x,e.y):null}function FRe(e=0,t=0){return[e,t]}function jRe(e=0,t=0,i=0){return[e,t,i]}function URe(e){return e}function zRe(e){return e}function VRe(e){return e}function GRe(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function kT(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function kpe(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Fpe(e,t,i,r,s,n,o,c,d,f,g,v,_,S,T,E){const M=new Float32Array(16);return M[0]=e,M[1]=t,M[2]=i,M[3]=r,M[4]=s,M[5]=n,M[6]=o,M[7]=c,M[8]=d,M[9]=f,M[10]=g,M[11]=v,M[12]=_,M[13]=S,M[14]=T,M[15]=E,M}function jpe(e,t){return new Float32Array(e,t,16)}const Upe=kT();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:Upe,clone:kpe,create:kT,createView:jpe,fromValues:Fpe},Symbol.toStringTag,{value:"Module"}));let PL=1e-6;function ts(){return PL}function zpe(e){PL=e}const FT=Math.random,Vpe=Math.PI/180,Gpe=180/Math.PI;function DL(e){return e*Vpe}function qpe(e){return e*Gpe}function Bpe(e,t){return Math.abs(e-t)<=PL*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:FT,equals:Bpe,getEpsilon:ts,setEpsilon:zpe,toDegree:qpe,toRadian:DL},Symbol.toStringTag,{value:"Module"}));function iH(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Dc(e,t,i,r,s,n,o,c,d,f,g,v,_,S,T,E,M){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e[4]=n,e[5]=o,e[6]=c,e[7]=d,e[8]=f,e[9]=g,e[10]=v,e[11]=_,e[12]=S,e[13]=T,e[14]=E,e[15]=M,e}function jT(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function kc(e,t){if(e===t){const i=t[1],r=t[2],s=t[3],n=t[6],o=t[7],c=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=n,e[11]=t[14],e[12]=s,e[13]=o,e[14]=c}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Hpe(e,t){return rH(e,t)||jT(e),e}function rH(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],c=t[5],d=t[6],f=t[7],g=t[8],v=t[9],_=t[10],S=t[11],T=t[12],E=t[13],M=t[14],C=t[15],L=i*c-r*o,N=i*d-s*o,P=i*f-n*o,U=r*d-s*c,W=r*f-n*c,re=s*f-n*d,ae=g*E-v*T,fe=g*M-_*T,ye=g*C-S*T,Se=v*M-_*E,_e=v*C-S*E,Qe=_*C-S*M;let Le=L*Qe-N*_e+P*Se+U*ye-W*fe+re*ae;return Le?(Le=1/Le,e[0]=(c*Qe-d*_e+f*Se)*Le,e[1]=(s*_e-r*Qe-n*Se)*Le,e[2]=(E*re-M*W+C*U)*Le,e[3]=(_*W-v*re-S*U)*Le,e[4]=(d*ye-o*Qe-f*fe)*Le,e[5]=(i*Qe-s*ye+n*fe)*Le,e[6]=(M*P-T*re-C*N)*Le,e[7]=(g*re-_*P+S*N)*Le,e[8]=(o*_e-c*ye+f*ae)*Le,e[9]=(r*ye-i*_e-n*ae)*Le,e[10]=(T*W-E*P+C*L)*Le,e[11]=(v*P-g*W-S*L)*Le,e[12]=(c*fe-o*Se-d*ae)*Le,e[13]=(i*Se-r*fe+s*ae)*Le,e[14]=(E*N-T*U-M*L)*Le,e[15]=(g*U-v*N+_*L)*Le,e):null}function Wpe(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],c=t[5],d=t[6],f=t[7],g=t[8],v=t[9],_=t[10],S=t[11],T=t[12],E=t[13],M=t[14],C=t[15];return e[0]=c*(_*C-S*M)-v*(d*C-f*M)+E*(d*S-f*_),e[1]=-(r*(_*C-S*M)-v*(s*C-n*M)+E*(s*S-n*_)),e[2]=r*(d*C-f*M)-c*(s*C-n*M)+E*(s*f-n*d),e[3]=-(r*(d*S-f*_)-c*(s*S-n*_)+v*(s*f-n*d)),e[4]=-(o*(_*C-S*M)-g*(d*C-f*M)+T*(d*S-f*_)),e[5]=i*(_*C-S*M)-g*(s*C-n*M)+T*(s*S-n*_),e[6]=-(i*(d*C-f*M)-o*(s*C-n*M)+T*(s*f-n*d)),e[7]=i*(d*S-f*_)-o*(s*S-n*_)+g*(s*f-n*d),e[8]=o*(v*C-S*E)-g*(c*C-f*E)+T*(c*S-f*v),e[9]=-(i*(v*C-S*E)-g*(r*C-n*E)+T*(r*S-n*v)),e[10]=i*(c*C-f*E)-o*(r*C-n*E)+T*(r*f-n*c),e[11]=-(i*(c*S-f*v)-o*(r*S-n*v)+g*(r*f-n*c)),e[12]=-(o*(v*M-_*E)-g*(c*M-d*E)+T*(c*_-d*v)),e[13]=i*(v*M-_*E)-g*(r*M-s*E)+T*(r*_-s*v),e[14]=-(i*(c*M-d*E)-o*(r*M-s*E)+T*(r*d-s*c)),e[15]=i*(c*_-d*v)-o*(r*_-s*v)+g*(r*d-s*c),e}function Zpe(e){const t=e[0],i=e[1],r=e[2],s=e[3],n=e[4],o=e[5],c=e[6],d=e[7],f=e[8],g=e[9],v=e[10],_=e[11],S=e[12],T=e[13],E=e[14],M=e[15];return(t*o-i*n)*(v*M-_*E)-(t*c-r*n)*(g*M-_*T)+(t*d-s*n)*(g*E-v*T)+(i*c-r*o)*(f*M-_*S)-(i*d-s*o)*(f*E-v*S)+(r*d-s*c)*(f*T-g*S)}function sH(e,t,i){const r=t[0],s=t[1],n=t[2],o=t[3],c=t[4],d=t[5],f=t[6],g=t[7],v=t[8],_=t[9],S=t[10],T=t[11],E=t[12],M=t[13],C=t[14],L=t[15];let N=i[0],P=i[1],U=i[2],W=i[3];return e[0]=N*r+P*c+U*v+W*E,e[1]=N*s+P*d+U*_+W*M,e[2]=N*n+P*f+U*S+W*C,e[3]=N*o+P*g+U*T+W*L,N=i[4],P=i[5],U=i[6],W=i[7],e[4]=N*r+P*c+U*v+W*E,e[5]=N*s+P*d+U*_+W*M,e[6]=N*n+P*f+U*S+W*C,e[7]=N*o+P*g+U*T+W*L,N=i[8],P=i[9],U=i[10],W=i[11],e[8]=N*r+P*c+U*v+W*E,e[9]=N*s+P*d+U*_+W*M,e[10]=N*n+P*f+U*S+W*C,e[11]=N*o+P*g+U*T+W*L,N=i[12],P=i[13],U=i[14],W=i[15],e[12]=N*r+P*c+U*v+W*E,e[13]=N*s+P*d+U*_+W*M,e[14]=N*n+P*f+U*S+W*C,e[15]=N*o+P*g+U*T+W*L,e}function Ype(e,t,i){const r=i[0],s=i[1],n=i[2];if(t===e)e[12]=t[0]*r+t[4]*s+t[8]*n+t[12],e[13]=t[1]*r+t[5]*s+t[9]*n+t[13],e[14]=t[2]*r+t[6]*s+t[10]*n+t[14],e[15]=t[3]*r+t[7]*s+t[11]*n+t[15];else{const o=t[0],c=t[1],d=t[2],f=t[3],g=t[4],v=t[5],_=t[6],S=t[7],T=t[8],E=t[9],M=t[10],C=t[11];e[0]=o,e[1]=c,e[2]=d,e[3]=f,e[4]=g,e[5]=v,e[6]=_,e[7]=S,e[8]=T,e[9]=E,e[10]=M,e[11]=C,e[12]=o*r+g*s+T*n+t[12],e[13]=c*r+v*s+E*n+t[13],e[14]=d*r+_*s+M*n+t[14],e[15]=f*r+S*s+C*n+t[15]}return e}function Jpe(e,t,i){const r=i[0],s=i[1],n=i[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Xpe(e,t,i,r){let s=r[0],n=r[1],o=r[2],c=Math.sqrt(s*s+n*n+o*o);if(c<=ts())return void iH(e,t);c=1/c,s*=c,n*=c,o*=c;const d=Math.sin(i),f=Math.cos(i),g=1-f,v=t[0],_=t[1],S=t[2],T=t[3],E=t[4],M=t[5],C=t[6],L=t[7],N=t[8],P=t[9],U=t[10],W=t[11],re=s*s*g+f,ae=n*s*g+o*d,fe=o*s*g-n*d,ye=s*n*g-o*d,Se=n*n*g+f,_e=o*n*g+s*d,Qe=s*o*g+n*d,Le=n*o*g-s*d,pt=o*o*g+f;e[0]=v*re+E*ae+N*fe,e[1]=_*re+M*ae+P*fe,e[2]=S*re+C*ae+U*fe,e[3]=T*re+L*ae+W*fe,e[4]=v*ye+E*Se+N*_e,e[5]=_*ye+M*Se+P*_e,e[6]=S*ye+C*Se+U*_e,e[7]=T*ye+L*Se+W*_e,e[8]=v*Qe+E*Le+N*pt,e[9]=_*Qe+M*Le+P*pt,e[10]=S*Qe+C*Le+U*pt,e[11]=T*Qe+L*Le+W*pt,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function Qpe(e,t,i){const r=Math.sin(i),s=Math.cos(i),n=t[4],o=t[5],c=t[6],d=t[7],f=t[8],g=t[9],v=t[10],_=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=n*s+f*r,e[5]=o*s+g*r,e[6]=c*s+v*r,e[7]=d*s+_*r,e[8]=f*s-n*r,e[9]=g*s-o*r,e[10]=v*s-c*r,e[11]=_*s-d*r,e}function Kpe(e,t,i){const r=Math.sin(i),s=Math.cos(i),n=t[0],o=t[1],c=t[2],d=t[3],f=t[8],g=t[9],v=t[10],_=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*s-f*r,e[1]=o*s-g*r,e[2]=c*s-v*r,e[3]=d*s-_*r,e[8]=n*r+f*s,e[9]=o*r+g*s,e[10]=c*r+v*s,e[11]=d*r+_*s,e}function efe(e,t,i){const r=Math.sin(i),s=Math.cos(i),n=t[0],o=t[1],c=t[2],d=t[3],f=t[4],g=t[5],v=t[6],_=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*s+f*r,e[1]=o*s+g*r,e[2]=c*s+v*r,e[3]=d*s+_*r,e[4]=f*s-n*r,e[5]=g*s-o*r,e[6]=v*s-c*r,e[7]=_*s-d*r,e}function tfe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function ife(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function rfe(e,t,i){if(t===0)return jT(e);let r=i[0],s=i[1],n=i[2],o=Math.sqrt(r*r+s*s+n*n);if(o<=ts())return null;o=1/o,r*=o,s*=o,n*=o;const c=Math.sin(t),d=Math.cos(t),f=1-d;return e[0]=r*r*f+d,e[1]=s*r*f+n*c,e[2]=n*r*f-s*c,e[3]=0,e[4]=r*s*f-n*c,e[5]=s*s*f+d,e[6]=n*s*f+r*c,e[7]=0,e[8]=r*n*f+s*c,e[9]=s*n*f-r*c,e[10]=n*n*f+d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function sfe(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function nfe(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ofe(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function nH(e,t,i){const r=t[0],s=t[1],n=t[2],o=t[3],c=r+r,d=s+s,f=n+n,g=r*c,v=r*d,_=r*f,S=s*d,T=s*f,E=n*f,M=o*c,C=o*d,L=o*f;return e[0]=1-(S+E),e[1]=v+L,e[2]=_-C,e[3]=0,e[4]=v-L,e[5]=1-(g+E),e[6]=T+M,e[7]=0,e[8]=_+C,e[9]=T-M,e[10]=1-(g+S),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function afe(e,t){const i=lfe,r=-t[0],s=-t[1],n=-t[2],o=t[3],c=t[4],d=t[5],f=t[6],g=t[7],v=r*r+s*s+n*n+o*o;return v>0?(i[0]=2*(c*o+g*r+d*n-f*s)/v,i[1]=2*(d*o+g*s+f*r-c*n)/v,i[2]=2*(f*o+g*n+c*s-d*r)/v):(i[0]=2*(c*o+g*r+d*n-f*s),i[1]=2*(d*o+g*s+f*r-c*n),i[2]=2*(f*o+g*n+c*s-d*r)),nH(e,t,i),e}const lfe=Lc();function ufe(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function cfe(e,t){const i=t[0],r=t[1],s=t[2],n=t[4],o=t[5],c=t[6],d=t[8],f=t[9],g=t[10];return e[0]=Math.sqrt(i*i+r*r+s*s),e[1]=Math.sqrt(n*n+o*o+c*c),e[2]=Math.sqrt(d*d+f*f+g*g),e}function dfe(e,t){const i=t[0]+t[5]+t[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e}function hfe(e,t,i,r){const s=t[0],n=t[1],o=t[2],c=t[3],d=s+s,f=n+n,g=o+o,v=s*d,_=s*f,S=s*g,T=n*f,E=n*g,M=o*g,C=c*d,L=c*f,N=c*g,P=r[0],U=r[1],W=r[2];return e[0]=(1-(T+M))*P,e[1]=(_+N)*P,e[2]=(S-L)*P,e[3]=0,e[4]=(_-N)*U,e[5]=(1-(v+M))*U,e[6]=(E+C)*U,e[7]=0,e[8]=(S+L)*W,e[9]=(E-C)*W,e[10]=(1-(v+T))*W,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function pfe(e,t,i,r,s){const n=t[0],o=t[1],c=t[2],d=t[3],f=n+n,g=o+o,v=c+c,_=n*f,S=n*g,T=n*v,E=o*g,M=o*v,C=c*v,L=d*f,N=d*g,P=d*v,U=r[0],W=r[1],re=r[2],ae=s[0],fe=s[1],ye=s[2],Se=(1-(E+C))*U,_e=(S+P)*U,Qe=(T-N)*U,Le=(S-P)*W,pt=(1-(_+C))*W,X=(M+L)*W,he=(T+N)*re,me=(M-L)*re,it=(1-(_+E))*re;return e[0]=Se,e[1]=_e,e[2]=Qe,e[3]=0,e[4]=Le,e[5]=pt,e[6]=X,e[7]=0,e[8]=he,e[9]=me,e[10]=it,e[11]=0,e[12]=i[0]+ae-(Se*ae+Le*fe+he*ye),e[13]=i[1]+fe-(_e*ae+pt*fe+me*ye),e[14]=i[2]+ye-(Qe*ae+X*fe+it*ye),e[15]=1,e}function ffe(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],o=i+i,c=r+r,d=s+s,f=i*o,g=r*o,v=r*c,_=s*o,S=s*c,T=s*d,E=n*o,M=n*c,C=n*d;return e[0]=1-v-T,e[1]=g+C,e[2]=_-M,e[3]=0,e[4]=g-C,e[5]=1-f-T,e[6]=S+E,e[7]=0,e[8]=_+M,e[9]=S-E,e[10]=1-f-v,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function mfe(e,t,i,r,s,n,o){const c=1/(i-t),d=1/(s-r),f=1/(n-o);return e[0]=2*n*c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*n*d,e[6]=0,e[7]=0,e[8]=(i+t)*c,e[9]=(s+r)*d,e[10]=(o+n)*f,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*n*2*f,e[15]=0,e}function yfe(e,t,i,r,s){const n=1/Math.tan(t/2);let o;return e[0]=n/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,s!=null&&s!==1/0?(o=1/(r-s),e[10]=(s+r)*o,e[14]=2*s*r*o):(e[10]=-1,e[14]=-2*r),e}function gfe(e,t,i,r){const s=Math.tan(t.upDegrees*Math.PI/180),n=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),c=Math.tan(t.rightDegrees*Math.PI/180),d=2/(o+c),f=2/(s+n);return e[0]=d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=f,e[6]=0,e[7]=0,e[8]=-(o-c)*d*.5,e[9]=(s-n)*f*.5,e[10]=r/(i-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*i/(i-r),e[15]=0,e}function vfe(e,t,i,r,s,n,o){const c=1/(t-i),d=1/(r-s),f=1/(n-o);return e[0]=-2*c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*d,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*f,e[11]=0,e[12]=(t+i)*c,e[13]=(s+r)*d,e[14]=(o+n)*f,e[15]=1,e}function bfe(e,t,i,r){const s=t[0],n=t[1],o=t[2];let c=s-i[0],d=n-i[1],f=o-i[2];const g=ts();if(Math.abs(c)<g&&Math.abs(d)<g&&Math.abs(f)<g)return void jT(e);let v=1/Math.sqrt(c*c+d*d+f*f);c*=v,d*=v,f*=v;const _=r[0],S=r[1],T=r[2];let E=S*f-T*d,M=T*c-_*f,C=_*d-S*c;v=Math.sqrt(E*E+M*M+C*C),v?(v=1/v,E*=v,M*=v,C*=v):(E=0,M=0,C=0);let L=d*C-f*M,N=f*E-c*C,P=c*M-d*E;v=Math.sqrt(L*L+N*N+P*P),v?(v=1/v,L*=v,N*=v,P*=v):(L=0,N=0,P=0),e[0]=E,e[1]=L,e[2]=c,e[3]=0,e[4]=M,e[5]=N,e[6]=d,e[7]=0,e[8]=C,e[9]=P,e[10]=f,e[11]=0,e[12]=-(E*s+M*n+C*o),e[13]=-(L*s+N*n+P*o),e[14]=-(c*s+d*n+f*o),e[15]=1}function _fe(e,t,i,r){const s=t[0],n=t[1],o=t[2],c=r[0],d=r[1],f=r[2];let g=s-i[0],v=n-i[1],_=o-i[2],S=g*g+v*v+_*_;S>0&&(S=1/Math.sqrt(S),g*=S,v*=S,_*=S);let T=d*_-f*v,E=f*g-c*_,M=c*v-d*g;return S=T*T+E*E+M*M,S>0&&(S=1/Math.sqrt(S),T*=S,E*=S,M*=S),e[0]=T,e[1]=E,e[2]=M,e[3]=0,e[4]=v*M-_*E,e[5]=_*T-g*M,e[6]=g*E-v*T,e[7]=0,e[8]=g,e[9]=v,e[10]=_,e[11]=0,e[12]=s,e[13]=n,e[14]=o,e[15]=1,e}function wfe(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Sfe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function Tfe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}function oH(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function Efe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}function $fe(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e[9]=t[9]+i[9]*r,e[10]=t[10]+i[10]*r,e[11]=t[11]+i[11]*r,e[12]=t[12]+i[12]*r,e[13]=t[13]+i[13]*r,e[14]=t[14]+i[14]*r,e[15]=t[15]+i[15]*r,e}function xfe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Mfe(e,t){if(e===t)return!0;const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],c=e[5],d=e[6],f=e[7],g=e[8],v=e[9],_=e[10],S=e[11],T=e[12],E=e[13],M=e[14],C=e[15],L=t[0],N=t[1],P=t[2],U=t[3],W=t[4],re=t[5],ae=t[6],fe=t[7],ye=t[8],Se=t[9],_e=t[10],Qe=t[11],Le=t[12],pt=t[13],X=t[14],he=t[15],me=ts();return Math.abs(i-L)<=me*Math.max(1,Math.abs(i),Math.abs(L))&&Math.abs(r-N)<=me*Math.max(1,Math.abs(r),Math.abs(N))&&Math.abs(s-P)<=me*Math.max(1,Math.abs(s),Math.abs(P))&&Math.abs(n-U)<=me*Math.max(1,Math.abs(n),Math.abs(U))&&Math.abs(o-W)<=me*Math.max(1,Math.abs(o),Math.abs(W))&&Math.abs(c-re)<=me*Math.max(1,Math.abs(c),Math.abs(re))&&Math.abs(d-ae)<=me*Math.max(1,Math.abs(d),Math.abs(ae))&&Math.abs(f-fe)<=me*Math.max(1,Math.abs(f),Math.abs(fe))&&Math.abs(g-ye)<=me*Math.max(1,Math.abs(g),Math.abs(ye))&&Math.abs(v-Se)<=me*Math.max(1,Math.abs(v),Math.abs(Se))&&Math.abs(_-_e)<=me*Math.max(1,Math.abs(_),Math.abs(_e))&&Math.abs(S-Qe)<=me*Math.max(1,Math.abs(S),Math.abs(Qe))&&Math.abs(T-Le)<=me*Math.max(1,Math.abs(T),Math.abs(Le))&&Math.abs(E-pt)<=me*Math.max(1,Math.abs(E),Math.abs(pt))&&Math.abs(M-X)<=me*Math.max(1,Math.abs(M),Math.abs(X))&&Math.abs(C-he)<=me*Math.max(1,Math.abs(C),Math.abs(he))}function Afe(e){const t=ts(),i=e[0],r=e[1],s=e[2],n=e[4],o=e[5],c=e[6],d=e[8],f=e[9],g=e[10];return Math.abs(1-(i*i+n*n+d*d))<=t&&Math.abs(1-(r*r+o*o+f*f))<=t&&Math.abs(1-(s*s+c*c+g*g))<=t}function Ofe(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const Cfe=sH,Ife=oH;Object.freeze(Object.defineProperty({__proto__:null,add:Tfe,adjoint:Wpe,copy:iH,determinant:Zpe,equals:Mfe,exactEquals:xfe,frob:Sfe,fromQuat:ffe,fromQuat2:afe,fromRotation:rfe,fromRotationTranslation:nH,fromRotationTranslationScale:hfe,fromRotationTranslationScaleOrigin:pfe,fromScaling:ife,fromTranslation:tfe,fromXRotation:sfe,fromYRotation:nfe,fromZRotation:ofe,frustum:mfe,getRotation:dfe,getScaling:cfe,getTranslation:ufe,hasIdentityRotation:Ofe,identity:jT,invert:rH,invertOrIdentity:Hpe,isOrthoNormal:Afe,lookAt:bfe,mul:Cfe,multiply:sH,multiplyScalar:Efe,multiplyScalarAndAdd:$fe,ortho:vfe,perspective:yfe,perspectiveFromFieldOfView:gfe,rotate:Xpe,rotateX:Qpe,rotateY:Kpe,rotateZ:efe,scale:Jpe,set:Dc,str:wfe,sub:Ife,subtract:oH,targetTo:_fe,translate:Ype,transpose:kc},Symbol.toStringTag,{value:"Module"}));const Rfe=(e,t)=>{const i=Dc(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return kc(i,i)},Lfe=(e,t)=>{const i=Dc(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return kc(i,i)},Nfe=(e,t)=>{const i=1-t,r=Dc(e,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return kc(r,r)},Pfe=(e,t)=>{const i=Math.sin(t*Math.PI/180),r=Math.cos(t*Math.PI/180),s=Dc(e,.213+.787*r-.213*i,.715-.715*r-.715*i,.072-.072*r+.928*i,0,.213-.213*r+.143*i,.715+.285*r+.14*i,.072-.072*r-.283*i,0,.213-.213*r-.787*i,.715-.715*r+.715*i,.072+.928*r+.072*i,0,0,0,0,1);return kc(s,s)},Dfe=(e,t)=>{const i=1-2*t,r=Dc(e,i,0,0,t,0,i,0,t,0,0,i,t,0,0,0,1);return kc(r,r)},kfe=(e,t)=>{const i=Dc(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return kc(i,i)},Ffe=(e,t)=>{const i=1-t,r=Dc(e,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return kc(r,r)};let aH=class lH{constructor(t,i,r){this.strength=t,this.radius=i,this.threshold=r,this.type="bloom"}interpolate(t,i,r){this.strength=vs(t.strength,i.strength,r),this.radius=vs(t.radius,i.radius,r),this.threshold=vs(t.threshold,i.threshold,r)}clone(){return new lH(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:fv(this.radius),strength:this.strength,threshold:this.threshold}}},uH=class cH{constructor(t){this.radius=t,this.type="blur"}interpolate(t,i,r){this.radius=Math.round(vs(t.radius,i.radius,r))}clone(){return new cH(this.radius)}toJSON(){return{type:"blur",radius:fv(this.radius)}}},WA=class dH{constructor(t,i){this.type=t,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,r){this.amount=vs(t.amount,i.amount,r),this._updateMatrix()}clone(){return new dH(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||kT();switch(this.type){case"brightness":this._colorMatrix=Rfe(t,this.amount);break;case"contrast":this._colorMatrix=Lfe(t,this.amount);break;case"grayscale":this._colorMatrix=Nfe(t,this.amount);break;case"invert":this._colorMatrix=Dfe(t,this.amount);break;case"saturate":this._colorMatrix=kfe(t,this.amount);break;case"sepia":this._colorMatrix=Ffe(t,this.amount)}}},hH=class pH{constructor(t,i,r,s){this.offsetX=t,this.offsetY=i,this.blurRadius=r,this.color=s,this.type="drop-shadow"}interpolate(t,i,r){this.offsetX=vs(t.offsetX,i.offsetX,r),this.offsetY=vs(t.offsetY,i.offsetY,r),this.blurRadius=vs(t.blurRadius,i.blurRadius,r),this.color[0]=Math.round(vs(t.color[0],i.color[0],r)),this.color[1]=Math.round(vs(t.color[1],i.color[1],r)),this.color[2]=Math.round(vs(t.color[2],i.color[2],r)),this.color[3]=vs(t.color[3],i.color[3],r)}clone(){return new pH(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:fv(this.offsetX),yoffset:fv(this.offsetY),blurRadius:fv(this.blurRadius),color:t}}},fH=class mH{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,r){this.angle=vs(t.angle,i.angle,r),this._updateMatrix()}clone(){return new mH(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||kT();this._colorMatrix=Pfe(t,this.angle)}},yH=class gH{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,i,r){this.amount=vs(t.amount,i.amount,r)}clone(){return new gH(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function vs(e,t,i){return e+(t-e)*i}function fv(e){return Math.round(1e3*kn(e))/1e3}function jfe(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new WA(e.type,0);case"saturate":case"brightness":case"contrast":return new WA(e.type,1);case"opacity":return new yH(1);case"hue-rotate":return new fH(0);case"blur":return new uH(0);case"drop-shadow":return new hH(0,0,0,[...LL("transparent")]);case"bloom":return new aH(0,0,1)}}function Ufe(e,t){const i=e.length>t.length?e:t;return(e.length>t.length?t:e).every((r,s)=>r.type===i[s].type)}function zfe(e,t){const i=e.length>t.length?e:t,r=e.length>t.length?t:e;for(let s=r.length;s<i.length;s++)r.push(jfe(i[s]))}function Vfe(e){const t=e[0];return!!t&&"type"in t}const SM=()=>ne.getLogger("esri.support.basemapUtils");function Gfe(){return{}}function qfe(e){for(const t in e){const i=e[t];Gt(i),delete e[t]}}function Bfe(e,t){let i;if(typeof e=="string"){const r=e in GA,s=!r&&e.includes("/");if(!r&&!s){if(Tt.apiKey)SM().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const n=Object.entries(GA).filter(([o,c])=>c.classic||c.is3d).map(([o])=>`"${o}"`).sort().join(", ");SM().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${n}`)}return null}t&&(i=t[e]),i||(i=r?pv.fromId(e):new pv({style:{id:e}}),t&&(t[e]=i))}else i=ji(pv,e);return i!=null&&i.destroyed&&(SM().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function Hfe(e){return new jv({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const i=[];return"tables"in t&&i.push(t.tables),"layers"in t&&i.push(t.layers),i},itemFilterFunction:t=>{const i=t.parent;return!!i&&"tables"in i&&i.tables.includes(t)}})}function TM(e){for(const t of e.values())t==null||t.destroy();e.clear()}const IF={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function Wfe(e){let t=null;if(typeof e=="string")if(e in IF){const i=IF[e];t=new $2({resourceInfo:{data:{layers:[i]}}})}else ne.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=ji($2,e);return t}let vH=0;const bH=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+vH++})}};return t=u([A("esri.core.Identifiable")],t),t},Zfe=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:vH++})}};return t=u([A("esri.core.Identifiable.NumericIdentifiable")],t),t};let i0=class extends bH(class{}){};i0=u([A("esri.core.Identifiable")],i0),function(e){e.IdentifiableMixin=bH,e.NumericIdentifiableMixin=Zfe}(i0||(i0={}));const Fc=i0;async function Yfe(e){var r;const t="portalItem"in e?e:{portalItem:e},{fromItem:i}=await te(async()=>{const{fromItem:s}=await import("./portalLayers-CJm2Ntm6.js");return{fromItem:s}},__vite__mapDeps([180,178,177,176,179]));try{return await i(t)}catch(s){const n=t==null?void 0:t.portalItem,o=(n==null?void 0:n.id)||"unset",c=((r=n==null?void 0:n.portal)==null?void 0:r.url)||Tt.portalUrl;throw ne.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+c+"', id: '"+o+"')",s),s}}const RF={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function EM(e,t,i,r=ma){const s=new xs(bL(r)),n=Re.fromJSDate(e,{zone:s}),o=i==="decades"||i==="centuries"?"year":wH(i);return i==="decades"&&(t*=10),i==="centuries"&&(t*=100),n.plus({[o]:t}).toJSDate()}function BRe(e,t,i="milliseconds"){const r=e.getTime(),s=_H(t,i,"milliseconds");return new Date(r+s)}function LF(e,t,i=ma){const r=new xs(bL(i)),s=Re.fromJSDate(e,{zone:r});if(t==="decades"||t==="centuries"){const o=s.startOf("year"),{year:c}=o,d=c-c%(t==="decades"?10:100);return o.set({year:d}).toJSDate()}const n=wH(t);return s.startOf(n).toJSDate()}function _H(e,t,i){return e===0?0:e*RF[t]/RF[i]}function HRe(e,t){return e&&t?e.intersection(t):e||t}function wH(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var yn;let Ws=yn=class extends K{static get allTime(){return NF}static get empty(){return Jfe}static fromArray(e){return new yn({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(yn.allTime)}get isEmpty(){return this.equals(yn.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=(e==null?void 0:e.getTime())??null}clone(){return new yn({end:this.end,start:this.start})}equals(e){var n,o,c,d;if(!e)return!1;const t=((n=this.start)==null?void 0:n.getTime())??this.start,i=((o=this.end)==null?void 0:o.getTime())??this.end,r=((c=e.start)==null?void 0:c.getTime())??e.start,s=((d=e.end)==null?void 0:d.getTime())??e.end;return t===r&&i===s}expandTo(e,t=ma){if(this.isEmpty||this.isAllTime)return this.clone();let i=this.start;i&&(i=LF(i,e,t));let r=this.end;if(r){const s=LF(r,e,t);r=r.getTime()===s.getTime()?s:EM(s,1,e,t)}return new yn({start:i,end:r})}intersection(e){var c,d,f,g;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return yn.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=((c=this.start)==null?void 0:c.getTime())??-1/0,i=((d=this.end)==null?void 0:d.getTime())??1/0,r=((f=e.start)==null?void 0:f.getTime())??-1/0,s=((g=e.end)==null?void 0:g.getTime())??1/0;let n,o;return r>=t&&r<=i?n=r:t>=r&&t<=s&&(n=t),i>=r&&i<=s?o=i:s>=t&&s<=i&&(o=s),n==null||o==null||isNaN(n)||isNaN(o)?yn.empty:new yn({start:n===-1/0?null:new Date(n),end:o===1/0?null:new Date(o)})}offset(e,t,i=ma){if(this.isEmpty||this.isAllTime)return this.clone();const r=new yn,{start:s,end:n}=this;return s!=null&&(r.start=EM(s,e,t,i)),n!=null&&(r.end=EM(n,e,t,i)),r}toArray(){var e,t;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((t=this.end)==null?void 0:t.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return NF.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,i=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new yn({start:t,end:i})}};u([h({type:Date,json:{write:{allowNull:!0}}})],Ws.prototype,"end",void 0),u([ue("end")],Ws.prototype,"readEnd",null),u([de("end")],Ws.prototype,"writeEnd",null),u([h({readOnly:!0,json:{read:!1}})],Ws.prototype,"isAllTime",null),u([h({readOnly:!0,json:{read:!1}})],Ws.prototype,"isEmpty",null),u([h({type:Date,json:{write:{allowNull:!0}}})],Ws.prototype,"start",void 0),u([ue("start")],Ws.prototype,"readStart",null),u([de("start")],Ws.prototype,"writeStart",null),Ws=yn=u([A("esri.time.TimeExtent")],Ws);const Il=Ws,NF=new Ws,Jfe=new Ws({start:void 0,end:void 0});let Xfe=0,vi=class extends Dn.EventedMixin(Fc.IdentifiableMixin(ga)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Pt(-180,-90,180,90,Ge.WGS84),this.id=Date.now().toString(16)+"-layer-"+Xfe++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Ge.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const i=typeof t=="string"?{url:t}:t;return(await te(async()=>{const{fromUrl:r}=await import("./arcgisLayers-BNCMcxNH.js");return{fromUrl:r}},__vite__mapDeps([181,178,177,179]))).fromUrl(i)}static fromPortalItem(t){return Yfe(t)}initialize(){this.when().catch(t=>{Ur(t)||ne.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const i=this;"layers"in t&&t.layers.includes(i)?t.layers.remove(i):"tables"in t&&t.tables.includes(i)?t.tables.remove(i):"baseLayers"in t&&t.baseLayers.includes(i)?t.baseLayers.remove(i):"referenceLayers"in t&&t.referenceLayers.includes(i)&&t.referenceLayers.remove(i),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const i=this.parent;return t&&i&&"effectiveVisible"in i&&t&&(t=i.effectiveVisible),t}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return dr(this.url)}createLayerView(t,i){return Promise.reject(new z("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await qt(t,{query:{f:"json"},responseType:"json"})).data;throw new z("layer:no-attribution-data","Layer does not have attribution data")}};u([h({type:String})],vi.prototype,"attributionDataUrl",void 0),u([h({readOnly:!0})],vi.prototype,"effectiveVisible",null),u([h({type:Pt})],vi.prototype,"fullExtent",void 0),u([h({readOnly:!0})],vi.prototype,"hasAttributionData",null),u([h({type:String,clonable:!1})],vi.prototype,"id",void 0),u([h({type:Boolean,nonNullable:!0})],vi.prototype,"legendEnabled",void 0),u([h({type:["show","hide","hide-children"]})],vi.prototype,"listMode",void 0),u([h({type:Number,range:{min:0,max:1},nonNullable:!0})],vi.prototype,"opacity",void 0),u([h({clonable:!1})],vi.prototype,"parent",void 0),u([h({readOnly:!0})],vi.prototype,"parsedUrl",null),u([h({type:Boolean,readOnly:!0})],vi.prototype,"persistenceEnabled",void 0),u([h({type:Boolean})],vi.prototype,"popupEnabled",void 0),u([h({type:Boolean})],vi.prototype,"attributionVisible",void 0),u([h({type:Ge})],vi.prototype,"spatialReference",void 0),u([h({type:String})],vi.prototype,"title",void 0),u([h({readOnly:!0,json:{read:!1}})],vi.prototype,"type",void 0),u([h()],vi.prototype,"url",void 0),u([h({type:Il})],vi.prototype,"visibilityTimeExtent",void 0),u([h({type:Boolean,nonNullable:!0})],vi.prototype,"visible",void 0),vi=u([A("esri.layers.Layer")],vi);const M1=vi;function ZA(e,t,i){let r,s;if(e)for(let n=0,o=e.length;n<o;n++){if(r=e.at(n),(r==null?void 0:r[t])===i)return r;if((r==null?void 0:r.type)==="group"&&(s=ZA(r.layers,t,i),s))return s}}const Qfe=e=>{let t=class extends e{constructor(...i){super(...i),this.layers=new pe;const r=o=>{o.parent&&"remove"in o.parent&&o.parent.remove(o)},s=o=>{o.parent=this,this.layerAdded(o),o.type!=="elevation"&&o.type!=="base-elevation"||ne.getLogger(this).error(`Layer 'title:${o.title}, id:${o.id}' of type '${o.type}' is not supported as an operational layer and will therefore be ignored.`)},n=o=>{o.parent=null,this.layerRemoved(o)};this.addHandles([this.layers.on("before-add",o=>{if(o.item===this)return o.preventDefault(),void ne.getLogger(this).error("#add()","Cannot add layer to itself.");r(o.item)}),this.layers.on("after-add",o=>s(o.item)),this.layers.on("after-remove",o=>n(o.item))])}destroy(){const i=this.layers.toArray();for(const r of i)r.destroy();this.layers.destroy()}set layers(i){this._set("layers",Cl(i,this._get("layers")))}add(i,r){const s=this.layers;if(r=s.getNextIndex(r),i instanceof M1){const n=i;n.parent===this?this.reorder(n,r):s.add(n,r)}else ba(i)?i.then(n=>{this.destroyed||this.add(n,r)}):ne.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(i,r){const s=this.layers;let n=s.getNextIndex(r);i.slice().forEach(o=>{o.parent!==this?(s.add(o,n),n+=1):this.reorder(o,n)})}findLayerById(i){return ZA(this.layers,"id",i)}findLayerByUid(i){return ZA(this.layers,"uid",i)}remove(i){return this.layers.remove(i)}removeMany(i){return this.layers.removeMany(i)}removeAll(){return this.layers.removeAll()}reorder(i,r){return this.layers.reorder(i,r)}layerAdded(i){}layerRemoved(i){}};return u([h()],t.prototype,"layers",null),t=u([A("esri.support.LayersMixin")],t),t},Kfe=new Set(["feature","subtype-group"]);function YA(e,t,i){if(e)for(let r=0,s=e.length;r<s;r++){const n=e.at(r);if(n[t]===i)return n;if((n==null?void 0:n.type)==="group"){const o=YA(n.tables,t,i);if(o)return o}}}const eme=e=>{let t=class extends e{constructor(...i){super(...i),this.tables=new pe,this.addHandles([this.tables.on("after-add",r=>{const s=r.item;s.parent&&s.parent!==this&&"tables"in s.parent&&s.parent.tables.remove(s),s.parent=this,Kfe.has(s.type)||ne.getLogger(this).error(`Layer 'title:${s.title}, id:${s.id}' of type '${s.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",r=>{r.item.parent=null})])}destroy(){const i=this.tables.toArray();for(const r of i)r.destroy();this.tables.destroy()}set tables(i){this._set("tables",Cl(i,this._get("tables")))}findTableById(i){return YA(this.tables,"id",i)}findTableByUid(i){return YA(this.tables,"uid",i)}};return u([h()],t.prototype,"tables",null),t=u([A("esri.support.TablesMixin")],t),t};let ro=class extends eme(Qfe(Dn.EventedMixin(Te))){constructor(t){super(t),this.allLayers=new jv({getCollections:()=>{var i,r,s;return[(i=this.basemap)==null?void 0:i.baseLayers,(r=this.ground)==null?void 0:r.layers,this.layers,(s=this.basemap)==null?void 0:s.referenceLayers]},getChildrenFunction:i=>"layers"in i?i.layers:null}),this.allTables=Hfe(this),this.basemap=null,this.editableLayers=new jv({getCollections:()=>[this.allLayers],itemFilterFunction:Lpe}),this.ground=new $2,this._basemapCache=Gfe()}destroy(){qfe(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=Gt(this.basemap),Gt(this.ground),this._set("ground",null)}castBasemap(t){return Bfe(t,this._basemapCache)}castGround(t){return Wfe(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(i=>i.id===t)}findTableById(t){return this.allTables.find(i=>i.id===t)}};u([h({readOnly:!0,dependsOn:[]})],ro.prototype,"allLayers",void 0),u([h({readOnly:!0})],ro.prototype,"allTables",void 0),u([h({type:pv,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],ro.prototype,"basemap",void 0),u([ht("basemap")],ro.prototype,"castBasemap",null),u([h({readOnly:!0})],ro.prototype,"editableLayers",void 0),u([h({type:$2,nonNullable:!0})],ro.prototype,"ground",void 0),u([ht("ground")],ro.prototype,"castGround",null),u([h()],ro.prototype,"undoRedo",void 0),ro=u([A("esri.Map")],ro);const SH=ro;let mv=class extends pe{constructor(t){super(t),this.addHandles([this.on("before-add",i=>{i.item==null&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(pe.ofType(this.itemType.Type))(t):new pe(t)}};function JA(e,t){return{type:e,cast:BB,set(i){const r=Cl(i,this._get(t),e);r.owner=this,this._set(t,r)}}}u([h()],mv.prototype,"owner",null),mv=u([A("esri.core.support.OwningCollection")],mv);var r0;const x2=hr()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),TH=x2.jsonValues.slice();die(TH,"orthometric");const yv=hr()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let so=r0=class extends K{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,i){return x2.write(e,t,i)}readHeightModel(e,t,i){return x2.read(e)||(i!=null&&i.messages&&i.messages.push(tme(e,{context:i})),null)}readHeightUnit(e,t,i){return yv.read(e)||(i!=null&&i.messages&&i.messages.push(PF(e,{context:i})),null)}readHeightUnitService(e,t,i){return WR(e)||yv.read(e)||(i!=null&&i.messages&&i.messages.push(PF(e,{context:i})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new r0({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const i=nG(t);return new r0({heightModel:e.heightModel,heightUnit:i??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new r0;return t.read(e,{origin:"web-scene"}),t}};function PF(e,t){return new Ln("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function tme(e,t){return new Ln("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}u([h({type:x2.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:TH,default:"ellipsoidal",write:{isRequired:!0}}}}})],so.prototype,"heightModel",void 0),u([de("web-scene","heightModel")],so.prototype,"writeHeightModel",null),u([ue(["web-scene","service"],"heightModel")],so.prototype,"readHeightModel",null),u([h({type:yv.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:yv.jsonValues,write:{writer:yv.write,isRequired:!0}}}}})],so.prototype,"heightUnit",void 0),u([ue("web-scene","heightUnit")],so.prototype,"readHeightUnit",null),u([ue("service","heightUnit")],so.prototype,"readHeightUnitService",null),u([h({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],so.prototype,"vertCRS",void 0),u([ue("service","vertCRS",["vertCRS","ellipsoid","geoid"])],so.prototype,"readVertCRS",null),so=r0=u([A("esri.geometry.HeightModelInfo")],so);const A1=so;let M2=class extends mv{constructor(t){super(t),this.addHandles(this.on("before-add",i=>{i.item!=null&&i.item.parent===this.owner&&(ne.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};M2=u([A("esri.support.AnalysesCollection")],M2);let $M;async function ime(){return $M==null&&($M=te(()=>import("./WhereClauseCache-BUxrK4UW.js"),__vite__mapDeps([22,23,24])).then(e=>new e.WhereClauseCache(500,500))),$M}async function EH(e,t){const i=await ime(),r=i.get(e,t);if(r==null)throw i.getError(e,t);return r}function rme(e,t){return e||(e=null),t||(t=null),e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function sme(e,t){return e||(e=null),t||(t=null),e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function XRe(e,t){return t.length===0?null:`${e} IN (${nme(t)})`}function nme(e){return e.map(t=>typeof t=="string"?ome(t):t).join(",")}function ome(e){return`'${e.replaceAll("'","''")}'`}function DF(e){return typeof e=="number"}function QRe(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function KRe(e){return typeof e=="boolean"}function O1(e){return typeof e=="string"||e instanceof String}function ame(e){return e==null||O1(e)}function eLe(e){return Array.isArray(e)}function lme(e){return(e==null?void 0:e.declaredClass)==="esri.Graphic"}function tLe(e){return e instanceof Date}const ume="HH:mm",cme="HH:mm:ss",dme="HH:mm:ss.SSS",hme=[dme,cme,ume,"TT"],pme="yyyy-MM-dd";function kF(e){if(!e||!O1(e))return null;const t=Re.fromFormat(e,pme);return t.isValid?t:null}function FF(e){return e&&O1(e)?_re(hme,t=>{const i=Re.fromFormat(e,t);return i.isValid?i:null})??null:null}function jF(e){if(!e||!O1(e))return null;const t=Re.fromISO(e);return t.isValid?t:null}var A2;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(A2||(A2={}));const $H=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function fme(e){return e!=null&&$H.has(e.type)}function xH(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function MH(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function AH(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const mme=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);AR($H,mme);function iLe(e,t){const i=e==null?void 0:e.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,s="range"in i?i.range[1]:i.maxValue,n=fme(e);return xH(e)||AH(e)||MH(e)?{...yme(e,s,r),isInteger:n}:{min:r!=null&&typeof r=="number"?r:null,max:s!=null&&typeof s=="number"?s:null,rawMin:r,rawMax:s,isInteger:n}}function yme(e,t,i){var r,s,n,o,c,d;return xH(e)?{min:(r=kF(i))==null?void 0:r.toMillis(),max:(s=kF(t))==null?void 0:s.toMillis(),rawMin:i,rawMax:t}:AH(e)?{min:(n=FF(i))==null?void 0:n.toMillis(),max:(o=FF(t))==null?void 0:o.toMillis(),rawMin:i,rawMax:t}:MH(e)?{min:(c=jF(i))==null?void 0:c.toMillis(),max:(d=jF(t))==null?void 0:d.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}function gme(e){if(!e)return;const t=e.match(vme);return t!=null&&t.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const vme=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function bme(e){var t,i;return((i=(t=e.match(_me))==null?void 0:t[1])==null?void 0:i.replace(/\\'/g,"'"))??null}const _me=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let So=class{};function wme(e){return e instanceof Zh?e===So.instance:(e==null?void 0:e.toString().toLowerCase())==="unknown"}function sLe(e){return wme(e)?So.instance:e}So.instance=new xs("Etc/UTC");var O2;(function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"})(O2||(O2={}));const Sme={[O2.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let Tme=class OH extends Error{constructor(t,i){super(a1(Sme[t],i)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,OH)}};function Bp(e,t,i){return e<t?e-t:e>i?e-i:0}function Hp(e,t,i){return e<t?t:e>i?i:e}let F_=class Oi{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,i=1,r=1,s=0,n=0,o=0,c=0,d){if(isNaN(t)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(n)||isNaN(o)||isNaN(c))return null;const f=Re.local(t,i).daysInMonth;let g=Re.fromObject({day:Hp(r,1,f),year:t,month:Hp(i,1,12),hour:Hp(s,0,23),minute:Hp(n,0,59),second:Hp(o,0,59),millisecond:Hp(c,0,999)},{zone:fd(d)});return g=g.plus({months:Bp(i,1,12),days:Bp(r,1,f),hours:Bp(s,0,23),minutes:Bp(n,0,59),seconds:Bp(o,0,59),milliseconds:Bp(c,0,999)}),new Oi(g)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,i){const r=fd(i);return t.isUnknownTimeZone||r===So.instance?Oi.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,r):new Oi(t._date.setZone(r))}static dateJSToArcadeDate(t){return new Oi(Re.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,i="system"){const r=fd(i);return new Oi(Re.fromJSDate(t,{zone:r}))}static unknownEpochToArcadeDate(t){return new Oi(Re.fromMillis(t,{zone:So.instance}))}static unknownDateJSToArcadeDate(t){return new Oi(Re.fromMillis(t.getTime(),{zone:So.instance}))}static epochToArcadeDate(t,i="system"){const r=fd(i);return new Oi(Re.fromMillis(t,{zone:r}))}static dateTimeToArcadeDate(t){return new Oi(t)}clone(){return new Oi(this._date)}changeTimeZone(t){const i=fd(t);return Oi.dateTimeToArcadeDate(this._date.setZone(i))}static dateTimeAndZoneToArcadeDate(t,i){const r=fd(i);return t.zone===So.instance||r===So.instance?Oi.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,r):new Oi(t.setZone(r))}static nowToArcadeDate(t){const i=fd(t);return new Oi(Re.fromJSDate(new Date,{zone:i}))}static nowUTCToArcadeDate(){return new Oi(Re.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===Oi.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===So.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const t=this.zone;return t.type==="fixed"?t.fixed===0?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new Oi(this._date.plus(t))}diff(t,i="milliseconds"){return this._date.diff(t._date,i)[i]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,i){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:i&&!this.isUnknownTimeZone})}toFormat(t,i){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,i)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new Oi(this._date.toUTC())}toLocal(){return new Oi(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const i=Re.fromISO(t,{setZone:!0});return new Oi(i)}};function fd(e,t=!0){if(e instanceof Zh)return e;if(e.toLowerCase()==="system")return"system";if(e.toLowerCase()==="utc")return"UTC";if(e.toLowerCase()==="unknown")return So.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const r=lr.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(r)return r}const i=xs.create(e);if(!i.isValid){if(t)throw new Tme(O2.TimeZoneNotRecognized);return null}return i}const Eme=()=>ne.getLogger("esri.support.arcadeOnDemand"),$me=["geometry","scale","timeProperties"];function nLe(e,t){if(t!=null)for(const i of $me)t.hasArcadeDependency(i)&&e.add(i);return e}let xM;function $c(){return xM||(xM=(async()=>{const e=await te(()=>import("./arcadeUtils-DlL6l9QB.js"),__vite__mapDeps([182,183,184,185,166,24,32,20,14,15,16,21,23]));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),xM}const oLe=(e,t,i)=>CH.create(e,t,i,null,["$feature","$view"],[]),xme=(e,t,i,r)=>CH.create(e,t,i,r,["$feature","$view"],[]);let CH=class IH{constructor(t,i,r,s,n,o,c){this._dependencies=new Map,this.services=null,this.script=t,this.evaluate=s;const d=Array.isArray(o)?o:o==null?void 0:o.fields;this.fields=d??[],this._syntaxTree=r,this._arcade=i,this._arcadeFeature=n,this._spatialReference=c,this._dependencies.set("geometry",i.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}static async create(t,i,r,s,n,o){const{arcade:c,Feature:d,Dictionary:f}=await $c(),g=i instanceof Ge?i:Ge.fromJSON(i);let v;try{v=c.parseScript(t,o)}catch(ae){return Eme().error(new z("arcade-bad-expression","Failed to parse arcade script",{script:t,error:ae})),null}const _=n.reduce((ae,fe)=>({...ae,[fe]:null}),{});let S=null;s!=null&&(S=new f(s),S.immutable=!0,_.$config=null);const T=c.scriptUsesGeometryEngine(v),E=T&&c.enableGeometrySupport(),M=c.scriptUsesFeatureSet(v)&&c.enableFeatureSetSupport(),C=c.scriptIsAsync(v),L=C&&c.enableAsyncSupport(),N={vars:_,spatialReference:g,useAsync:!!L};await Promise.all([E,M,L]);const P=new Set;await c.loadDependentModules(P,v,null,C,T);const U=new f;U.immutable=!1,U.setField("scale",0);const W=c.compileScript(v,N),re=(ae,fe)=>{var Se;const ye=(Se=ae.$view)==null?void 0:Se.timeZone;if("$view"in ae&&ae.$view){let _e;if(U.setField("scale",typeof ae.$view=="object"&&"scale"in ae.$view?ae.$view.scale:void 0),typeof ae.$view=="object"&&"timeProperties"in ae.$view&&ae.$view.timeProperties!=null){const{currentStart:Qe,currentEnd:Le}=ae.$view.timeProperties;_e=new f({currentStart:Qe!=null?ye!=null?F_.epochToArcadeDate(Qe,ye):F_.unknownEpochToArcadeDate(Qe):void 0,currentEnd:Le!=null?ye!=null?F_.epochToArcadeDate(Le,ye):F_.unknownEpochToArcadeDate(Le):void 0,startIncluded:!0,endIncluded:!0})}U.setField("timeProperties",_e),ae.$view=U}return S&&(ae.$config=S),W({vars:ae,spatialReference:g,services:fe,timeZone:ye})};return new IH(t,c,v,re,new d,r,g)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}references(t){return this._dependencies.get(t)??!1}};const Mme=/^([0-9_])/,Ame=/[^a-z0-9_\u0080-\uffff]+/gi;function Ome(e){return e==null?null:e.trim().replaceAll(Ame,"_").replace(Mme,"F$1")||null}const Cme=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Ime=["field","normalizationField"];function C2(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(UF(Cme,i,t),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)UF(Ime,r,t)}}function UF(e,t,i){if(e)for(const r of e){const s=o1(r,t),n=s&&typeof s!="function"&&i.get(s);n&&cr(r,n.name,t)}}function kL(e,t){var i;if(e!=null&&((i=t==null?void 0:t.fields)!=null&&i.length))if("startField"in e){const r=t.get(e.startField),s=t.get(e.endField);e.startField=(r==null?void 0:r.name)??null,e.endField=(s==null?void 0:s.name)??null}else{const r=t.get(e.startTimeField),s=t.get(e.endTimeField);e.startTimeField=(r==null?void 0:r.name)??null,e.endTimeField=(s==null?void 0:s.name)??null}}const MM=new Set;function UT(e,t){return e&&t?(MM.clear(),Gh(MM,e,t),Array.from(MM).sort()):[]}function Gh(e,t,i){var r;if(i)if((r=t==null?void 0:t.fields)!=null&&r.length)if(i.includes("*"))for(const{name:s}of t.fields)e.add(s);else for(const s of i)is(e,t,s);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const s of i)s!=null&&e.add(s)}}function is(e,t,i){if(typeof i=="string")if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}function aLe(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(i=>i.name):t}function lLe(e,t,i=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=UT(e,t);return r.length/e.fields.length>=i?["*"]:r}async function jr(e,t,i){var n;if(!i)return;let r;const s=gme(i);if(s)r=[s];else{const{arcadeUtils:o}=await $c();r=o.extractFieldNames(i,(n=t==null?void 0:t.fields)==null?void 0:n.map(c=>c.name))}for(const o of r)is(e,t,o)}async function FL(e,t,i){if(i&&i!=="1=1"){const r=await EH(i,t);if(!r.isStandardized)throw new z("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});Gh(e,t,r.fieldNames)}}function Rme({displayField:e,fields:t}){return e||(t!=null&&t.length?AM(t,"name-or-title")||AM(t,"unique-identifier")||AM(t,"type-or-category")||Lme(t):null)}function Lme(e){for(const t of e){if(!(t!=null&&t.name))continue;const i=t.name.toLowerCase();if(i.includes("name")||i.includes("title"))return t.name}return null}function AM(e,t){for(const i of e)if(i!=null&&i.valueType&&i.valueType===t)return i.name;return null}async function uLe(e,t){var r;if(!t)return;const i=(r=t.elevationInfo)==null?void 0:r.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}function Nme(e,t,i){i.onStatisticExpression?jr(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}async function cLe(e,t,i){if(!t||!i||!("fields"in i))return;const r=[],s=i.popupTemplate;r.push(RH(e,t,s)),i.fields&&r.push(...i.fields.map(async n=>Nme(e,t.fieldsIndex,n))),await Promise.all(r)}async function dLe(e,t){var n,o,c;const{fieldsIndex:i,trackInfo:r}=t;if(!t||!r||!i)return;const s=[(n=r.latestObservations.renderer)==null?void 0:n.collectRequiredFields(e,i),(o=r.previousObservations.renderer)==null?void 0:o.collectRequiredFields(e,i),(c=r.trackLines.renderer)==null?void 0:c.collectRequiredFields(e,i)];r.popupTemplate&&s.push(RH(e,t,r.popupTemplate));for(const d of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(d)for(const f of d)s.push(PH(e,i,f));await Promise.all(s)}async function RH(e,t,i){const r=[];i!=null&&i.expressionInfos&&r.push(...i.expressionInfos.map(n=>jr(e,t.fieldsIndex,n.expression)));const s=i==null?void 0:i.content;if(Array.isArray(s))for(const n of s)n.type==="expression"&&n.expressionInfo&&r.push(jr(e,t.fieldsIndex,n.expressionInfo.expression));await Promise.all(r)}async function hLe(e,t,i){t&&(t.timeInfo&&(i!=null&&i.timeExtent)&&Gh(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Gh(e,t.fieldsIndex,[t.floorInfo.floorField]),(i==null?void 0:i.where)!=null&&await FL(e,t.fieldsIndex,i.where))}async function pLe(e,t,i){t&&i&&await Promise.all(i.map(r=>Pme(e,t,r)))}async function Pme(e,t,i){t&&i&&(i.valueExpression?await jr(e,t.fieldsIndex,i.valueExpression):i.field&&is(e,t.fieldsIndex,i.field))}function fLe(e){return e?UT(e.fieldsIndex,LH(e)):[]}function Dme(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?UT(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function mLe(e,t,i){if(!t||!i)return;const r=t.fieldsIndex;await Promise.all(i.filters.map(s=>FL(e,r,s.where)))}const kme=new Set(["oid","global-id","guid"]),Fme=new Set(["oid","global-id"]),jme=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function Ume(e){const t=new Set;NH(e).forEach(r=>t.add(r)),Dme(e).forEach(r=>t.add(r.toLowerCase()));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>t.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>t.add(r.toLowerCase()))),Array.from(t)}function LH(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:r,editDateField:s,editorField:n}=t;return[i,r,s,n].filter(Boolean)}function NH(e){return LH(e).map(t=>t.toLowerCase())}function zme(e,t){var i;return e.editable&&!kme.has(e.type)&&!NH(t).includes(((i=e.name)==null?void 0:i.toLowerCase())??"")}function Vme(e,t){var r;const i=((r=e.name)==null?void 0:r.toLowerCase())??"";return!((t==null?void 0:t.objectIdField)!=null&&i===t.objectIdField.toLowerCase()||(t==null?void 0:t.globalIdField)!=null&&i===t.globalIdField.toLowerCase()||Ume(t).includes(i)||Fme.has(e.type)||jme.some(s=>s.test(i)))}async function yLe(e,t){const{labelingInfo:i,fieldsIndex:r}=t;i!=null&&i.length&&await Promise.all(i.map(s=>PH(e,r,s)))}async function PH(e,t,i){if(!i)return;const r=i.getLabelExpression(),s=i.where;if(r.type==="arcade")await jr(e,t,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach(o=>{is(e,t,o.slice(1,-1))})}await FL(e,t,s)}function Gme(e){const t=e.defaultValue;return t!==void 0&&kH(e,t)?t:e.nullable?null:void 0}function gLe(e){const t=typeof e=="string"?{type:e}:e;return UH(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function DH(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function qme(e){return e===null||DH(e)}function Bme(e){return e===null||Number.isInteger(e)}function Hme(){return!0}function kH(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?Bme:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?qme:DH;break;case"string":case"esriFieldTypeString":i=e.nullable?ame:O1;break;default:i=Hme}return arguments.length===1?i:i(t)}const Wme=["integer","small-integer","big-integer"],Zme=["single","double"],Yme=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],Jme=["esriFieldTypeSingle","esriFieldTypeDouble"],FH=new Set([...Wme,...Yme]),Xme=new Set([...Zme,...Jme]),Qme=AR(FH,Xme);function Kme(e){return e!=null&&FH.has(e.type)}function jH(e){return e!=null&&Qme.has(e.type)}function UH(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function eye(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function vLe(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function bLe(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function tye(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function zF(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function VF(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function _Le(e,t){return iye(e,t)===null}var I2,R2;function wLe(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function iye(e,t){return e==null||e.nullable&&t===null?null:kH(e,t)?jH(e)&&!rye(e.type,Number(t))?I2.OUT_OF_RANGE:null:R2.INVALID_TYPE}function rye(e,t){const i=typeof e=="string"?zH(e):e;if(!i)return!1;const r=i.min,s=i.max;return i.isInteger?Number.isInteger(t)&&t>=r&&t<=s:t>=r&&t<=s}function zH(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return sye;case"esriFieldTypeInteger":case"integer":return nye;case"esriFieldTypeBigInteger":case"big-integer":return oye;case"esriFieldTypeSingle":case"single":return aye;case"esriFieldTypeDouble":case"double":return lye}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(I2||(I2={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(R2||(R2={}));const sye={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},nye={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},oye={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},aye={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},lye={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function SLe(e,t,i){switch(e){case A2.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case A2.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case R2.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case I2.OUT_OF_RANGE:{const{min:r,max:s}=zH(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${r} to ${s}`}}}function uye(e,t){return!cye(e,t,null)}function cye(e,t,i){if(!(t!=null&&t.attributes)||!e)return!0;const r=new Set(Object.keys(t.attributes));let s=!1;for(const n of e)if(!r.has(n)&&(s=!0,i==null))break;return s}function dye(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}async function TLe(e,t){const i=new Set;return e!=null&&e.collectRequiredFields&&await e.collectRequiredFields(i,t),Array.from(i).sort()}function jL(e){const t=e==null?void 0:e.match(/{[^}]+}/g);return t?t.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let zw=class extends K{constructor(t){super(t),this.type=null}};u([h({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],zw.prototype,"type",void 0),zw=u([A("esri.popup.content.Content")],zw);const Pl=zw,j_=new rt({asc:"ascending",desc:"descending"});let s0=class extends at.ClonableMixin(K){constructor(t){super(t),this.field=null,this.order="ascending"}};u([h({type:String,json:{write:!0}})],s0.prototype,"field",void 0),u([h({type:j_.apiValues,json:{type:j_.jsonValues,read:j_.read,write:j_.write}})],s0.prototype,"order",void 0),s0=u([A("esri.popup.support.AttachmentsOrderByInfo")],s0);const hye=s0;let xu=class extends at.ClonableMixin(Pl){constructor(t){super(t),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};u([h({type:String,json:{write:!0}})],xu.prototype,"description",void 0),u([h({type:["auto","preview","list"],json:{write:!0}})],xu.prototype,"displayType",void 0),u([h({type:[hye],json:{write:!0}})],xu.prototype,"orderByFields",void 0),u([h({type:String,json:{write:!0}})],xu.prototype,"title",void 0),u([h({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],xu.prototype,"type",void 0),xu=u([A("esri.popup.content.AttachmentsContent")],xu);const Fm=xu;var XA;let Od=XA=class extends Pl{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new XA({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?j(this.outFields):null})}};u([h()],Od.prototype,"creator",void 0),u([h()],Od.prototype,"destroyer",void 0),u([h()],Od.prototype,"outFields",void 0),u([h({type:["custom"],readOnly:!0})],Od.prototype,"type",void 0),Od=XA=u([A("esri.popup.content.CustomContent")],Od);const pye=Od;var QA;let uf=QA=class extends K{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new QA({title:this.title,expression:this.expression})}};u([h({type:String,json:{write:!0}})],uf.prototype,"title",void 0),u([h({type:String,json:{write:!0}})],uf.prototype,"expression",void 0),u([h({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],uf.prototype,"returnType",void 0),uf=QA=u([A("esri.popup.ElementExpressionInfo")],uf);const fye=uf;var KA;let n0=KA=class extends Pl{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new KA({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};u([h({type:fye,json:{write:!0}})],n0.prototype,"expressionInfo",void 0),u([h({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],n0.prototype,"type",void 0),n0=KA=u([A("esri.popup.content.ExpressionContent")],n0);const zT=n0;let cf=class extends at.ClonableMixin(K){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};u([Ie(ice)],cf.prototype,"dateFormat",void 0),u([h({type:Boolean,json:{write:!0}})],cf.prototype,"digitSeparator",void 0),u([h({type:yt,json:{write:!0}})],cf.prototype,"places",void 0),cf=u([A("esri.popup.support.FieldInfoFormat")],cf);const Vw=cf;var eO;let no=eO=class extends K{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){var e;return new eO({fieldName:this.fieldName,format:(e=this.format)==null?void 0:e.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};u([h({type:String,json:{write:!0}})],no.prototype,"fieldName",void 0),u([h({type:Vw,json:{write:!0}})],no.prototype,"format",void 0),u([h({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],no.prototype,"isEditable",void 0),u([h({type:String,json:{write:!0}})],no.prototype,"label",void 0),u([Ie(new rt({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],no.prototype,"stringFieldOption",void 0),u([h({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],no.prototype,"statisticType",void 0),u([h({type:String,json:{write:!0}})],no.prototype,"tooltip",void 0),u([h({type:Boolean,json:{write:!0}})],no.prototype,"visible",void 0),no=eO=u([A("esri.popup.FieldInfo")],no);const UL=no;var tO;let Ja=tO=class extends Pl{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new tO(j({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};u([h({type:Object,json:{write:!0}})],Ja.prototype,"attributes",void 0),u([h({type:String,json:{write:!0}})],Ja.prototype,"description",void 0),u([h({type:[UL]})],Ja.prototype,"fieldInfos",void 0),u([de("fieldInfos")],Ja.prototype,"writeFieldInfos",null),u([h({type:String,json:{write:!0}})],Ja.prototype,"title",void 0),u([h({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ja.prototype,"type",void 0),Ja=tO=u([A("esri.popup.content.FieldsContent")],Ja);const jm=Ja;let Cd=class extends K{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};u([h({type:String,json:{write:!0}})],Cd.prototype,"altText",void 0),u([h({type:String,json:{write:!0}})],Cd.prototype,"caption",void 0),u([h({type:String,json:{write:!0}})],Cd.prototype,"title",void 0),u([h({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Cd.prototype,"type",void 0),Cd=u([A("esri.popup.content.mixins.MediaInfo")],Cd);const zL=Cd;var iO;let Id=iO=class extends Te{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var e;return new iO({color:(e=this.color)==null?void 0:e.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};u([h()],Id.prototype,"color",void 0),u([h()],Id.prototype,"fieldName",void 0),u([h()],Id.prototype,"tooltip",void 0),u([h()],Id.prototype,"value",void 0),Id=iO=u([A("esri.popup.content.support.ChartMediaInfoValueSeries")],Id);const mye=Id;var rO;let Mu=rO=class extends K{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new rO({colors:j(this.colors),fields:j(this.fields),normalizeField:this.normalizeField,series:j(this.series),tooltipField:this.tooltipField})}};u([h({type:[Ne],json:{type:[[yt]],write:!0}})],Mu.prototype,"colors",void 0),u([h({type:[String],json:{write:{isRequired:!0}}})],Mu.prototype,"fields",void 0),u([h({type:String,json:{write:!0}})],Mu.prototype,"normalizeField",void 0),u([h({type:[mye],json:{read:!1}})],Mu.prototype,"series",void 0),u([h({type:String,json:{write:!0}})],Mu.prototype,"tooltipField",void 0),Mu=rO=u([A("esri.popup.content.support.ChartMediaInfoValue")],Mu);const yye=Mu;let o0=class extends zL{constructor(t){super(t),this.type=null,this.value=void 0}};u([h({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],o0.prototype,"type",void 0),u([h({type:yye,json:{write:{isRequired:!0}}})],o0.prototype,"value",void 0),o0=u([A("esri.popup.content.mixins.ChartMediaInfo")],o0);const VT=o0,GT=hr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var sO;let Gw=sO=class extends VT{constructor(e){super(e),this.type="bar-chart"}clone(){var e;return new sO({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};u([h({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:GT.write,isRequired:!0}}})],Gw.prototype,"type",void 0),Gw=sO=u([A("esri.popup.content.BarChartMediaInfo")],Gw);const VH=Gw;var nO;let qw=nO=class extends VT{constructor(e){super(e),this.type="column-chart"}clone(){var e;return new nO({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};u([h({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:GT.write,isRequired:!0}}})],qw.prototype,"type",void 0),qw=nO=u([A("esri.popup.content.ColumnChartMediaInfo")],qw);const GH=qw;var oO;let a0=oO=class extends K{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new oO({linkURL:this.linkURL,sourceURL:this.sourceURL})}};u([h({type:String,json:{write:!0}})],a0.prototype,"linkURL",void 0),u([h({type:String,json:{write:{isRequired:!0}}})],a0.prototype,"sourceURL",void 0),a0=oO=u([A("esri.popup.content.support.ImageMediaInfoValue")],a0);const gye=a0;var aO;let df=aO=class extends zL{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var e;return new aO({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:(e=this.value)==null?void 0:e.clone()})}};u([h({type:Number,json:{write:!0}})],df.prototype,"refreshInterval",void 0),u([h({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],df.prototype,"type",void 0),u([h({type:gye,json:{write:{isRequired:!0}}})],df.prototype,"value",void 0),df=aO=u([A("esri.popup.content.ImageMediaInfo")],df);const qH=df;var lO;let Bw=lO=class extends VT{constructor(e){super(e),this.type="line-chart"}clone(){var e;return new lO({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};u([h({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:GT.write,isRequired:!0}}})],Bw.prototype,"type",void 0),Bw=lO=u([A("esri.popup.content.LineChartMediaInfo")],Bw);const BH=Bw;var uO;let Hw=uO=class extends VT{constructor(e){super(e),this.type="pie-chart"}clone(){var e;return new uO({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};u([h({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:GT.write,isRequired:!0}}})],Hw.prototype,"type",void 0),Hw=uO=u([A("esri.popup.content.PieChartMediaInfo")],Hw);const HH=Hw,cO={base:zL,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":VH,"column-chart":GH,"line-chart":BH,"pie-chart":HH,image:qH}};var dO;let oo=dO=class extends Pl{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?qH.fromJSON(t):t.type==="barchart"?VH.fromJSON(t):t.type==="columnchart"?GH.fromJSON(t):t.type==="linechart"?BH.fromJSON(t):t.type==="piechart"?HH.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new dO(j({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};u([h()],oo.prototype,"activeMediaInfoIndex",void 0),u([h({type:Object,json:{write:!0}})],oo.prototype,"attributes",void 0),u([h({type:String,json:{write:!0}})],oo.prototype,"description",void 0),u([h({types:[cO]})],oo.prototype,"mediaInfos",void 0),u([ue("mediaInfos")],oo.prototype,"readMediaInfos",null),u([de("mediaInfos")],oo.prototype,"writeMediaInfos",null),u([h({type:String,json:{write:!0}})],oo.prototype,"title",void 0),u([h({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],oo.prototype,"type",void 0),oo=dO=u([A("esri.popup.content.MediaContent")],oo);const Hv=oo;var hO;let l0=hO=class extends K{constructor(e){super(e),this.field=null,this.order=null}clone(){return new hO({field:this.field,order:this.order})}};u([h({type:String,json:{write:!0}})],l0.prototype,"field",void 0),u([h({type:["asc","desc"],json:{write:!0}})],l0.prototype,"order",void 0),l0=hO=u([A("esri.popup.support.RelatedRecordsInfoFieldOrder")],l0);const VL=l0;let Ho=class extends at.ClonableMixin(Pl){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};u([h({type:String,json:{write:!0}})],Ho.prototype,"description",void 0),u([h({type:Number,json:{type:yt,write:!0}})],Ho.prototype,"displayCount",void 0),u([h({type:["list"],json:{write:{isRequired:!0}}})],Ho.prototype,"displayType",void 0),u([h({type:[VL],json:{write:!0}})],Ho.prototype,"orderByFields",void 0),u([h({type:Number,json:{type:yt,write:{isRequired:!0}}})],Ho.prototype,"relationshipId",void 0),u([h({type:String,json:{write:!0}})],Ho.prototype,"title",void 0),u([h({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ho.prototype,"type",void 0),Ho=u([A("esri.popup.content.RelationshipContent")],Ho);const Wv=Ho;var pO;let u0=pO=class extends Pl{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new pO({text:this.text})}};u([h({type:String,json:{write:!0}})],u0.prototype,"text",void 0),u([h({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],u0.prototype,"type",void 0),u0=pO=u([A("esri.popup.content.TextContent")],u0);const Zv=u0;let Xa=class extends at.ClonableMixin(K){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};u([h({type:String,json:{write:!0}})],Xa.prototype,"title",void 0),u([h({type:String,json:{write:!0}})],Xa.prototype,"description",void 0),u([h({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Xa.prototype,"type",void 0),u([h({type:Number,json:{type:yt,write:!0}})],Xa.prototype,"associatedNetworkSourceId",void 0),u([h({type:Number,json:{type:yt,write:!0}})],Xa.prototype,"associatedAssetGroup",void 0),u([h({type:Number,json:{type:yt,write:!0}})],Xa.prototype,"associatedAssetType",void 0),Xa=u([A("esri.popup.support.UtilityNetworkAssociationType")],Xa);const WH=Xa;let Au=class extends at.ClonableMixin(Pl){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};u([h({type:String,json:{write:!0}})],Au.prototype,"description",void 0),u([h({type:Number,json:{type:yt,write:!0}})],Au.prototype,"displayCount",void 0),u([h({type:String,json:{write:!0}})],Au.prototype,"title",void 0),u([h({type:[WH],json:{write:!0}})],Au.prototype,"associationTypes",void 0),u([Ie({utilityNetworkAssociations:"utility-network-associations"})],Au.prototype,"type",void 0),Au=u([A("esri.popup.content.UtilityNetworkAssociationsContent")],Au);const GL=Au,vye={base:null,key:"type",typeMap:{attachment:Fm,media:Hv,text:Zv,expression:zT,field:jm,relationship:Wv,utilityNetworkAssociations:GL}},bye={base:null,key:"type",typeMap:{attachment:Fm,media:Hv,text:Zv,expression:zT,field:jm,relationship:Wv}};var fO;let Rd=fO=class extends K{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new fO({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([h({type:String,json:{write:!0}})],Rd.prototype,"name",void 0),u([h({type:String,json:{write:!0}})],Rd.prototype,"title",void 0),u([h({type:String,json:{write:!0}})],Rd.prototype,"expression",void 0),u([h({type:["string","number"],json:{write:!0}})],Rd.prototype,"returnType",void 0),Rd=fO=u([A("esri.popup.ExpressionInfo")],Rd);const _ye=Rd;var mO;let c0=mO=class extends K{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new mO({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};u([h({type:Boolean,json:{write:!0}})],c0.prototype,"returnTopmostRaster",void 0),u([h({type:Boolean,json:{write:!0}})],c0.prototype,"showNoDataRecords",void 0),c0=mO=u([A("esri.popup.LayerOptions")],c0);const wye=c0;var yO;let d0=yO=class extends K{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new yO({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?j(this.orderByFields):null})}};u([h({type:Boolean,json:{write:!0}})],d0.prototype,"showRelatedRecords",void 0),u([h({type:[VL],json:{write:!0}})],d0.prototype,"orderByFields",void 0),d0=yO=u([A("esri.popup.RelatedRecordsInfo")],d0);const GF=d0;var gO;let gn=gO=class extends Fc.IdentifiableMixin(Te){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new gO({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};u([h()],gn.prototype,"active",void 0),u([h()],gn.prototype,"className",void 0),u([h()],gn.prototype,"disabled",void 0),u([h()],gn.prototype,"icon",void 0),u([h()],gn.prototype,"id",void 0),u([h()],gn.prototype,"indicator",void 0),u([h()],gn.prototype,"title",void 0),u([h()],gn.prototype,"type",void 0),u([h()],gn.prototype,"visible",void 0),gn=gO=u([A("esri.support.actions.ActionBase")],gn);const qT=gn;var vO;let Ww=vO=class extends qT{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new vO({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};u([h()],Ww.prototype,"image",void 0),Ww=vO=u([A("esri.support.actions.ActionButton")],Ww);const ZH=Ww;var bO;let h0=bO=class extends qT{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new bO({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};u([h()],h0.prototype,"image",void 0),u([h()],h0.prototype,"value",void 0),h0=bO=u([A("esri.support.actions.ActionToggle")],h0);const YH=h0,Cg="relationships/",qF="expression/",Sye=pe.ofType({key:"type",defaultKeyValue:"button",base:qT,typeMap:{button:ZH,toggle:YH}}),Tye={base:Pl,key:"type",typeMap:{media:Hv,custom:pye,text:Zv,attachments:Fm,fields:jm,expression:zT,relationship:Wv,utilityNetworkAssociations:GL}},JH=new Set(["attachments","fields","media","text","expression","relationship"]),Eye=new Set([...JH,"utility-network-associations"]);let Ni=class extends at.ClonableMixin(K){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(i=>Co(Tye,i)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||ba(t)?t:(ne.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(t,i,r,s){this._writePopupTemplateContent(t,i,s)}writeWebMapContent(t,i,r,s){this._writePopupTemplateContent(t,i,s)}writeFieldInfos(t,i,r,s){const{content:n}=this,o=Array.isArray(n)?n:null;if(t){const c=o?o.filter(f=>f.type==="fields"):[],d=c.length&&c.every(f=>{var g;return(g=f.fieldInfos)==null?void 0:g.length});i.fieldInfos=t.filter(Boolean).map(f=>{const g=f.toJSON(s);return d&&(g.visible=!1),g})}if(o)for(const c of o)c.type==="fields"&&this._writeFieldsContent(c,i)}writeLayerOptions(t,i,r,s){i[r]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(s)}writeTitle(t,i){i.title=t||""}async collectRequiredFields(t,i){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(t,i,[...r,...this._getContentExpressionInfos(this.content,r)]),Gh(t,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const i=new Set;return await this.collectRequiredFields(i,t),[...i].sort()}_writePopupTemplateContent(t,i,r){typeof t!="string"?Array.isArray(t)&&(i.popupElements=t.filter(s=>(r==null?void 0:r.origin)==="web-scene"?JH.has(s.type):Eye.has(s.type)).map(s=>s==null?void 0:s.toJSON(r)),i.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(i):s.type==="media"?this._writeMediaContent(s,i):s.type==="text"?this._writeTextContent(s,i):s.type==="relationship"&&this._writeRelationshipContent(s,i)})):i.description=t}_writeFieldsContent(t,i){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const r=j(t.fieldInfos);Array.isArray(i.fieldInfos)?r.forEach(s=>{const n=i.fieldInfos.find(o=>{var c,d;return((c=o.fieldName)==null?void 0:c.toLowerCase())===((d=s.fieldName)==null?void 0:d.toLowerCase())});n?n.visible=!0:i.fieldInfos.push(s)}):i.fieldInfos=r}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,i){var n,o;const r=((n=t.orderByFields)==null?void 0:n.map(c=>this._toFieldOrderJSON(c,t.relationshipId)))||[],s=[...((o=i.relatedRecordsInfo)==null?void 0:o.orderByFields)||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...(s==null?void 0:s.length)&&{orderByFields:s}}}_writeTextContent(t,i){!i.description&&t.text&&(i.description=t.text)}_writeMediaContent(t,i){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const r=j(t.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(t,i,r){const s={description:!1,mediaInfos:!1};return r.map(n=>n.type==="media"?(n.mediaInfos||!i||s.mediaInfos||(n.mediaInfos=i,s.mediaInfos=!0),Hv.fromJSON(n)):n.type==="text"?(n.text||!t||s.description||(n.text=t,s.description=!0),Zv.fromJSON(n)):n.type==="attachments"?Fm.fromJSON(n):n.type==="fields"?jm.fromJSON(n):n.type==="expression"?zT.fromJSON(n):n.type==="relationship"?Wv.fromJSON(n):n.type==="utilityNetworkAssociations"?GL.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:i,order:r}=t;if(!(i!=null&&i.startsWith(Cg)))return null;const s=i.replace(Cg,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),o=s[1];return!Number.isNaN(n)&&o?Wv.fromJSON({relationshipId:n,orderByFields:[{field:o,order:r}]}):null}_toFieldOrderJSON(t,i){const{order:r,field:s}=t;return{field:`${Cg}${i}/${s}`,order:r}}_readPopupInfo({description:t,mediaInfos:i,showAttachments:r,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];t?n.push(new Zv({text:t})):n.push(new jm),Array.isArray(i)&&i.length&&n.push(Hv.fromJSON({mediaInfos:i})),r&&n.push(Fm.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:c}=s;return o&&(c!=null&&c.length)&&c.forEach(d=>{const f=this._toRelationshipContent(d);f&&n.push(f)}),n.length?n:t}_getContentElementFields(t){const i=t==null?void 0:t.type;if(i==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(i==="custom")return t.outFields||[];if(i==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(i==="media"){const r=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...r.reduce((s,n)=>[...s,...this._getMediaInfoFields(n)],[])]}return i==="text"?this._extractFieldNames(t.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:i,title:r,value:s}=t,n=s||{},{fields:o,normalizeField:c,tooltipField:d,sourceURL:f,linkURL:g}=n,v=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(f),...this._extractFieldNames(g),...o??[]];return c&&v.push(c),d&&v.push(d),v}_getContentExpressionInfos(t,i){return Array.isArray(t)?t.reduce((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],i):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(t,i,r){r&&await Promise.all(r.map(s=>jr(t,i,s.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(Cg)||i.startsWith(qF))).map(i=>i.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(t){const{className:i,title:r,type:s}=t,n=s==="button"||s==="toggle"?t.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(n)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return jL(t).filter(i=>!(i.indexOf(Cg)===0||i.indexOf(qF)===0))}};u([h({type:Sye})],Ni.prototype,"actions",void 0),u([h()],Ni.prototype,"content",void 0),u([ht("content")],Ni.prototype,"castContent",null),u([ue("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Ni.prototype,"readContent",null),u([de("web-scene","content",{popupElements:{type:pe.ofType(bye)},showAttachments:{type:Boolean},mediaInfos:{type:pe.ofType(cO)},description:{type:String},relatedRecordsInfo:{type:GF}})],Ni.prototype,"writeWebSceneContent",null),u([de("content",{popupElements:{type:pe.ofType(vye)},showAttachments:{type:Boolean},mediaInfos:{type:pe.ofType(cO)},description:{type:String},relatedRecordsInfo:{type:GF}})],Ni.prototype,"writeWebMapContent",null),u([h({type:[_ye],json:{write:!0}})],Ni.prototype,"expressionInfos",void 0),u([h({type:[UL]})],Ni.prototype,"fieldInfos",void 0),u([de("fieldInfos")],Ni.prototype,"writeFieldInfos",null),u([h({type:wye})],Ni.prototype,"layerOptions",void 0),u([de("layerOptions")],Ni.prototype,"writeLayerOptions",null),u([h({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ni.prototype,"lastEditInfoEnabled",void 0),u([h()],Ni.prototype,"outFields",void 0),u([h()],Ni.prototype,"overwriteActions",void 0),u([h()],Ni.prototype,"returnGeometry",void 0),u([h({json:{type:String}})],Ni.prototype,"title",void 0),u([de("title")],Ni.prototype,"writeTitle",null),Ni=u([A("esri.PopupTemplate")],Ni);const Jh=Ni,BF=new rt({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let $ye=0,hf=class extends K{constructor(t){super(t),this.id="sym"+$ye++,this.type=null,this.color=new Ne([0,0,0,1])}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};u([h({type:BF.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:BF.write,isRequired:!0}}})],hf.prototype,"type",void 0),u([h({type:Ne,json:{write:{allowNull:!0}}})],hf.prototype,"color",void 0),u([ue("color")],hf.prototype,"readColor",null),hf=u([A("esri.symbols.Symbol")],hf);const Sr=hf;var _O;let Ou=_O=class extends Sr{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){var i;if(((i=this.data)==null?void 0:i.type)==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const s=r.map(n=>{const o=n.valueExpressionInfo;return o?jr(e,t,o.expression):null});await Promise.all(s)}}}clone(){return new _O({data:j(this.data)})}hash(){return gV(JSON.stringify(this.data)).toString()}};u([h({json:{write:!1}})],Ou.prototype,"color",void 0),u([h({json:{write:!0}})],Ou.prototype,"data",void 0),u([ue("data",["symbol"])],Ou.prototype,"readData",null),u([de("data",{})],Ou.prototype,"writeData",null),u([Ie({CIMSymbolReference:"cim"},{readOnly:!0})],Ou.prototype,"type",void 0),Ou=_O=u([A("esri.symbols.CIMSymbol")],Ou);const jc=Ou;let pf=class extends K{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,i,r){t||(i[r]=t)}};u([h({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],pf.prototype,"enabled",void 0),u([de("enabled")],pf.prototype,"writeEnabled",null),u([h({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],pf.prototype,"type",void 0),pf=u([A("esri.symbols.Symbol3DLayer")],pf);const _a=pf;function xye(e,t){const i=t.transparency!=null?Bv(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new Ne([r[0]||0,r[1]||0,r[2]||0,i]):null}function Mye(e,t){t.color=e.toJSON().slice(0,3);const i=DT(e.a);i!==0&&(t.transparency=i)}function Uc(e){return{type:Ne,nonNullable:e==null?void 0:e.nonNullable,json:{type:[yt],default:null,read:{source:["color","transparency"],reader:xye},write:{target:{color:{type:[yt],isRequired:e==null?void 0:e.colorRequiredOnWrite},transparency:{type:yt}},writer:Mye}}}}const va={type:Number,cast:dt,json:{write:!0}};let Ld=class extends K{constructor(t){super(t),this.color=new Ne([0,0,0,1]),this.extensionLength=0,this.size=kn(1)}clone(){}cloneProperties(){return{color:j(this.color),size:this.size,extensionLength:this.extensionLength}}};u([h({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Ld.prototype,"type",void 0),u([h(Uc({colorRequiredOnWrite:!0}))],Ld.prototype,"color",void 0),u([h({...va,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Ld.prototype,"extensionLength",void 0),u([h(va)],Ld.prototype,"size",void 0),Ld=u([A("esri.symbols.edges.Edges3D")],Ld);const qL=Ld;var wO;let Zw=wO=class extends qL{constructor(e){super(e),this.type="sketch"}clone(){return new wO(this.cloneProperties())}};u([Ie({sketch:"sketch"},{readOnly:!0})],Zw.prototype,"type",void 0),Zw=wO=u([A("esri.symbols.edges.SketchEdges3D")],Zw);const Aye=Zw;var SO;let Yw=SO=class extends qL{constructor(e){super(e),this.type="solid"}clone(){return new SO(this.cloneProperties())}};u([Ie({solid:"solid"},{readOnly:!0})],Yw.prototype,"type",void 0),Yw=SO=u([A("esri.symbols.edges.SolidEdges3D")],Yw);const XH=Yw,QH={types:{key:"type",base:qL,typeMap:{solid:XH,sketch:Aye}},json:{write:!0}};var TO;let Ys=TO=class extends K{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){var t;const e={color:((t=this.color)==null?void 0:t.clone())??null,emissiveFactor:this.emissiveFactor?wL(this.emissiveFactor):null};return new TO(e)}};u([h(Uc())],Ys.prototype,"color",void 0),u([h({type:[Number],json:{write:!1}})],Ys.prototype,"emissiveFactor",void 0),Ys=TO=u([A("esri.symbols.support.Symbol3DMaterial")],Ys);var EO;let Cu=EO=class extends _a{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var e,t;return new EO({edges:(e=this.edges)==null?void 0:e.clone(),enabled:this.enabled,material:(t=this.material)==null?void 0:t.clone(),castShadows:this.castShadows,size:this.size})}};u([Ie({Extrude:"extrude"},{readOnly:!0})],Cu.prototype,"type",void 0),u([h({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Cu.prototype,"size",void 0),u([h({type:Ys,json:{write:!0}})],Cu.prototype,"material",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Cu.prototype,"castShadows",void 0),u([h(QH)],Cu.prototype,"edges",void 0),Cu=EO=u([A("esri.symbols.ExtrudeSymbol3DLayer")],Cu);const KH=Cu;let Jw=class extends K{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};u([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Jw.prototype,"type",void 0),Jw=u([A("esri.symbols.patterns.LinePattern3D")],Jw);const eW=Jw,Oye=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var $O;const Cye=hr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let p0=$O=class extends eW{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new $O(e)}};u([h({type:["style"],json:{write:{isRequired:!0}}})],p0.prototype,"type",void 0),u([Ie(Cye),h({type:Oye,json:{write:{isRequired:!0}}})],p0.prototype,"style",void 0),p0=$O=u([A("esri.symbols.patterns.LineStylePattern3D")],p0);const BL=p0;let Xw=class extends K{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};u([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Xw.prototype,"type",void 0),Xw=u([A("esri.symbols.patterns.Pattern3D")],Xw);const tW=Xw,Iye=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var xO;let f0=xO=class extends tW{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new xO({style:this.style})}};u([h({type:["style"],json:{write:{isRequired:!0}}})],f0.prototype,"type",void 0),u([h({type:Iye,json:{read:!0,write:{isRequired:!0}}})],f0.prototype,"style",void 0),f0=xO=u([A("esri.symbols.patterns.StylePattern3D")],f0);const iW=f0,Rye={types:{key:"type",base:tW,typeMap:{style:iW}},json:{write:!0}},rW={types:{key:"type",base:eW,typeMap:{style:BL}},json:{write:!0}},gv=new Ne("white"),Lye=new Ne([255,255,255,0]);function Nye(e){return e.r===0&&e.g===0&&e.b===0}var MO;let vv=MO=class extends Ys{constructor(e){super(e),this.colorMixMode=null}clone(){var t;const e={color:((t=this.color)==null?void 0:t.clone())??null,emissiveFactor:this.emissiveFactor?wL(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new MO(e)}};u([Ie({multiply:"multiply",replace:"replace",tint:"tint"})],vv.prototype,"colorMixMode",void 0),vv=MO=u([A("esri.symbols.support.Symbol3DFillMaterial")],vv);function Pye(e,t=!1){return e<=cV?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function jLe(e){return(pie(e)?e.byteLength/8:e.length)<=cV?Array.from(e):new Float64Array(e)}function ULe(e,t,i){return Array.isArray(e)?e.slice(t,t+i):e.subarray(t,t+i)}function C1(e=jye){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function HL(e,t,i,r,s,n,o=C1()){return o[0]=e,o[1]=t,o[2]=i,o[3]=r,o[4]=s,o[5]=n,o}function zLe(e,t=C1()){return Dye(e,0,e.length/3,t)}function Dye(e,t,i,r=C1()){return sW(r,AO),kye(r,e,t,i),r}function VLe(e,t=Pye(24)){const[i,r,s,n,o,c]=e;return t[0]=i,t[1]=r,t[2]=s,t[3]=i,t[4]=r,t[5]=c,t[6]=i,t[7]=o,t[8]=s,t[9]=i,t[10]=o,t[11]=c,t[12]=n,t[13]=r,t[14]=s,t[15]=n,t[16]=r,t[17]=c,t[18]=n,t[19]=o,t[20]=s,t[21]=n,t[22]=o,t[23]=c,t}function GLe(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new Pt(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function qLe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function BLe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function HLe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function kye(e,t,i=0,r=t.length/3){let s=e[0],n=e[1],o=e[2],c=e[3],d=e[4],f=e[5];for(let g=0;g<r;g++)s=Math.min(s,t[i+3*g]),n=Math.min(n,t[i+3*g+1]),o=Math.min(o,t[i+3*g+2]),c=Math.max(c,t[i+3*g]),d=Math.max(d,t[i+3*g+1]),f=Math.max(f,t[i+3*g+2]);e[0]=s,e[1]=n,e[2]=o,e[3]=c,e[4]=d,e[5]=f}function WLe(e,t,i){const r=t.length;let s=e[0],n=e[1],o=e[2],c=e[3],d=e[4],f=e[5];if(i)for(let g=0;g<r;g++){const v=t[g];s=Math.min(s,v[0]),n=Math.min(n,v[1]),o=Math.min(o,v[2]),c=Math.max(c,v[0]),d=Math.max(d,v[1]),f=Math.max(f,v[2])}else for(let g=0;g<r;g++){const v=t[g];s=Math.min(s,v[0]),n=Math.min(n,v[1]),c=Math.max(c,v[0]),d=Math.max(d,v[1])}e[0]=s,e[1]=n,e[2]=o,e[3]=c,e[4]=d,e[5]=f}function ZLe(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function I1(e){return e[0]>=e[3]?0:e[3]-e[0]}function R1(e){return e[1]>=e[4]?0:e[4]-e[1]}function L1(e){return e[2]>=e[5]?0:e[5]-e[2]}function YLe(e){const t=I1(e),i=L1(e),r=R1(e);return Math.sqrt(t*t+i*i+r*r)}function JLe(e,t=[0,0,0]){return t[0]=e[0]+I1(e)/2,t[1]=e[1]+R1(e)/2,t[2]=e[2]+L1(e)/2,t}function XLe(e,t=[0,0,0]){return t[0]=I1(e),t[1]=R1(e),t[2]=L1(e),t}function QLe(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function Fye(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function KLe(e,t){return t==null||Fye(e,t)}function eNe(e,t,i,r,s=e){return s[0]=e[0]+t,s[1]=e[1]+i,s[2]=e[2]+r,s[3]=e[3]+t,s[4]=e[4]+i,s[5]=e[5]+r,s}function tNe(e,t,i=e){const r=e[0]+I1(e)/2,s=e[1]+R1(e)/2,n=e[2]+L1(e)/2;return i[0]=r+(e[0]-r)*t,i[1]=s+(e[1]-s)*t,i[2]=n+(e[2]-n)*t,i[3]=r+(e[3]-r)*t,i[4]=s+(e[4]-s)*t,i[5]=n+(e[5]-n)*t,i}function iNe(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function rNe(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function sNe(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function sW(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function nNe(e){return e?sW(e,AO):C1(AO)}function oNe(e,t){return t||(t=Kr()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function aNe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function lNe(e,t,i,r,s){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=s,e[5]=Number.POSITIVE_INFINITY,e}function HF(e){return e.length===6}function uNe(e){return I1(e)===0&&R1(e)===0&&L1(e)===0}function cNe(e,t,i){if(e==null||t==null)return e===t;if(!HF(e)||!HF(t))return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const AO=[1/0,1/0,1/0,-1/0,-1/0,-1/0],jye=[0,0,0,0,0,0];C1();function dNe(e,{isPrimitive:t,width:i,depth:r,height:s}){const n=t?10:1;if(i==null&&s==null&&r==null)return[n*e[0],n*e[1],n*e[2]];const o=Km(i,r,s);let c;for(let d=0;d<3;d++){const f=o[d];if(f!=null){c=f/e[d];break}}for(let d=0;d<3;d++)o[d]==null&&(o[d]=e[d]*c);return o}const Uye=HL(-.5,-.5,-.5,.5,.5,.5),zye=HL(-.5,-.5,0,.5,.5,1),Vye=HL(-.5,-.5,0,.5,.5,.5);function hNe(e){switch(e){case"sphere":case"cube":case"diamond":return Uye;case"cylinder":case"cone":case"inverted-cone":return zye;case"tetrahedron":return Vye;default:return}}const WL=["butt","square","round"],Gye=[...WL,"none"],nW=["miter","bevel","round"];var OO;let Nd=OO=class extends K{constructor(e){super(e),this.color=new Ne([0,0,0,1]),this.size=kn(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new OO(e)}};u([h(Uc({colorRequiredOnWrite:!0}))],Nd.prototype,"color",void 0),u([h({...va,json:{write:{isRequired:!0}}})],Nd.prototype,"size",void 0),u([h(rW)],Nd.prototype,"pattern",void 0),u([h({type:WL,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Nd.prototype,"patternCap",void 0),Nd=OO=u([A("esri.symbols.support.Symbol3DOutline")],Nd);var Qw;let Qa=Qw=class extends _a{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new Qw(e)}static fromSimpleFillSymbol(e){var r,s,n;const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new BL({style:e.outline.style}):null,i={size:((r=e.outline)==null?void 0:r.width)??0,color:(((s=e.outline)==null?void 0:s.color)??gv).clone(),pattern:t};return t&&((n=e.outline)!=null&&n.cap)&&(i.patternCap=e.outline.cap),new Qw({material:new vv({color:(e.color??Lye).clone()}),pattern:e.style&&e.style!=="solid"?new iW({style:e.style}):null,outline:i})}};u([Ie({Fill:"fill"},{readOnly:!0})],Qa.prototype,"type",void 0),u([h({type:vv,json:{write:!0}})],Qa.prototype,"material",void 0),u([h(Rye)],Qa.prototype,"pattern",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Qa.prototype,"castShadows",void 0),u([h({type:Nd,json:{write:!0}})],Qa.prototype,"outline",void 0),u([h(QH)],Qa.prototype,"edges",void 0),Qa=Qw=u([A("esri.symbols.FillSymbol3DLayer")],Qa);const Xh=Qa;var CO;const qye=hr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Pd=CO=class extends K{constructor(e){super(e)}readHref(e,t,i){return e?Hm(e,i):t.dataURI}writeHref(e,t,i,r){e&&(Bh(e)?t.dataURI=e:(t.href=g1(e,r),Xs(t.href)&&(t.href=Mo(t.href))))}clone(){return new CO({href:this.href,primitive:this.primitive})}};u([h({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Pd.prototype,"href",void 0),u([ue("href")],Pd.prototype,"readHref",null),u([de("href",{href:{type:String},dataURI:{type:String}})],Pd.prototype,"writeHref",null),u([Ie(qye)],Pd.prototype,"primitive",void 0),Pd=CO=u([A("esri.symbols.support.IconSymbol3DLayerResource")],Pd);const pNe="circle";var IO;let Jf=IO=class extends Te{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new IO({x:this.x,y:this.y})}};u([h({type:Number})],Jf.prototype,"x",void 0),u([h({type:Number})],Jf.prototype,"y",void 0),Jf=IO=u([A("esri.symbols.support.Symbol3DAnchorPosition2D")],Jf);var RO;let m0=RO=class extends K{constructor(e){super(e),this.color=new Ne([0,0,0,1]),this.size=kn(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new RO(e)}};u([h(Uc({colorRequiredOnWrite:!0}))],m0.prototype,"color",void 0),u([h({...va,json:{write:{isRequired:!0}}})],m0.prototype,"size",void 0),m0=RO=u([A("esri.symbols.support.Symbol3DIconOutline")],m0);var ff;const oW="esri.symbols.IconSymbol3DLayer";let ao=ff=class extends _a{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new ff({anchor:this.anchor,anchorPosition:j(this.anchorPosition),enabled:this.enabled,material:j(this.material),outline:j(this.outline),resource:j(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||gv,i=WF(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||gv).clone()}:null;return new ff({size:e.size,angle:e.angle,resource:{primitive:Hye(e.style)},material:{color:t},outline:r,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||Nye(e.color)?gv:e.color,i=WF(e);return new ff({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new ff({resource:{href:O7({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};u([h({type:Ys,json:{write:!0}})],ao.prototype,"material",void 0),u([h({type:Pd,json:{write:!0}})],ao.prototype,"resource",void 0),u([Ie({Icon:"icon"},{readOnly:!0})],ao.prototype,"type",void 0),u([h({...va,json:{write:{isRequired:!0}}})],ao.prototype,"size",void 0),u([Ie({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],ao.prototype,"anchor",void 0),u([h({type:Jf,json:{type:[Number],read:{reader:e=>new Jf({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ao.prototype,"anchorPosition",void 0),u([h({type:m0,json:{write:!0}})],ao.prototype,"outline",void 0),u([h({type:Number,json:{write:!0,default:0}})],ao.prototype,"angle",void 0),ao=ff=u([A(oW)],ao);const gh=ao;function WF(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,r=ZF(e.xoffset),s=ZF(e.yoffset);return(r||s)&&t&&i?{x:-r/t,y:s/i}:null}function ZF(e){return isFinite(e)?e:0}const Bye={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Hye(e){return Bye[e]||(ne.getLogger(oW).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Wye=["begin","end","begin-end"],aW=["arrow","circle","square","diamond","cross","x"];let Dd=class extends at.ClonableMixin(K){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};u([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Dd.prototype,"type",void 0),u([h({type:Wye,json:{default:"begin-end",write:!0}})],Dd.prototype,"placement",void 0),u([h({type:aW,json:{default:"arrow",write:!0}})],Dd.prototype,"style",void 0),u([h({type:Ne,json:{type:[yt],default:null,write:!0}})],Dd.prototype,"color",void 0),Dd=u([A("esri.symbols.LineStyleMarker3D")],Dd);const LO=Dd;var Kw;let Wo=Kw=class extends _a{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=kn(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new Kw(e)}static fromSimpleLineSymbol(e){var i;const t={enabled:!0,size:e.width??kn(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new BL({style:e.style}):null,material:new Ys({color:(e.color||gv).clone()}),marker:e.marker?new LO({placement:e.marker.placement,style:e.marker.style,color:((i=e.marker.color)==null?void 0:i.clone())??null}):null};return new Kw(t)}};u([h({type:Ys,json:{write:!0}})],Wo.prototype,"material",void 0),u([Ie({Line:"line"},{readOnly:!0})],Wo.prototype,"type",void 0),u([h({type:nW,json:{write:!0,default:"miter"}})],Wo.prototype,"join",void 0),u([h({type:WL,json:{write:!0,default:"butt"}})],Wo.prototype,"cap",void 0),u([h({...va,json:{write:{isRequired:!0}}})],Wo.prototype,"size",void 0),u([h(rW)],Wo.prototype,"pattern",void 0),u([h({types:{key:"type",base:LO,typeMap:{style:LO}},json:{write:!0}})],Wo.prototype,"marker",void 0),Wo=Kw=u([A("esri.symbols.LineSymbol3DLayer")],Wo);const ey=Wo;var NO;const Zye=hr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let y0=NO=class extends K{clone(){return new NO({href:this.href,primitive:this.primitive})}};u([h({type:String,json:{read:UR,write:Lh}})],y0.prototype,"href",void 0),u([Ie(Zye)],y0.prototype,"primitive",void 0),y0=NO=u([A("esri.symbols.support.ObjectSymbol3DLayerResource")],y0);const mNe="sphere";var PO;let ch=PO=class extends Te{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new PO({x:this.x,y:this.y,z:this.z})}};u([h({type:Number})],ch.prototype,"x",void 0),u([h({type:Number})],ch.prototype,"y",void 0),u([h({type:Number})],ch.prototype,"z",void 0),ch=PO=u([A("esri.symbols.support.Symbol3DAnchorPosition3D")],ch);var DO;let Or=DO=class extends _a{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,t,i;return new DO({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((t=this.material)==null?void 0:t.clone())??null,castShadows:this.castShadows,resource:(i=this.resource)==null?void 0:i.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};u([h({type:Ys,json:{write:!0}})],Or.prototype,"material",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Or.prototype,"castShadows",void 0),u([h({type:y0,json:{write:!0}})],Or.prototype,"resource",void 0),u([Ie({Object:"object"},{readOnly:!0})],Or.prototype,"type",void 0),u([h({type:Number,json:{write:!0}})],Or.prototype,"width",void 0),u([h({type:Number,json:{write:!0}})],Or.prototype,"height",void 0),u([h({type:Number,json:{write:!0}})],Or.prototype,"depth",void 0),u([Ie({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],Or.prototype,"anchor",void 0),u([h({type:ch,json:{type:[Number],read:{reader:e=>new ch({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Or.prototype,"anchorPosition",void 0),u([h({type:Number,json:{write:!0}})],Or.prototype,"heading",void 0),u([h({type:Number,json:{write:!0}})],Or.prototype,"tilt",void 0),u([h({type:Number,json:{write:!0}})],Or.prototype,"roll",void 0),u([h({readOnly:!0})],Or.prototype,"isPrimitive",null),Or=DO=u([A("esri.symbols.ObjectSymbol3DLayer")],Or);const ZL=Or;var kO;let Hr=kO=class extends _a{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new kO({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};u([h({type:Ys,json:{write:!0}})],Hr.prototype,"material",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Hr.prototype,"castShadows",void 0),u([Ie({Path:"path"},{readOnly:!0})],Hr.prototype,"type",void 0),u([h({type:["circle","quad"],json:{write:!0,default:"circle"}})],Hr.prototype,"profile",void 0),u([h({type:nW,json:{write:!0,default:"miter"}})],Hr.prototype,"join",void 0),u([h({type:Gye,json:{write:!0,default:"butt"}})],Hr.prototype,"cap",void 0),u([h({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Hr.prototype,"width",void 0),u([ue("width",["width","size","height"])],Hr.prototype,"readWidth",null),u([h({type:Number,json:{write:!0}})],Hr.prototype,"height",void 0),u([ue("height",["height","size","width"])],Hr.prototype,"readHeight",null),u([h({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Hr.prototype,"anchor",void 0),u([h({type:["heading","all"],json:{write:!0,default:"all"}})],Hr.prototype,"profileRotation",void 0),Hr=kO=u([A("esri.symbols.PathSymbol3DLayer")],Hr);const YL=Hr,Yye=["none","underline","line-through"],Jye=["normal","italic","oblique"],Xye=["normal","lighter","bold","bolder"],lW={type:Number,cast:e=>{const t=Xr(e);return t===0?1:Nn(t,.1,4)},nonNullable:!0},Qye=["left","right","center"],Kye=["baseline","top","middle","bottom"],uW={type:Qye,nonNullable:!0},cW={type:Kye,nonNullable:!0},yNe=8;var FO;let Ka=FO=class extends K{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return dt(e)}clone(){return new FO({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};u([h({type:Yye,json:{default:"none",write:!0}})],Ka.prototype,"decoration",void 0),u([h({type:String,json:{write:!0}})],Ka.prototype,"family",void 0),u([h({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],Ka.prototype,"size",void 0),u([ht("size")],Ka.prototype,"castSize",null),u([h({type:Jye,json:{default:"normal",write:!0}})],Ka.prototype,"style",void 0),u([h({type:Xye,json:{default:"normal",write:!0}})],Ka.prototype,"weight",void 0),Ka=FO=u([A("esri.symbols.Font")],Ka);const BT=Ka;var jO;let Xf=jO=class extends K{constructor(){super(...arguments),this.color=new Ne([0,0,0,1]),this.size=0}clone(){const e={color:j(this.color),size:this.size};return new jO(e)}};u([h(Uc())],Xf.prototype,"color",void 0),u([h(va)],Xf.prototype,"size",void 0),Xf=jO=u([A("esri.symbols.support.Symbol3DHalo")],Xf);let bv=class extends at.ClonableMixin(K){constructor(t){super(t),this.color=null}};u([h(Uc())],bv.prototype,"color",void 0),bv=u([A("esri.symbols.support.Symbol3DTextBackground")],bv);var eS;let ls=eS=class extends _a{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,r){const s={...r,textSymbol3D:!0};t.font=e.write({},s),delete t.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new eS({enabled:this.enabled,font:this.font&&j(this.font),halo:this.halo&&j(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:j(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new eS({font:e.font!=null?e.font.clone():new BT,halo:ege(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Ys({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new bv({color:e.backgroundColor.clone()}):null})}};function ege(e,t){return e&&t!=null&&t>0?new Xf({color:j(e),size:t}):null}u([h({type:BT,json:{write:!0}})],ls.prototype,"font",null),u([de("font")],ls.prototype,"writeFont",null),u([h({type:Xf,json:{write:!0}})],ls.prototype,"halo",void 0),u([h({...uW,json:{default:"center",write:!0}})],ls.prototype,"horizontalAlignment",void 0),u([h({...lW,json:{default:1,write:!0}})],ls.prototype,"lineHeight",void 0),u([h({type:Ys,json:{write:!0}})],ls.prototype,"material",void 0),u([h({type:bv,json:{write:!0}})],ls.prototype,"background",void 0),u([h(va)],ls.prototype,"size",null),u([h({type:String,json:{write:!0}})],ls.prototype,"text",void 0),u([Ie({Text:"text"},{readOnly:!0})],ls.prototype,"type",void 0),u([h({...cW,json:{default:"baseline",write:!0}})],ls.prototype,"verticalAlignment",void 0),ls=eS=u([A("esri.symbols.TextSymbol3DLayer")],ls);const ty=ls;var UO;let Iu=UO=class extends _a{constructor(e){super(e),this.color=zO.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new UO({color:j(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};u([h({type:Ne,nonNullable:!0,json:{type:[yt],write:(e,t,i)=>t[i]=e.toArray(Ne.AlphaMode.UNLESS_OPAQUE),default:()=>zO.clone(),defaultEquals:e=>e.toCss(!0)===zO.toCss(!0)}})],Iu.prototype,"color",void 0),u([Ie({Water:"water"},{readOnly:!0})],Iu.prototype,"type",void 0),u([h({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Iu.prototype,"waterbodySize",void 0),u([h({type:Number,json:{write:!0,default:null}})],Iu.prototype,"waveDirection",void 0),u([h({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Iu.prototype,"waveStrength",void 0),Iu=UO=u([A("esri.symbols.WaterSymbol3DLayer")],Iu);const dW=Iu,zO=new Ne([0,119,190]);var VO;let kd=VO=class extends Te{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new VO({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};u([h({type:String})],kd.prototype,"name",void 0),u([h({type:String})],kd.prototype,"styleUrl",void 0),u([h({type:String})],kd.prototype,"styleName",void 0),u([h({type:Ms})],kd.prototype,"portal",void 0),kd=VO=u([A("esri.symbols.support.StyleOrigin")],kd);const GO=kd;var qO;let _v=qO=class extends Te{constructor(){super(...arguments),this.url=""}clone(){return new qO({url:this.url})}};u([h({type:String})],_v.prototype,"url",void 0),_v=qO=u([A("esri.symbols.support.Thumbnail")],_v);const hW={icon:gh,object:ZL,line:ey,path:YL,fill:Xh,extrude:KH,text:ty,water:dW},tge=pe.ofType({base:_a,key:"type",typeMap:hW,errorContext:"symbol-layer"});let Zo=class extends Sr{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i==null?void 0:i.type,s=r||pe;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&ne.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){Cl(t,this._get("symbolLayers"))}readStyleOrigin(t,i,r){if(t.styleUrl&&t.name){const s=Hm(t.styleUrl,r);return new GO({styleUrl:s,name:t.name})}if(t.styleName&&t.name)return new GO({portal:(r==null?void 0:r.portal)||Ms.getDefault(),styleName:t.styleName,name:t.name});r!=null&&r.messages&&r.messages.push(new Ln("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:t}))}writeStyleOrigin(t,i,r,s){if(t.styleUrl&&t.name){let n=g1(t.styleUrl,s);Xs(n)&&(n=Mo(n)),i.styleOrigin={styleUrl:n,name:t.name}}else t.styleName&&t.name&&(t.portal&&(s!=null&&s.portal)&&!A7(t.portal.restUrl,s.portal.restUrl)?s!=null&&s.messages&&s.messages.push(new Ln("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof _a||t&&hW[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};u([h({json:{read:!1,write:!1}})],Zo.prototype,"color",null),u([h({type:tge,nonNullable:!0,json:{write:!0}}),ht(BB)],Zo.prototype,"symbolLayers",null),u([h({type:GO})],Zo.prototype,"styleOrigin",void 0),u([ue("styleOrigin")],Zo.prototype,"readStyleOrigin",null),u([de("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Zo.prototype,"writeStyleOrigin",null),u([h({type:_v,json:{read:!1}})],Zo.prototype,"thumbnail",void 0),u([h({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Zo.prototype,"type",void 0),Zo=u([A("esri.symbols.Symbol3D")],Zo);const N1=Zo;let g0=class extends K{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};u([h({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],g0.prototype,"type",void 0),u([h({readOnly:!0})],g0.prototype,"visible",void 0),g0=u([A("esri.symbols.callouts.Callout3D")],g0);const pW=g0;var BO;let tS=BO=class extends K{constructor(e){super(e),this.color=new Ne("white")}clone(){return new BO({color:j(this.color)})}};u([h(Uc({colorRequiredOnWrite:!0}))],tS.prototype,"color",void 0),tS=BO=u([A("esri.symbols.callouts.LineCallout3DBorder")],tS);const ige=tS;var HO;let Ru=HO=class extends pW{constructor(e){super(e),this.type="line",this.color=new Ne([0,0,0,1]),this.size=kn(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new HO({color:j(this.color),size:this.size,border:j(this.border)})}};u([Ie({line:"line"})],Ru.prototype,"type",void 0),u([h(Uc({colorRequiredOnWrite:!0}))],Ru.prototype,"color",void 0),u([h({...va,json:{write:{isRequired:!0}}})],Ru.prototype,"size",void 0),u([h({type:ige,json:{write:!0}})],Ru.prototype,"border",void 0),u([h({readOnly:!0})],Ru.prototype,"visible",null),Ru=HO=u([A("esri.symbols.callouts.LineCallout3D")],Ru);const fW=Ru;function JL(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function mW(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!(t!=null&&t.visible)&&!!JL(e)}function _Ne(e){return e.type==="point-3d"||e.type==="label-3d"}function wNe(e){return e.horizontalAlignment==="center"}const yW={types:{key:"type",base:pW,typeMap:{line:fW}},json:{write:!0}};var WO;let mf=WO=class extends K{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new WO({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};u([h({...va,json:{write:{isRequired:!0}}})],mf.prototype,"screenLength",void 0),u([h({type:Number,nonNullable:!0,json:{write:!0,default:0}})],mf.prototype,"minWorldLength",void 0),u([h({type:Number,json:{write:!0}})],mf.prototype,"maxWorldLength",void 0),mf=WO=u([A("esri.symbols.support.Symbol3DVerticalOffset")],mf);const XL=mf;var iS;const gW=pe.ofType({base:null,key:"type",typeMap:{text:ty}});let Lu=iS=class extends N1{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new gW,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return mW(this)}hasVisibleVerticalOffset(){return JL(this)}clone(){return new iS({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail),callout:j(this.callout),verticalOffset:j(this.verticalOffset)})}static fromTextSymbol(e){return new iS({symbolLayers:new pe([ty.fromTextSymbol(e)])})}};u([h({type:XL,json:{write:!0}})],Lu.prototype,"verticalOffset",void 0),u([h(yW)],Lu.prototype,"callout",void 0),u([h({json:{read:!1,write:!1}})],Lu.prototype,"styleOrigin",void 0),u([h({type:gW})],Lu.prototype,"symbolLayers",void 0),u([Ie({LabelSymbol3D:"label-3d"},{readOnly:!0})],Lu.prototype,"type",void 0),Lu=iS=u([A("esri.symbols.LabelSymbol3D")],Lu);const HT=Lu;var rS;const vW=pe.ofType({base:null,key:"type",typeMap:{line:ey,path:YL}}),rge=pe.ofType({base:null,key:"type",typeMap:{line:ey,path:YL}});let v0=rS=class extends N1{constructor(e){super(e),this.symbolLayers=new vW,this.type="line-3d"}clone(){return new rS({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromSimpleLineSymbol(e){return new rS({symbolLayers:new pe([ey.fromSimpleLineSymbol(e)])})}};u([h({type:vW,json:{type:rge}})],v0.prototype,"symbolLayers",void 0),u([Ie({LineSymbol3D:"line-3d"},{readOnly:!0})],v0.prototype,"type",void 0),v0=rS=u([A("esri.symbols.LineSymbol3D")],v0);const Qh=v0;var sS;const bW=pe.ofType({base:null,key:"type",typeMap:{fill:Xh}});let b0=sS=class extends N1{constructor(e){super(e),this.symbolLayers=new bW,this.type="mesh-3d"}clone(){return new sS({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromSimpleFillSymbol(e){return new sS({symbolLayers:new pe([Xh.fromSimpleFillSymbol(e)])})}};u([h({type:bW})],b0.prototype,"symbolLayers",void 0),u([Ie({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],b0.prototype,"type",void 0),b0=sS=u([A("esri.symbols.MeshSymbol3D")],b0);const P1=b0;let _0=class extends Sr{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};u([Ie({esriSLS:"simple-line"},{readOnly:!0})],_0.prototype,"type",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],_0.prototype,"width",void 0),_0=u([A("esri.symbols.LineSymbol")],_0);const sge=_0;var ZO;let Yo=ZO=class extends K{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,r){t[i]=(r==null?void 0:r.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,r){(r==null?void 0:r.origin)==="web-map"||(t[i]=e)}clone(){return new ZO({color:j(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};u([h({type:["begin","end","begin-end"],json:{write:!0}})],Yo.prototype,"placement",void 0),u([Ie({"line-marker":"line-marker"},{readOnly:!0}),h({json:{origins:{"web-map":{write:!1}}}})],Yo.prototype,"type",void 0),u([h({type:aW})],Yo.prototype,"style",void 0),u([de("style")],Yo.prototype,"writeStyle",null),u([h({type:Ne,value:null,json:{write:{allowNull:!0}}})],Yo.prototype,"color",null),u([ue("color")],Yo.prototype,"readColor",null),u([de("color")],Yo.prototype,"writeColor",null),Yo=ZO=u([A("esri.symbols.LineSymbolMarker")],Yo);const nge=Yo;var YO;const OM=new rt({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let el=YO=class extends sge{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,r,s,n){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),i!=null&&(o.width=dt(i)),r!=null&&(o.cap=r),s!=null&&(o.join=s),n!=null&&(o.miterLimit=dt(n)),o}clone(){var e;return new YO({color:j(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};u([Ie({esriSLS:"simple-line"},{readOnly:!0})],el.prototype,"type",void 0),u([h({type:OM.apiValues,json:{read:OM.read,write:OM.write}})],el.prototype,"style",void 0),u([h({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null?void 0:i.origin)==null})}}})],el.prototype,"cap",void 0),u([h({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null?void 0:i.origin)==null})}}})],el.prototype,"join",void 0),u([h({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":nge}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],el.prototype,"marker",void 0),u([h({type:Number,json:{read:!1,write:!1}})],el.prototype,"miterLimit",void 0),el=YO=u([A("esri.symbols.SimpleLineSymbol")],el);const tn=el;let w0=class extends Sr{constructor(t){super(t),this.outline=null,this.type=null}hash(){var t;return`${this.type}.${(t=this.outline)==null?void 0:t.hash()}`}};u([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":tn}},json:{default:null,write:!0}})],w0.prototype,"outline",void 0),u([h({type:["simple-fill","picture-fill"],readOnly:!0})],w0.prototype,"type",void 0),w0=u([A("esri.symbols.FillSymbol")],w0);const _W=w0;function oge(e,t,i){return t.imageData?O7({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):wW(t.url,i)}function wW(e,t){if(!Xs(e)){const i=lge(t);if(i)return xm(i,"images",e)}return Hm(e,t)}function age(e,t,i,r){if(Bh(e)){const s=Mm(e);if(!s)return;t.contentType=s.mediaType,t.imageData=s.data,i&&i.imageData===t.imageData&&i.url&&Lh(i.url,t,"url",r)}else Lh(e,t,"url",r)}const SW={json:{read:{source:["imageData","url"],reader:oge},write:{writer(e,t,i,r){age(e,t,this.source,r)}}}},TW={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=wW(t.url,i)),r}}}};function lge(e){var s,n;if(!e)return null;const{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;const r=i==null?void 0:i.type;return r==="feature"||r==="stream"?(s=i.parsedUrl)==null?void 0:s.path:r==="map-image"||r==="tile"?(n=e.url)==null?void 0:n.path:null}var JO;let vn=JO=class extends _W{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t&&(s.outline=t),i!=null&&(s.width=dt(i)),r!=null&&(s.height=dt(r)),s}clone(){const e=new JO({color:j(this.color),height:this.height,outline:j(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",j(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};u([Ie({esriPFS:"picture-fill"},{readOnly:!0})],vn.prototype,"type",void 0),u([h(SW)],vn.prototype,"url",void 0),u([h({type:Number,json:{write:!0}})],vn.prototype,"xscale",void 0),u([h({type:Number,json:{write:!0}})],vn.prototype,"yscale",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],vn.prototype,"width",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],vn.prototype,"height",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],vn.prototype,"xoffset",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],vn.prototype,"yoffset",void 0),u([h(TW)],vn.prototype,"source",void 0),vn=JO=u([A("esri.symbols.PictureFillSymbol")],vn);const QL=vn;let Nu=class extends Sr{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};u([h({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Nu.prototype,"angle",void 0),u([h({type:["simple-marker","picture-marker"],readOnly:!0})],Nu.prototype,"type",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],Nu.prototype,"xoffset",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],Nu.prototype,"yoffset",void 0),u([h({cast:e=>e==="auto"?e:Xr(dt(e)),json:{write:!0}})],Nu.prototype,"size",void 0),Nu=u([A("esri.symbols.MarkerSymbol")],Nu);const EW=Nu;var XO;let lo=XO=class extends EW{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t!=null&&(r.width=dt(t)),i!=null&&(r.height=dt(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new XO({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",j(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};u([h({json:{write:!1}})],lo.prototype,"color",void 0),u([Ie({esriPMS:"picture-marker"},{readOnly:!0})],lo.prototype,"type",void 0),u([h(SW)],lo.prototype,"url",void 0),u([h(TW)],lo.prototype,"source",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],lo.prototype,"height",void 0),u([ue("height",["height","size"])],lo.prototype,"readHeight",null),u([h({type:Number,cast:dt,json:{write:!0}})],lo.prototype,"width",void 0),u([h({json:{write:!1}})],lo.prototype,"size",void 0),lo=XO=u([A("esri.symbols.PictureMarkerSymbol")],lo);const D1=lo;var Fd;const $W=pe.ofType({base:null,key:"type",typeMap:{icon:gh,object:ZL,text:ty}});let jd=Fd=class extends N1{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new $W,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return mW(this)}hasVisibleVerticalOffset(){return JL(this)}clone(){return new Fd({verticalOffset:j(this.verticalOffset),callout:j(this.callout),styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Fd({symbolLayers:new pe([gh.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new Fd({symbolLayers:new pe([gh.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){var r,s;if(((s=(r=e.data)==null?void 0:r.symbol)==null?void 0:s.type)!=="CIMPointSymbol")return null;const i=e.data.symbol;return new Fd(i!=null&&i.callout?{symbolLayers:new pe([gh.fromCIMSymbol(e)]),callout:new fW({size:.5,color:new Ne([0,0,0])}),verticalOffset:new XL({screenLength:40})}:{symbolLayers:new pe([gh.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new Fd({symbolLayers:new pe([ty.fromTextSymbol(e)])})}};u([h({type:XL,json:{write:!0}})],jd.prototype,"verticalOffset",void 0),u([h(yW)],jd.prototype,"callout",void 0),u([h({type:$W,json:{origins:{"web-scene":{write:!0}}}})],jd.prototype,"symbolLayers",void 0),u([Ie({PointSymbol3D:"point-3d"},{readOnly:!0})],jd.prototype,"type",void 0),jd=Fd=u([A("esri.symbols.PointSymbol3D")],jd);const Tl=jd;var S0;const xW=pe.ofType({base:null,key:"type",typeMap:{extrude:KH,fill:Xh,icon:gh,line:ey,object:ZL,text:ty,water:dW}});let T0=S0=class extends N1{constructor(e){super(e),this.symbolLayers=new xW,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&Rv(ne.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&Rv(ne.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(Io(()=>this.symbolLayers,"after-add",({item:t})=>e(t),fa))}clone(){return new S0({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromJSON(e){var i;const t=new S0;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const r=t.symbolLayers.at(0),s=t.symbolLayers.at(1);!s.enabled||(i=e.symbolLayers)!=null&&i[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:s.size,color:s.material!=null?s.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new S0({symbolLayers:new pe([Xh.fromSimpleFillSymbol(e)])})}};u([h({type:xW,json:{write:!0}})],T0.prototype,"symbolLayers",void 0),u([Ie({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],T0.prototype,"type",void 0),T0=S0=u([A("esri.symbols.PolygonSymbol3D")],T0);const zc=T0;var QO;const CM=new rt({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Ud=QO=class extends _W{constructor(...e){super(...e),this.color=new Ne([0,0,0,.25]),this.outline=new tn,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t&&(r.outline=t),i&&(r.color=i),r}clone(){return new QO({color:j(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};u([h()],Ud.prototype,"color",void 0),u([h()],Ud.prototype,"outline",void 0),u([Ie({esriSFS:"simple-fill"},{readOnly:!0})],Ud.prototype,"type",void 0),u([h({type:CM.apiValues,json:{read:CM.read,write:CM.write}})],Ud.prototype,"style",void 0),Ud=QO=u([A("esri.symbols.SimpleFillSymbol")],Ud);const Kh=Ud;var KO;const IM=new rt({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Jo=KO=class extends EW{constructor(...e){super(...e),this.color=new Ne([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new tn}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t!=null&&(s.size=dt(t)),i&&(s.outline=i),r&&(s.color=r),s}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new KO({angle:this.angle,color:j(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};u([h()],Jo.prototype,"color",void 0),u([de("color")],Jo.prototype,"writeColor",null),u([Ie({esriSMS:"simple-marker"},{readOnly:!0})],Jo.prototype,"type",void 0),u([h()],Jo.prototype,"size",void 0),u([h({type:IM.apiValues,json:{read:IM.read,write:IM.write}})],Jo.prototype,"style",void 0),u([h({type:String,json:{write:!0}})],Jo.prototype,"path",null),u([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":tn}},json:{default:null,write:!0}})],Jo.prototype,"outline",void 0),Jo=KO=u([A("esri.symbols.SimpleMarkerSymbol")],Jo);const wa=Jo;var eC;let Qt=eC=class extends Sr{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new BT,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.text=e),t&&(r.font=t),i&&(r.color=i),r}writeLineWidth(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}castLineWidth(e){return dt(e)}writeLineHeight(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}clone(){return new eC({angle:this.angle,backgroundColor:j(this.backgroundColor),borderLineColor:j(this.borderLineColor),borderLineSize:this.borderLineSize,color:j(this.color),font:this.font&&this.font.clone(),haloColor:j(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e,t,i;return`${(e=this.backgroundColor)==null?void 0:e.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${(i=this.haloColor)==null?void 0:i.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};u([h({type:Ne,json:{write:!0}})],Qt.prototype,"backgroundColor",void 0),u([h({type:Ne,json:{write:!0}})],Qt.prototype,"borderLineColor",void 0),u([h({type:Number,json:{write:!0},cast:dt})],Qt.prototype,"borderLineSize",void 0),u([h({type:BT,json:{write:!0}})],Qt.prototype,"font",void 0),u([h({...uW,json:{write:!0}})],Qt.prototype,"horizontalAlignment",void 0),u([h({type:Boolean,json:{write:!0}})],Qt.prototype,"kerning",void 0),u([h({type:Ne,json:{write:!0}})],Qt.prototype,"haloColor",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],Qt.prototype,"haloSize",void 0),u([h({type:Boolean,json:{write:!0}})],Qt.prototype,"rightToLeft",void 0),u([h({type:Boolean,json:{write:!0}})],Qt.prototype,"rotated",void 0),u([h({type:String,json:{write:!0}})],Qt.prototype,"text",void 0),u([Ie({esriTS:"text"},{readOnly:!0})],Qt.prototype,"type",void 0),u([h({...cW,json:{write:!0}})],Qt.prototype,"verticalAlignment",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],Qt.prototype,"xoffset",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],Qt.prototype,"yoffset",void 0),u([h({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Qt.prototype,"angle",void 0),u([h({type:Number,json:{write:!0}})],Qt.prototype,"width",void 0),u([h({type:Number})],Qt.prototype,"lineWidth",void 0),u([de("lineWidth")],Qt.prototype,"writeLineWidth",null),u([ht("lineWidth")],Qt.prototype,"castLineWidth",null),u([h(lW)],Qt.prototype,"lineHeight",void 0),u([de("lineHeight")],Qt.prototype,"writeLineHeight",null),Qt=eC=u([A("esri.symbols.TextSymbol")],Qt);const iy=Qt;var tC;let uo=tC=class extends Sr{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:Ms.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new tC({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){const t=e&&"acceptedFormats"in e?e.acceptedFormats:["web"];return this._fetchSymbol({...e,acceptedFormats:t})}async fetchCIMSymbol(e){const t=await this.fetchSymbol({...e,acceptedFormats:["cim"]});if((t==null?void 0:t.type)!=="cim")throw new z("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,i=t?this._fetchCacheKey:null;if(t!=null){const o=i&&t.get(i);if(o)return o.clone()}const{resolveWebStyleSymbol:r}=await te(()=>import("./webStyleSymbolUtils-Nuz-hEei.js"),__vite__mapDeps([162,163,164]));li(e);const s=r(this,{portal:this.portal},e);s.catch(o=>{ne.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const n=await s;return t!=null&&t.set(i,n.clone()),n}};u([h({json:{write:!1}})],uo.prototype,"color",void 0),u([h({type:String,json:{write:!0}})],uo.prototype,"styleName",void 0),u([h({type:Ms,json:{write:!1}})],uo.prototype,"portal",void 0),u([h({type:String,json:{read:UR,write:Lh}})],uo.prototype,"styleUrl",void 0),u([h({type:_v,json:{read:!1}})],uo.prototype,"thumbnail",void 0),u([h({type:String,json:{write:!0}})],uo.prototype,"name",void 0),u([Ie({styleSymbolReference:"web-style"},{readOnly:!0})],uo.prototype,"type",void 0),u([h()],uo.prototype,"_fetchCacheKey",null),uo=tC=u([A("esri.symbols.WebStyleSymbol")],uo);const xc=uo;function $Ne(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function MW(e){switch(e==null?void 0:e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const cc={base:Sr,key:"type",typeMap:{"simple-fill":Kh,"picture-fill":QL,"picture-marker":D1,"simple-line":tn,"simple-marker":wa,text:iy,"label-3d":HT,"line-3d":Qh,"mesh-3d":P1,"point-3d":Tl,"polygon-3d":zc,"web-style":xc,cim:jc},errorContext:"symbol"},xNe={base:Sr,key:"type",typeMap:{"picture-marker":D1,"simple-marker":wa,"point-3d":Tl,cim:jc},errorContext:"symbol"},MNe={base:Sr,key:"type",typeMap:{"simple-line":tn,"line-3d":Qh,cim:jc},errorContext:"symbol"},ANe={base:Sr,key:"type",typeMap:{"simple-fill":Kh,"picture-fill":QL,"polygon-3d":zc,cim:jc},errorContext:"symbol"},uge={base:Sr,key:"type",typeMap:{"picture-marker":D1,"simple-marker":wa,text:iy,"web-style":xc,cim:jc},errorContext:"symbol"},cge=Vm({types:cc}),AW={base:Sr,key:"type",typeMap:{"simple-fill":Kh,"picture-fill":QL,"picture-marker":D1,"simple-line":tn,"simple-marker":wa,text:iy,"line-3d":Qh,"mesh-3d":P1,"point-3d":Tl,"polygon-3d":zc,"web-style":xc,cim:jc},errorContext:"symbol"},dge={base:Sr,key:"type",typeMap:{text:iy,"label-3d":HT},errorContext:"symbol"},YF={base:Sr,key:"type",typeMap:{"line-3d":Qh,"mesh-3d":P1,"point-3d":Tl,"polygon-3d":zc,"web-style":xc,cim:jc},errorContext:"symbol"},hge={base:Sr,key:"type",typeMap:{"label-3d":HT},errorContext:"symbol"},OW=Co(cc);var iC;function pge(e){if(!e)return null;const t={};for(const i in e){const r=Uh(e[i]);r&&(t[i]=r)}return Object.keys(t).length!==0?t:null}function fge(e){if(e==null)return null;const t={};for(const i in e){const r=e[i];r&&(t[i]=r.toJSON())}return Object.keys(t).length!==0?t:null}let us=iC=class extends at.ClonableMixin(K){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:bw(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&gre(ne.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),(e==null?void 0:e.type)!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new iC({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[t,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(e){var t;return(t=this.attributes)==null?void 0:t[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var e;return{aggregateGeometries:fge(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:K.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if((t==null?void 0:t.type)==="mesh"){const i={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,t,i,r){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:e,oldValue:t,newValue:i};e==="origin-transform"&&(s.action=r),e==="attributes"&&(s.attributeName=r),this.layer.graphicChanged(s)}_watchMeshGeometryChanges(){this.addHandles([$s(()=>{var e,t;return((e=this.geometry)==null?void 0:e.type)==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:(t=this.geometry.transform)==null?void 0:t.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0},({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),$s(()=>{var e;return((e=this.geometry)==null?void 0:e.type)==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0},()=>{var t;const e=this.geometry;(e==null?void 0:e.type)==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=(t=e.transform)==null?void 0:t.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};u([h({value:null,json:{read:pge}})],us.prototype,"aggregateGeometries",null),u([h({value:null})],us.prototype,"attributes",null),u([h({value:null,types:b1,json:{read:Uh}})],us.prototype,"geometry",null),u([h({type:Boolean})],us.prototype,"isAggregate",void 0),u([h({clonable:"reference"})],us.prototype,"layer",void 0),u([h({clonable:"reference"})],us.prototype,"origin",void 0),u([h({type:Jh})],us.prototype,"popupTemplate",void 0),u([h({clonable:"reference"})],us.prototype,"sourceLayer",void 0),u([h({value:null,types:cc})],us.prototype,"symbol",null),u([h({clonable:!1,json:{read:!1,write:!1}})],us.prototype,"_version",void 0),u([h({type:Boolean,value:!0})],us.prototype,"visible",null),us=iC=u([A("esri.Graphic")],us);const Mc=us;let Mh=class extends mv{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};u([sL({Type:Mc,ensureType:ji(Mc)})],Mh.prototype,"itemType",void 0),Mh=u([A("esri.support.GraphicsCollection")],Mh);let Pu=class extends Te{constructor(t){super(t),this.view=null,this.baseLayerViews=new pe,this.referenceLayerViews=new pe,this._loadingHandle=xe(()=>{var i,r;return(r=(i=this.view)==null?void 0:i.map)==null?void 0:r.basemap},i=>{i&&i.load().catch(()=>{})},Nt)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const t of this.baseLayerViews)t.destroy();this.baseLayerViews.length=0;for(const t of this.referenceLayerViews)t.destroy();this.referenceLayerViews.length=0}get suspended(){var t;return((t=this.view)==null?void 0:t.suspended)??!0}get updating(){var i,r,s;if((i=this.view)!=null&&i.suspended)return!1;const t=(s=(r=this.view)==null?void 0:r.map)==null?void 0:s.basemap;return!!(t!=null&&t.loaded)&&(this.baseLayerViews.some(n=>n.updating)||this.referenceLayerViews.some(n=>n.updating))}};u([h({constructOnly:!0})],Pu.prototype,"view",void 0),u([h({readOnly:!0})],Pu.prototype,"baseLayerViews",void 0),u([h({readOnly:!0})],Pu.prototype,"referenceLayerViews",void 0),u([h({readOnly:!0})],Pu.prototype,"suspended",null),u([h({type:Boolean,readOnly:!0})],Pu.prototype,"updating",null),Pu=u([A("esri.views.BasemapView")],Pu);const mge=Pu;function yge(e){return"tryRecycleWith"in e}function gge(e){return e!=null&&typeof e=="object"&&"layerViews"in e}let vge=class{constructor(t,i,r){this.layer=t,this.view=i,this.layerViewImporter=r,this._controller=new AbortController,this._deferred=en(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,In(this._controller.signal,()=>{const s=new z("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(s)})}tryRecycle(t){if(!this.done||!this.layerView||!yge(this.layerView))return null;const i=this.layer.type,r=this._controller.signal;for(let s=0;s<t.length;s++){const n=t[s];if(n.type!==i)continue;const o=this.layerView.tryRecycleWith(n,{signal:r});if(o){t.splice(s,1),this.layer=n;const c=this.layerView,d=c.view;return this.promise=Promise.race([o.then(()=>(li(this._controller.signal),n.emit("layerview-destroy",{view:d,layerView:c}),d.emit("layerview-destroy",{view:d,layerView:c}),n.emit("layerview-create",{view:d,layerView:c}),d.emit("layerview-create",{view:d,layerView:c}),c)),new Promise((f,g)=>In(this._controller.signal,()=>g(Bt())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(t){const{layer:i,view:r}=this;i.emit("layerview-destroy",{view:r,layerView:t}),r.emit("layerview-destroy",{layer:i,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){var s,n;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:i,view:r}=this;this._map=r.map;try{let o,c;if(await i.load({signal:t}),i.prefetchResources&&await i.prefetchResources({signal:t}),_ge(i))o=await i.createLayerView(r,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(i))throw new z("layer:view-not-supported","No layerview implementation was found");const g=await this.layerViewImporter.importLayerView(i);li(t),o="default"in g?new g.default({layer:i,view:r}):new g({layer:i,view:r})}const d=()=>{c=ri(c),o.destroyed||o.destroy(),o.layer=null,o.parent=null,o.view=null,this.done=!0};c=In(t,d),li(t);try{await o.when()}catch(g){throw d(),g}if(!((n=(s=this._map)==null?void 0:s.allLayers)==null?void 0:n.includes(i)))return d(),void this._deferred.reject(new z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:i}));this.layerView=o,i.emit("layerview-create",{view:r,layerView:o}),r.emit("layerview-create",{layer:i,layerView:o}),this.done=!0,this._deferred.resolve(o)}catch(o){i.emit("layerview-create-error",{view:r,error:o}),r.emit("layerview-create-error",{layer:i,error:o}),this.done=!0,this._deferred.reject(new z("layerview:create-error","layerview creation failed",{layer:i,error:o}))}}},bn=class extends Te{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new xh,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var r;const i=(r=this.view.map)==null?void 0:r.allLayers;if(i)for(const s of i)this.layerViewImporter.hasLayerViewModule(s)&&this.layerViewImporter.importLayerView(s)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=en(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(y1(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var d,f,g;if(this.destroyed)return;const i=this.view.map;if(this._map!==i&&(this.clear(),this._map=i),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const r=new Set,s=[],n=this.view.ready,o=v=>{if(v!=null){for(const _ of v)if(_){r.add(_);const S=this._layerLayerViewInfoMap.get(_);S&&n?S.start():S||this._recyclingInfoMap.has(_)||s.push(_),"layers"in _&&_.layers&&o(_.layers)}}};for(const v of this._rootCollectionNames)o(ws(this,v));for(const[v,_]of this._layerLayerViewInfoMap)if(!r.has(v)){this._layerLayerViewInfoMap.delete(_.layer);const S=_.tryRecycle(s);S?(this.notifyChange("updating"),this._recyclingInfoMap.set(_.layer,_),S.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(_.layer),this._layerLayerViewInfoMap.set(_.layer,_),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(_.layer),_.destroy(),this._reschedule()})):_.destroy()}for(const[v,_]of this._recyclingInfoMap)r.has(v)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(_.layer),_.destroy());for(const v of s)this._createLayerView(v);this._refreshCollections();const c=[(d=i==null?void 0:i.ground)==null?void 0:d.layers,(f=i==null?void 0:i.basemap)==null?void 0:f.baseLayers,(g=i==null?void 0:i.basemap)==null?void 0:g.referenceLayers,i==null?void 0:i.layers].filter(v=>!!v);r.forEach(v=>"layers"in v&&c.push(v.layers)),this.addHandles(c.map(v=>this._watchUpdatingTracking.addOnCollectionChange(()=>v,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([Io(()=>{var t,i;return(i=(t=this.view)==null?void 0:t.map)==null?void 0:i.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),xe(()=>{const t=this.view,i=t==null?void 0:t.map;return[i==null?void 0:i.basemap,i==null?void 0:i.ground,i==null?void 0:i.layers,t==null?void 0:t.ready]},()=>this._reschedule(),gs)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),TM(this._recyclingInfoMap),TM(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(Bt()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||wie(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(const i of this._layerLayerViewInfoMap.values())i.done||++t;return t}clear(){this.destroyed||(TM(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}isCreatingLayerViewsForLayer(t,i){var n;this.commitProperty("updatingRemaining");const r=this._layerLayerViewInfoMap.get(t);if(!(r!=null&&r.done))return!0;const s=r.layerView;return!(!s||!i||s.parent===i)||!!(r.done&&s&&"layers"in t&&((n=t.layers)!=null&&n.length))&&t.layers.some(o=>this.isCreatingLayerViewsForLayer(o,s))}_refreshCollections(){for(const[t,i]of this._layersToLayerViews)this._populateLayerViewsOwners(ws(this,t),ws(this,i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,i,r){if(!t||!i)return void(i&&i.removeAll());let s=0;for(const n of t){const o=this._layerLayerViewInfoMap.get(n);if(!(o!=null&&o.layerView))continue;const c=o.layerView;c.layer=n,c.parent=r,i.at(s)!==c&&i.splice(s,0,c),"layers"in n&&gge(c)&&this._populateLayerViewsOwners(n.layers,c.layerViews,c),s+=1}s<i.length&&i.splice(s,i.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const i=new vge(t,this.view,this.layerViewImporter);i.promise.then(()=>this._refreshCollections(),r=>{r&&(Ur(r)||r.name==="cancelled:layerview-create")||ne.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:r}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};u([h()],bn.prototype,"_workPromise",void 0),u([h({readOnly:!0})],bn.prototype,"_watchUpdatingTracking",void 0),u([h({readOnly:!0})],bn.prototype,"_layersToLayerViews",null),u([h({readOnly:!0})],bn.prototype,"_rootCollectionNames",null),u([h()],bn.prototype,"layerViewImporter",void 0),u([h()],bn.prototype,"supportsGround",void 0),u([h({readOnly:!0})],bn.prototype,"updating",null),u([h({readOnly:!0})],bn.prototype,"updatingRemaining",null),u([h({constructOnly:!0})],bn.prototype,"view",void 0),bn=u([A("esri.views.LayerViewManager")],bn);const bge=bn;function _ge(e){return e.createLayerView!==M1.prototype.createLayerView}let zs=class extends Te{constructor(t){super(t),this.factor=1.5,this.offset=ur(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};u([h({type:Number})],zs.prototype,"factor",void 0),u([h({nonNullable:!0})],zs.prototype,"offset",void 0),u([h()],zs.prototype,"position",void 0),u([h({type:Number,range:{min:0}})],zs.prototype,"size",void 0),u([h()],zs.prototype,"maskUrl",void 0),u([h()],zs.prototype,"maskEnabled",void 0),u([h()],zs.prototype,"overlayUrl",void 0),u([h()],zs.prototype,"overlayEnabled",void 0),u([h({readOnly:!0})],zs.prototype,"version",null),u([h({type:Boolean})],zs.prototype,"visible",void 0),zs=u([A("esri.views.Magnifier")],zs);const CW=zs;let mm=class{constructor(t){this._observable=new _1,this._map=new Map(t)}get size(){return De(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(t){const i=this._map.delete(t);return i&&this._observable.notify(),i}entries(){return De(this._observable),this._map.entries()}forEach(t,i){De(this._observable),this._map.forEach((r,s)=>t.call(i,r,s,this),i)}get(t){return De(this._observable),this._map.get(t)}has(t){return De(this._observable),this._map.has(t)}keys(){return De(this._observable),this._map.keys()}set(t,i){return this._map.set(t,i),this._observable.notify(),this}values(){return De(this._observable),this._map.values()}[Symbol.iterator](){return De(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};var rC;let vh=rC=class extends K{constructor(e){super(e),this.name=null,this.code=null}clone(){return new rC({name:this.name,code:this.code})}};u([h({type:String,json:{write:{isRequired:!0}}})],vh.prototype,"name",void 0),u([h({type:[String,Number],json:{write:{isRequired:!0}}})],vh.prototype,"code",void 0),vh=rC=u([A("esri.layers.support.CodedValue")],vh);const wge=new rt({inherited:"inherited",codedValue:"coded-value",range:"range"});let E0=class extends K{constructor(t){super(t),this.name=null,this.type=null}};u([h({type:String,json:{write:!0}})],E0.prototype,"name",void 0),u([Ie(wge),h({json:{write:{isRequired:!0}}})],E0.prototype,"type",void 0),E0=u([A("esri.layers.support.Domain")],E0);const WT=E0;var sC;let $0=sC=class extends WT{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some(r=>(String(r.code)===i&&(t=r.name),!!t))}return t}clone(){return new sC({codedValues:j(this.codedValues),name:this.name})}};u([h({type:[vh],json:{write:{isRequired:!0}}})],$0.prototype,"codedValues",void 0),u([Ie({codedValue:"coded-value"})],$0.prototype,"type",void 0),$0=sC=u([A("esri.layers.support.CodedValueDomain")],$0);const ZT=$0;var nC;let nS=nC=class extends WT{constructor(e){super(e),this.type="inherited"}clone(){return new nC}};u([Ie({inherited:"inherited"})],nS.prototype,"type",void 0),nS=nC=u([A("esri.layers.support.InheritedDomain")],nS);const IW=nS;var oC;let yf=oC=class extends WT{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new oC({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};u([h({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return(i=t.range)==null?void 0:i[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]},isRequired:!0}}})],yf.prototype,"maxValue",void 0),u([h({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return(i=t.range)==null?void 0:i[0]}},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]},isRequired:!0}}})],yf.prototype,"minValue",void 0),u([Ie({range:"range"})],yf.prototype,"type",void 0),yf=oC=u([A("esri.layers.support.RangeDomain")],yf);const RW=yf,LW={key:"type",base:WT,typeMap:{range:RW,"coded-value":ZT,inherited:IW}};function YT(e){if(!(e!=null&&e.type))return null;switch(e.type){case"range":return RW.fromJSON(e);case"codedValue":return ZT.fromJSON(e);case"inherited":return IW.fromJSON(e)}return null}const Sge=new rt({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var aC;const Tge=new rt({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Cr=aC=class extends K{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return(i==null?void 0:i.value)??null}readValueType(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return i?Tge.fromJSON(i.fieldValueType):null}clone(){var e;return new aC({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((e=this.domain)==null?void 0:e.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};u([h({type:String,json:{write:!0}})],Cr.prototype,"alias",void 0),u([h({type:[String,Number],json:{write:{allowNull:!0}}})],Cr.prototype,"defaultValue",void 0),u([h()],Cr.prototype,"description",void 0),u([ue("description")],Cr.prototype,"readDescription",null),u([h({types:LW,json:{read:{reader:YT},write:!0}})],Cr.prototype,"domain",void 0),u([h({type:Boolean,json:{write:!0}})],Cr.prototype,"editable",void 0),u([h({type:yt,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],Cr.prototype,"length",void 0),u([h({type:String,json:{write:!0}})],Cr.prototype,"name",void 0),u([h({type:Boolean,json:{write:!0}})],Cr.prototype,"nullable",void 0),u([Ie(Sge)],Cr.prototype,"type",void 0),u([h()],Cr.prototype,"valueType",void 0),u([ue("valueType",["description"])],Cr.prototype,"readValueType",null),u([h({type:Boolean,json:{read:!1}})],Cr.prototype,"visible",void 0),Cr=aC=u([A("esri.layers.support.Field")],Cr);const JT=Cr;var lC;let gf=lC=class extends K{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new lC({mapLayerId:e,gdbVersion:t})}};u([Ie({mapLayer:"map-layer"}),h({json:{write:{isRequired:!0}}})],gf.prototype,"type",void 0),u([h({type:yt,json:{write:{isRequired:!0}}})],gf.prototype,"mapLayerId",void 0),u([h({type:String,json:{write:!0}})],gf.prototype,"gdbVersion",void 0),gf=lC=u([A("esri.layers.support.source.MapLayerSource")],gf);var uC;let tl=uC=class extends K{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:i,spatialReference:r,geometryType:s}=this,n={workspaceId:e,query:t,oidFields:i,spatialReference:(r==null?void 0:r.clone())??void 0,geometryType:s};return new uC(n)}};u([Ie({queryTable:"query-table"}),h({json:{write:{isRequired:!0}}})],tl.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],tl.prototype,"workspaceId",void 0),u([h({type:String,json:{write:!0}})],tl.prototype,"query",void 0),u([h({type:String,json:{write:!0}})],tl.prototype,"oidFields",void 0),u([h({type:Ge,json:{write:!0}})],tl.prototype,"spatialReference",void 0),u([Ie(rL)],tl.prototype,"geometryType",void 0),tl=uC=u([A("esri.layers.support.source.QueryTableDataSource")],tl);var cC;let vf=cC=class extends K{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new cC({workspaceId:e,dataSourceName:t})}};u([Ie({raster:"raster"}),h({json:{write:{isRequired:!0}}})],vf.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],vf.prototype,"dataSourceName",void 0),u([h({type:String,json:{write:!0}})],vf.prototype,"workspaceId",void 0),vf=cC=u([A("esri.layers.support.source.RasterDataSource")],vf);var dC;let zd=dC=class extends K{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:i}=this;return new dC({workspaceId:e,gdbVersion:t,dataSourceName:i})}};u([Ie({table:"table"}),h({json:{write:{isRequired:!0}}})],zd.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],zd.prototype,"workspaceId",void 0),u([h({type:String,json:{write:!0}})],zd.prototype,"gdbVersion",void 0),u([h({type:String,json:{write:!0}})],zd.prototype,"dataSourceName",void 0),zd=dC=u([A("esri.layers.support.source.TableDataSource")],zd);var hC,pC;const Ege=hr()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Vs=hC=class extends K{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,i){return JF()(e,t,i)}castLeftTableSource(e){return Co(fC(),e)}readRightTableSource(e,t,i){return JF()(e,t,i)}castRightTableSource(e){return Co(fC(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:i,rightTableSource:r,joinType:s}=this,n={leftTableKey:e,rightTableKey:t,leftTableSource:(i==null?void 0:i.clone())??void 0,rightTableSource:(r==null?void 0:r.clone())??void 0,joinType:s};return new hC(n)}};u([Ie({joinTable:"join-table"}),h({json:{write:{isRequired:!0}}})],Vs.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],Vs.prototype,"leftTableKey",void 0),u([h({type:String,json:{write:!0}})],Vs.prototype,"rightTableKey",void 0),u([h({json:{write:!0}})],Vs.prototype,"leftTableSource",void 0),u([ue("leftTableSource")],Vs.prototype,"readLeftTableSource",null),u([ht("leftTableSource")],Vs.prototype,"castLeftTableSource",null),u([h({json:{write:!0}})],Vs.prototype,"rightTableSource",void 0),u([ue("rightTableSource")],Vs.prototype,"readRightTableSource",null),u([ht("rightTableSource")],Vs.prototype,"castRightTableSource",null),u([Ie(Ege)],Vs.prototype,"joinType",void 0),Vs=hC=u([A("esri.layers.support.source.JoinTableDataSource")],Vs);let RM=null;function JF(){return RM||(RM=Vm({types:fC()})),RM}let LM=null;function fC(){return LM||(LM={key:"type",base:null,typeMap:{"data-layer":bo,"map-layer":gf}}),LM}const $ge={key:"type",base:null,typeMap:{"join-table":Vs,"query-table":tl,raster:vf,table:zd}};let bo=pC=class extends K{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new pC({fields:e,dataSource:t})}};u([Ie({dataLayer:"data-layer"}),h({json:{write:{isRequired:!0}}})],bo.prototype,"type",void 0),u([h({type:[JT],json:{write:!0}})],bo.prototype,"fields",void 0),u([h({types:$ge,json:{write:!0}})],bo.prototype,"dataSource",void 0),bo=pC=u([A("esri.layers.support.source.DataLayerSource")],bo),bo.from=ji(bo);let Vd=class extends at.ClonableMixin(K){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};u([h({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],Vd.prototype,"onFields",void 0),u([h({type:String,json:{write:!0}})],Vd.prototype,"operator",void 0),u([h({type:String,json:{write:!0}})],Vd.prototype,"searchTerm",void 0),u([h({type:String,json:{write:!0}})],Vd.prototype,"searchType",void 0),Vd=u([A("esri.rest.support.FullTextSearch")],Vd);const xge=Vd;var mC;const XF=new rt({upperLeft:"upper-left",lowerLeft:"lower-left"});let Gd=mC=class extends K{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new mC(j({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};u([h({type:Pt,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Gd.prototype,"extent",void 0),u([h({type:["view","edit"],json:{write:!0}})],Gd.prototype,"mode",void 0),u([h({type:String,json:{read:XF.read,write:XF.write}})],Gd.prototype,"originPosition",void 0),u([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Gd.prototype,"tolerance",void 0),Gd=mC=u([A("esri.rest.support.QuantizationParameters")],Gd);const NW=Gd,Mge=new rt({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var yC;const QF=new rt({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let co=yC=class extends K{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=j(e))}clone(){return new yC({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:j(this.statisticParameters)})}};u([h({type:Number,json:{write:!0}})],co.prototype,"maxPointCount",void 0),u([h({type:Number,json:{write:!0}})],co.prototype,"maxRecordCount",void 0),u([h({type:Number,json:{write:!0}})],co.prototype,"maxVertexCount",void 0),u([h({type:String,json:{write:!0}})],co.prototype,"onStatisticField",void 0),u([h({type:String,json:{write:!0}})],co.prototype,"outStatisticFieldName",void 0),u([h({type:String,json:{read:{source:"statisticType",reader:QF.read},write:{target:"statisticType",writer:QF.write}}})],co.prototype,"statisticType",void 0),u([h({type:Object})],co.prototype,"statisticParameters",void 0),u([de("statisticParameters")],co.prototype,"writeStatisticParameters",null),co=yC=u([A("esri.rest.support.StatisticDefinition")],co);const Age=co;var oS;const Oge=new rt({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Pe=oS=class extends K{static from(e){return c1(oS,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const i={};for(const r in e){const s=e[r];Array.isArray(s)?i[r]=s.map(n=>n instanceof Date?n.getTime():n):s instanceof Date?i[r]=s.getTime():i[r]=s}t.parameterValues=i}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new oS(j({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Pe.MAX_MAX_RECORD_COUNT_FACTOR=5,u([h({json:{write:!0}})],Pe.prototype,"aggregateIds",void 0),u([h({type:Boolean,json:{write:!0}})],Pe.prototype,"cacheHint",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],Pe.prototype,"compactGeometryEnabled",void 0),u([h({json:{write:!0}})],Pe.prototype,"datumTransformation",void 0),u([ht("datumTransformation")],Pe.prototype,"castDatumTransformation",null),u([h({type:Boolean,json:{default:!1,write:!0}})],Pe.prototype,"defaultSpatialReferenceEnabled",void 0),u([h({type:Number,json:{write:!0}})],Pe.prototype,"distance",void 0),u([h({type:bo,json:{write:!0}})],Pe.prototype,"dynamicDataSource",void 0),u([h({type:String,json:{write:!0}})],Pe.prototype,"formatOf3DObjects",void 0),u([h({type:[xge],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],Pe.prototype,"fullText",void 0),u([h({type:String,json:{write:!0}})],Pe.prototype,"gdbVersion",void 0),u([h({types:b1,json:{read:Uh,write:!0}})],Pe.prototype,"geometry",void 0),u([h({type:Number,json:{write:!0}})],Pe.prototype,"geometryPrecision",void 0),u([h({type:[String],json:{write:!0}})],Pe.prototype,"groupByFieldsForStatistics",void 0),u([h({type:String,json:{write:!0}})],Pe.prototype,"having",void 0),u([h({type:Date})],Pe.prototype,"historicMoment",void 0),u([de("historicMoment")],Pe.prototype,"writeHistoricMoment",null),u([h({type:Number,json:{write:!0}})],Pe.prototype,"maxAllowableOffset",void 0),u([h({type:Number,cast:e=>e<1?1:e>Pe.MAX_MAX_RECORD_COUNT_FACTOR?Pe.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],Pe.prototype,"maxRecordCountFactor",void 0),u([h({type:["xyFootprint"],json:{write:!0}})],Pe.prototype,"multipatchOption",void 0),u([h({type:Number,json:{read:{source:"resultRecordCount"}}})],Pe.prototype,"num",void 0),u([h({json:{write:!0}})],Pe.prototype,"objectIds",void 0),u([h({type:[String],json:{write:!0}})],Pe.prototype,"orderByFields",void 0),u([h({type:[String],json:{write:!0}})],Pe.prototype,"outFields",void 0),u([h({type:Ge,json:{name:"outSR",write:!0}})],Pe.prototype,"outSpatialReference",void 0),u([h({type:[Age],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],Pe.prototype,"outStatistics",void 0),u([h({json:{write:!0}})],Pe.prototype,"parameterValues",void 0),u([de("parameterValues")],Pe.prototype,"writeParameterValues",null),u([h({type:Ye,json:{write:!0}})],Pe.prototype,"pixelSize",void 0),u([h({type:NW,json:{write:!0}})],Pe.prototype,"quantizationParameters",void 0),u([h({type:[Object],json:{write:!0}})],Pe.prototype,"rangeValues",void 0),u([h({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Pe.prototype,"relationParameter",void 0),u([h({type:String,json:{write:!0}})],Pe.prototype,"resultType",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],Pe.prototype,"returnCentroid",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],Pe.prototype,"returnDistinctValues",void 0),u([h({type:Boolean,json:{default:!0,write:!0}})],Pe.prototype,"returnExceededLimitFeatures",void 0),u([h({type:Boolean,json:{write:!0}})],Pe.prototype,"returnGeometry",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],Pe.prototype,"returnQueryGeometry",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],Pe.prototype,"returnM",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Pe.prototype,"returnZ",void 0),u([h({type:Boolean,json:{write:!0}})],Pe.prototype,"returnTrueCurves",void 0),u([h({type:Ge,json:{write:!0}})],Pe.prototype,"sourceSpatialReference",void 0),u([Ie(Mge,{ignoreUnknown:!1,name:"spatialRel"})],Pe.prototype,"spatialRelationship",void 0),u([h({type:Number,json:{read:{source:"resultOffset"}}})],Pe.prototype,"start",void 0),u([de("start"),de("num")],Pe.prototype,"writeStart",null),u([h({type:String,json:{write:!0}})],Pe.prototype,"sqlFormat",void 0),u([h({type:String,json:{write:!0}})],Pe.prototype,"text",void 0),u([h({type:Il,json:{write:!0}})],Pe.prototype,"timeExtent",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],Pe.prototype,"timeReferenceUnknownClient",void 0),u([Ie(Oge,{ignoreUnknown:!1}),h({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null}}}}})],Pe.prototype,"units",void 0),u([h({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],Pe.prototype,"where",void 0),u([de("where")],Pe.prototype,"writeWhere",null),Pe=oS=u([A("esri.rest.support.Query")],Pe);const _s=Pe;function U_(e){return!!(e!=null&&typeof e=="object"&&"createQuery"in e&&e.createQuery&&"on"in e&&e.on)}let Xo=class extends Dn.EventedAccessor{constructor(t){super(t),this._selectionMap=new mm,this._sources=new pe,this._trashCan=[],this._layerEditHandles=new pe,this._vizTaskId=0,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([xe(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),Io(()=>this.sources,"change",i=>{const r=this._selectionMap;for(const s of i.removed)r.delete(s);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);const t=new pe;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(i=>"sublayers"in i&&i.sublayers?i.sublayers:null).forEach(i=>{(U_(i)&&!fpe(i)||Ad(i))&&t.add(i)}),this.sources=t)})}destroy(){this._layerEditHandles.drain(ri)}get selections(){return Array.from(this._selectionMap.entries()).map(t=>{const[i,r]=t;return{layer:i,selection:[...r.selection]}})}get count(){let t=0;for(const i of this._selectionMap.values())t+=i.selection.length;return t}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(t){Cl(t,this._sources)}async getSelectedFeatures(t,i={},r="layerView"){const{view:s,selections:n}=this,o=(t!==void 0?n.filter(c=>t.includes(c.layer)):n).filter(c=>c.selection.length>0).map(async c=>{const{layer:d,selection:f}=c,g=Ad(d)?d.parent:d;if(g==null||!e8(g))return null;if(r==="layer")return t8(g,f,i);if(KF(g))return null;const v=await s.whenLayerView(g).catch(()=>null);return v?t8(v,f,i):null});return(await Promise.all(o)).filter(c=>c!=null)}updateSelection(t){const i=new Map;for(const[n,o]of this._selectionMap)i.set(n,[...o.selection]);let r=!1;const s=t.current.concat(t.added);for(const n of s){const o=n.sourceLayer,c=n.getObjectId();if(this.sources.includes(o)&&(U_(o)||Ad(o))&&c!==null){const d=l1(i,o,()=>[]);d.includes(c)||(d.push(c),r=!0)}}for(const n of t.removed){const o=n.sourceLayer,c=n.getObjectId();if(this.sources.includes(o)&&(U_(o)||Ad(o))&&c!==null){const d=i.get(o),f=d==null?void 0:d.indexOf(c);f!==void 0&&f>=0&&(d==null||d.splice(f,1),r=!0)}}if(r){const{_selectionMap:n,_trashCan:o}=this,c=[];for(const[d,f]of i){const g=n.get(d);g!==void 0&&o.push(g),n.set(d,{selection:f}),c.push({layer:d,selection:f,...n5(g!==void 0?g.selection:[],f)})}this._onSelectionChange(c)}}setSelection(t,i){this._setSelection(t,i)}getSelection(t){const i=this._selectionMap.get(t);return i==null?void 0:i.selection}appendToSelection(t,i){const r=this._selectionMap.get(t),s=r!==void 0?[...r.selection]:[];for(const n of i)s.includes(n)||s.push(n);this._setSelection(t,s)}removeFromSelection(t,i){const r=this._selectionMap.get(t);if(!r)return;const s=[];for(const n of r.selection)i.includes(n)||s.push(n);this._setSelection(t,s)}toggleInSelection(t,i){const r=this._selectionMap.get(t);if(!r||r.selection.length===0)return void this._setSelection(t,i);const s=new Set(r.selection),n=new Set(i),o=Kre(s,n);this._setSelection(t,Array.from(o))}clear(){const t=this._selectionMap.values();this._trashCan.push(...t);const i=[];for(const[r,s]of this._selectionMap.entries())i.push({layer:r,added:[],removed:[...s.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(i)}_onSelectionChange(t){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:t})}_refreshVisualization(){var o;if(this.view==null||this.sources==null)return;for(this._vizTaskId++;this._trashCan.length>0;){const c=this._trashCan.pop();(o=c==null?void 0:c.highlightHandle)==null||o.remove()}const{sources:t,view:i,_selectionMap:r,showHighlight:s}=this,n=this._vizTaskId;for(const c of t){const d=r.get(c),f=Ad(c)?c.parent:c;if(f!=null&&e8(f)){if(KF(f))continue;i.whenLayerView(f).then(g=>{var v;(v=d==null?void 0:d.highlightHandle)==null||v.remove(),d!=null&&s&&n===this._vizTaskId&&"highlight"in g&&typeof g.highlight=="function"&&d.selection.length>0&&(d.highlightHandle=g.highlight(d.selection,this.highlightName))}).catch(()=>{var g;(g=d==null?void 0:d.highlightHandle)==null||g.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(ri);for(const t of this.sources){const i=Ad(t)?t.parent:t;if(i!=null&&U_(i)){const r=i.on("edits",s=>{this._handleEditChanges(s,t)});this._layerEditHandles.push(r)}}}_handleEditChanges(t,i){if(t.deletedFeatures!==void 0&&t.deletedFeatures.length>0&&this._selectionMap.has(i)){const r=t.deletedFeatures.filter(s=>s.error==null).map(s=>s.objectId).filter(Al);this.removeFromSelection(i,r)}}_setSelection(t,i){if(!this.sources.includes(t))throw new Error(`Cannot set selection on layer ${t.title} because it is not in 'sources'`);const r=this._selectionMap.get(t);if(r===void 0||!Ige(r,{selection:i})){r!==void 0&&this._trashCan.push(r),this._selectionMap.set(t,{selection:[...i]});const s={layer:t,selection:[...i],...n5(r!==void 0?r.selection:[],i)};this._onSelectionChange([s])}}};u([h({readOnly:!0,nonNullable:!0})],Xo.prototype,"selections",null),u([h({readOnly:!0,nonNullable:!0})],Xo.prototype,"count",null),u([h({constructOnly:!0,nonNullable:!0})],Xo.prototype,"view",void 0),u([h({readOnly:!0,nonNullable:!0})],Xo.prototype,"hasSelection",null),u([h()],Xo.prototype,"showHighlight",void 0),u([h()],Xo.prototype,"sources",null),u([h()],Xo.prototype,"highlightName",void 0),Xo=u([A("esri.views.SelectionManager")],Xo);const KF=e=>{var t;return Ad(e)?((t=e.parent)==null?void 0:t.isTable)===!0:e.isTable},Cge=e=>e.layer!==void 0,e8=e=>(e==null?void 0:e.when)!==void 0,Ige=(e,t)=>{if(e==null&&t==null)return!0;if(e!=null&&t==null||e==null&&t!=null)return!1;if(e!=null&&t!=null&&e.selection!=null&&t.selection!=null){const i=[...e.selection],r=[...t.selection];if(i.length!==r.length)return!1;i.sort(),r.sort();for(let s=0;s<i.length;s++)if(i[s]!==r[s])return!1}return!0},t8=async(e,t,i={})=>{let r;if(Cge(e)){const s=e;r=s===void 0?null:await s.queryFeatures(new _s({...i,objectIds:t})).then(n=>({data:n,layer:e.layer}))}else{const s=e;r=s===void 0?null:await s.queryFeatures(new _s({...i,objectIds:t})).then(n=>({data:n,layer:s}))}return r},Rge=Xo;let x0=class extends at.ClonableMixin(Te){constructor(t){super(t),this.accentColor=new Ne([255,127,0]),this.textColor=new Ne([255,255,255])}};u([h({type:Ne,nonNullable:!0})],x0.prototype,"accentColor",void 0),u([h({type:Ne,nonNullable:!0})],x0.prototype,"textColor",void 0),x0=u([A("esri.views.Theme")],x0);const gC=x0;var i8;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(i8||(i8={}));const PW=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],DW={};function kW(e){return!!DW[e]}function Lge(e){for(const t of e)if(!kW(t))return!1;return!0}PW.forEach(e=>{DW[e]=!0});let FW=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:i,priority:r},s)=>{var n;return(n=this.inputManager)==null?void 0:n.installHandlers(s,[i],r)})}disconnect(){this.inputManager&&this._handlers.forEach((t,i)=>{var r;return(r=this.inputManager)==null?void 0:r.uninstallHandlers(i)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,i,r,s){const n=Array.isArray(t)?t:t.split(",");if(!Lge(n))return n.some(kW)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,c;Array.isArray(i)?c=i:(o=i,c=[]),typeof r=="function"?o=r:s=r,s=s??mc.DEFAULT;const d=this._createUniqueGroupName(),f=new Nge(this.view,n,c,o);this._handlers.set(d,{handler:f,priority:s});for(const g of n){const v=this._handlerCounts.get(g)||0;this._handlerCounts.set(g,v+1)}return this.inputManager&&this.inputManager.installHandlers(d,[f],s),gt(()=>this._removeHandler(d,n))}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,i){if(this._handlers.has(t)){this._handlers.delete(t);for(const r of i){const s=this._handlerCounts.get(r);s===void 0||(s===1?this._handlerCounts.delete(r):this._handlerCounts.set(r,s-1))}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},Nge=class extends Xi{constructor(t,i,r,s){super(!0),this._latestDragStart=void 0,this.view=t;for(const n of i)switch(n){case"click":this.registerIncoming("click",r,o=>s(kge(t,o)));break;case"double-click":this.registerIncoming("double-click",r,o=>s(Fge(t,o)));break;case"immediate-click":this.registerIncoming("immediate-click",r,o=>s(jge(t,o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",r,o=>s(Uge(t,o)));break;case"hold":this.registerIncoming("hold",r,o=>s(zge(t,o)));break;case"drag":this.registerIncoming("drag",r,o=>{const c=this._wrapDrag(o);c&&s(c)});break;case"key-down":this.registerIncoming("key-down",r,o=>s(Vge(o)));break;case"key-up":this.registerIncoming("key-up",r,o=>s(Gge(o)));break;case"pointer-down":this.registerIncoming("pointer-down",r,o=>s(Ig(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",r,o=>s(Ig(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",r,o=>s(Ig(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",r,o=>s(qge(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",r,o=>s(Bge(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",r,o=>s(Ig(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",r,o=>s(Ig(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",r,o=>{s(Hge(o))});break;case"focus":this.registerIncoming("focus",r,o=>{s(Pge(o))});break;case"blur":this.registerIncoming("blur",r,o=>{s(Dge(o))})}}_wrapDrag(t){const i=t.data,{x:r,y:s}=i.center,{action:n,pointerType:o,button:c}=i;if(n==="start"&&(this._latestDragStart=i),!this._latestDragStart)return;const d=i.pointer.native,f=i.buttons,{cancelable:g,timestamp:v}=t,_={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return n==="end"&&(this._latestDragStart=void 0),{type:"drag",action:n,x:r,y:s,origin:_,pointerType:o,button:c,buttons:f,radius:i.radius,angle:d7(i.angle),native:d,timestamp:v,cancelable:g,stopPropagation:()=>t.stopPropagation(),async:S=>t.async(S),preventDefault:()=>t.preventDefault()}}};function Pge(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function Dge(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function kge(e,t){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:c,eventId:d}=t.data,{cancelable:f,timestamp:g}=t;return{type:"click",pointerType:i,button:r,buttons:s,x:n,y:o,native:c,timestamp:g,screenPoint:ur(n,o),mapPoint:k1(e,n,o),eventId:d,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:v=>t.async(v),preventDefault:()=>t.preventDefault()}}function Fge(e,t){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:c,eventId:d}=t.data,{cancelable:f,timestamp:g}=t;return{type:"double-click",pointerType:i,button:r,buttons:s,x:n,y:o,native:c,timestamp:g,mapPoint:k1(e,n,o),eventId:d,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:v=>t.async(v),preventDefault:()=>t.preventDefault()}}function jge(e,t){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:c,eventId:d}=t.data,f=c.pointerId,{cancelable:g,timestamp:v}=t;return{type:"immediate-click",pointerId:f,pointerType:i,button:r,buttons:s,x:n,y:o,native:c,timestamp:v,mapPoint:k1(e,n,o),eventId:d,cancelable:g,stopPropagation:()=>t.stopPropagation(),async:_=>t.async(_),preventDefault:()=>t.preventDefault()}}function Uge(e,t){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:c,eventId:d}=t.data,f=c.pointerId,{cancelable:g,timestamp:v}=t;return{type:"immediate-double-click",pointerId:f,pointerType:i,button:r,buttons:s,x:n,y:o,native:c,timestamp:v,mapPoint:k1(e,n,o),eventId:d,cancelable:g,stopPropagation:()=>t.stopPropagation(),async:_=>t.async(_),preventDefault:()=>t.preventDefault()}}function zge(e,t){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:c}=t.data,{cancelable:d,timestamp:f}=t;return{type:"hold",pointerType:i,button:r,buttons:s,x:n,y:o,native:c,timestamp:f,mapPoint:k1(e,n,o),cancelable:d,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}function k1(e,t,i){return e.toMap(ur(t,i),{exclude:[]})}function Vge(e){const{key:t,repeat:i,native:r}=e.data,{cancelable:s,timestamp:n}=e;return{type:"key-down",key:t,repeat:i,native:r,timestamp:n,cancelable:s,stopPropagation:()=>e.stopPropagation(),async:o=>e.async(o),preventDefault:()=>e.preventDefault()}}function Gge(e){const{key:t,native:i}=e.data,{cancelable:r,timestamp:s}=e;return{type:"key-up",key:t,native:i,timestamp:s,cancelable:r,stopPropagation:()=>e.stopPropagation(),async:n=>e.async(n),preventDefault:()=>e.preventDefault()}}function Ig(e,t){const{x:i,y:r,button:s,buttons:n,native:o,eventId:c}=e.data,d=o.pointerId,f=o.pointerType,{cancelable:g,timestamp:v}=e;return{type:t,x:i,y:r,pointerId:d,pointerType:f,button:s,buttons:n,native:o,timestamp:v,eventId:c,cancelable:g,stopPropagation:()=>e.stopPropagation(),async:_=>e.async(_),preventDefault:()=>e.preventDefault()}}function qge(e){const{x:t,y:i,buttons:r,native:s,eventId:n}=e.data.currentEvent,{button:o}=e.data.startEvent,c=e.data.startEvent.native.pointerId,d=e.data.startEvent.native.pointerType,f=e.data.action,g={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:v,timestamp:_}=e;return{type:"pointer-drag",x:t,y:i,pointerId:c,pointerType:d,button:o,buttons:r,action:f,origin:g,native:s,timestamp:_,eventId:n,cancelable:v,stopPropagation:()=>e.stopPropagation(),async:S=>e.async(S),preventDefault:()=>e.preventDefault()}}function Bge(e){const{cancelable:t,data:i,timestamp:r}=e,{x:s,y:n,deltaY:o,native:c}=i;return{type:"mouse-wheel",x:s,y:n,deltaY:o,native:c,timestamp:r,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:d=>e.async(d),preventDefault:()=>e.preventDefault()}}function Hge(e){const{action:t,state:i,device:r}=e.data,{cancelable:s,timestamp:n}=e,{buttons:o,axes:c}=i;return{type:"gamepad",device:r,timestamp:n,action:t,buttons:o,axes:c,cancelable:s,stopPropagation:()=>e.stopPropagation(),async:d=>e.async(d),preventDefault:()=>e.preventDefault()}}var Yv,r8,s8;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(Yv||(Yv={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(r8||(r8={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(s8||(s8={}));function Wge(e){return[e.on("before-add",t=>{const i=t.item;if(i==null||e.includes(i))return ne.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();i.onAdd()}),e.on("after-remove",t=>{const i=t.item;i.active&&(i.view.activeTool=null),i.destroy()})]}function vC(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(Yv.USER)&&e.getEditableFlag(Yv.MANAGER)}function Qo(e){return ur(e.x,e.y)}function jW(e,t){var r;const i=(r=e instanceof HTMLElement?e:e.surface)==null?void 0:r.getBoundingClientRect();return i?ur(t.clientX-i.left,t.clientY-i.top):ur(0,0)}function UW(e,t){return t instanceof Event?jW(e,t):Qo(t)}function zW(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let Zge=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,i){const r=()=>t.stopPropagation();switch(t.type){case"pointer-move":o8(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:t.action==="start"?this._externallyDragging=!0:t.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(r(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!a8(t))break;const s=Qo(t),n=Wp(s,t.pointerType,i.forEachTool);if(n==null)break;const o=n.manipulator,c=n.tool;o==null||c==null||!o.interactive||o.grabbable&&o.grabbableForEvent(t)||!o.grabbing||o.dragging||this._releaseManipulatorBeforeDragging(o,t,i),o!=null&&c!=null&&o.interactive&&o.grabbable&&o.grabbableForEvent(t)&&!o.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:o,tool:c,start:s,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&i.activeTool==null&&(this._revertToNullActiveTool=!0,i.setActiveTool(n.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:s}),r());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,i);break;case"pointer-drag":{if(!a8(t))break;const s=this._grabbedManipulators.get(t.pointerId),n=s==null?void 0:s.manipulator,o=s==null?void 0:s.tool;if(n==null||o==null)break;const c=Qo(t);c.x=Nn(c.x,0,i.view.width),c.y=Nn(c.y,0,i.view.height);const d=s.start,f=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(n.dragging=!0,f?n.events.emit("drag",{action:"update",start:d,screenPoint:c}):n.events.emit("drag",{action:"start",start:d,screenPoint:c,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:o,manipulator:n,start:d}));break;case"end":n.dragging=!1,f&&n.events.emit("drag",{action:"end",start:d,screenPoint:c}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,i)}r();break}case"immediate-click":{const s=Qo(t),n=Wp(s,t.pointerType,i.forEachTool);if(Yge(t)||i.forEachTool(f=>{if((n==null||n.tool!==f||f.automaticManipulatorSelection)&&f.manipulators){let g=!1;f.manipulators.forEach(({manipulator:v})=>{v.selected&&(v.selected=!1,g=!0)}),g&&f.onManipulatorSelectionChanged&&f.onManipulatorSelectionChanged()}}),n==null)break;const{manipulator:o,tool:c}=n;if(!o.interactive)break;o.selectable&&c.automaticManipulatorSelection&&(o.selected=!o.selected,c.onManipulatorSelectionChanged&&c.onManipulatorSelectionChanged());const d=t.native.shiftKey;o.events.emit("immediate-click",{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:d,stopPropagation:r}),NM(o,r);break}case"click":{const s=Qo(t),n=Wp(s,t.pointerType,i.forEachTool),o=n==null?void 0:n.manipulator;if(o==null||!o.interactive)break;const c=t.native.shiftKey;o.events.emit(t.type,{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:c}),r();break}case"double-click":{const s=Qo(t),n=Wp(s,t.pointerType,i.forEachTool),o=n!=null?n.manipulator:null;if(o==null||!o.interactive)break;const c=t.native.shiftKey;o.events.emit("double-click",{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:c,stopPropagation:r}),NM(o,r);break}case"immediate-double-click":{const s=Qo(t),n=Wp(s,t.pointerType,i.forEachTool),o=n!=null?n.manipulator:null;if(o==null||!o.interactive)break;const c=t.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:c,stopPropagation:r}),t.pointerType==="mouse"&&NM(o,r);break}}this._onFocusChange(i.forEachTool)}_releaseManipulatorBeforeDragging(t,i,r){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:Qo(i)}),this._grabbedManipulators.forEach(({manipulator:s},n)=>{s===t&&this._grabbedManipulators.delete(n)}),this._afterManipulatorRelease(r.setActiveTool)}_handlePointerEnd(t,i){var s;const r=(s=this._grabbedManipulators.get(t.pointerId))==null?void 0:s.manipulator;r!=null&&r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Qo(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorRelease(i.setActiveTool))}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=n8(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=n8(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const i=new Set,r=new Set;this._grabbedManipulators.forEach(({tool:s})=>{i.add(s)}),this._hoveredManipulators.forEach(({tool:s})=>{r.add(s)}),t(s=>{s.hasGrabbedManipulators=i.has(s),s.hasHoveredManipulators=r.has(s);const n=this._grabbedManipulators.values(),o=vre(n,({tool:c})=>c===s);s.firstGrabbedManipulator=o!=null?o.manipulator:null})}clearPointers(t,{forEachTool:i,setActiveTool:r},s=!0,n){const o=(c,d)=>c===t&&(n==null||n===d);this._grabbedManipulators.forEach(({tool:c,manipulator:d,pointerType:f},g)=>{o(c,d)&&(this._grabbedManipulators.delete(g),d.grabbing=!1,d.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:f}))}),this._draggedManipulators.forEach(({tool:c,manipulator:d},f)=>{o(c,d)&&(this._draggedManipulators.delete(f),d.dragging=!1,d.events.emit("drag",{action:"cancel"}))}),s&&this._hoveredManipulators.forEach(({tool:c,manipulator:d},f)=>{o(c,d)&&(this._hoveredManipulators.delete(f),d.hovering=!1)}),this._afterManipulatorRelease(r),this._onFocusChange(i)}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((i,r)=>{this._updateHoveredStateForPointerAtScreenPosition(ur(i.x,i.y),r,i.pointerType,t)})}handleHoverEvent(t,i){const r=t.type;r!=="pointer-up"&&r!=="immediate-click"&&r!=="pointer-move"||!o8(t.pointerType)||(r!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(t.pointerId):this._updateHoveredStateForPointerAtScreenPosition(Qo(t),t.pointerId,t.pointerType,i))}_updateHoveredStateForPointerAtScreenPosition(t,i,r,s){var c;let n=Wp(t,r,s);const o=(c=this._hoveredManipulators.get(i))==null?void 0:c.manipulator;n==null||n.manipulator.interactive||(n=null),n!=null&&o===n.manipulator||(o!=null&&(o.hovering=!1),n!=null?(n.manipulator.hovering=!0,this._hoveredManipulators.set(i,n)):this._hoveredManipulators.delete(i),this._onFocusChange(s))}_afterManipulatorRelease(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(t){this._hoveredManipulators.forEach(({manipulator:i},r)=>{t===r&&(this._hoveredManipulators.delete(t),i.hovering=!1)})}};function n8(e){for(const{manipulator:t}of e.values())if(t!=null&&t.interactive){if(t.grabbing&&t.grabCursor)return t.grabCursor;if(t.cursor)return t.cursor}return null}function Wp(e,t,i){let r=null;return i(s=>{if(s.manipulators==null||!vC(s))return!1;const n=s.manipulators.intersect(e,t);return n!=null&&(r={tool:s,manipulator:n},!0)}),r}function o8(e){return e==="mouse"}function a8(e){return e.pointerType!=="mouse"||e.button===0}function Yge(e){return!!e.native.shiftKey}function NM(e,t){e!=null&&e.consumesClicks&&t()}const l8="attached",PM="tools",Jge=1e3;let Ko=class extends Te{constructor(t){super(t),this._updatingHandles=new xh,this._clock=qm,this._manipulatorState=new Zge,this.tools=new pe,this.cursor=null,this._interacting=!1,this._interactingTimeout=Jge,this._interactingTimeoutHandle=null,this._forEachTool=i=>{for(const r of this.tools.items)if(i(r))return}}initialize(){this.addHandles([this.view.on(PW,t=>{this._handleInputEvent(t)},mc.TOOL),...Wge(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready)return void ne.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const i=this.activeTool;this._set("activeTool",t),i!=null&&i.deactivate(),t!=null&&t.activate(),this._removeIncompleteTools(t);for(const r of this.tools){this._updateToolEditableFlag(r);const s=vC(r);this.activeTool!=null&&s||this._manipulatorState.clearPointers(r,this._manipulatorStateEventArgs,!s)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=ri(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){var t;this.view.type==="3d"?this.addHandles([xe(()=>{const{state:i}=this.view;return"camera"in i&&i.camera},()=>this._forEachManipulator(i=>i.onViewChange())),(t=this.view.elevationProvider)==null?void 0:t.on("elevation-change",i=>this._forEachManipulator(r=>r.onElevationChange(i)))],l8):this.addHandles(xe(()=>this.view.extent,()=>this._forEachManipulator(i=>i.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(l8),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(i=>{i.manipulators&&i.manipulators.forEach(({manipulator:r})=>t(r,i))})}_handleInputEvent(t){let i=!1;const r={...t,stopPropagation:()=>{i=!0,t.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r):this._forEachTool(s=>{!i&&s.visible&&s.handleInputEvent(r)}),!i&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,this._manipulatorStateEventArgs),i||this.activeTool==null||this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this._forEachTool),this._updateCursor(),t.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(PM),this._forEachTool(t=>{if(t instanceof Te){const i=xe(()=>[t.cursor,t.visible,t.editable],()=>{vC(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(i,PM)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",i=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,i.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],PM)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){var i;(i=t.setEditableFlag)==null||i.call(t,Yv.MANAGER,this.activeTool==null||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;t==null&&this._forEachTool(i=>!(i.cursor==null||!i.visible)&&(t=i.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(i=>(t==null||i!==t)&&!i.created&&i.removeIncompleteOnCancel).forEach(i=>{this.tools.remove(i)})}get test(){}};u([h({constructOnly:!0,nonNullable:!0})],Ko.prototype,"view",void 0),u([h({value:null})],Ko.prototype,"activeTool",null),u([h({readOnly:!0,type:pe})],Ko.prototype,"tools",void 0),u([h({readOnly:!0})],Ko.prototype,"cursor",void 0),u([h({readOnly:!0})],Ko.prototype,"updating",null),u([h()],Ko.prototype,"_interacting",void 0),u([h({readOnly:!0})],Ko.prototype,"interacting",null),Ko=u([A("esri.views.ToolViewManager")],Ko);const Xge=new Ne("cyan"),Qge=1,Kge=.25,e0e=new Ne("black"),t0e=.4,i0e=.2,GNe=.25,VW="default",r0e="temporary",s0e=new Ne("yellow");var bC;let Gs=bC=class extends Te{constructor(e){super(e),this.name=VW,this.color=Xge.clone(),this.haloColor=null,this.haloOpacity=Qge,this.fillOpacity=Kge,this.shadowColor=e0e.clone(),this.shadowOpacity=t0e,this.shadowDifference=i0e,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity&&this.haloWidth===e.haloWidth&&this.haloBlur===e.haloBlur&&this.shadowColor.equals(e.shadowColor)&&this.shadowOpacity===e.shadowOpacity&&this.shadowDifference===e.shadowDifference}clone(){var e,t;return new bC({...this,color:this.color.clone(),haloColor:(e=this.haloColor)==null?void 0:e.clone(),shadowColor:(t=this.shadowColor)==null?void 0:t.clone()})}assignFrom(e){var t;this.color=e.color.clone(),this.haloColor=(t=e.haloColor)==null?void 0:t.clone(),this.haloOpacity=e.haloOpacity,this.fillOpacity=e.fillOpacity,this.shadowColor=e.shadowColor.clone(),this.shadowDifference=e.shadowDifference,this.shadowOpacity=e.shadowOpacity,this.haloBlur=e.haloBlur,this.haloWidth=e.haloWidth}};u([h({type:String,constructOnly:!0,nonNullable:!0})],Gs.prototype,"name",void 0),u([h({type:Ne,nonNullable:!0})],Gs.prototype,"color",void 0),u([h({type:Ne})],Gs.prototype,"haloColor",void 0),u([h({nonNullable:!0})],Gs.prototype,"haloOpacity",void 0),u([h({nonNullable:!0})],Gs.prototype,"fillOpacity",void 0),u([h({type:Ne,nonNullable:!0})],Gs.prototype,"shadowColor",void 0),u([h({nonNullable:!0})],Gs.prototype,"shadowOpacity",void 0),u([h({nonNullable:!0})],Gs.prototype,"shadowDifference",void 0),u([h({nonNullable:!0})],Gs.prototype,"haloWidth",void 0),u([h({nonNullable:!0})],Gs.prototype,"haloBlur",void 0),Gs=bC=u([A("esri.views.support.HighlightOptions")],Gs);const yc=Gs;function n0e(){return new(pe.ofType(yc))([new yc({name:VW}),new yc({name:r0e,color:s0e})])}let bf=class extends Te{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":o0e.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return a0e[this.deviceType]}};u([h({nonNullable:!0,readOnly:!0})],bf.prototype,"nativeIndex",void 0),u([h({type:String,readOnly:!0})],bf.prototype,"deviceType",null),u([h({type:Number,readOnly:!0})],bf.prototype,"axisThreshold",null),bf=u([A("esri.views.input.gamepad.GamepadInputDevice")],bf);const KL=bf,o0e=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),a0e={standard:.15,spacemouse:.025,unknown:0};let M0=class extends Te{constructor(...t){super(...t),this.devices=new pe,this.enabledFocusMode="document"}};u([h({type:pe.ofType(KL),readOnly:!0})],M0.prototype,"devices",void 0),u([h({type:["document","view","none"]})],M0.prototype,"enabledFocusMode",void 0),M0=u([A("esri.views.input.gamepad.GamepadSettings")],M0);const l0e=M0;let aS=class extends Te{constructor(){super(...arguments),this.gamepad=new l0e}};u([h({readOnly:!0})],aS.prototype,"gamepad",void 0),aS=u([A("esri.views.input.Input")],aS);const u0e=aS,GW=()=>Tt.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,DM=()=>h({type:["pan","rotate","zoom","none"],nonNullable:!0});let qd=class extends Te{constructor(t){super(t),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};u([DM()],qd.prototype,"dragPrimary",void 0),u([DM()],qd.prototype,"dragSecondary",void 0),u([DM()],qd.prototype,"dragTertiary",void 0),u([h({type:["zoom","none"],nonNullable:!0})],qd.prototype,"mouseWheel",void 0),qd=u([A("esri.views.navigation.NavigationActionMap")],qd);const eN=qd;let Du=class extends Te{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};u([h({type:Boolean,nonNullable:!0})],Du.prototype,"enabled",void 0),u([h({type:KL})],Du.prototype,"device",void 0),u([h({type:["pan","zoom"],nonNullable:!0})],Du.prototype,"mode",void 0),u([h({type:["forward-down","forward-up"],nonNullable:!0})],Du.prototype,"tiltDirection",void 0),u([h({type:Number,nonNullable:!0})],Du.prototype,"velocityFactor",void 0),Du=u([A("esri.views.navigation.gamepad.GamepadSettings")],Du);const qW=Du;let ku=class extends Te{constructor(t){super(t),this.actionMap=new eN,this.browserTouchPanEnabled=!0,this.gamepad=new qW,this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!GW()}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel==="zoom"}set mouseWheelZoomEnabled(t){yre(ne.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=t?"zoom":"none"}};u([h({type:eN,nonNullable:!0})],ku.prototype,"actionMap",void 0),u([h({type:Boolean})],ku.prototype,"browserTouchPanEnabled",void 0),u([h({type:qW,nonNullable:!0})],ku.prototype,"gamepad",void 0),u([h({type:Boolean})],ku.prototype,"momentumEnabled",void 0),u([h({type:Boolean})],ku.prototype,"mouseWheelZoomEnabled",null),ku=u([A("esri.views.navigation.Navigation")],ku);const XT=ku;function JNe(e,t,i){const r=BW(e),s=t,n=c0e(r,s,i);if(r){const o=A1.deriveUnitFromSR(r,e.spatialReference).heightUnit;if(!i&&o!==r.heightUnit){const c=new z("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${o})`,{horizontalUnit:o});return new z("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r,error:c})}}if(!d0e(e)||n===ms.Unsupported)return new z("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r});switch(n){case ms.Units:{const o=(r==null?void 0:r.heightUnit)||"unknown",c=(s==null?void 0:s.heightUnit)||"unknown",d=new z("layerview:incompatible-height-unit",`The vertical units of the layer (${o}) must match the vertical units of the scene (${c})`,{layerUnit:o,sceneUnit:c});return new z("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:d})}case ms.HeightModel:{const o=(r==null?void 0:r.heightModel)||"unknown",c=(s==null?void 0:s.heightModel)||"unknown",d=new z("layerview:incompatible-height-model",`The height model of the layer (${o}) must match the height model of the scene (${c})`,{layerHeightModel:o,sceneHeightModel:c});return new z("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:d})}case ms.CRS:{const o=(r==null?void 0:r.vertCRS)||"unknown",c=(s==null?void 0:s.vertCRS)||"unknown",d=new z("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${o}) must match the vertical datum of the scene (${c})`,{layerDatum:o,sceneDatum:c});return new z("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:d})}}return null}function c0e(e,t,i){if(!u8(e)||!u8(t))return ms.Unsupported;if(e==null||t==null)return ms.Ok;if(!i&&e.heightUnit!==t.heightUnit)return ms.Units;if(e.heightModel!==t.heightModel)return ms.HeightModel;switch(e.heightModel){case"gravity-related-height":return ms.Ok;case"ellipsoidal":return e.vertCRS===t.vertCRS?ms.Ok:ms.CRS;default:return ms.Unsupported}}var ms;function u8(e){return e==null||e.heightModel!=null&&e.heightUnit!=null}function d0e(e){return"heightModelInfo"in e&&e.heightModelInfo!=null||e.spatialReference!=null||!ZW(e)}function BW(e){var r;if(e.type==="integrated-mesh-3dtiles")return null;const t=e.url?Wm(e.url):void 0;return!(((r=e.spatialReference)==null?void 0:r.vcsWkid)==null&&t!=null&&t.serverType==="ImageServer")&&HW(e)&&e.heightModelInfo?e.heightModelInfo:ZW(e)?A1.deriveUnitFromSR(p0e,e.spatialReference):null}function HW(e){return"heightModelInfo"in e}function WW(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function ZW(e){return WW(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):YW(e)}function h0e(e){return e.layers!=null||YW(e)||WW(e)||HW(e)}function YW(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(ms||(ms={}));const p0e=new A1({heightModel:"gravity-related-height"});var L2;(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(L2||(L2={}));let _C,kM=null;async function f0e(e){kM||(kM=te(()=>import("./geometryServiceUtils-DWhQ5uAQ.js"),__vite__mapDeps([186,187])).then(t=>_C=t)),await kM,li(e)}async function JW(e,t,i,r){if(!e)return null;const s=e.spatialReference;return Nc()||ya(s,t)?Pc(e,t):_C?_C.projectGeometry(e,t,i,r):(await Promise.race([f0e(r),Ec(r)]),JW(e,t,i,r))}let jt=class extends Te{constructor(t){super(t),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=Tm(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var r,s,n,o;const t=(r=this.map)==null?void 0:r.call(this),i=[];return this.priorityCollection!=null&&i.push(this.priorityCollection),i.push({parent:t==null?void 0:t.basemap,layers:(s=t==null?void 0:t.basemap)==null?void 0:s.baseLayers},{layers:t==null?void 0:t.layers},{parent:t==null?void 0:t.ground,layers:(n=t==null?void 0:t.ground)==null?void 0:n.layers},{parent:t==null?void 0:t.basemap,layers:(o=t==null?void 0:t.basemap)==null?void 0:o.referenceLayers}),i}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let t;if(this._collectLayers(this.mapCollections,r=>{const s=this._getSupportedSpatialReferences(r);if(s.length>0){const n=this._narrowDownSpatialReferenceCandidates(t,s);n!=null&&(t=n)}return(t==null?void 0:t.length)===1})&&(t==null?void 0:t.length)!==1)return{updating:!0};const i=this._pickSpatialReferenceCandidate(t);return{spatialReference:(i==null?void 0:i.spatialReference)??null,viewingMode:(i==null?void 0:i.viewingMode)??null,updating:!1}}get _tileInfoTask(){var n,o;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const t=(n=this.map)==null?void 0:n.call(this),i=this.spatialReference;if(!i)return{updating:this._spatialReferenceTask.updating};let r;const s=this._collectLayers([{parent:t==null?void 0:t.basemap,layers:(o=t==null?void 0:t.basemap)==null?void 0:o.baseLayers},{layers:t==null?void 0:t.layers}],c=>{var d;return!(!("tileInfo"in c)||!((d=c.tileInfo)!=null&&d.spatialReference.equals(i)))&&(r=c,!0)},c=>"tileInfo"in c);return r?{tileInfo:r.tileInfo,updating:!1}:{updating:s}}get _heightModelInfoTask(){var r;if(!this.required.heightModelInfo||this.suspended&&((r=this._get("_heightModelInfoTask"))!=null&&r.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};let t={};const i=this._collectLayers(this.mapCollections,s=>{var o,c;const n=BW(s);return!!n&&(t={heightModelInfo:n,vcsWkid:(o=s.spatialReference)==null?void 0:o.vcsWkid,latestVcsWkid:(c=s.spatialReference)==null?void 0:c.latestVcsWkid},!0)},s=>h0e(s));return{...t,updating:i}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=[],i=this._collectLayers(this.mapCollections,r=>{const s="fullExtents"in r&&r.fullExtents||(r.fullExtent!=null?[r.fullExtent]:[]),n=this.requiresExtentInSpatialReference?null:s[0],o=s.find(c=>c.spatialReference.equals(this.spatialReference))??n;if(o)return t.push({extent:o,layer:r}),!0;if(this._getSupportedSpatialReferences(r).length>0)for(const c of s)t.push({extent:c,layer:r});return!1});return{candidates:t,updating:i}}get _extentTask(){const{candidates:t,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const r=this._pickExtentCandidate(t),s=this.spatialReference;return r.extent.equals(this._projectExtentTask.input)&&s.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=Tm(this._projectExtentTask.task)),this._projectExtentTask={input:r.extent.clone(),output:null,spatialReference:s.clone(),task:w1(async n=>{try{const o=await JW(r.extent,s,"portalItem"in r.layer?r.layer.portalItem:void 0,n);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(Ks(n))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,i){if(t==null)return i;const r=new Array;for(const s of t)for(const n of i){if(!s.spatialReference.equals(n.spatialReference))continue;const o=y0e(s.viewingMode,n.viewingMode);if(o!==!1){r.push({spatialReference:s.spatialReference,viewingMode:o});break}}return r.length>0?r:null}_pickSpatialReferenceCandidate(t){const i=this.defaultSpatialReference;return t==null||t.length<1?i?{spatialReference:i,viewingMode:null}:null:(i!=null&&t.length>1&&t.some(({spatialReference:r})=>r.equals(i))&&(t=t.filter(({spatialReference:r})=>r.equals(i))),t.length>1&&t.some(({viewingMode:r})=>r!==L2.Local)&&(t=t.filter(({viewingMode:r})=>r!==L2.Local)),t[0])}_getSupportedSpatialReferences(t){const i="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(i.length===0)return[];const r=[];for(const s of i){const n=this.getSpatialReferenceSupport(s,t);if(n!=null){const o=n.constraints??[{spatialReference:s,viewingMode:null}];for(const{spatialReference:c,viewingMode:d}of o)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!c.equals(this.userSpatialReference)||r.push({spatialReference:c,viewingMode:d})}}return r}_pickExtentCandidate(t){const i=this.spatialReference;return t.find(({extent:r})=>i.equals(r.spatialReference))||t[0]}_collectLayers(t,i,r=()=>!0){var n;switch(this._loadMaybe((n=this.map)==null?void 0:n.call(this))){case"loading":return!0;case"failed":return!1}const s=new m0e(r,i);for(const o of t)if(this._collectCollection(o,s),s.done||s.preloading===this.sourcePreloadCount)break;return s.updating}_collectCollection(t,i){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(const r of t.layers)if(i.layerFilter(r)){switch(this._loadMaybe(r)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":if(i.updating||(i.done=i.pushLayer(r)),i.done||i.preloading===this.sourcePreloadCount)break;"layers"in r&&this._collectCollection({layers:r.layers},i)}if(i.done||i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(i=>{Ur(i)}),"loading"):t.loadStatus:"loaded"}};u([h()],jt.prototype,"required",void 0),u([h({constructOnly:!0})],jt.prototype,"map",void 0),u([h({constructOnly:!0})],jt.prototype,"getSpatialReferenceSupport",void 0),u([h()],jt.prototype,"defaultSpatialReference",void 0),u([h()],jt.prototype,"userSpatialReference",void 0),u([h()],jt.prototype,"sourcePreloadCount",void 0),u([h()],jt.prototype,"priorityCollection",void 0),u([h()],jt.prototype,"requiresExtentInSpatialReference",void 0),u([h()],jt.prototype,"suspended",void 0),u([h({readOnly:!0})],jt.prototype,"ready",null),u([h({readOnly:!0})],jt.prototype,"heightModelInfoReady",null),u([h({readOnly:!0})],jt.prototype,"spatialReference",null),u([h({readOnly:!0})],jt.prototype,"extent",null),u([h({readOnly:!0})],jt.prototype,"heightModelInfo",null),u([h({readOnly:!0})],jt.prototype,"vcsWkid",null),u([h({readOnly:!0})],jt.prototype,"latestVcsWkid",null),u([h({readOnly:!0})],jt.prototype,"viewingMode",null),u([h({readOnly:!0})],jt.prototype,"tileInfo",null),u([h({readOnly:!0})],jt.prototype,"mapCollections",null),u([h({readOnly:!0})],jt.prototype,"_spatialReferenceTask",null),u([h({readOnly:!0})],jt.prototype,"_tileInfoTask",null),u([h({readOnly:!0})],jt.prototype,"_heightModelInfoTask",null),u([h({readOnly:!0})],jt.prototype,"_extentCandidatesTask",null),u([h()],jt.prototype,"_extentTask",null),u([h()],jt.prototype,"_projectExtentTask",void 0),jt=u([A("esri.views.support.DefaultsFromMap")],jt);let m0e=class{constructor(t,i){this.layerFilter=t,this.pushLayer=i,this.preloading=-1,this.updating=!1,this.done=!1}};function y0e(e,t){return e!=null?t!=null?e===t&&e:e:t}let _f=class extends Te{constructor(t){super(t),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};u([h()],_f.prototype,"featureTitleFields",void 0),u([h()],_f.prototype,"utilityNetworkFields",void 0),u([h()],_f.prototype,"globalIdField",void 0),_f=u([A("esri.views.support.RequiredFieldsOptions")],_f);const g0e=_f;var A0;let Me=A0=class extends Dn.EventedMixin(x1.EsriPromiseMixin(Te)){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new Gm,this.updatingHandles=new xh,this.allLayerViews=new jv({getCollections:()=>{var t,i,r;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(i=this.groundView)==null?void 0:i.layerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:b0e}),this.groundView=null,this.basemapView=null,this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new Mh,this.analyses=new M2,this.typeSpecificPreconditionsReady=!0,this.layerViews=new pe,this.magnifier=new CW,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new u0e,this.navigation=new XT,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new FW(this),this.persistableViewModels=new pe,this.requiredFieldsOptions=new g0e,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(xe(()=>this.preconditionsReady,t=>{var r,s;const i=this.ready;if(t?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,A0.views.add(this)):(this._lockedSpatialReference=null,A0.views.remove(this)),this.notifyChange("spatialReference"),!t&&i)(r=this.toolViewManager)==null||r.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),(s=this.layerViewManager)==null||s.clear(),this._teardown();else if(t&&!i){try{this._startup()}catch(n){return void queueMicrotask(()=>{this.fatalError=new z("startup-error",null,n)})}this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},fa))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,lL(()=>this.ready)))),this.basemapView=new mge({view:this}),this.layerViewManager=new bge({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new Ko({view:this}),this.selectionManager=new Rge({view:this}),this.addHandles([$s(()=>this.readyState==="map-content-error"&&!this.spatialReference,()=>{ne.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),xe(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},gs),xe(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},fa),xe(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},gs)])}destroy(){var e,t;this.destroyed||(A0.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Gt(this.graphics),this.analyses=Gt(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),Gt(this.analysisViewManager),this.toolViewManager=Gt(this.toolViewManager),this.layerViewManager=Gt(this.layerViewManager),this.selectionManager=Gt(this.selectionManager),this.basemapView=Gt(this.basemapView),(e=this.groundView)==null||e.destroy(),(t=this.layerViews)==null||t.forEach(i=>i.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=Gt(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return ne.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new jt({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??n0e()}set highlights(e){this._set("highlights",Cl(e,this._get("highlights"),pe.ofType(yc)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||ga.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(ne.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),ga.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){var e,t,i,r;if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((((e=this.defaultsFromMap)==null?void 0:e.ready)??!1)&&!this.spatialReference){const s=!("loaded"in this.map)||this.map.loaded,n=this.map.ground.loaded,o=((t=this.map.basemap)==null?void 0:t.loaded)??!0;return s&&o&&n&&!((i=this.map)!=null&&i.allLayers.length)?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=w1(c=>XV(B("view-readyState-waiting-delay"),null,c)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),(r=this._readyStateWaitingTask)!=null&&r.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=Tm(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){var t,i;const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&((i=(t=this.defaultsFromMap)==null?void 0:t.required)!=null&&i.heightModelInfo)){const r=e.clone();return r.vcsWkid=this.defaultsFromMap.vcsWkid,r.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,r}return e}set spatialReference(e){const t=!Ji(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??ma}set timeZone(e){this._userTimeZone=e,Kue(e)||ne.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){var e;return((e=this.toolViewManager)==null?void 0:e.cursor)??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new gC}whenLayerView(e){var t;return((t=this.layerViewManager)==null?void 0:t.whenLayerView(e))??Promise.reject()}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(e){throw new z("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,t){return this.isResolved()&&!this.ready&&ne.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&($s(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};Me.views=new pe,u([h()],Me.prototype,"_userSpatialReference",void 0),u([h()],Me.prototype,"activeTool",null),u([h({readOnly:!0})],Me.prototype,"allLayerViews",void 0),u([h()],Me.prototype,"groundView",void 0),u([h()],Me.prototype,"animation",null),u([h()],Me.prototype,"basemapView",void 0),u([h()],Me.prototype,"center",null),u([h()],Me.prototype,"defaultsFromMapSettings",null),u([h()],Me.prototype,"defaultsFromMap",null),u([h()],Me.prototype,"displayFilterEnabled",void 0),u([h()],Me.prototype,"fatalError",void 0),u([h({type:Pt})],Me.prototype,"extent",null),u([h(JA(Mh,"graphics"))],Me.prototype,"graphics",void 0),u([h(JA(M2,"analyses"))],Me.prototype,"analyses",void 0),u([h({readOnly:!0,type:A1})],Me.prototype,"heightModelInfo",null),u([h({type:pe.ofType(yc)})],Me.prototype,"highlights",null),u([h({readOnly:!0})],Me.prototype,"interacting",null),u([h({readOnly:!0})],Me.prototype,"navigating",null),u([h({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Me.prototype,"preconditionsReady",null),u([h({readOnly:!0})],Me.prototype,"typeSpecificPreconditionsReady",void 0),u([h({type:pe,readOnly:!0})],Me.prototype,"layerViews",void 0),u([h()],Me.prototype,"resolution",null),u([h({type:CW})],Me.prototype,"magnifier",void 0),u([h({value:null,type:SH})],Me.prototype,"map",null),u([h()],Me.prototype,"padding",void 0),u([h({readOnly:!0})],Me.prototype,"ready",void 0),u([h()],Me.prototype,"_readyStateWaitingTask",void 0),u([h({readOnly:!0})],Me.prototype,"readyState",null),u([h({type:Ge})],Me.prototype,"spatialReference",null),u([h()],Me.prototype,"stationary",null),u([h({readOnly:!0})],Me.prototype,"supportsGround",void 0),u([h({type:Il})],Me.prototype,"timeExtent",null),u([h({type:String,nonNullable:!0})],Me.prototype,"timeZone",null),u([h()],Me.prototype,"tools",null),u([h()],Me.prototype,"toolViewManager",void 0),u([h({readOnly:!0})],Me.prototype,"type",void 0),u([h({type:Number})],Me.prototype,"scale",void 0),u([h({readOnly:!0})],Me.prototype,"updating",void 0),u([h({readOnly:!0})],Me.prototype,"initialExtentRequired",void 0),u([h({readOnly:!0})],Me.prototype,"initialExtent",null),u([h()],Me.prototype,"cursor",null),u([h({readOnly:!0})],Me.prototype,"input",void 0),u([h({type:XT,nonNullable:!0})],Me.prototype,"navigation",void 0),u([h()],Me.prototype,"layerViewManager",void 0),u([h()],Me.prototype,"analysisViewManager",void 0),u([h()],Me.prototype,"selectionManager",void 0),u([h()],Me.prototype,"width",void 0),u([h()],Me.prototype,"height",void 0),u([h({readOnly:!0})],Me.prototype,"resizing",void 0),u([h({value:null,readOnly:!0})],Me.prototype,"size",null),u([h({readOnly:!0})],Me.prototype,"suspended",void 0),u([h({readOnly:!0})],Me.prototype,"viewEvents",void 0),u([h({readOnly:!0})],Me.prototype,"persistableViewModels",void 0),u([h()],Me.prototype,"_isValid",void 0),u([h()],Me.prototype,"_readyCycleForced",void 0),u([h()],Me.prototype,"_lockedSpatialReference",void 0),u([h()],Me.prototype,"_userTimeZone",void 0),u([h()],Me.prototype,"_lockedTimeZone",void 0),u([h()],Me.prototype,"_userTimeExtent",void 0),u([h()],Me.prototype,"_lockedTimeExtent",void 0),u([h({type:gC})],Me.prototype,"theme",void 0),u([h({readOnly:!0,type:gC})],Me.prototype,"effectiveTheme",null),Me=A0=u([A("esri.views.View")],Me);const FM=globalThis.$arcgis;FM&&!FM.views&&Object.defineProperty(FM,"views",{configurable:!1,enumerable:!0,writable:!1,value:Me.views});const v0e=Me;function b0e(e){return e.layerViews}function ym(e,t){return e[0]=t[0],e[1]=t[1],e}function or(e,t,i){return e[0]=t,e[1]=i,e}function XW(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function Jv(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function QW(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function KW(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function _0e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function w0e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function S0e(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function T0e(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function E0e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function F1(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function $0e(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e}function QT(e,t){const i=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(i*i+r*r)}function N2(e,t){const i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r}function P2(e){const t=e[0],i=e[1];return Math.sqrt(t*t+i*i)}function eZ(e){const t=e[0],i=e[1];return t*t+i*i}function tZ(e,t){return e[0]=-t[0],e[1]=-t[1],e}function x0e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function wC(e,t){const i=t[0],r=t[1];let s=i*i+r*r;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s),e}function iZ(e,t){return e[0]*t[0]+e[1]*t[1]}function rZ(e,t,i){const r=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=r,e}function M0e(e,t,i,r){const s=t[0],n=t[1];return e[0]=s+r*(i[0]-s),e[1]=n+r*(i[1]-n),e}function A0e(e,t=1){const i=2*FT()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e}function O0e(e,t,i){const r=t[0],s=t[1];return e[0]=i[0]*r+i[2]*s,e[1]=i[1]*r+i[3]*s,e}function ua(e,t,i){const r=t[0],s=t[1];return e[0]=i[0]*r+i[2]*s+i[4],e[1]=i[1]*r+i[3]*s+i[5],e}function C0e(e,t,i){const r=t[0],s=t[1];return e[0]=i[0]*r+i[3]*s+i[6],e[1]=i[1]*r+i[4]*s+i[7],e}function I0e(e,t,i){const r=t[0],s=t[1];return e[0]=i[0]*r+i[4]*s+i[12],e[1]=i[1]*r+i[5]*s+i[13],e}function R0e(e,t,i,r){const s=t[0]-i[0],n=t[1]-i[1],o=Math.sin(r),c=Math.cos(r);return e[0]=s*c-n*o+i[0],e[1]=s*o+n*c+i[1],e}function L0e(e,t){const i=e[0],r=e[1],s=t[0],n=t[1];let o=i*i+r*r;o>0&&(o=1/Math.sqrt(o));let c=s*s+n*n;c>0&&(c=1/Math.sqrt(c));const d=(i*s+r*n)*o*c;return d>1?0:d<-1?Math.PI:Math.acos(d)}function N0e(e){return"vec2("+e[0]+", "+e[1]+")"}function P0e(e,t){return e[0]===t[0]&&e[1]===t[1]}function D0e(e,t){const i=e[0],r=e[1],s=t[0],n=t[1],o=ts();return Math.abs(i-s)<=o*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-n)<=o*Math.max(1,Math.abs(r),Math.abs(n))}function k0e(e,t,i,r,s){let n=t[0]-i[0],o=t[1]-i[1];const c=(r[0]*n+r[1]*o)*(s-1);return n=r[0]*c,o=r[1]*c,e[0]=t[0]+n,e[1]=t[1]+o,e}const F0e=P2,tN=Jv,j0e=QW,U0e=KW,z0e=QT,V0e=N2,G0e=eZ;Object.freeze(Object.defineProperty({__proto__:null,add:XW,angle:L0e,ceil:_0e,copy:ym,cross:rZ,dist:z0e,distance:QT,div:U0e,divide:KW,dot:iZ,equals:D0e,exactEquals:P0e,floor:w0e,inverse:x0e,len:F0e,length:P2,lerp:M0e,max:T0e,min:S0e,mul:j0e,multiply:QW,negate:tZ,normalize:wC,projectAndScale:k0e,random:A0e,rotate:R0e,round:E0e,scale:F1,scaleAndAdd:$0e,set:or,sqrDist:V0e,sqrLen:G0e,squaredDistance:N2,squaredLength:eZ,str:N0e,sub:tN,subtract:Jv,transformMat2:O0e,transformMat2d:ua,transformMat3:C0e,transformMat4:I0e},Symbol.toStringTag,{value:"Module"}));function hi(){return[0,0]}function q0e(e){return[e[0],e[1]]}function j1(e,t){return[e,t]}function B0e(e,t){return[e,t]}function H0e(e,t=hi()){const i=Math.min(2,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function W0e(e,t){return new Float64Array(e,t,2)}function sZ(){return hi()}function nZ(){return j1(1,1)}function oZ(){return j1(1,0)}function aZ(){return j1(0,1)}const Z0e=sZ(),Y0e=nZ(),J0e=oZ(),X0e=aZ();Object.freeze(Object.defineProperty({__proto__:null,ONES:Y0e,UNIT_X:J0e,UNIT_Y:X0e,ZEROS:Z0e,clone:q0e,create:hi,createView:W0e,freeze:B0e,fromArray:H0e,fromValues:j1,ones:nZ,unitX:oZ,unitY:aZ,zeros:sZ},Symbol.toStringTag,{value:"Module"}));function Q0e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function K0e(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function eve(e,t,i,r,s,n,o){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e[4]=n,e[5]=o,e}function iN(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],c=t[5];let d=i*n-r*s;return d?(d=1/d,e[0]=n*d,e[1]=-r*d,e[2]=-s*d,e[3]=i*d,e[4]=(s*c-n*o)*d,e[5]=(r*o-i*c)*d,e):null}function tve(e){return e[0]*e[3]-e[1]*e[2]}function lZ(e,t,i){const r=t[0],s=t[1],n=t[2],o=t[3],c=t[4],d=t[5],f=i[0],g=i[1],v=i[2],_=i[3],S=i[4],T=i[5];return e[0]=r*f+n*g,e[1]=s*f+o*g,e[2]=r*v+n*_,e[3]=s*v+o*_,e[4]=r*S+n*T+c,e[5]=s*S+o*T+d,e}function KT(e,t,i){const r=t[0],s=t[1],n=t[2],o=t[3],c=t[4],d=t[5],f=Math.sin(i),g=Math.cos(i);return e[0]=r*g+n*f,e[1]=s*g+o*f,e[2]=r*-f+n*g,e[3]=s*-f+o*g,e[4]=c,e[5]=d,e}function rN(e,t,i){const r=t[0],s=t[1],n=t[2],o=t[3],c=t[4],d=t[5],f=i[0],g=i[1];return e[0]=r*f,e[1]=s*f,e[2]=n*g,e[3]=o*g,e[4]=c,e[5]=d,e}function Xv(e,t,i){const r=t[0],s=t[1],n=t[2],o=t[3],c=t[4],d=t[5],f=i[0],g=i[1];return e[0]=r,e[1]=s,e[2]=n,e[3]=o,e[4]=r*f+n*g+c,e[5]=s*f+o*g+d,e}function uZ(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=0,e[5]=0,e}function cZ(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function sN(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function ive(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function rve(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function sve(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e}function dZ(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}function nve(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e}function ove(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e}function ave(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function lve(e,t){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],c=e[5],d=t[0],f=t[1],g=t[2],v=t[3],_=t[4],S=t[5],T=ts();return Math.abs(i-d)<=T*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(r-f)<=T*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(s-g)<=T*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(n-v)<=T*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(o-_)<=T*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(c-S)<=T*Math.max(1,Math.abs(c),Math.abs(S))}const uve=lZ,cve=dZ;Object.freeze(Object.defineProperty({__proto__:null,add:sve,copy:Q0e,determinant:tve,equals:lve,exactEquals:ave,frob:rve,fromRotation:uZ,fromScaling:cZ,fromTranslation:sN,identity:K0e,invert:iN,mul:uve,multiply:lZ,multiplyScalar:nve,multiplyScalarAndAdd:ove,rotate:KT,scale:rN,set:eve,str:ive,sub:cve,subtract:dZ,translate:Xv},Symbol.toStringTag,{value:"Module"}));function $l(){return[1,0,0,1,0,0]}function dve(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function hve(e,t,i,r,s,n){return[e,t,i,r,s,n]}function pve(e,t){return new Float64Array(e,t,6)}const fve=$l();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:fve,clone:dve,create:$l,createView:pve,fromValues:hve},Symbol.toStringTag,{value:"Module"}));const z_={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Eo({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:Ge.WebMercator}),minus180Line:new Eo({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:Ge.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Eo({paths:[[[180,-180],[180,180]]],spatialReference:Ge.WGS84}),minus180Line:new Eo({paths:[[[-180,-180],[-180,180]]],spatialReference:Ge.WGS84})}};function bh(e,t){return Math.ceil((e-t)/(2*t))}function hZ(e,t){const i=wv(e);for(const r of i)for(const s of r)s[0]+=t;return e}function wv(e){return Eh(e)?e.rings:e.paths}function ePe(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function mve(e){return typeof e=="string"?dr(e):j(e)}function yve(e,t,i){const r={};for(const s in e){if(s==="declaredClass")continue;const n=e[s];if(n!=null&&typeof n!="function")if(Array.isArray(n))r[s]=n.map(o=>yve(o));else if(typeof n=="object")if(n.toJSON){const o=n.toJSON(i==null?void 0:i[s]);r[s]=t?o:JSON.stringify(o)}else r[s]=t?n:JSON.stringify(n);else r[s]=n}return r}async function gve(e,t,i,r){const s=mve(e),n=t[0].spatialReference,o={...r,responseType:"json",query:{...s.query,f:"json",sr:J7(n),target:JSON.stringify({geometryType:iL(t[0]),geometries:t}),cutter:JSON.stringify(i)}},c=await qt(s.path+"/cut",o),{cutIndexes:d,geometries:f=[]}=c.data;return{cutIndexes:d,geometries:f.map(g=>{const v=Uh(g);return v.spatialReference=n,v})}}function vve(e){return{geometryType:iL(e[0]),geometries:e.map(t=>t.toJSON())}}function bve(e,t,i){const r=bae(t);return e.map(s=>{const n=r.fromJSON(s);return n.spatialReference=i,n})}async function _ve(e,t,i){const r=typeof e=="string"?dr(e):e,s=t[0].spatialReference,n=iL(t[0]),o={...i,query:{...r.query,f:"json",sr:J7(s),geometries:JSON.stringify(vve(t))}},{data:c}=await qt(r.path+"/simplify",o);return bve(c.geometries,n,s)}const pZ=()=>ne.getLogger("esri.geometry.support.normalizeUtils");function wve(e){return e.type==="polygon"}function Sve(e){return e[0].type==="polygon"}function Tve(e){return e[0].type==="polyline"}function c8(e){const t=[];let i=0,r=0;for(let s=0;s<e.length;s++){const n=e[s];let o=null;for(let c=0;c<n.length;c++)o=n[c],t.push(o),c===0?(i=o[0],r=i):(i=Math.min(i,o[0]),r=Math.max(r,o[0]));o&&t.push([(i+r)/2,0])}return t}function Eve(e,t){if(!(e instanceof Eo||e instanceof Pn)){const s="straightLineDensify: the input geometry is neither polyline nor polygon";throw pZ().error(s),new z(s)}const i=wv(e),r=[];for(const s of i){const n=[];r.push(n),n.push([s[0][0],s[0][1]]);for(let o=0;o<s.length-1;o++){const c=s[o][0],d=s[o][1],f=s[o+1][0],g=s[o+1][1],v=Math.sqrt((f-c)*(f-c)+(g-d)*(g-d)),_=(g-d)/v,S=(f-c)/v,T=v/t;if(T>1){for(let L=1;L<=T-1;L++){const N=L*t,P=S*N+c,U=_*N+d;n.push([P,U])}const E=(v+Math.floor(T-1)*t)/2,M=S*E+c,C=_*E+d;n.push([M,C])}n.push([f,g])}}return wve(e)?new Pn({rings:r,spatialReference:e.spatialReference}):new Eo({paths:r,spatialReference:e.spatialReference})}function d8(e,t,i){if(t){const r=Eve(e,1e6);e=Zf(r,!0)}return i&&(e=hZ(e,i)),e}function h8(e,t,i){if(Array.isArray(e)){const r=e[0];if(r>t){const s=bh(r,t);e[0]=r+s*(-2*t)}else if(r<i){const s=bh(r,i);e[0]=r+s*(-2*i)}}else{const r=e.x;if(r>t){const s=bh(r,t);e=e.clone().offset(s*(-2*t),0)}else if(r<i){const s=bh(r,i);e=e.clone().offset(s*(-2*i),0)}}return e}function $ve(e,t){let i=-1;for(let r=0;r<t.cutIndexes.length;r++){const s=t.cutIndexes[r],n=t.geometries[r],o=wv(n);for(let c=0;c<o.length;c++){const d=o[c];d.some(f=>{if(f[0]<180)return!0;{let g=0;for(let _=0;_<d.length;_++){const S=d[_][0];g=S>g?S:g}g=Number(g.toFixed(9));const v=-360*bh(g,180);for(let _=0;_<d.length;_++){const S=n.getPoint(c,_);n.setPoint(c,_,S.clone().offset(v,0))}return!0}})}if(s===i){if(Sve(e))for(const c of wv(n))e[s]=e[s].addRing(c);else if(Tve(e))for(const c of wv(n))e[s]=e[s].addPath(c)}else i=s,e[s]=n}return e}async function xve(e,t,i){if(!Array.isArray(e))return xve([e],t);t&&typeof t!="string"&&pZ().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const r=typeof t=="string"?t:(t==null?void 0:t.url)??Tt.geometryServiceUrl;let s,n,o,c,d,f,g,v,_=0;const S=[],T=[];for(const P of e)if(P!=null)if(s||(s=P.spatialReference,n=es(s),o=s.isWebMercator,f=o?102100:4326,c=z_[f].maxX,d=z_[f].minX,g=z_[f].plus180Line,v=z_[f].minus180Line),n)if(P.type==="mesh")T.push(P);else if(P.type==="point")T.push(h8(P.clone(),c,d));else if(P.type==="multipoint"){const U=P.clone();U.points=U.points.map(W=>h8(W,c,d)),T.push(U)}else if(P.type==="extent"){const U=P.clone()._normalize(!1,!1,n);T.push(U.rings?new Pn(U):U)}else if(P.extent){const U=P.extent,W=bh(U.xmin,d)*(2*c);let re=W===0?P.clone():hZ(P.clone(),W);U.offset(W,0);let{xmin:ae,xmax:fe}=U;ae=Number(ae.toFixed(9)),fe=Number(fe.toFixed(9)),U.intersects(g)&&fe!==c?(_=fe>_?fe:_,re=d8(re,o),S.push(re),T.push("cut")):U.intersects(v)&&ae!==d?(_=fe*(2*c)>_?fe*(2*c):_,re=d8(re,o,360),S.push(re),T.push("cut")):T.push(re)}else T.push(P.clone());else T.push(P);else T.push(P);let E=bh(_,c),M=-90;const C=E,L=new Eo;for(;E>0;){const P=360*E-180;L.addPath([[P,M],[P,-1*M]]),M*=-1,E--}if(S.length>0&&C>0){const P=$ve(S,await gve(r,S,L,i)),U=[],W=[];for(let fe=0;fe<T.length;fe++){const ye=T[fe];if(ye!=="cut")W.push(ye);else{const Se=P.shift(),_e=e[fe];_e!=null&&_e.type==="polygon"&&_e.rings&&_e.rings.length>1&&Se.rings.length>=_e.rings.length?(U.push(Se),W.push("simplify")):W.push(o?Th(Se):Se)}}if(!U.length)return W;const re=await _ve(r,U,i),ae=[];for(let fe=0;fe<W.length;fe++){const ye=W[fe];ye!=="simplify"?ae.push(ye):ae.push(o?Th(re.shift()):re.shift())}return ae}const N=[];for(let P=0;P<T.length;P++){const U=T[P];if(U!=="cut")N.push(U);else{const W=S.shift();N.push(o===!0?Th(W):W)}}return N}function Mve(e){if(!e)return null;const t=e.extent;if(!t)return null;const i=e.spatialReference&&es(e.spatialReference);if(!i)return t;const[r,s]=i.valid,n=2*s,{width:o}=t;let c,{xmin:d,xmax:f}=t;if([d,f]=[f,d],e.type==="extent"||o===0||o<=s||o>n||d<r||f>s)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;c=c8(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;c=c8(e.paths);break;case"multipoint":c=e.points}const g=t.clone();for(let v=0;v<c.length;v++){let _=c[v][0];_<0?(_+=s,f=Math.max(_,f)):(_-=s,d=Math.min(_,d))}return g.xmin=d,g.xmax=f,g.width<o?(g.xmin-=s,g.xmax-=s,g):t}function nN(e,t,i){const r=es(i);if(r==null)return e;const[s,n]=r.valid,o=2*n;let c=0,d=0;t>n?c=Math.ceil(Math.abs(t-n)/o):t<s&&(c=-Math.ceil(Math.abs(t-s)/o)),e>n?d=Math.ceil(Math.abs(e-n)/o):e<s&&(d=-Math.ceil(Math.abs(e-s)/o));let f=e+(c-d)*o;const g=f-t;return g>n?f-=o:g<s&&(f+=o),f}function tPe(e,t){const i=es(t);if(i){const[r,s]=i.valid,n=s-r;if(e<r)for(;e<r;)e+=n;if(e>s)for(;e>s;)e-=n}return e}const fZ=96,mZ=39.37,Ave=180/Math.PI;function yZ(e){return e.wkid?e:e.spatialReference||Ge.WGS84}function oN(e,t){return t.type?or(e,t.x,t.y):ym(e,t)}function gZ(e){return Fn(e)}function eE(e,t,i=0){let r=e.width,s=e.height;if(i!==0){const c=fT(i),d=Math.abs(Math.cos(c)),f=Math.abs(Math.sin(c));r=e.width*d+e.height*f,s=e.width*f+e.height*d}const n=Math.max(1,t[0]),o=Math.max(1,t[1]);return Math.max(r/n,s/o)*Dve(e.spatialReference)}async function O0(e,t,i,r){var c,d,f;let s,n;if(!e||Array.isArray(e)&&!e.length)return null;if(pe.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const g=e.every(S=>"attributes"in S),v=e.some(S=>!S.geometry);let _=e;if(g&&v&&t&&t.allLayerViews){const S=new Map;for(const C of e){const L=C.layer,N=S.get(L)||[],P=C.attributes[L.objectIdField];P!=null&&N.push(P),S.set(L,N)}const T=[];S.forEach((C,L)=>{var P;const N=(P=t.allLayerViews)==null?void 0:P.find(U=>U.layer.id===L.id);if(N&&"queryFeatures"in N){const U=L.createQuery();U.objectIds=C,U.returnGeometry=!0,T.push(N.queryFeatures(U))}});const E=await Promise.all(T),M=[];for(const C of E)if(C&&C.features&&C.features.length)for(const L of C.features)L.geometry!=null&&M.push(L.geometry);_=M}for(const S of _)r=await O0(S,t,i,r);return r}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")s=new Ye(e);else if(e instanceof Nl)s=e;else if("geometry"in e){if(e.geometry)s=e.geometry;else if(e.layer){const g=e.layer,v=(c=t.allLayerViews)==null?void 0:c.find(_=>_.layer.id===g.id);if(v&&"queryFeatures"in v){const _=g.createQuery();_.objectIds=[e.attributes[g.objectIdField]],_.returnGeometry=!0;const S=await v.queryFeatures(_);s=(f=(d=S==null?void 0:S.features)==null?void 0:d[0])==null?void 0:f.geometry}}}if(s==null)return null;switch(s.type){case"point":n=new Pt({xmin:s.x,ymin:s.y,xmax:s.x,ymax:s.y,spatialReference:s.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":n=Mve(s);break;default:n=s.extent}if(!n)return null;Nc()||ya(n.spatialReference,i)||await Ec();const o=Pc(n,i);if(!o)return null;if(r){const g=o.center,v=g.clone();v.x=nN(g.x,r.center.x,i),v.x!==g.x&&o.centerAt(v),r=r.union(o)}else r=o;return r}function Ove(e){var t;if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&((t=e.layer)==null?void 0:t.minScale)!=null&&e.layer.maxScale!=null){const i=e.layer;return{min:i.minScale,max:i.maxScale}}if(Array.isArray(e)&&e.length&&e.every(i=>"layer"in i)){let i=0,r=0;for(const s of e){const n=s.layer;n!=null&&n.minScale&&n.maxScale&&(i=n.minScale<i?n.minScale:i,r=n.maxScale>r?n.maxScale:r)}return i&&r?{min:i,max:r}:null}}}function p8(e,t){const i=yZ(e);return Ji(i,t)||i.imageCoordinateSystem||t.imageCoordinateSystem?e:Pc(e,t)}async function Cve(e,t){var M;if(!e||!t)return new Rn({targetGeometry:new Ye,scale:0,rotation:0});let i=t.spatialReference;const{constraints:r,padding:s,viewpoint:n,size:o}=t,c=[s?o[0]-s.left-s.right:o[0],s?o[1]-s.top-s.bottom:o[1]];let d=null;e instanceof Rn?d=e:e.viewpoint?d=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(d=e.target);let f=null;d!=null&&d.targetGeometry?f=d.targetGeometry:e instanceof Pt?f=e:e instanceof Nl?f=await O0(e,t,i):e&&(f=await O0(e.center,t,i)||await O0(e.target,t,i)||await O0(e,t,i)),!f&&(n!=null&&n.targetGeometry)?f=n.targetGeometry:!f&&t.extent&&(f=t.extent),i||(i=yZ(t.spatialReference||t.extent||f)),Nc()||Ji(f.spatialReference,i)||ya(f.spatialReference,i)||await Ec();const g=p8(f,i),v="center"in g?g.center:g;t.pickClosestTarget!==!1&&v.type==="point"&&((M=n.targetGeometry)==null?void 0:M.type)==="point"&&(v.x=nN(v.x,n.targetGeometry.x,v.spatialReference));let _=0;d?_=d.rotation:e.hasOwnProperty("rotation")?_=e.rotation:n&&(_=n.rotation);let S=0;S=(d==null?void 0:d.targetGeometry)!=null&&d.targetGeometry.type==="point"?d.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&e.zoom!==-1&&r&&r.effectiveLODs?r.zoomToScale(e.zoom):Array.isArray(f)||f.type==="point"||f.type==="extent"&&f.width===0&&f.height===0?n.scale:eE(p8(f.extent,i),c,_);const T=Ove(e.target??e);T&&(T.min&&T.min<S?S=T.min:T.max&&T.max>S&&(S=T.max));let E=new Rn({targetGeometry:v,scale:S,rotation:_});return r&&(E=r.fit(E),r.constrainByGeometry(E),r.rotationEnabled||(E.rotation=n.rotation)),E}function kr(e,t){const i=e.targetGeometry,r=t.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function Ive(e,t,i){return i?or(e,.5*(t[0]-i.right+i.left),.5*(t[1]-i.bottom+i.top)):F1(e,t,.5)}const Rve=function(){const e=hi();return function(t,i,r){const s=i.targetGeometry;oN(e,s);const n=.5*ry(i);return t.xmin=e[0]-n*r[0],t.ymin=e[1]-n*r[1],t.xmax=e[0]+n*r[0],t.ymax=e[1]+n*r[1],t.spatialReference=s.spatialReference,t}}();function Lve(e,t,i,r,s){var n;return SC(e,t,i.center),e.scale=eE(i,r),(n=s==null?void 0:s.constraints)==null||n.constrain(e),e}function Nve(e,t,i,r){return uN(e,t,i,r),iN(e,e)}const vZ=function(){const e=hi();return function(t,i,r){return tN(t,kve(t,i),Ive(e,i,r))}}(),Pve=function(){const e=$l(),t=hi();return function(i,r,s,n){const o=ry(r),c=aN(r);return or(t,o,o),cZ(e,t),KT(e,e,c),Xv(e,e,vZ(t,s,n)),Xv(e,e,[0,n.top-n.bottom]),or(i,e[4],e[5])}}();function ry(e){var t;return e.scale*bZ((t=e.targetGeometry)==null?void 0:t.spatialReference)}function bZ(e){return Zs(e)?1/(gZ(e)*mZ*fZ):1}function aN(e){return DL(e.rotation)||0}function Dve(e){return Zs(e)?gZ(e)*mZ*fZ:1}function kve(e,t){return F1(e,t,.5)}const lN=function(){const e=hi(),t=hi(),i=hi();return function(r,s,n,o,c,d){return tZ(e,s),F1(t,n,.5*d),or(i,1/o*d,-1/o*d),sN(r,t),c&&KT(r,r,c),rN(r,r,i),Xv(r,r,e),r}}(),uN=function(){const e=hi();return function(t,i,r,s){const n=ry(i),o=aN(i);return oN(e,i.targetGeometry),lN(t,e,r,n,o,s)}}(),Fve=function(){const e=hi();return function(t,i,r,s){const n=ry(i);return oN(e,i.targetGeometry),lN(t,e,r,n,0,s)}}();function _Z(e){const t=es(e);return t?t.valid[1]-t.valid[0]:0}function jve(e,t){return Math.round(_Z(e)/t)}const Uve=function(){const e=hi(),t=hi(),i=[0,0,0];return function(r,s,n){Jv(e,r,s),wC(e,e),Jv(t,r,n),wC(t,t),rZ(i,e,t);let o=Math.acos(iZ(e,t)/(P2(e)*P2(t)))*Ave;return i[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),zve=function(){const e=hi();return function(t,i,r,s){const n=t.targetGeometry;return kr(t,i),Pve(e,i,r,s),n.x+=e[0],n.y+=e[1],t}}(),SC=function(e,t,i){kr(e,t);const r=e.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,e},Vve=function(){const e=hi();return function(t,i,r,s,n){n||(n="center"),tN(e,r,s),F1(e,e,.5);const o=e[0],c=e[1];switch(n){case"center":or(e,0,0);break;case"left":or(e,-o,0);break;case"top":or(e,0,c);break;case"right":or(e,o,0);break;case"bottom":or(e,0,-c);break;case"top-left":or(e,-o,c);break;case"bottom-left":or(e,-o,-c);break;case"top-right":or(e,o,c);break;case"bottom-right":or(e,o,-c)}return tE(t,i,e),t}}();function iPe(e,t,i){return kr(e,t),e.rotation+=i,e}function Gve(e,t,i){return kr(e,t),e.rotation=i,e}const qve=function(){const e=hi();return function(t,i,r,s,n){return kr(t,i),isNaN(r)||r===0||(SZ(e,s,i,n),t.scale=i.scale*r,TZ(e,e,t,n),tE(t,t,or(e,e[0]-s[0],s[1]-e[1]))),t}}();function f8(e,t,i){return kr(e,t),e.scale=i,e}const wZ=function(){const e=hi();return function(t,i,r,s,n,o){return kr(t,i),isNaN(r)||r===0||(SZ(e,n,i,o),t.scale=i.scale*r,t.rotation+=s,TZ(e,e,t,o),tE(t,t,or(e,e[0]-n[0],n[1]-e[1]))),t}}(),rPe=function(){const e=hi(),t=hi();return function(i,r,s,n,o,c,d){return vZ(t,c,d),XW(e,o,t),n?wZ(i,r,s,n,e,c):qve(i,r,s,e,c)}}(),SZ=function(){const e=$l();return function(t,i,r,s){return ua(t,i,Nve(e,r,s,1))}}(),TZ=function(){const e=$l();return function(t,i,r,s){return ua(t,i,uN(e,r,s,1))}}(),tE=function(){const e=hi(),t=$l();return function(i,r,s){kr(i,r);const n=ry(r),o=i.targetGeometry;return uZ(t,aN(r)),rN(t,t,j1(n,n)),ua(e,s,t),o.x+=e[0],o.y+=e[1],i}}();function EZ(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function Bve(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Hve(e,t,i,r,s,n){const o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=i,o[3]=r,o[4]=s,o[5]=n,o}function Wve(e,t){return new Float32Array(e,t,6)}function $Z(e,t,i,r){const s=t[r],n=t[r+1];e[r]=i[0]*s+i[2]*n+i[4],e[r+1]=i[1]*s+i[3]*n+i[5]}function Zve(e,t,i,r=0,s=0,n=2){const o=s||t.length/n;for(let c=r;c<o;c++)$Z(e,t,i,c*n)}Object.freeze(Object.defineProperty({__proto__:null,clone:Bve,create:EZ,createView:Wve,fromValues:Hve,transform:$Z,transformMany:Zve},Symbol.toStringTag,{value:"Module"}));function Yve(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function Jve(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function xZ(e,t,i,r,s,n,o,c,d,f){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e[4]=n,e[5]=o,e[6]=c,e[7]=d,e[8]=f,e}function MZ(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Xve(e,t){if(e===t){const i=t[1],r=t[2],s=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=r,e[7]=s}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Qve(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],c=t[5],d=t[6],f=t[7],g=t[8],v=g*o-c*f,_=-g*n+c*d,S=f*n-o*d;let T=i*v+r*_+s*S;return T?(T=1/T,e[0]=v*T,e[1]=(-g*r+s*f)*T,e[2]=(c*r-s*o)*T,e[3]=_*T,e[4]=(g*i-s*d)*T,e[5]=(-c*i+s*n)*T,e[6]=S*T,e[7]=(-f*i+r*d)*T,e[8]=(o*i-r*n)*T,e):null}function Kve(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],c=t[5],d=t[6],f=t[7],g=t[8];return e[0]=o*g-c*f,e[1]=s*f-r*g,e[2]=r*c-s*o,e[3]=c*d-n*g,e[4]=i*g-s*d,e[5]=s*n-i*c,e[6]=n*f-o*d,e[7]=r*d-i*f,e[8]=i*o-r*n,e}function e1e(e){const t=e[0],i=e[1],r=e[2],s=e[3],n=e[4],o=e[5],c=e[6],d=e[7],f=e[8];return t*(f*n-o*d)+i*(-f*s+o*c)+r*(d*s-n*c)}function cN(e,t,i){const r=t[0],s=t[1],n=t[2],o=t[3],c=t[4],d=t[5],f=t[6],g=t[7],v=t[8],_=i[0],S=i[1],T=i[2],E=i[3],M=i[4],C=i[5],L=i[6],N=i[7],P=i[8];return e[0]=_*r+S*o+T*f,e[1]=_*s+S*c+T*g,e[2]=_*n+S*d+T*v,e[3]=E*r+M*o+C*f,e[4]=E*s+M*c+C*g,e[5]=E*n+M*d+C*v,e[6]=L*r+N*o+P*f,e[7]=L*s+N*c+P*g,e[8]=L*n+N*d+P*v,e}function TC(e,t,i){const r=t[0],s=t[1],n=t[2],o=t[3],c=t[4],d=t[5],f=t[6],g=t[7],v=t[8],_=i[0],S=i[1];return e[0]=r,e[1]=s,e[2]=n,e[3]=o,e[4]=c,e[5]=d,e[6]=_*r+S*o+f,e[7]=_*s+S*c+g,e[8]=_*n+S*d+v,e}function AZ(e,t,i){const r=t[0],s=t[1],n=t[2],o=t[3],c=t[4],d=t[5],f=t[6],g=t[7],v=t[8],_=Math.sin(i),S=Math.cos(i);return e[0]=S*r+_*o,e[1]=S*s+_*c,e[2]=S*n+_*d,e[3]=S*o-_*r,e[4]=S*c-_*s,e[5]=S*d-_*n,e[6]=f,e[7]=g,e[8]=v,e}function t1e(e,t,i){const r=i[0],s=i[1],n=i[2];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=s*t[3],e[4]=s*t[4],e[5]=s*t[5],e[6]=n*t[6],e[7]=n*t[7],e[8]=n*t[8],e}function i1e(e,t,i){const r=i[0],s=i[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=s*t[3],e[4]=s*t[4],e[5]=s*t[5],e}function r1e(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function s1e(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=-i,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function n1e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function o1e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function a1e(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],o=i+i,c=r+r,d=s+s,f=i*o,g=r*o,v=r*c,_=s*o,S=s*c,T=s*d,E=n*o,M=n*c,C=n*d;return e[0]=1-v-T,e[3]=g-C,e[6]=_+M,e[1]=g+C,e[4]=1-f-T,e[7]=S-E,e[2]=_-M,e[5]=S+E,e[8]=1-f-v,e}function l1e(e,t){const i=t[0],r=t[1],s=t[2],n=t[4],o=t[5],c=t[6],d=t[8],f=t[9],g=t[10],v=g*o-c*f,_=-g*n+c*d,S=f*n-o*d,T=i*v+r*_+s*S;if(!T)return null;const E=1/T;return e[0]=v*E,e[1]=(-g*r+s*f)*E,e[2]=(c*r-s*o)*E,e[3]=_*E,e[4]=(g*i-s*d)*E,e[5]=(-c*i+s*n)*E,e[6]=S*E,e[7]=(-f*i+r*d)*E,e[8]=(o*i-r*n)*E,e}function u1e(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],c=t[5],d=t[6],f=t[7],g=t[8],v=t[9],_=t[10],S=t[11],T=t[12],E=t[13],M=t[14],C=t[15],L=i*c-r*o,N=i*d-s*o,P=i*f-n*o,U=r*d-s*c,W=r*f-n*c,re=s*f-n*d,ae=g*E-v*T,fe=g*M-_*T,ye=g*C-S*T,Se=v*M-_*E,_e=v*C-S*E,Qe=_*C-S*M;let Le=L*Qe-N*_e+P*Se+U*ye-W*fe+re*ae;return Le?(Le=1/Le,e[0]=(c*Qe-d*_e+f*Se)*Le,e[1]=(d*ye-o*Qe-f*fe)*Le,e[2]=(o*_e-c*ye+f*ae)*Le,e[3]=(s*_e-r*Qe-n*Se)*Le,e[4]=(i*Qe-s*ye+n*fe)*Le,e[5]=(r*ye-i*_e-n*ae)*Le,e[6]=(E*re-M*W+C*U)*Le,e[7]=(M*P-T*re-C*N)*Le,e[8]=(T*W-E*P+C*L)*Le,e):null}function c1e(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function d1e(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function h1e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function p1e(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e}function OZ(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}function f1e(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e}function m1e(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e}function y1e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function g1e(e,t){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],c=e[5],d=e[6],f=e[7],g=e[8],v=t[0],_=t[1],S=t[2],T=t[3],E=t[4],M=t[5],C=t[6],L=t[7],N=t[8],P=ts();return Math.abs(i-v)<=P*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(r-_)<=P*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(s-S)<=P*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(n-T)<=P*Math.max(1,Math.abs(n),Math.abs(T))&&Math.abs(o-E)<=P*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(c-M)<=P*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(d-C)<=P*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(f-L)<=P*Math.max(1,Math.abs(f),Math.abs(L))&&Math.abs(g-N)<=P*Math.max(1,Math.abs(g),Math.abs(N))}function v1e(e){const t=ts(),i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],c=e[5],d=e[6],f=e[7],g=e[8];return Math.abs(1-(i*i+n*n+d*d))<=t&&Math.abs(1-(r*r+o*o+f*f))<=t&&Math.abs(1-(s*s+c*c+g*g))<=t}const b1e=cN,_1e=OZ;Object.freeze(Object.defineProperty({__proto__:null,add:p1e,adjoint:Kve,copy:Jve,determinant:e1e,equals:g1e,exactEquals:y1e,frob:h1e,fromMat2d:o1e,fromMat4:Yve,fromQuat:a1e,fromRotation:s1e,fromScaling:n1e,fromTranslation:r1e,identity:MZ,invert:Qve,isOrthoNormal:v1e,mul:b1e,multiply:cN,multiplyScalar:f1e,multiplyScalarAndAdd:m1e,normalFromMat4:u1e,normalFromMat4Legacy:l1e,projection:c1e,rotate:AZ,scale:t1e,scaleByVec2:i1e,set:xZ,str:d1e,sub:_1e,subtract:OZ,translate:TC,transpose:Xve},Symbol.toStringTag,{value:"Module"}));function lS(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function w1e(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function S1e(e,t,i,r,s,n,o,c,d){const f=new Float32Array(9);return f[0]=e,f[1]=t,f[2]=i,f[3]=r,f[4]=s,f[5]=n,f[6]=o,f[7]=c,f[8]=d,f}function T1e(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:w1e,create:lS,createView:T1e,fromValues:S1e},Symbol.toStringTag,{value:"Module"}));function CZ(){return new Float32Array(2)}function E1e(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function Um(e,t){const i=new Float32Array(2);return i[0]=e,i[1]=t,i}function $1e(e,t){return new Float32Array(e,t,2)}function IZ(){return CZ()}function RZ(){return Um(1,1)}function LZ(){return Um(1,0)}function NZ(){return Um(0,1)}const x1e=IZ(),M1e=RZ(),A1e=LZ(),O1e=NZ();Object.freeze(Object.defineProperty({__proto__:null,ONES:M1e,UNIT_X:A1e,UNIT_Y:O1e,ZEROS:x1e,clone:E1e,create:CZ,createView:$1e,fromValues:Um,ones:RZ,unitX:LZ,unitY:NZ,zeros:IZ},Symbol.toStringTag,{value:"Module"}));function C1e(e){return e instanceof Float32Array&&e.length>=2}function I1e(e){return Array.isArray(e)&&e.length>=2}function jM(e){return C1e(e)||I1e(e)}var EC;const Ua=[0,0];let il=EC=class extends K{constructor(e){super(e),this._viewpoint2D={center:hi(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Pt,this.id=0,this.inverseTransform=$l(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=$l(),this.transformNoRotation=$l(),this.displayMat3=lS(),this.displayViewMat3=lS(),this.viewMat3=lS(),this.viewMat2d=EZ(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,i=e.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=i.spatialReference}this._update()}get visibleArea(){const[e,t]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,t),this.toMap([0,0],e,t),this.toMap([0,0],e,0)]}copy(e){const t=this.size,i=this.viewpoint;return i&&t?(this.viewpoint=kr(i,e.viewpoint),this._set("size",ym(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new EC({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,i){return jM(t)?ua(e,t,this.inverseTransform):(Ua[0]=t,Ua[1]=i,ua(e,Ua,this.inverseTransform))}toScreen(e,t,i){return jM(t)?ua(e,t,this.transform):(Ua[0]=t,Ua[1]=i,ua(e,Ua,this.transform))}toScreenNoRotation(e,t,i){return jM(t)?ua(e,t,this.transformNoRotation):(Ua[0]=t,Ua[1]=i,ua(e,Ua,this.transformNoRotation))}wrapMapCoordinate(e,t){ym(e,t);const[i]=t,[r]=this.center,{extent:s,spatialReference:n}=this;let{xmin:o,xmax:c}=s;if(n.isWrappable){const d=_Z(n)/2;o=Math.max(o,r-d),c=Math.min(c,r+d)}return(i<o||i>c)&&(e[0]=nN(i,r,n)),e}getScreenTransform(e,t){const{center:i}=this._viewpoint2D,r=this._get("pixelRatio")||1,s=this._get("size");return lN(e,i,s,t,0,r),e}_update(){const{center:e,spatialReference:t,scale:i,rotation:r}=this._viewpoint2D,s=this._get("pixelRatio")||1,n=this._get("size"),o=new Rn({targetGeometry:new Ye(e[0],e[1],t),scale:i,rotation:r});if(this._set("viewpoint",o),!n||!t||!i)return;this.resolution=ry(o),this.rotation=r,this.scale=i,this.spatialReference=t,ym(this.center,e);const c=n[0]!==0?2/n[0]:0,d=n[1]!==0?-2/n[1]:0;xZ(this.displayMat3,c,0,0,0,d,0,-1,1,1);const f=MZ(this.viewMat3),g=Um(n[0]/2,n[1]/2),v=Um(-n[0]/2,-n[1]/2),_=DL(r);TC(f,f,g),AZ(f,f,_),TC(f,f,v),cN(this.displayViewMat3,this.displayMat3,f);const S=sN(this.viewMat2d,g);return KT(S,S,_),Xv(S,S,v),Rve(this.extent,o,n),uN(this.transform,o,n,s),iN(this.inverseTransform,this.transform),Fve(this.transformNoRotation,o,n,s),this.worldScreenWidth=jve(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};u([h({readOnly:!0})],il.prototype,"id",void 0),u([h({value:1,json:{write:!0}})],il.prototype,"pixelRatio",null),u([h({json:{write:!0}})],il.prototype,"size",null),u([h()],il.prototype,"spatialReference",void 0),u([h({type:Rn,json:{write:!0}})],il.prototype,"viewpoint",null),u([h({readOnly:!0})],il.prototype,"visibleArea",null),il=EC=u([A("esri.views.2d.ViewState")],il);const m8=il;var $C,xC;let wl=$C=class extends Te{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new $C({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};u([h()],wl.prototype,"left",void 0),u([h()],wl.prototype,"top",void 0),u([h()],wl.prototype,"right",void 0),u([h()],wl.prototype,"bottom",void 0),wl=$C=u([A("esri.views.2d.PaddedViewState.Padding")],wl);let wf=xC=class extends m8{constructor(...e){super(...e),this.paddedViewState=new m8,this._updateContent=(()=>{const t=hi();return()=>{const i=this._get("size"),r=this._get("padding");if(!i||!r)return;const s=this.paddedViewState;or(t,r.left+r.right,r.top+r.bottom),Jv(t,i,t),ym(s.size,t);const n=s.viewpoint;n&&(this.viewpoint=n)}})(),this.addHandles(xe(()=>[this.size,this.padding],()=>this._updateContent(),fa)),this.padding=new wl,this.size=[0,0]}set padding(e){this._set("padding",e||new wl)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;let t=e;const i=this._get("padding");i&&(t=zve(e.clone(),e,this._get("size"),i));const{targetGeometry:r,rotation:s,scale:n}=t,{x:o,y:c,spatialReference:d}=r,f=this._viewpoint2D;f.center[0]=o,f.center[1]=c,f.rotation=s,f.scale=n,f.spatialReference=d,this._update()}}clone(){return new xC({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};u([h()],wf.prototype,"paddedViewState",void 0),u([h({type:wl})],wf.prototype,"padding",null),u([h()],wf.prototype,"viewpoint",null),wf=xC=u([A("esri.views.2d.PaddedViewState")],wf);const dN=wf;var _r;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(_r||(_r={}));const PZ=Symbol("Yield");let R1e=class{constructor(){this._tasks=new Array,this._runningTasks=km(0)}get length(){return this._tasks.length}get running(){return this._runningTasks.value>0}destroy(){this.cancelAll()}runTask(t){if(this.length===0)return PZ;for(;!t.done&&this._process(t);)t.madeProgress()}push(t,i,r){return++this._runningTasks.value,new Promise((s,n)=>this._tasks.push(new y8(s,n,t,i,r))).finally(()=>--this._runningTasks.value)}unshift(t,i,r){return++this._runningTasks.value,new Promise((s,n)=>this._tasks.unshift(new y8(s,n,t,i,r))).finally(()=>--this._runningTasks.value)}_process(t){var r;if(this._tasks.length===0)return!1;const i=this._tasks.shift();try{const s=Ks(i.signal);if(s&&!i.abortCallback)i.reject(Bt());else{const n=s?(r=i.abortCallback)==null?void 0:r.call(i,Bt()):i.callback(t);ba(n)?n.then(i.resolve,i.reject):i.resolve(n)}}catch(s){i.reject(s)}return!0}cancelAll(){const t=Bt();for(const i of this._tasks)if(i.abortCallback){const r=i.abortCallback(t);i.resolve(r)}else i.reject(t);this._tasks.length=0}},y8=class{constructor(t,i,r,s=void 0,n=void 0){this.resolve=t,this.reject=i,this.callback=r,this.signal=s,this.abortCallback=n}},C0=class extends Te{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};u([h()],C0.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),u([h()],C0.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),C0=u([A("esri.views.support.debugFlags")],C0);const L1e=new C0;function N1e(){return new D2.Scheduler}var Ke;(function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e.MAPVIEW_FETCH_QUEUE="mapview fetch queue",e.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",e.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",e[e.NONE=0]="NONE",e[e.TEST_PRIO=1]="TEST_PRIO"})(Ke||(Ke={}));const En=0,g8=new Map([[Ke.RESOURCE_CONTROLLER_IMMEDIATE,En],[Ke.RESOURCE_CONTROLLER,4],[Ke.SLIDE,En],[Ke.STREAM_DATA_LOADER,En],[Ke.ELEVATION_QUERY,En],[Ke.TERRAIN_SURFACE,1],[Ke.SURFACE_GEOMETRY_UPDATES,1],[Ke.LOD_RENDERER,2],[Ke.GRAPHICS_CORE,2],[Ke.I3S_CONTROLLER,2],[Ke.POINT_CLOUD_LAYER,2],[Ke.FEATURE_TILE_FETCHER,2],[Ke.CLOUDS_GENERATOR,2],[Ke.OVERLAY,4],[Ke.STAGE,4],[Ke.GRAPHICS_DECONFLICTOR,4],[Ke.FILTER_VISIBILITY,4],[Ke.SCALE_VISIBILITY,4],[Ke.FRUSTUM_VISIBILITY,4],[Ke.POINT_OF_INTEREST_FREQUENT,6],[Ke.POINT_OF_INTEREST_INFREQUENT,30],[Ke.LABELER,8],[Ke.FEATURE_QUERY_ENGINE,8],[Ke.FEATURE_TILE_TREE,16],[Ke.FEATURE_TILE_TREE_ACTIVE,En],[Ke.ELEVATION_ALIGNMENT,12],[Ke.ELEVATION_ALIGNMENT_SCENE,14],[Ke.TEXT_TEXTURE_ATLAS,12],[Ke.TEXTURE_UNLOAD,12],[Ke.LINE_OF_SIGHT_TOOL,16],[Ke.LINE_OF_SIGHT_TOOL_INTERACTIVE,En],[Ke.SNAPPING,En],[Ke.SHADOW_ACCUMULATOR,30],[Ke.MAPVIEW_FETCH_QUEUE,En],[Ke.MAPVIEW_LAYERVIEW_UPDATE,2],[Ke.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,En]]);function v8(e){return g8.has(e)?g8.get(e):typeof e=="number"?e:1}const P1e=6.5,b8=1,D1e=30,k1e=1e3/30,F1e=100,_8=.9;var D2,md;(function(e){class t{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(n=>n.needsUpdate)}constructor(){this._updating=km(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new rv("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new r,this._state=_r.INTERACTING,this._tasks=new wh,this._runQueue=new wh,this._load=0,this._idleStateCallbacks=new wh,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=xe(()=>L1e.SCHEDULER_LOG_SLOW_TASKS,n=>this._debug=n,Nt);for(const n of Object.keys(Ke))this.performanceInfo.tasks.set(Ke[n],new rv(Ke[n]))}destroy(){this._tasks.toArray().forEach(n=>n.remove()),this._tasks.clear(),ri(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(n){this._updatingChanged(),n&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(n,o){const c=new i(this,n,o);return this._tasks.push(c),this._updatingChanged(),this.performanceInfo.tasks.has(n)||this.performanceInfo.tasks.set(n,new rv(n)),c}registerIdleStateCallbacks(n,o){const c={idleBegin:n,idleEnd:o};this._idleStateCallbacks.push(c),this.state===_r.IDLE&&this._idleUpdatesStartFired&&c.idleBegin();const d=this;return{remove:()=>this._removeIdleStateCallbacks(c),set idleBegin(f){d._idleUpdatesStartFired&&(c.idleEnd(),d._state===_r.IDLE&&f()),c.idleBegin=f},set idleEnd(f){c.idleEnd=f}}}get load(){return this._load}set state(n){this._state!==n&&(this._state=n,this.state!==_r.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(o=>o.idleEnd())))}get state(){return this._state}frame(n){this._startFrameTaskTimes();const o=this._updateBudget(n);if(o){const c=this._budget.now();this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-c)}else this._recordFrameTaskTimes(0);return o}_updateBudget(n){this._test&&(this._test.usedBudget=0),++this._frameNumber;let o=P1e,c=n.frameDuration,d=b8;switch(this.state){case _r.IDLE:o=0,c=Math.max(F1e,n.frameDuration),d=D1e;break;case _r.INTERACTING:c=Math.max(k1e,n.frameDuration);case _r.ANIMATING:}return c=c-n.elapsedFrameTime-o,this.state!==_r.IDLE&&c<b8&&!this._forceTask?(this._forceTask=!0,!1):(c=Math.max(c,d),this._budget.reset(c,this.state),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case _r.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(n=>n.idleBegin())),this._runIdle();break;case _r.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(n){this._idleUpdatesStartFired&&n.idleEnd(),this._idleStateCallbacks.removeUnordered(n)}removeTask(n){this._tasks.removeUnordered(n),this._runQueue.removeUnordered(n),this._updatingChanged()}_updateTask(n){this._tasks.forAll(o=>{o.name===n&&o.setPriority(n)})}_getState(n){if(this._runQueue.some(c=>c.name===n))return md.SCHEDULED;let o=md.IDLE;return this._tasks.forAll(c=>{c.name===n&&c.needsUpdate&&(c.schedulePriority<=1?o=md.READY:o!==md.READY&&(o=md.WAITING))}),o}_getRuntime(n){let o=0;return this._tasks.forAll(c=>{c.name===n&&(o+=c.runtime)}),o}_resetRuntimes(){this._tasks.forAll(n=>n.runtime=0)}_getRunning(){const n=new Map;if(this._tasks.forAll(c=>{c.needsUpdate&&n.set(c.name,(n.get(c.name)||0)+1)}),n.size===0)return null;let o="";return n.forEach((c,d)=>{o+=c>1?` ${c}x ${d}`:` ${d}`}),o}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const n=this._tasks.reduce((o,c)=>c.needsUpdate?++o:o,0);this._load=this._load*_8+n*(1-_8)}_schedule(){for(this._runQueue.filterInPlace(n=>!!n.needsUpdate||(n.schedulePriority=n.basePriority,!1)),this._tasks.forAll(n=>{n.basePriority===En&&n.needsUpdate&&!this._runQueue.includes(n)&&n.blockFrame!==this._frameNumber&&this._runQueue.unshift(n)});this._runQueue.length===0;){let n=!1,o=0;if(this._tasks.forAll(c=>{c.needsUpdate&&c.schedulePriority!==0&&c.basePriority!==En&&c.blockFrame!==this._frameNumber&&(n=!0,o=Math.max(o,c.basePriority),c.schedulePriority===1?(c.schedulePriority=0,this._runQueue.push(c)):--c.schedulePriority)}),!n)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){const n=this._budget.now(),o=this._runQueue.pop();this._budget.resetProgress();try{o.task.runTask(this._budget)===PZ&&(o.blockFrame=this._frameNumber)}catch(d){ne.getLogger("esri.views.support.Scheduler").error(`Exception in task "${o.name}"`,d),o.blockFrame=this._frameNumber}!this._budget.hasProgressed&&o.blockFrame!==this._frameNumber&&o.needsUpdate&&(o.name,Ke.I3S_CONTROLLER,o.blockFrame=this._frameNumber),o.schedulePriority=o.basePriority;const c=this._budget.now()-n;if(o.runtime+=c,this._frameTaskTimes.set(o.priority,this._frameTaskTimes.get(o.priority)+c),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const n of Object.keys(Ke))this._frameTaskTimes.set(Ke[n],0)}_recordFrameTaskTimes(n){this._frameTaskTimes.forEach((o,c)=>this.performanceInfo.tasks.get(c).push(o)),this.performanceInfo.total.push(n)}get test(){return this._test}}e.Scheduler=t;class i{get task(){return this._task.value}get updating(){return this._queue.running}constructor(n,o,c){this._scheduler=n,this.name=o,this.blockFrame=0,this.runtime=0,this._queue=new R1e,this._handles=new Gm,this._basePriority=v8(o),this.schedulePriority=this._basePriority,this._task=km(c??this._queue),this._handles.add($s(()=>this.task.running,d=>n.taskRunningChanged(d)))}remove(){this.processQueue(DZ),this._scheduler.removeTask(this),this.schedule=w8.schedule,this.reschedule=w8.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(n){if(this.name===n)return;this.name=n;const o=v8(n);this._basePriority!==En&&this.schedulePriority===0||(this.schedulePriority=o),this._basePriority=o}get priority(){return this.name}set priority(n){this.setPriority(n)}get needsUpdate(){return this.updating||this.task.running}schedule(n,o,c){return this._queue.push(n,o,c)}reschedule(n,o,c){return this._queue.unshift(n,o,c)}processQueue(n){return this._queue.runTask(n)}}class r{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=_r.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(n){return!this.done&&(n()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(n){this._enabled=n}reset(n,o){this._begin=this.now(),this._budget=n,this._state=o,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=r})(D2||(D2={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(md||(md={}));const DZ=(()=>{const e=new D2.Budget;return e.enabled=!1,e})();let j1e=class{remove(){}processQueue(){}schedule(t,i,r){try{if(Ks(i)){const s=Bt();return r?Promise.resolve(r(s)):Promise.reject(s)}return V3(t(DZ))}catch(s){return Promise.reject(s)}}reschedule(t,i,r){return this.schedule(t,i,r)}};const w8=new j1e;let U1e=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=N1e(),this._schedulerHandle=$s(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{var i;this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),((i=this.view.animation)==null?void 0:i.target)==null||ba(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=i=>{var c,d,f;if(this._updateRequested=!1,(c=this.view)==null?void 0:c.destroyed)return;const{allLayerViews:r,graphicsView:s,labelManager:n,state:{id:o}}=this.view;r==null||r.forEach(this._updateLayerView,this),n!=null&&(n.lastUpdateId!==o&&(n.viewChange(),n.lastUpdateId=o),n.updateRequested&&n.processUpdate(this._updateParameters)),s!=null&&(s.lastUpdateId!==o&&(s.viewChange(),s.lastUpdateId=o),s.updateRequested&&s.processUpdate(this._updateParameters)),(d=this.view.graphicsTileStore)==null||d.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=_r.ANIMATING:this.view.interacting?this._scheduler.state=_r.INTERACTING:this._scheduler.state=_r.IDLE,this._scheduler.frame(i)||this._updateRequested||this._scheduler.state!==_r.IDLE||((f=this._frameTaskHandle)==null||f.pause())}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,targetState:new dN,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=xe(()=>t.stationary,i=>{this.stationary=i,this.requestFrame()}),this._frameTaskHandle=Em(this),this.requestUpdate()}stop(){var t;this._frameTaskHandle&&(this._updateRequested=!1,(t=this._stationaryHandle)==null||t.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){var s;if(!t.attached)return void this.requestUpdate();const i=this.view.state,r=t.lastUpdateId;r!=null&&(this.stationary||t.moving)||(t.moving=!0),r!==i.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=i.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&((s=t.layerViews)==null||s.forEach(this._updateLayerView,this))}},Fu=class extends x1{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=en(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(t=this._resolver)==null||t.reject(new z("ViewAnimation stopped")))}finish(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(t=this._resolver)==null||t.resolve())}update(t,i){i||(i=ba(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",i)}};u([h({readOnly:!0})],Fu.prototype,"done",null),u([h({readOnly:!0,type:String})],Fu.prototype,"state",void 0),u([h()],Fu.prototype,"target",void 0),Fu=u([A("esri.views.ViewAnimation")],Fu),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(Fu||(Fu={}));const MC=Fu;let uS=class extends Te{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(t,i){if(!t)return void ne.getLogger(this).error("#goTo()","target cannot be null or undefined");const r=new MC;this.view.animation=r,await lL(()=>this.view.ready,i);const s={...i,animate:(i==null?void 0:i.animate)??!GW(),animationMode:(i==null?void 0:i.animationMode)??"auto"},{extent:n,spatialReference:o,size:c,viewpoint:d,constraints:f,padding:g,allLayerViews:v}=this.view,_=Cve(t,{extent:n,spatialReference:o,size:c,viewpoint:d,constraints:f,padding:g,allLayerViews:v,pickClosestTarget:(i==null?void 0:i.pickClosestTarget)??!0});return r==null||r.update(_),this._gotoTask={},s.animate?this._gotoAnimated(_,s):this._gotoImmediate(_,s)}_gotoImmediate(t,i){const r=this._gotoTask,s=this.view.animation,n=t.then(o=>{if(li(i),r!==this._gotoTask)throw new z("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=s.target=o,s.finish()});return this._cancellableGoTo(r,s,n,i)}_gotoAnimated(t,i){const r=this._gotoTask,s=this.view.animation;if(!s)return Promise.resolve();const n=t.then(o=>{if(li(i),r!==this._gotoTask)throw new z("view:goto-interrupted","Goto was interrupted");return s.update(o),this.view.animationManager.animate(s,this.view.viewpoint,i),s.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,s,n,i)}_cancellableGoTo(t,i,r,s){const n=()=>t===this._gotoTask;return JV(r,s).finally(()=>{n()&&(i.done||i.stop())})}};u([h({constructOnly:!0})],uS.prototype,"view",void 0),uS=u([A("esri.views.2d.GoToManager")],uS);function z1e(e,t){const{spatialReference:i}=t,r=[t.x,t.y];let s,n,o,c;const d=[0,0],f=V1e(e);for(let _=0;_<f.length;_++){const S=f[_];for(let T=0;T<S.length-1;T++){zoe(d,r,S,T);const E=QT(r,d);(s==null||E<s)&&(s=E,n=[...d],o=_,c=T)}}if(s==null||!n||o==null||c==null)throw new z("nearest-coordinate:failed","Failed to find the nearest coordinate");const[g,v]=n;return{coordinate:new Ye({x:g,y:v,spatialReference:i}),distance:s}}function V1e(e){switch(e.type){case"extent":return[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]];case"polygon":return e.rings;case"polyline":return e.paths}}var AC;let dh=AC=class extends Fc.NumericIdentifiableMixin(Te){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Pc(this.geometry,this.spatialReference)}catch(e){return ne.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(this.normalizedGeometry==null)return e;const i=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?v1(this.normalizedGeometry,i):ZR(this.normalizedGeometry,i))return e;const{coordinate:r}=z1e(this.normalizedGeometry,i);return r&&(e.targetGeometry=r),e}clone(){var e,t;return new AC({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};u([h({constructOnly:!0})],dh.prototype,"geometry",void 0),u([h({readOnly:!0})],dh.prototype,"normalizedGeometry",null),u([h({constructOnly:!0})],dh.prototype,"spatialReference",void 0),dh=AC=u([A("esri.views.2d.constraints.GeometryConstraint")],dh);var OC;let I0=OC=class extends Fc.NumericIdentifiableMixin(Te){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new OC({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};u([h()],I0.prototype,"enabled",void 0),u([h()],I0.prototype,"rotationEnabled",void 0),I0=OC=u([A("esri.views.2d.constraints.RotationConstraint")],I0);const kZ=I0;var CC;let cs=CC=class extends Fc.NumericIdentifiableMixin(Te){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:i,maxScale:r,minZoom:s,maxZoom:n}=this,o=-1,c=-1,d=!1,f=!1;if(i!==0&&r!==0&&i<r&&([i,r]=[r,i]),!(t!=null&&t.length))return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",r);t=t.map(g=>g.clone()),t.sort((g,v)=>v.scale-g.scale),t.forEach((g,v)=>g.level=v);for(const g of t)!d&&i>0&&i>=g.scale&&(o=g.level,d=!0),!f&&r>0&&r>=g.scale&&(c=e?e.level:-1,f=!0),e=g;s===-1&&(s=i===0?0:o),n===-1&&(n=r===0?t.length-1:c),s=Math.max(s,0),s=Math.min(s,t.length-1),n=Math.max(n,0),n=Math.min(n,t.length-1),s>n&&([s,n]=[n,s]),i=t[s].scale,r=t[n].scale,t.splice(0,s),t.splice(n-s+1,t.length),t.forEach((g,v)=>{this._lodByScale[g.scale]=g,this._scales[v]=g.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",s),this._set("effectiveMaxZoom",n),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",r)}constrain(e,t){if(t&&e.scale===t.scale)return e;const i=this.effectiveMinScale,r=this.effectiveMaxScale,s=e.targetGeometry,n=t&&t.targetGeometry,o=r!==0&&e.scale<r,c=i!==0&&e.scale>i;if(o||c){const d=c?i:r;if(t&&n){const f=(d-t.scale)/(e.scale-t.scale);s.x=n.x+(s.x-n.x)*f,s.y=n.y+(s.y-n.y)*f}e.scale=d}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),i=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(i>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const i=Math.floor(e),r=Math.ceil(e);return t[i]+(e-i)*(t[r]-t[i])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let i,r;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let s=0;s<t.length-1;s++){if(i=t[s],r=t[s+1],r===e)return s+this.effectiveMinZoom+1;if(i>e&&r<e)return s+this.effectiveMinZoom+1-(e-r)/(i-r)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i-1)}clone(){return new CC({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,i)=>Math.abs(i-e)<=Math.abs(t-e)?i:t,this._scales[0])),this._lodByScale[e].scale}};u([h({readOnly:!0})],cs.prototype,"effectiveLODs",void 0),u([h({readOnly:!0})],cs.prototype,"effectiveMinZoom",void 0),u([h({readOnly:!0})],cs.prototype,"effectiveMaxZoom",void 0),u([h({readOnly:!0})],cs.prototype,"effectiveMinScale",void 0),u([h({readOnly:!0})],cs.prototype,"effectiveMaxScale",void 0),u([h()],cs.prototype,"lods",void 0),u([h()],cs.prototype,"minZoom",void 0),u([h()],cs.prototype,"maxZoom",void 0),u([h()],cs.prototype,"minScale",void 0),u([h()],cs.prototype,"maxScale",void 0),u([h()],cs.prototype,"snapToZoom",void 0),cs=CC=u([A("esri.views.2d.constraints.ZoomConstraint")],cs);const FZ=cs,G1e={base:null,key:"type",typeMap:{extent:Pt,polygon:Pn}};let bi=class extends Te{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new pe}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){var t,i,r;return`${(t=this._zoom)==null?void 0:t.uid}/${(i=this._rotation)==null?void 0:i.uid}/${(r=this._geometry)==null?void 0:r.uid}`}get _geometry(){var i,r;const t=this._get("_geometry");return t&&this.geometry===t.geometry&&((i=this.view)==null?void 0:i.constraintsInfo.spatialReference)===t.spatialReference?t:new dh({geometry:this.geometry,spatialReference:(r=this.view)==null?void 0:r.constraintsInfo.spatialReference})}get _rotation(){return new kZ({rotationEnabled:this.rotationEnabled})}get _zoom(){var d;const t=this._get("_zoom"),i=this.lods||((d=this.view)==null?void 0:d.constraintsInfo.lods),r=this.minZoom,s=this.maxZoom,n=this.minScale,o=this.maxScale,c=this.snapToZoom;return t&&t.lods===i&&t.minZoom===r&&t.maxZoom===s&&t.minScale===n&&t.maxScale===o&&t.snapToZoom===c?t:new FZ({lods:i,minZoom:r,maxZoom:s,minScale:n,maxScale:o,snapToZoom:c})}canZoomInTo(t){const i=this.effectiveMaxScale;return i===0||t>=i}canZoomOutTo(t){const i=this.effectiveMinScale;return i===0||t<=i}constrain(t,i){return this._zoom.constrain(t,i),this._rotation.constrain(t,i),this._geometry.constrain(t,i),this.customConstraints.forEach(r=>r.constrain(t,i)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(i=>{var r;return(r=i.applyPanConstraint)==null?void 0:r.call(i,t)}),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};u([h({readOnly:!0})],bi.prototype,"effectiveLODs",null),u([h({readOnly:!0})],bi.prototype,"effectiveMinScale",null),u([h({readOnly:!0})],bi.prototype,"effectiveMaxScale",null),u([h({readOnly:!0})],bi.prototype,"effectiveMinZoom",null),u([h({readOnly:!0})],bi.prototype,"effectiveMaxZoom",null),u([h({types:G1e,value:null})],bi.prototype,"geometry",null),u([h({type:[Xu]})],bi.prototype,"lods",void 0),u([h()],bi.prototype,"minScale",void 0),u([h()],bi.prototype,"maxScale",void 0),u([h()],bi.prototype,"minZoom",void 0),u([h()],bi.prototype,"maxZoom",void 0),u([h()],bi.prototype,"rotationEnabled",void 0),u([h()],bi.prototype,"snapToZoom",void 0),u([h({type:pe})],bi.prototype,"customConstraints",void 0),u([h()],bi.prototype,"view",void 0),u([h({readOnly:!0})],bi.prototype,"version",null),u([h({type:dh,readOnly:!0})],bi.prototype,"_geometry",null),u([h({type:kZ})],bi.prototype,"_rotation",null),u([h({readOnly:!0,type:FZ})],bi.prototype,"_zoom",null),bi=u([A("esri.views.2d.MapViewConstraints")],bi);const S8=bi;let Ir=class extends Te{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([xe(()=>{var i;return(i=this.constraints)==null?void 0:i.version},i=>{this.constraints&&i&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},fa)])}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:i}=this.state.paddedViewState;return this.state.commitProperty("id"),new Ye({x:t[0],y:t[1],spatialReference:i})}set center(t){if(t==null)return;if(!this.ready)return void this._set("center",t);let i;try{i=this._project(t,this.state.spatialReference)}catch(s){return void ne.getLogger(this).error(new z("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:s}))}const r=this.viewpoint;SC(r,r,i),this.viewpoint=r}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height)return void ne.getLogger(this).error(new z("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let i;try{i=this._project(t,this.state.spatialReference)}catch(s){return void ne.getLogger(this).error(new z("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:s}))}const r=this.viewpoint;Lve(r,r,i,this.state.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const i=this.viewpoint;Gve(i,i,t),this.viewpoint=i}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);const r=this._get("extent");return void(r&&(this._set("extent",void 0),this._set("center",r.center)))}const i=this.viewpoint;f8(i,i,t),this.viewpoint=i}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){var n;if(t==null)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,r;try{i=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?r=new z("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(r=new z("mapview:invalid-viewpoint","geometry not defined"))}catch(o){r=new z("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:o})}if(r)return void ne.getLogger(this).error(r);this._scaleBeforeChangingSpatialReference=null;const s=new Rn({targetGeometry:new Ye,scale:0,rotation:0});kr(s,i),(n=this.constraints)==null||n.constrain(s,this.state.paddedViewState.viewpoint),this.state.viewpoint=s,this._set("viewpoint",s)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){var t;return this.ready?((t=this.constraints)==null?void 0:t.scaleToZoom(this.scale))??-1:this._get("zoom")}set zoom(t){var s,n;if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);const o=this._get("extent");return void(o&&(this._set("extent",void 0),this._set("center",o.center)))}const i=((s=this.constraints)==null?void 0:s.zoomToScale(t))??0;if(!i)return void this._set("zoom",-1);const r=this.viewpoint;f8(r,r,i),this.viewpoint=r,this._set("zoom",((n=this.constraints)==null?void 0:n.scaleToZoom(this.scale))??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:i,constraints:r}=this,s=this._get("center"),n=this._get("extent"),o=this._get("scale"),c=this._get("rotation"),d=this._get("viewpoint"),f=this._get("zoom"),g=f!=null&&r!=null&&r.zoomToScale(f)||void 0;let v,_,S;const T=d==null?void 0:d.rotation,E=d==null?void 0:d.targetGeometry;(E==null?void 0:E.type)==="extent"?v=E:(E==null?void 0:E.type)==="point"&&(_=E,S=d==null?void 0:d.scale);const M=n??v;return{center:s??_??(M==null?void 0:M.center),rotation:c??T,scale:(o??g??S??(M&&eE(M,[t[0]-i.left-i.right,t[1]-i.top-i.bottom])))||void 0}}startup(t,i,r,s){var o;const n=t.targetGeometry;try{this._project(t,r)}catch(c){ne.getLogger(this).warn(new Ln("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:n.toJSON(),spatialReference:r,error:c})),t.targetGeometry=s||new Ye({x:0,y:0,spatialReference:r})}(o=this.constraints)==null||o.fit(t),this._set("state",new dN({padding:this.padding,size:i,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[t,i],spatialReference:r,rotation:s,scale:n}=this.state.paddedViewState,o=new Ye({x:t,y:i,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",s),this._set("scale",n),this._set("state",null)}changeSpatialReference(t){var d;const i=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=i.scale;else{const f=i.viewpoint.clone();f.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=f}const r=i.clone(),[s,n]=i.center;let o=null;try{o=this._project(new Ye({x:s,y:n,spatialReference:i.spatialReference}),t)}catch(f){GR()||ne.getLogger(this).warn(new Ln("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o==null?void 0:o.toJSON(),spatialReference:t,error:f}))}o||(o=new Ye({x:0,y:0,spatialReference:t}));const c=SC(new Rn({targetGeometry:new Ye,scale:0,rotation:0}),i.viewpoint,o);r.viewpoint=c;try{const g=[i.size[0]/2,i.size[1]/2],v=[g[0]+20,g[1]],_=i.toMap([0,0],v),{x:S,y:T}=this._project(new Ye({x:_[0],y:_[1],spatialReference:i.spatialReference}),t);_[0]=S,_[1]=T,r.toScreen(_,_);const E=Uve(g,_,v),M=Math.hypot(_[0]-g[0],_[1]-g[1])/20;!Number.isFinite(M)||Math.abs(M)>4?(c.rotation=0,c.targetGeometry=new Ye({x:0,y:0,spatialReference:t})):(c.scale*=M,c.scale>B("mapview-srswitch-adjust-rotation-scale-threshold")?c.rotation=0:c.rotation+=Number.isFinite(E)?E:0)}catch{}(d=this._get("constraints"))==null||d.constrain(c,void 0),this._get("state").viewpoint=c}resize(t,i){var o;if(!this.ready)return;const r=this.state;let s=this.state.paddedViewState.viewpoint;const n=this.state.paddedViewState.size.slice();r.size=[t,i],Vve(s,s,n,this.state.paddedViewState.size,this.resizeAlign),s=((o=this.constraints)==null?void 0:o.constrain(s,void 0))??s,this.state.viewpoint=s}toMap(t){if(!this.ready)return null;const i=[0,0],[r,s]=this.state.toMap(i,[t.x,t.y]),n=this.state.spatialReference;return new Ye({x:r,y:s,spatialReference:n})}toScreen(t,i){if(!this.ready)return null;const r=this._project(t,this.state.spatialReference),s=[r.x,r.y];return(i==null?void 0:i.pickClosestTarget)===!1||this.state.paddedViewState.wrapMapCoordinate(s,s),this.state.toScreen(s,s),ur(s[0],s[1])}_project(t,i){var n;const r=(t==null?void 0:t.targetGeometry)||t;if(!i)return t;if(!r)return null;if(i.imageCoordinateSystem||(n=r.spatialReference)!=null&&n.imageCoordinateSystem||Ji(i,r.spatialReference))return t;const s=Pc(r,i);if(!s)throw new z("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:i});return q1e(t)?(t.targetGeometry=s,t):s}};function q1e(e){return(e==null?void 0:e.declaredClass)==="esri.Viewpoint"}u([h({type:Ye})],Ir.prototype,"center",null),u([h()],Ir.prototype,"constraints",void 0),u([h({type:Pt})],Ir.prototype,"extent",null),u([h({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],Ir.prototype,"padding",null),u([h()],Ir.prototype,"ready",void 0),u([h()],Ir.prototype,"resizeAlign",void 0),u([h({readOnly:!0})],Ir.prototype,"resolution",null),u([h({type:Number})],Ir.prototype,"rotation",null),u([h({type:Number})],Ir.prototype,"scale",null),u([h({readOnly:!0})],Ir.prototype,"state",void 0),u([h({type:Rn})],Ir.prototype,"viewpoint",null),u([h({readOnly:!0})],Ir.prototype,"visibleArea",null),u([h()],Ir.prototype,"zoom",null),Ir=u([A("esri.views.2d.ViewStateManager")],Ir);function jZ(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}function UZ(e,t){return t.some(i=>jZ(e,i))}function T8(e,{dragPrimary:t,dragSecondary:i,dragTertiary:r}){return[{key:"primary",value:t},{key:"secondary",value:i},{key:"tertiary",value:r}].filter(s=>s.value===e).map(s=>s.key)}let E8=class extends Xi{constructor(t,i){super(!0),this._view=t,this.registerIncoming("double-click",i,r=>this._handleDoubleClick(r,i))}_handleDoubleClick(t,i){jZ(t.data,"primary")&&(t.stopPropagation(),i?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},B1e=class extends Xi{constructor(t,i,r){super(!0),this.view=t,this.pointerType=i,this.registerIncoming("double-tap-drag",r,s=>this._handleDoubleTapDrag(s))}_handleDoubleTapDrag(t){const{data:i}=t,{pointerType:r}=i;if(r!==this.pointerType)return;t.stopPropagation();const{action:s,delta:n}=i,{view:o}=this,{mapViewNavigation:c}=o;switch(s){case"begin":{const{scale:d}=o;this._startScale=d,this._currentScale=d,this._previousDelta=n,c.begin();break}case"update":{if(this._previousDelta.y===n.y)return;this._previousDelta=n;const d=1.015**n.y,f=this._startScale*d,g=f/this._currentScale;c.setViewpointImmediate(g),this._currentScale=f;break}case"end":{const{constraints:d}=o,{effectiveLODs:f,snapToZoom:g}=d;if(!g||!f)return void c.end();const v=d.snapScale(this._currentScale),_=(n.y>0?Math.max(v,d.snapToPreviousScale(this._startScale)):Math.min(v,d.snapToNextScale(this._startScale)))/this._currentScale;c.zoom(_).then(()=>{c.end()});break}}}},iE=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const i=t.data,r=i.pointers.size;switch(i.action){case"start":this._currentCount=r,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){var i,r;this._startEvent=t,(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},H1e=class extends Xi{constructor(t,i,r){super(!0),this.view=t,this.pointerActions=i,this.registerIncoming("drag",r,s=>this._handleDrag(s)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new iE({start:(i,r)=>{this.view.mapViewNavigation.pan.begin(this.view,r.data),r.stopPropagation()},update:(i,r)=>{this.view.mapViewNavigation.pan.update(this.view,r.data),r.stopPropagation()},end:(i,r)=>{this.view.mapViewNavigation.pan.end(this.view,r.data),r.stopPropagation()},condition:(i,r)=>i===1&&UZ(r.data,this.pointerActions)})}_handleDrag(t){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},W1e=class extends Xi{constructor(t,i,r){super(!0),this._view=t,this.pointerActions=i;const s=this._view.mapViewNavigation;this._dragEventSeparator=new iE({start:(n,o)=>{s.rotate.begin(this._view,o.data),o.stopPropagation()},update:(n,o)=>{s.rotate.update(this._view,o.data),o.stopPropagation()},end:(n,o)=>{s.rotate.end(),o.stopPropagation()},condition:(n,o)=>n===1&&UZ(o.data,this.pointerActions)}),this.registerIncoming("drag",r,n=>this._dragEventSeparator.handle(n))}};function zZ(e){const t=e[0],i=e[1],r=e[2];return Math.sqrt(t*t+i*i+r*r)}function Z1e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Y1e(e,t,i,r){return e[0]=t,e[1]=i,e[2]=r,e}function J1e(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function VZ(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function GZ(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function qZ(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function X1e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function Q1e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function K1e(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function ebe(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function tbe(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function ibe(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function rbe(e,t=0,i=1){return e[0]=Math.min(Math.max(e[0],t),i),e[1]=Math.min(Math.max(e[1],t),i),e[2]=Math.min(Math.max(e[2],t),i),e}function sbe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function BZ(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function nbe(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e}function HZ(e,t){const i=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(i*i+r*r+s*s)}function WZ(e,t){const i=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return i*i+r*r+s*s}function ZZ(e){const t=e[0],i=e[1],r=e[2];return t*t+i*i+r*r}function obe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function abe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function IC(e,t){const i=t[0],r=t[1],s=t[2];let n=i*i+r*r+s*s;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n),e}function YZ(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function lbe(e,t,i){const r=t[0],s=t[1],n=t[2],o=i[0],c=i[1],d=i[2];return e[0]=s*d-n*c,e[1]=n*o-r*d,e[2]=r*c-s*o,e}function ube(e,t,i){const r=t[0],s=t[1],n=t[2],o=i[0],c=i[1],d=i[2],f=s*d-n*c,g=n*o-r*d,v=r*c-s*o,_=Math.sqrt(f*f+g*g+v*v);return e[0]=f/_,e[1]=g/_,e[2]=v/_,e}function cbe(e,t,i,r){const s=t[0],n=t[1],o=t[2];return e[0]=s+r*(i[0]-s),e[1]=n+r*(i[1]-n),e[2]=o+r*(i[2]-o),e}function dbe(e,t,i,r,s,n){const o=n*n,c=o*(2*n-3)+1,d=o*(n-2)+n,f=o*(n-1),g=o*(3-2*n);return e[0]=t[0]*c+i[0]*d+r[0]*f+s[0]*g,e[1]=t[1]*c+i[1]*d+r[1]*f+s[1]*g,e[2]=t[2]*c+i[2]*d+r[2]*f+s[2]*g,e}function hbe(e,t,i,r,s,n){const o=1-n,c=o*o,d=n*n,f=c*o,g=3*n*c,v=3*d*o,_=d*n;return e[0]=t[0]*f+i[0]*g+r[0]*v+s[0]*_,e[1]=t[1]*f+i[1]*g+r[1]*v+s[1]*_,e[2]=t[2]*f+i[2]*g+r[2]*v+s[2]*_,e}function pbe(e,t=1){const i=FT,r=2*i()*Math.PI,s=2*i()-1,n=Math.sqrt(1-s*s)*t;return e[0]=Math.cos(r)*n,e[1]=Math.sin(r)*n,e[2]=s*t,e}function fbe(e,t,i){const r=t[0],s=t[1],n=t[2];return e[0]=i[0]*r+i[4]*s+i[8]*n+i[12],e[1]=i[1]*r+i[5]*s+i[9]*n+i[13],e[2]=i[2]*r+i[6]*s+i[10]*n+i[14],e}function mbe(e,t,i){const r=t[0],s=t[1],n=t[2];return e[0]=r*i[0]+s*i[3]+n*i[6],e[1]=r*i[1]+s*i[4]+n*i[7],e[2]=r*i[2]+s*i[5]+n*i[8],e}function ybe(e,t,i){const r=i[0],s=i[1],n=i[2],o=i[3],c=t[0],d=t[1],f=t[2],g=s*f-n*d,v=n*c-r*f,_=r*d-s*c,S=s*_-n*v,T=n*g-r*_,E=r*v-s*g,M=2*o;return e[0]=c+g*M+2*S,e[1]=d+v*M+2*T,e[2]=f+_*M+2*E,e}function gbe(e,t,i,r){const s=[],n=[];return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],n[0]=s[0],n[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),n[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),e[0]=n[0]+i[0],e[1]=n[1]+i[1],e[2]=n[2]+i[2],e}function vbe(e,t,i,r){const s=[],n=[];return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],n[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),n[1]=s[1],n[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),e[0]=n[0]+i[0],e[1]=n[1]+i[1],e[2]=n[2]+i[2],e}function bbe(e,t,i,r){const s=[],n=[];return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],n[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),n[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),n[2]=s[2],e[0]=n[0]+i[0],e[1]=n[1]+i[1],e[2]=n[2]+i[2],e}function _be(e,t){IC($8,e),IC(x8,t);const i=YZ($8,x8);return i>1?0:i<-1?Math.PI:Math.acos(i)}const $8=Lc(),x8=Lc();function wbe(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Sbe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Tbe(e,t){if(e===t)return!0;const i=e[0],r=e[1],s=e[2],n=t[0],o=t[1],c=t[2],d=ts();return Math.abs(i-n)<=d*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-c)<=d*Math.max(1,Math.abs(s),Math.abs(c))}function Ebe(e,t,i){const r=i[0]-t[0],s=i[1]-t[1],n=i[2]-t[2];let o=r*r+s*s+n*n;return o>0?(o=1/Math.sqrt(o),e[0]=r*o,e[1]=s*o,e[2]=n*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}const $be=VZ,xbe=GZ,Mbe=qZ,Abe=HZ,Obe=WZ,Cbe=zZ,Ibe=ZZ;Object.freeze(Object.defineProperty({__proto__:null,abs:K1e,add:J1e,angle:_be,bezier:hbe,ceil:X1e,clamp:rbe,copy:Z1e,cross:lbe,crossAndNormalize:ube,direction:Ebe,dist:Abe,distance:HZ,div:Mbe,divide:qZ,dot:YZ,equals:Tbe,exactEquals:Sbe,floor:Q1e,hermite:dbe,inverse:abe,len:Cbe,length:zZ,lerp:cbe,max:ibe,min:tbe,mul:xbe,multiply:GZ,negate:obe,normalize:IC,random:pbe,rotateX:gbe,rotateY:vbe,rotateZ:bbe,round:sbe,scale:BZ,scaleAndAdd:nbe,set:Y1e,sign:ebe,sqrDist:Obe,sqrLen:Ibe,squaredDistance:WZ,squaredLength:ZZ,str:wbe,sub:$be,subtract:VZ,transformMat3:mbe,transformMat4:fbe,transformQuat:ybe},Symbol.toStringTag,{value:"Module"}));function Kn(e){let t=e*e;return e<0&&(t*=-1),t}function Rbe(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function Lbe(e,t,i){const r=i,s=e.state,n=e.device,o=t.tiltDirection==="forward-down"?1:-1,c=1;return n.deviceType==="standard"?(r.translation[0]=Kn(s.axes[0]),r.translation[1]=Kn(s.axes[1]),r.translation[2]=Kn(s.buttons[7])-Kn(s.buttons[6]),r.heading=Kn(s.axes[2]),r.tilt=Kn(s.axes[3])):n.deviceType==="spacemouse"&&(r.translation[0]=1.2*Kn(s.axes[0]),r.translation[1]=1.2*Kn(s.axes[1]),r.translation[2]=2*-Kn(s.axes[2]),r.heading=1.2*Kn(s.axes[5]),r.tilt=1.2*Kn(s.axes[3])),r.tilt*=o,BZ(r.translation,r.translation,c),r}function Nbe(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let Pbe=class extends Xi{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new Gm,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([xe(()=>{var i;return(i=this._view.navigation.gamepad)==null?void 0:i.enabled},i=>{i?(this._handle.resume(),this._frameTask||(this._frameTask=Em({update:r=>this._frameUpdate(r.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Nt)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){var r;const i=this._view.navigation.gamepad.device;i&&t.data.device!==i||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,Rbe(this._transformation)):(this._currentDevice=t.data.device,Lbe(t.data,this._view.navigation.gamepad,this._transformation)),(r=this._frameTask)==null||r.resume())}_frameUpdate(t){var v;const i=this._transformation;if(Nbe(i))return void((v=this._frameTask)==null?void 0:v.pause());const r=this._view.viewpoint.clone(),s=this._view.navigation.gamepad.velocityFactor,n=kbe*s*t;tE(r,r,[i.translation[0]*n,-i.translation[1]*n]);const o=1+i.translation[2]*Fbe*t,c=this._view.constraints.rotationEnabled?-i.heading*Dbe*t:0,d=this._view.size,f=[d[0]/2,d[1]];wZ(r,r,o,c,f,d);const g=this._view.constraints.constrain(r,this._view.viewpoint);this._view.viewpoint=g}};const Dbe=.06,kbe=.7,Fbe=6e-4;function JZ(e){const t=()=>e(document.visibilityState==="visible");return document.addEventListener("visibilitychange",t),gt(()=>document.removeEventListener("visibilitychange",t))}let jbe=class extends Xi{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=s=>{const n=this._keyMap[s.data.key];if(s.modifiers.has("Meta")||s.modifiers.has("Control"))return void this._stopMovement();if(n==null)return;s.stopPropagation(),s.preventDefault();const o=s.type==="key-down";if(this._pressedKeys[o?"add":"delete"](n),o){if(this._direction===n)return;this._direction=n,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const c=this._timeout===void 0,d=this._pressedKeys.size>0;c||d?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",r,this._handleKey),this.registerIncoming("key-up",r,this._handleKey),this.registerIncoming("blur",r,this._stopMovement),this._visibilityHandle=JZ(s=>s?null:this._stopMovement())}onUninstall(){var t;this._stopMovement(),(t=this._visibilityHandle)==null||t.remove()}get _direction(){return this._currentDirection}set _direction(t){const i=this._currentDirection!=null;if(t!=null){if(i||this.view.mapViewNavigation.begin(),this._currentDirection!==t)switch(t){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else i&&this.view.mapViewNavigation.stop();this._currentDirection=t}_setTimeout(t){clearTimeout(this._timeout),this._timeout=t===void 0?void 0:setTimeout(()=>{this._timeout=void 0,t()},this._stickyKeyDuration)}},Ube=class extends Xi{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(i),this.registerIncoming("key-down",r,s=>this._handleKeyDown(s)),this.registerIncoming("key-up",r,s=>this._handleKeyUp(s)),this.registerIncoming("blur",r,()=>this._handleStop()),this._visibilityHandle=JZ(s=>s?null:this._handleStop())}onUninstall(){var t;(t=this._visibilityHandle)==null||t.remove(),this._handleStop()}_addKeysMapping(t){this._addKeyMapping(t.clockwise,"clockwise"),this._addKeyMapping(t.counterClockwise,"counterClockwise"),this._addKeyMapping(t.reset,"reset")}_addKeyMapping(t,i){for(const r of t)this._keyToDirection.set(r,i)}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,i){const r=t.modifiers;if(r.size>0&&!r.has("Shift")||!this.view.constraints.rotationEnabled)return;const s=this._keyToDirection.get(t.data.key);if(this._pressed=s!=null,this._pressed){if(t.preventDefault(),i)switch(this.view.mapViewNavigation.begin(),s){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}};var Qf;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(Qf||(Qf={}));let zbe=class extends Xi{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",r,s=>this._handleKeyDown(s)),i.zoomIn.forEach(s=>this._keysToZoomAction[s]=Qf.IN),i.zoomOut.forEach(s=>this._keysToZoomAction[s]=Qf.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const i=t.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:r}=t.data;if(!(r in this._keysToZoomAction))return;const s=this._keysToZoomAction[r],{mapViewNavigation:n}=this.view;let o=null;switch(s){case Qf.IN:o=n.zoomIn();break;case Qf.OUT:o=n.zoomOut();break;default:return}n.begin(),o.then(()=>n.end()),t.stopPropagation()}};const Vbe=.6;let Gbe=class extends Xi{constructor(t,i){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,r=>this._handleMouseWheel(r))}_handleMouseWheel(t){if(this._view.navigation.actionMap.mouseWheel!=="zoom"||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const i=this._view.mapViewNavigation,{x:r,y:s,deltaY:n}=t.data,o=1/Vbe**(1/60*n),c=i.zoom(o,[r,s]);c&&(this._canZoom=!1,c.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()}))}},qbe=class extends Xi{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this._dragEventSeparator=new iE({start:(r,s)=>{i.pinch.begin(this.view,s.data),s.stopPropagation()},update:(r,s)=>{i.pinch.update(this.view,s.data),s.stopPropagation()},end:(r,s)=>{i.pinch.end(this.view),s.stopPropagation()},condition:r=>r>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function M8(e){const t=e.native;return t?{buttons:t.buttons.map(i=>i.pressed?i.value||1:0),axes:t.axes.map(i=>Wbe(i,e.axisThreshold))}:{buttons:[],axes:[]}}function Bbe(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let i=0;i<e.axes.length;i++)if(e.axes[i]!==t.axes[i])return!1;for(let i=0;i<e.buttons.length;i++)if(e.buttons[i]!==t.buttons[i])return!1;return!0}function Hbe(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function Wbe(e,t){const i=Math.abs(e);return i<t?0:Math.sign(e)*(i-t)/(1-t)}let Zbe=class{constructor(t,i){this._element=t,this._input=i,this._hasEventListeners=!1,this._onConnectGamepad=n=>{this._connectGamepad(n.gamepad)},this._onDisconnectGamepad=n=>{const o=n.gamepad,c=o.index,d=this._inputDevices[c];d&&(this._emitGamepadEvent(o,M8(d),!1),this._inputDevices.splice(c,1),this._latestUpdate.splice(c,1),this._input.gamepad.devices.remove(d),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const r="getGamepads"in window.navigator,s=window.isSecureContext;this.supported=r&&s,this.supported&&(A8(n=>this._connectGamepad(n)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const i=new KL(t);i.deviceType!=="unknown"&&(this._inputDevices[t.index]=i,this._input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=Em({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),i=this._element.contains(document.activeElement),r=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!i;A8(s=>{const n=this._inputDevices[s.index];if(!n)return;const o=this._latestUpdate[s.index],c=M8(n),d=r||Hbe(c);o&&(o.timestamp===s.timestamp||!o.active&&d||Bbe(o.state,c))||this._emitGamepadEvent(s,c,!d)})}_emitGamepadEvent(t,i,r){const s=this._latestUpdate[t.index],n=s&&s.active;if(!n&&!r)return;const o=!n&&r?"start":n&&r?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:i,active:r},this._callback&&this._callback({device:this._inputDevices[t.index],state:i,action:o})}};function Ybe(e){if(!e||!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function A8(e){for(const t of navigator.getGamepads())Ybe(t)&&e(t)}const O8=B("edge"),Jbe=B("chrome"),Xbe=B("ff"),Qbe=B("safari"),C8="esri-view-surface",Zp={touchNone:`${C8}--touch-none`,touchPan:`${C8}--touch-pan`};let XZ=class QZ{constructor(t,i){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new Zbe(t,i),this._gamepadSource.onEvent=r=>this._callback("gamepad",r)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>this._releasePointerCaptureSafe(t)),this._activePointerCaptures.clear(),this._gamepadSource=Gt(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const i in this._active)if(!t||!t.has(i)){const r=this._active[i];this._element.removeEventListener(UM[i],r),delete this._active[i]}t&&t.forEach(i=>{if(!this._active[i]&&UM[i]){const r=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(UM[i],r),this._active[i]=r}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=(t==null?void 0:t.has("gamepad"))??!1)}setPointerCapture(t,i){i?this._setPointerCaptureSafe(t.pointerId):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Zp.touchNone:Zp.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Zp.touchPan:Zp.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Zp.touchNone),this._element.classList.remove(Zp.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(t){try{this._element.setPointerCapture(t),this._activePointerCaptures.add(t)}catch{}}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,i){const r=jW(this._element,t);return QZ.test.disableSubpixelCoordinates&&(r.x=Math.round(r.x),r.y=Math.round(r.y)),i.x=r.x,i.y=r.y,i}_handleKey(t,i){const{key:r}=i;r&&t==="key-up"&&this._keyDownState.delete(r);const s={native:i,key:r,repeat:!!r&&this._keyDownState.has(r)};r&&t==="key-down"&&this._keyDownState.add(s.key),this._callback(t,s)}_handlePointer(t,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(t,r)}_handlePointerPreventDefault(t,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(t,r)}_getDeltaFromTrackpadOrMouseWheel(t){return t.shiftKey&&B("mac")&&t.deltaY===0?t.deltaX:t.deltaY}_handleMouseWheel(t,i){let r=this._getDeltaFromTrackpadOrMouseWheel(i);switch(i.deltaMode){case 0:O8&&(r=r/document.documentElement.clientHeight*600);break;case 1:r*=30;break;case 2:r*=900}O8?r*=.7:Jbe||Qbe?r*=.6:Xbe&&(r*=1.375);const s=100,n=Math.abs(r);n>s&&(r=r/n*200/(1+Math.exp(-.02*(n-s))));const o=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:r});this._callback(t,o)}_handlePointerCaptureLost(t,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(t,i)}_handleDefault(t,i){const r={native:i};i.preventDefault(),this._callback(t,r)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}};XZ.test={disableSubpixelCoordinates:!1};const UM={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let Kbe=class extends Xi{constructor(){super(!0),this.registerIncoming("context-menu",t=>t.data.native.preventDefault())}};const wr={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function k2(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function e_e(e,t){const i=t.x-e.x,r=t.y-e.y;return Math.sqrt(i*i+r*r)}function t_e(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:ur()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[N,P]=e,[U,W]=[P.x-N.x,P.y-N.y];return t.radius=Math.sqrt(U*U+W*W)/2,t.center.x=(N.x+P.x)/2,t.center.y=(N.y+P.y)/2,t}let i=0,r=0;for(let N=0;N<e.length;N++)i+=e[N].x,r+=e[N].y;i/=e.length,r/=e.length;const s=e.map(N=>N.x-i),n=e.map(N=>N.y-r);let o=0,c=0,d=0,f=0,g=0,v=0,_=0;for(let N=0;N<s.length;N++){const P=s[N],U=n[N],W=P*P,re=U*U;o+=W,c+=re,d+=P*U,f+=W*P,g+=re*U,v+=P*re,_+=U*W}const S=.5*(f+v),T=.5*(g+_),E=o*c-d*d,M=(S*c-T*d)/E,C=(o*T-d*S)/E,L=ur(M+i,C+r);return{radius:Math.sqrt(M*M+C*C+(o+c)/e.length),center:L}}function Ah(e){const{native:t}=e,{pointerId:i,button:r,pointerType:s}=t;return s==="mouse"?`${i}:${r}`:`${s}`}let i_e=class extends Xi{constructor(t=wr.maximumDoubleClickDelay,i=wr.maximumDoubleClickDistance,r=wr.maximumDoubleTouchDelay,s=wr.maximumDoubleTouchDistance,n=qm){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=r,this._maximumDoubleTouchDistance=s,this._clock=n,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=ur(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new iE({start:(o,c)=>this._dragStart(o,c),update:(o,c)=>this._dragUpdate(c),end:(o,c)=>this._dragEnd(c)}),this.registerIncoming("drag",o=>this._dragEventSeparator.handle(o)),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=ri(t.doubleTapTimeout)})}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(t){const i=this._pointerState.get(t);i&&(i.doubleTapTimeout=ri(i.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_dragStart(t,i){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:r,modifiers:s}=i,{center:n}=r;this._dragStartCenter=n;const o=zM("begin",ur(0,0),r);this._doubleTapDrag.emit(o,void 0,s),i.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=t,{center:s}=i,n=zM("update",ur(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(n,void 0,r),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=t,{center:s}=i,n=zM("end",ur(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(n,void 0,r),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:i}=t,r=Ah(i),s=this._pointerState.get(r),{pointerType:n}=i.native;if(s){const o=n==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(r),k2(s.event.data,i)>o?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:i}=t,{pointerType:r}=i.native,s=Ah(i),n=r==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(s),n);this._pointerState.set(s,{event:t,doubleTapTimeout:o}),this.refreshHasPendingInputs()}};function zM(e,t,i){const{button:r,buttons:s,pointer:n,pointers:o,pointerType:c,timestamp:d}=i;return{action:e,delta:t,button:r,buttons:s,pointer:n,pointers:o,pointerType:c,timestamp:d}}let r_e=class extends Xi{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,i,r,s){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:i.buttons,timestamp:s,pointers:s_e(this._activePointerMap),pointer:i,angle:r.angle,radius:r.radius,center:r.center}}_addPointer(t){const i=t.native.pointerId,r=V_(this._activePointerMap).angle,s={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(i,s);const n=cS(s,KZ(this._activePointerMap));s.initialAngle=n,s.lastAngle=n,this._updatePointerAngles(r)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const i=t.native.pointerId,r=this._activePointerMap.get(i);r?r.event=t:this._addPointer(t)}_removePointer(t){const i=V_(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(i)}_updatePointerAngles(t){const i=V_(this._activePointerMap);this._activePointerMap.forEach(r=>{r.initialAngle=cS(r,i)-t,r.lastAngle=cS(r,i)-t})}_emitEvent(t,i,r){const s=V_(this._activePointerMap);this._drag.emit(this._createPayload(t,i,s,r),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const i=t.data.native.pointerId,r=t.timestamp;this._activePointerMap.get(i)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,r),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const i=t.data,r=i.currentEvent,s=t.timestamp;switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(r.native.pointerId)?(this._updatePointer(r),!this._isCurrentDragSuppressed&&this._emitEvent("update",r,s)):(this._addPointer(r),this._emitEvent("added",r,s),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(r),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",r,s))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function KZ(e){const t=[];return e.forEach(i=>{t.push(ur(i.event.x,i.event.y))}),t_e(t)}function V_(e){const t=KZ(e);let i=0;return e.forEach(r=>{let s=cS(r,t),n=s-r.lastAngle;for(;n>Math.PI;)n-=2*Math.PI;for(;n<-Math.PI;)n+=2*Math.PI;s=r.lastAngle+n,r.lastAngle=s;const o=s-r.initialAngle;i+=o}),i/=e.size||1,{angle:i,radius:t.radius,center:t.center}}function s_e(e){const t=new Map;return e.forEach((i,r)=>t.set(r,i.event)),t}function cS(e,t){const i=e.event,r=i.x-t.center.x,s=i.y-t.center.y;return Math.atan2(s,r)}var I8;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(I8||(I8={}));let n_e=class extends Xi{constructor(t=wr.maximumDoubleClickDelay,i=wr.maximumDoubleClickDistance,r=wr.maximumDoubleTouchDelay,s=wr.maximumDoubleTouchDistance,n=qm){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=r,this._maximumDoubleTouchDistance=s,this._clock=n,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const i=t.data,r=Ah(i);if(!this._pointerState.has(r)){const s={downButton:i.native.button,x:i.x,y:i.y,immediateDoubleClick:null};this._pointerState.set(r,s),this.startCapturingPointer(i.native)}}_handlePointerUp(t){const i=t.data,r=Ah(i),s=this._pointerState.get(r);if(s&&s.downButton===i.native.button){const n=s.immediateDoubleClick,o=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;n?(n.timeoutHandle.remove(),k2(n,t.data)>o?this._startImmediateDoubleClick(t,s):(this._immediateDoubleClick.emit(t.data,void 0,n.modifiers),this._removeState(i))):k2(s,t.data)>o?this._removeState(i):this._startImmediateDoubleClick(t,s)}}_startImmediateDoubleClick(t,i){const r=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;i.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),r)}}_removeState(t){const i=Ah(t);this._pointerState.delete(i),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}},o_e=class extends Xi{constructor(t=wr.maximumClickDelay,i=wr.movementUntilMouseDrag,r=wr.movementUntilPenDrag,s=wr.movementUntilTouchDrag,n=wr.holdDelay,o=qm){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=i,this._movementUntilPenDrag=r,this._movementUntilTouchDrag=s,this._holdDelay=n,this._clock=o,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",c=>this._handlePointerDown(c)),this.registerIncoming("pointer-up",c=>this._handlePointerLoss(c,"pointer-up")),this.registerIncoming("pointer-capture-lost",c=>this._handlePointerLoss(c,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",c=>this._handlePointerLoss(c,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",c=>this._handlePointerMove(c)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=ri(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const i=t.data,r=i.native.pointerId;let s=null;this._pointerState.size===0&&(s=this._clock.setTimeout(()=>{const o=this._pointerState.get(r);if(o){if(!o.isDragging){const c=o.previousEvent;this._pointerHold.emit(c,void 0,t.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this._holdDelay));const n={startEvent:i,previousEvent:i,startTimestamp:t.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:s,modifiers:new Set};this._pointerState.set(r,n),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_handlePointerMove(t){const i=t.data,r=i.native.pointerId,s=this._pointerState.get(r);s&&(s.isDragging?this._pointerDrag.emit(G_("update",s,i),void 0,s.modifiers):e_e(i,s.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(t),s.previousEvent=i)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const i=t.data,r=i.native.pointerId;this._pointerState.forEach(s=>{s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging||(s.modifiers=t.modifiers,s.isDragging=!0,r===s.startEvent.native.pointerId?this._pointerDrag.emit(G_("start",s,i)):this._pointerDrag.emit(G_("start",s,s.previousEvent),t.timestamp))})}_handlePointerLoss(t,i){const r=t.data,s=r.native.pointerId,n=this._pointerState.get(s);n&&(n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging?this._pointerDrag.emit(G_("end",n,i==="pointer-up"?r:n.previousEvent),void 0,n.modifiers):i==="pointer-up"&&n.downButton===r.native.button&&t.timestamp-n.startTimestamp<=this._maximumClickDelay&&!n.holdEmitted&&this._immediateClick.emit(r),this._pointerState.delete(s),this.stopCapturingPointer(r.native),this._pointerState.size===0&&this._moveHandle.pause())}};function G_(e,t,i){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:i}}let a_e=class extends Xi{constructor(t=wr.maximumDoubleClickDelay,i=wr.maximumDoubleClickDistance,r=wr.maximumDoubleTouchDelay,s=wr.maximumDoubleTouchDistance,n=qm){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=r,this._maximumDoubleTouchDistance=s,this._clock=n,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",o=>this._handleImmediateClick(o)),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=ri(t.doubleClickTimer))}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(t,i){const r=this._pointerState.get(t);r&&(r.doubleClickTimer=ri(r.doubleClickTimer),i&&this._click.emit(r.event.data,void 0,r.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const i=this._pointerState.get(t);i.pointerDownCount===1&&this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_handleImmediateClick(t){const i=t.data,{pointerType:r}=i.native,s=l_e(i);if(!this._pointerState.has(s))return void this._startClick(t);const n=this._pointerState.get(s),{data:o,modifiers:c}=n.event,d=r==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;k2(o,i)>d?(this._clearDoubleClickTimer(s,!0),this._startClick(t)):(this._clearDoubleClickTimer(s,!1),n.pointerDownCount===2&&this._doubleClick.emit(o,void 0,c))}_handlePointerDown(t){const i=Ah(t.data),r=this._pointerState.get(i);r&&(r.pointerDownCount+=1)}_startClick(t){const{data:i}=t,{native:{pointerType:r}}=i,s=Ah(i),n=r==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(s),n);this._pointerState.set(s,{event:t,doubleClickTimer:o,pointerDownCount:1}),this.refreshHasPendingInputs()}};function l_e(e){const{pointerId:t,pointerType:i,button:r}=e.native;return i==="mouse"?`${t}:${r}`:`${i}`}const q_={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},R8=Symbol("handles");let Bd=class extends Te{initialize(){const t=()=>{var i;return(i=this.view)==null?void 0:i.ready};this.addHandles([$s(()=>!t(),()=>this._disconnect()),$s(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerType}get latestPointerLocation(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerLocation}get multiTouchActive(){var t;return((t=this._inputManager)==null?void 0:t.multiTouchActive)??!1}isModifierKeyDown(t){var i;return((i=this._inputManager)==null?void 0:i.isModifierKeyDown(t))??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(R8),this._inputManager=Gt(this._inputManager)}_connect(){const t=this.view.surface,i=new XZ(t,this.view.input),r=[new n_e,new o_e,new a_e,new r_e(this.view.navigation),new i_e],s=new fn({eventSource:i,recognizers:r}),n=new H1e(this.view,["primary"]),o=new W1e(this.view,["secondary"]);s.installHandlers("prevent-context-menu",[new Kbe],mc.INTERNAL),s.installHandlers("navigation",[new qbe(this.view),new Pbe(this.view),new Gbe(this.view),new E8(this.view),new E8(this.view,[q_.counter]),n,new jbe(this.view,q_.pan),new zbe(this.view,q_.zoom),new Ube(this.view,q_.rotate),o,new B1e(this.view,"touch")],mc.INTERNAL),this.view.viewEvents.connect(s),this._source=i,this._inputManager=s,this.addHandles([xe(()=>{var c,d;return(d=(c=this.view)==null?void 0:c.navigation)==null?void 0:d.browserTouchPanEnabled},c=>{this._source&&(this._source.browserTouchPanningEnabled=!c)},Nt),xe(()=>{const{actionMap:c}=this.view.navigation;return{panActions:T8("pan",c),rotateActions:T8("rotate",c)}},({panActions:c,rotateActions:d})=>{n.pointerActions=c,o.pointerActions=d},gs)],R8)}get test(){}};u([h()],Bd.prototype,"view",void 0),u([h()],Bd.prototype,"latestPointerType",null),u([h()],Bd.prototype,"latestPointerLocation",null),u([h()],Bd.prototype,"multiTouchActive",null),Bd=u([A("esri.views.2d.input.MapViewInputManager")],Bd);const u_e=Bd,L8=160;let R0=class extends Te{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=L8&&this.clear()},L8))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};u([h()],R0.prototype,"_timer",void 0),u([h()],R0.prototype,"stationary",null),R0=u([A("esri.views.2d.support.StationaryManager")],R0);const c_e=e=>{let t=class extends e{constructor(...i){super(...i),this.fullOpacity=1,this.stateManager=new Ir({constraints:new S8({view:this})}),this.goToManager=new uS({view:this}),this.stationaryManager=new R0,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new U1e(this),this.inputManager=new u_e({view:this}),this.viewEvents=new FW(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([xe(()=>this.viewpoint,()=>this.stationaryManager.flip(),fa),this.on("resize",r=>this.stateManager.resize(r.width,r.height))])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){var i;return((i=this.stateManager)==null?void 0:i.extent)??null}set extent(i){this.stateManager.extent=i}get state(){return this.stateManager.state}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}set animation(i){const r=this._get("animation");if(i===r)return;if(r&&r.stop(),i!==this.animationManager.animation&&this.animationManager.stop(),!i||i.isFulfilled())return void this._set("animation",null);this._set("animation",i);const s=()=>{var n;this.destroyed||i===this._get("animation")&&(this._set("animation",null),(n=this.frameTask)==null||n.requestFrame())};i.when(s,s)}get constraints(){var i;return(i=this.stateManager)==null?void 0:i.constraints}set constraints(i){i.view=this;const r=this.stateManager.constraints;this.stateManager.constraints=i,r==null||r.destroy()}get padding(){var i;return(i=this.stateManager)==null?void 0:i.padding}set padding(i){this.stateManager&&(this.stateManager.padding=i)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(i){this.stateManager.resizeAlign=i}get rotation(){return this.stateManager.rotation??0}set rotation(i){const{rotationEnabled:r}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=i,this.constraints.rotationEnabled=r}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(i){this.stateManager.viewpoint=i,this.frameTask.requestFrame()}on(i,r,s,n){return this.inputManager&&this.viewEvents.on(i,r,s,n)||super.on(i,r)}hasEventListener(i){return super.hasEventListener(i)||this.viewEvents.hasHandler(i)}goTo(i,r){return this.goToManager.goTo(i,r)}};return u([h({readOnly:!0})],t.prototype,"animationManager",void 0),u([h({readOnly:!0})],t.prototype,"fullOpacity",void 0),u([h()],t.prototype,"stateManager",void 0),u([h()],t.prototype,"constraintsInfo",null),u([h()],t.prototype,"extent",null),u([h()],t.prototype,"goToManager",void 0),u([h({readOnly:!0})],t.prototype,"state",null),u([h({readOnly:!0})],t.prototype,"mapViewNavigation",void 0),u([h()],t.prototype,"renderingOptions",void 0),u([h({readOnly:!0})],t.prototype,"interacting",null),u([h()],t.prototype,"stationary",null),u([h()],t.prototype,"animation",null),u([h({type:S8})],t.prototype,"constraints",null),u([h({readOnly:!0})],t.prototype,"inputManager",void 0),u([h()],t.prototype,"padding",null),u([h()],t.prototype,"resizeAlign",null),u([h()],t.prototype,"rotation",null),u([h({readOnly:!0})],t.prototype,"viewEvents",void 0),u([h({type:Rn})],t.prototype,"viewpoint",null),t=u([A("esri.views.Viewport2DMixin")],t),t};let N8=class{constructor(t){this._view=t,this.viewpoint=new Rn({targetGeometry:new Ye,scale:0,rotation:0})}get view(){return this._view}get size(){const[t,i]=this._view.size;return Math.sqrt(t*t+i*i)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return bZ(this.center.spatialReference)}pixelsPerPanAtZoom(t){return 1/(t*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(t){return 1/(t*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(t,i){i.pan=uG(this.center,t.center);let r=Math.abs(t.rotation-this.rotation);r=r>=180?360-r:r,i.rotate=fT(r),i.sourceZoom=this.scale,i.targetZoom=t.scale}interpolate(t,i,r){const{pan:s,rotate:n,zoom:o,zoomOffset:c}=r,{center:d}=this;d.spatialReference=t.center.spatialReference,d.x=Bg(t.center.x,i.center.x,s),d.y=Bg(t.center.y,i.center.y,s),this.viewpoint.scale=Bg(t.scale,i.scale+c,o);let f=t.rotation;const g=i.rotation;Math.abs(g-f)>=180&&(f+=360*(f<g?1:-1)),this.viewpoint.rotation=Bg(f,g,n)}copyFrom(t){kr(this.viewpoint,t.viewpoint),this._view=t.view}};function Rg(e,t,i,r){const s=3*e,n=3*(i-e)-s,o=1-s-n,c=3*t,d=3*(r-t)-c,f=1-c-d;function g(T){return((o*T+n)*T+s)*T}function v(T){return((f*T+d)*T+c)*T}function _(T){return(3*o*T+2*n)*T+s}function S(T,E){let M,C,L,N,P,U;for(L=T,U=0;U<8;U++){if(N=g(L)-T,Math.abs(N)<E)return L;if(P=_(L),Math.abs(P)<1e-6)break;L-=N/P}if(M=0,C=1,L=T,L<M)return M;if(L>C)return C;for(;M<C;){if(N=g(L),Math.abs(N-T)<E)return L;T>N?M=L:C=L,L=.5*(C-M)+M}return L}return function(T,E=1e-6){return v(S(T,E))}}const $n={};$n.ease=Rg(.25,.1,.25,1),$n.linear=Rg(0,0,1,1),$n.easeIn=$n["ease-in"]=Rg(.42,0,1,1),$n.easeOut=$n["ease-out"]=Rg(0,0,.58,1),$n.easeInOut=$n["ease-in-out"]=Rg(.42,0,.58,1);const d_e=e=>e,rE=e=>e*e,hN=e=>1-rE(1-e),h_e=e=>e<.5?rE(2*e)/2:(hN(2*(e-.5))+1)/2,pN=e=>e*e*e,eY=e=>1-pN(1-e),p_e=e=>e<.5?pN(2*e)/2:(eY(2*(e-.5))+1)/2,fN=e=>e*e*e*e,tY=e=>1-fN(1-e),f_e=e=>e<.5?fN(2*e)/2:(tY(2*(e-.5))+1)/2,mN=e=>e*e*e*e*e,iY=e=>1-mN(1-e),m_e=e=>e<.5?mN(2*e)/2:(iY(2*(e-.5))+1)/2,yN=e=>1-Math.cos(e*Math.PI/2),rY=e=>1-yN(1-e),y_e=e=>e<.5?yN(2*e)/2:(rY(2*(e-.5))+1)/2,gN=e=>2**(10*(e-1)),vN=e=>1-gN(1-e),g_e=e=>e<.5?gN(2*e)/2:(vN(2*(e-.5))+1)/2,bN=e=>-(Math.sqrt(1-e*e)-1),sY=e=>1-bN(1-e),v_e=e=>e<.5?bN(2*e)/2:(sY(2*(e-.5))+1)/2;function jn(e){const t=2*(e-Math.sqrt((e-1)*e)),i=t/2/e;return r=>r<i?e*r*r:t*r-t+1}function Un(e,t){return(i,r)=>i<t?t*e(i/t,r):1-e((1-i)/(1-t),r)*(1-t)}const b_e=Un(jn(1),1),__e=Un(jn(1),0),RC=Un(jn(1),.5),w_e=Un(jn(2),1),S_e=Un(jn(2),0),T_e=Un(jn(2),.5),E_e=Un(jn(3),1),$_e=Un(jn(3),0),x_e=Un(jn(3),.5),M_e=Un(jn(4),1),A_e=Un(jn(4),0),O_e=Un(jn(4),.5),P8={linear:d_e,"in-quad":rE,"out-quad":hN,"in-out-quad":h_e,"in-coast-quad":b_e,"out-coast-quad":__e,"in-out-coast-quad":RC,"in-cubic":pN,"out-cubic":eY,"in-out-cubic":p_e,"in-coast-cubic":w_e,"out-coast-cubic":S_e,"in-out-coast-cubic":T_e,"in-quart":fN,"out-quart":tY,"in-out-quart":f_e,"in-coast-quart":E_e,"out-coast-quart":$_e,"in-out-coast-quart":x_e,"in-quint":mN,"out-quint":iY,"in-out-quint":m_e,"in-coast-quint":M_e,"out-coast-quint":A_e,"in-out-coast-quint":O_e,"in-sine":yN,"out-sine":rY,"in-out-sine":y_e,"in-expo":gN,"out-expo":vN,"in-out-expo":g_e,"in-circ":bN,"out-circ":sY,"in-out-circ":v_e,ease:e=>$n.ease(e),"ease-in":e=>$n.easeIn(e),"ease-out":e=>$n.easeOut(e),"ease-in-out":e=>$n.easeInOut(e)};let C_e=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const F2={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},nY={maxDuration:4e3};let I_e=class oY{constructor(t){this._createCamera=t,this.compared=new C_e,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:F2.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const t=new oY(this._createCamera);return t.copyFrom(this),t}copyFrom(t){this.update(t.source,t.target,t.settings)}update(t,i,r){this.source!==t&&this.source.copyFrom(t),this.target!==i&&this.target.copyFrom(i),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=r.desiredScreenFlow??F2.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(t){const i=this.target.pixelsPerPanAtZoom(t);return this.halfWindowSize/i}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>ts()}get hasFov(){return Math.abs(this.compared.fov)>ts()}get hasRotate(){return this.compared.rotate>ts()}},R_e=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},L_e=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((t,i)=>t+i.time,0)}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1),t*=this.time;let r=0,s=0;const n=this.definition,o=this.segments.reduce((c,d)=>c||d.definition.hasZoom,!1);for(let c=0;c<this.segments.length;c++){const d=this.segments[c],f=d.definition;if(t<=d.time||c===this.segments.length-1){if(this.segmentInterpolateComponentsAt(d,d.time===0?0:t/d.time,i),n.hasPan&&!isNaN(i.pan)&&isFinite(n.compared.pan)?i.pan=(r+f.compared.pan*i.pan)/n.compared.pan:i.pan=1,n.hasRotate&&!isNaN(i.rotate)&&isFinite(n.compared.rotate)?i.rotate=(s+f.compared.rotate*i.rotate)/n.compared.rotate:i.rotate=1,o&&!isNaN(i.zoom)&&isFinite(f.compared.targetZoom)){const{sourceZoom:g,targetZoom:v}=f.compared,_=i.zoom*(v-g)+g,S=this.segments[0].definition.compared.sourceZoom,T=this.segments[this.segments.length-1].definition.compared.targetZoom,E=Math.abs(v-S)>Math.abs(g-S)?v:g;i.zoomOffset=E-T,i.zoom=(_-S)/(E-S)}else i.zoom=1;return i}t-=d.time,r+=f.compared.pan,s+=f.compared.rotate}}segmentInterpolateComponentsAt(t,i,r){t.interpolateComponentsAt(i,r)}},VM=class{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,i=t.compared,r=i.sourceZoom,s=i.targetZoom;this._zoomSign=r>s?1:-1,this._panPixelsAtSource=i.pan*t.source.pixelsPerPanAtZoom(r);const n=(t.source.pixelsPerRotate()+t.target.pixelsPerRotate())/2;this._rotatePixels=i.rotate*n}_updatePixelFlow(){const t=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom,{hasZoom:r,hasPan:s,hasRotate:n}=this.definition;let o=0,c=0;r&&(s&&(o=(i/t-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),n&&(c=this._zoomSign*(Math.log(t/i)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const d=this.definition.desiredPixelFlow;if(r&&s&&n){const f=o+c+o*c;this._zoomPixelFlow=o*c/f*d,this._panPixelFlow=c/f*d,this._rotatePixelFlow=o/f*d}else if(r&&s){const f=1+o;this._zoomPixelFlow=o/f*d,this._panPixelFlow=1/f*d}else if(r&&n){const f=1+c;this._zoomPixelFlow=c/f*d,this._rotatePixelFlow=1/f*d}else if(s&&n){const f=this._panPixelsAtSource/this._rotatePixels,g=1+f;this._panPixelFlow=f/g*d,this._rotatePixelFlow=1/g*d}else s?this._panPixelFlow=d:r?this._zoomPixelFlow=d:n&&(this._rotatePixelFlow=d);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const f=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=f,this._panPixelFlow/=f,this._rotatePixelFlow/=f}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/N_e:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,i=t*this._panPixelsAtSource;return Math.log(i*(this._zoomPixelFlow/this._panPixelFlow)+1)/(t*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(t){if(t===0||t===1)return t;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom;return(i*(i/r)**-t-i)/(r-i)}return t}_interpolateComponentsFov(t){if(t===0)return this.definition.segmentStart;if(t===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:i,segmentEnd:r}=this.definition;return i+t*(r-i)}return this.definition.segmentStart}_interpolateComponentsPan(t){if(t===0||t===1)return t;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*t*this._time)-1))/(i*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1),i.zoom=this._interpolateComponentsZoom(t),i.pan=this._interpolateComponentsPan(t),i.rotate=this._interpolateComponentsRotate(t),i.zoomOffset=0,i.fov=this._interpolateComponentsFov(t)}};const N_e=fT(45);function P_e(e,t,i){const r=t-e.compared.sourceZoom,s=e.halfWindowPanAtZoom(r);return-e.halfWindowSize*(i.ascensionFactor*Math.LN2*e.compared.pan+s)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*s)}function D_e(e,t,i){const r=1/t,s=Math.log(e.compared.sourceZoom*r),n=1/e.desiredPixelFlow,o=1/Math.LN2,c=t-e.compared.sourceZoom,d=1/c,f=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(c))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*r*n*o*d*f-e.halfWindowSize*s*n*o*d+e.halfWindowSize*s*n*o*f/(c*c)}function k_e(e,t,i){const r=t-e.compared.sourceZoom,s=1/r,n=1/t,o=Math.log(e.compared.sourceZoom*n),c=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(r))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*s*(-2*s*n*c+2*s*o+2*n-2*o*c/(r*r)-c/(t*t))/(e.desiredPixelFlow*Math.LN2)}function F_e(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function j_e(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function U_e(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function z_e(e,t,i){return-e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}function V_e(e,t,i){return e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}function G_e(e,t,i){return-2*e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}function q_e(e,t,i){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function B_e(e,t,i){const r=Math.log(t/e.compared.targetZoom),s=1/e.desiredPixelFlow,n=1/Math.LN2,o=-t+e.compared.targetZoom,c=1/o,d=(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*r*s*n*c+e.halfWindowSize*r*s*n*d/(o*o)+e.halfWindowSize*s*n*c*d/t}function H_e(e,t,i){const r=t-e.compared.targetZoom,s=1/r,n=1/t,o=Math.log(t/e.compared.targetZoom),c=(e.halfWindowPanAtZoom(t)+i.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*s*(-2*s*n*c-2*s*o+2*n+2*o*c/(r*r)-c/(t*t))/(e.desiredPixelFlow*Math.LN2)}function W_e(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function Z_e(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function Y_e(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function J_e(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(t===0)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const i=Math.LN2*e.compared.pan,r=t,s=e.halfWindowPanAtZoom(r),n=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*s);return e.compared.sourceZoom<=e.compared.targetZoom?n*(i-s):n*(i+s)}function X_e(e,t){let i=Q_e(e,t);const r={ascensionFactor:t.ascensionFactor!=null?t.ascensionFactor:.5,descensionFactor:t.descensionFactor!=null?t.descensionFactor:.5},s=r.ascensionFactor===0,n=r.descensionFactor===0,o=s?F_e:P_e,c=s?j_e:D_e,d=s?U_e:k_e,f=n?W_e:q_e,g=n?Z_e:B_e,v=n?Y_e:H_e,_=P=>o(e,P,r)+z_e(e,P,r)+f(e,P,r),S=P=>c(e,P,r)+V_e(e,P,r)+g(e,P,r),T=P=>d(e,P,r)+G_e(e,P,r)+v(e,P,r);let E=_(i);const M=J_e(e);let C;const L=t.maximumIterations||20,N=t.maximumDistance!=null?t.maximumDistance:1/0;for(C=0;C<L;C++){const P=t.desiredSlope??1e-6;let U=S(i);Math.abs(U)>P&&(U+=P);const W=U/T(i);if(isNaN(W)||i>=N&&W<0){if(!isFinite(N))return null;i=N,E=_(i);break}if(i-=W,i<e.compared.sourceZoom||i<e.compared.targetZoom)return null;const re=_(i);if(Math.abs(re-E)/E<=.005)break;E=re}return E>M*(1-.3)||i<e.compared.sourceZoom||i<e.compared.targetZoom?null:i}function Q_e(e,t){const i=Math.max(e.compared.sourceZoom,e.compared.targetZoom),r=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return r<i?t.maximumDistance!=null?i+(t.maximumDistance-i)/2:1.5*i:t.maximumDistance?Math.min(t.maximumDistance,r):r}let K_e=class extends L_e{constructor(t,i){super(),this._preallocSegments=[new VM,new VM,new VM],this._ascensionSegment=null,this._descensionSegment=null,this.update(t,i)}update(t,i){if(!t)return;this.definition?this.definition.copyFrom(t):this.definition=t.clone();const r=i!=null&&i.apex?X_e(t,i.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,r?this._updateWithApex(r,i==null?void 0:i.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(t,i,r){t.interpolateComponentsAt(i,r),t===this._ascensionSegment?r.zoom=hN(r.zoom):t===this._descensionSegment&&(r.zoom=rE(r.zoom))}_updateWithApex(t,i){const[r,s,n]=this._preallocSegments,o=(i==null?void 0:i.ascensionFactor)??.5,c=Math.min(1-o,(i==null?void 0:i.ascensionFactor)!=null&&i.descensionFactor!=null?i.descensionFactor:.5),d=1-o-c;r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.compared.targetZoom=t,r.definition.compared.pan=this.definition.compared.pan*o,r.definition.compared.rotate=this.definition.compared.rotate*o,r.definition.segmentEnd=o,r.update(),this._ascensionSegment=r,this.segments.push(r),d>0&&(s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.copyFrom(this.definition),s.definition.compared.sourceZoom=t,s.definition.compared.targetZoom=t,s.definition.compared.pan=this.definition.compared.pan*d,s.definition.compared.rotate=this.definition.compared.rotate*d,s.definition.segmentStart=r.definition.segmentEnd,s.definition.segmentEnd=r.definition.segmentEnd+d,s.update(),this.segments.push(s)),n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.sourceZoom=t,n.definition.compared.pan=this.definition.compared.pan*c,n.definition.compared.rotate=this.definition.compared.rotate*c,n.definition.segmentStart=o+d,n.update(),this._descensionSegment=n,this.segments.push(n)}_updateWithoutApex(){const[t]=this._preallocSegments;t.update(this.definition),this.segments.push(t)}};const ewe=new R_e;let twe=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(t){this._time=0,this._easing=RC,this.definition=new I_e(t),this.path=new K_e}update(t,i,r){this.definition.update(t,i,r),this.path.update(this.definition,r),this._time=this._applyTimeSettings(jre(isFinite(this.path.time)?this.path.time:0),r),this._easing=r.easing??(this._time>=1e3?RC:vN)}cameraAt(t,i){t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const r=this.path.interpolateComponentsAt(t,ewe);i.interpolate(this.definition.source,this.definition.target,r)}_normalizedEasing(t){const i=this._easing(0,this._time),r=this._easing(1,this._time);return(this._easing(t,this._time)-i)/(r-i)}_applyTimeSettings(t,i){const r=i.speedFactor!=null?i.speedFactor:1,s=i.minDuration??F2.minDuration/r,n=i.maxDuration??F2.maxDuration/r;return t=i.duration!=null?i.duration:Math.min(Math.max(t/r,s),n)}};const iwe=2e3,rwe=64;let swe=class{constructor(t){this._view=t,this._animation=new twe(()=>new N8(this._view)),this._current=new N8(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(t,i,r={}){kr(this._current.viewpoint,t),kr(this._source.viewpoint,t),kr(this._target.viewpoint,i),this._animation.update(this._source,this._target,r)}applyRatio(t,i){this._animation.cameraAt(i,this._current),kr(t,this._current.viewpoint)}},Sf=class extends Te{constructor(t){super(t),this._animation=null,this._destinationViewState=new dN,this.updateFunction=null,this.easing=P8.ease,this.viewpoint=new Rn({targetGeometry:new Ye,scale:0,rotation:0}),this._updateTask=Em({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new swe(t.view)}destroy(){this._updateTask=ri(this._updateTask)}get animation(){return this._animation}set animation(t){this._animation=t,this.view.animation=t}animate(t,i,r){this.stop();const s=this.viewpoint;kr(s,i);const n=t.target;this._transition.update(this.viewpoint,n,{apex:{maximumDistance:Math.min(Math.min(i.scale,n.scale)*rwe,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:r==null?void 0:r.duration,maxDuration:(r==null?void 0:r.animationMode)==="auto"?1/0:(r==null?void 0:r.maxDuration)??nY.maxDuration,speedFactor:r==null?void 0:r.speedFactor,easing:(typeof(r==null?void 0:r.easing)=="string"?P8[r.easing]:r==null?void 0:r.easing)||this.easing}),(r==null?void 0:r.animationMode)==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=n,nwe(this._transition.animation,r,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,n,{duration:0}));const o=()=>{this.animation===t&&this._updateTask&&(t.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(o,o),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinuous(t,i){this.stop(),this.updateFunction=i,this.viewpoint=t;const r=new MC({target:t.clone()}),s=()=>{this.animation===r&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return r.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=r,r}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){var r,s;const i=this.animation;if(i&&i.state!==MC.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime),(r=this.animation)==null||r.update(this.viewpoint);else{const n=performance.now()-this._startTime,o=this._transition.duration,c=o>0?n/o:1,d=c>=1;this._transition.applyRatio(this.viewpoint,c),d&&((s=this.animation)==null||s.finish())}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function nwe(e,t,i,r){if((t==null?void 0:t.duration)!=null)return!0;const{time:s,isLinear:n}=e,o=(t==null?void 0:t.speedFactor)||1;if(s>((t==null?void 0:t.maxDuration)??nY.maxDuration/o))return!1;if(n){const d=hi(),f=ur(...r.toScreen(d,...i.center)),g=ur(...i.toScreen(d,...r.center)),v=g!=null&&g.x>-1*i.size[0]&&g.x<(1.5+.5)*i.size[0]&&g.y>-1*i.size[1]&&g.y<(1.5+.5)*i.size[1],_=f!=null&&f.x>-1*r.size[0]&&f.x<(1.5+.5)*r.size[0]&&f.y>-1*r.size[1]&&f.y<(1.5+.5)*r.size[1];if(s>iwe/o&&!v&&!_)return!1}return!0}u([h()],Sf.prototype,"easing",void 0),u([h()],Sf.prototype,"view",void 0),u([h()],Sf.prototype,"viewpoint",void 0),Sf=u([A("esri.views.2d.AnimationManager")],Sf);const owe=Sf;function Yt(){return Promise.all([te(()=>import("./webglDeps-CQkp6Pqd.js"),__vite__mapDeps([188,145,15,189,190,191])),te(()=>import("./mapViewDeps-B8KmNjfA.js"),__vite__mapDeps([192,110,76,193,74,75,16,15,77,78,79,80,72,83,194,189,145,190,149,125,73,43,195,71,101,196,197,132,131,87,20,14,21,81,89,198,84,85,86,199,4,130,188,191,200,96,201,70,18,11,25,24,202,138,139,123,147,203,59,204,88,205,206,82,207,48,93,68,208,209,210,211,141,212,213]))])}const Lg=()=>Yt().then(()=>te(()=>import("./TileLayerView2D-Db5goRQw.js"),__vite__mapDeps([214,110,79,73,77,74,75,76,16,15,78,80,72,199,4,197,196,195,71,43,190,145,101,132,131,87,20,14,21,130,200,194,189,149,125,193,83,81,89,96,201,70,18,11,25,24,59,84,85,86,138,139,123,207,48,93,68,215,216,211,217,169,218,209,210,219,220,221,222,223,224]))),yd=()=>Yt().then(()=>te(()=>import("./FeatureLayerView2D-C9jUeriQ.js").then(e=>e.F),__vite__mapDeps([225,197,20,14,15,16,21,226,227,228,18,11,27,217,196,169,210,73,71,72,43,189,145,211,195,190,101,132,131,87,193,74,75,76,77,78,79,80,83,194,149,125,81,89,96,229,198,230,95,221,224,219]))),D8={"base-dynamic":()=>Yt().then(()=>te(()=>import("./BaseDynamicLayerView2D-C0rFkJLF.js"),__vite__mapDeps([231,232,195,71,72,43,190,145,15,101,196,197,132,131,87,20,14,16,21,216,194,189,149,125,83,217,169,233,219]))),"base-tile":Lg,"bing-maps":Lg,catalog:()=>Yt().then(()=>te(()=>import("./CatalogLayerView2D-wWHjYuuy.js"),__vite__mapDeps([234,217,196,197,169]))),"catalog-dynamic-group":()=>Yt().then(()=>te(()=>import("./CatalogDynamicGroupLayerView2D-CZce25YR.js"),__vite__mapDeps([235,217,196,197,169]))),"catalog-footprint":()=>Yt().then(()=>te(()=>import("./CatalogFootprintLayerView2D-Ccj64s5D.js"),__vite__mapDeps([236,225,197,20,14,15,16,21,226,227,228,18,11,27,217,196,169,210,73,71,72,43,189,145,211,195,190,101,132,131,87,193,74,75,76,77,78,79,80,83,194,149,125,81,89,96,229,198,230,95,221,224,219]))),csv:yd,"geo-rss":()=>Yt().then(()=>te(()=>import("./GeoRSSLayerView2D-DizrRewj.js"),__vite__mapDeps([237,217,196,197,169,208,209,210,73,71,72,43,189,145,15,211,195,190,101,132,131,87,20,14,16,21,193,74,75,76,77,78,79,80,83,194,149,125,81,89,207,199,110,4,70,18,11,25,24,48,93,68]))),feature:yd,geojson:yd,parquet:yd,graphics:()=>Yt().then(()=>te(()=>import("./GraphicsLayerView2D-D4DqDy-G.js"),__vite__mapDeps([238,217,196,197,169,208,209,210,73,71,72,43,189,145,15,211,195,190,101,132,131,87,20,14,16,21,193,74,75,76,77,78,79,80,83,194,149,125,81,89,207,199,110,4,70,18,11,25,24,48,93,68]))),group:()=>Yt().then(()=>te(()=>import("./GroupLayerView2D-C2Fj6jWZ.js"),__vite__mapDeps([239,217,196,197,169]))),imagery:()=>Yt().then(()=>te(()=>import("./ImageryLayerView2D-CcK1ny_d.js"),__vite__mapDeps([240,241,145,15,43,107,108,195,71,72,190,101,196,197,132,131,87,20,14,16,21,217,169,207,74,75,76,77,78,79,80,199,110,4,70,73,18,11,25,24,193,83,194,189,149,125,81,89,48,93,68,218,209,210,211,232,216,233,112,226,224,219]))),"imagery-tile":()=>Yt().then(()=>te(()=>import("./ImageryTileLayerView2D-DcdftaHW.js"),__vite__mapDeps([242,243,241,145,15,43,107,108,195,71,72,190,101,196,197,132,131,87,20,14,16,21,217,169,244,205,86,189,211,245,112,226,224,219]))),kml:()=>Yt().then(()=>te(()=>import("./KMLLayerView2D-JllfwrwG.js"),__vite__mapDeps([246,247,216,196,197,194,189,145,15,190,149,125,83,232,195,71,72,43,101,132,131,87,20,14,16,21,217,169,208,209,210,73,211,193,74,75,76,77,78,79,80,81,89,207,199,110,4,70,18,11,25,24,48,93,68,112,205,86,202,188,191,138,139,123,201,147,244]))),"knowledge-graph":()=>Yt().then(()=>te(()=>import("./KnowledgeGraphLayerView2D-CMxPPchc.js"),__vite__mapDeps([248,217,196,197,169]))),"link-chart":()=>Yt().then(()=>te(()=>import("./KnowledgeGraphLayerView2D-CMxPPchc.js"),__vite__mapDeps([248,217,196,197,169]))),"knowledge-graph-sublayer":yd,"map-image":()=>Yt().then(()=>te(()=>import("./MapImageLayerView2D-Kl0G_1A8.js"),__vite__mapDeps([249,232,195,71,72,43,190,145,15,101,196,197,132,131,87,20,14,16,21,216,194,189,149,125,83,217,169,207,74,75,76,77,78,79,80,199,110,4,70,73,18,11,25,24,193,81,89,48,93,68,218,209,210,211,233,250,221,223,226,219,220,222,224]))),"map-notes":()=>Yt().then(()=>te(()=>import("./MapNotesLayerView2D-BJCeSc4W.js"),__vite__mapDeps([251,217,196,197,169,208,209,210,73,71,72,43,189,145,15,211,195,190,101,132,131,87,20,14,16,21,193,74,75,76,77,78,79,80,83,194,149,125,81,89,207,199,110,4,70,18,11,25,24,48,93,68]))),media:()=>Yt().then(()=>te(()=>import("./MediaLayerView2D-B45VBVcg.js"),__vite__mapDeps([252,253,93,48,110,79,73,77,74,75,76,16,15,78,80,72,199,4,197,196,195,71,43,190,145,101,132,131,87,20,14,21,130,200,194,189,149,125,193,83,81,89,96,201,70,18,11,25,24,59,84,85,86,138,139,123,207,68,204,88,254,206,217,169]))),"ogc-feature":()=>Yt().then(()=>te(()=>import("./OGCFeatureLayerView2D-D7oqZGiF.js"),__vite__mapDeps([255,225,197,20,14,15,16,21,226,227,228,18,11,27,217,196,169,210,73,71,72,43,189,145,211,195,190,101,132,131,87,193,74,75,76,77,78,79,80,83,194,149,125,81,89,96,229,198,230,95,221,224,219]))),"open-street-map":Lg,"oriented-imagery":yd,route:()=>Yt().then(()=>te(()=>import("./RouteLayerView2D-BdAi74up.js"),__vite__mapDeps([256,257,258,217,196,197,169,208,209,210,73,71,72,43,189,145,15,211,195,190,101,132,131,87,20,14,16,21,193,74,75,76,77,78,79,80,83,194,149,125,81,89,207,199,110,4,70,18,11,25,24,48,93,68]))),stream:()=>Yt().then(()=>te(()=>import("./StreamLayerView2D-Y9aBqIW8.js"),__vite__mapDeps([259,225,197,20,14,15,16,21,226,227,228,18,11,27,217,196,169,210,73,71,72,43,189,145,211,195,190,101,132,131,87,193,74,75,76,77,78,79,80,83,194,149,125,81,89,96,229,198,230,95,221,224,219]))),"subtype-group":()=>Yt().then(()=>te(()=>import("./SubtypeGroupLayerView2D-CquWx0HD.js"),__vite__mapDeps([260,225,197,20,14,15,16,21,226,227,228,18,11,27,217,196,169,210,73,71,72,43,189,145,211,195,190,101,132,131,87,193,74,75,76,77,78,79,80,83,194,149,125,81,89,96,229,198,230,95,221,224,219]))),tile:Lg,"vector-tile":()=>Yt().then(()=>te(()=>import("./VectorTileLayerView2D-DH2SU8S_.js"),__vite__mapDeps([261,130,80,59,15,78,79,77,145,131,195,71,72,43,190,101,196,197,132,87,20,14,16,21,211,30,133,134,110,217,169,219]))),video:()=>Yt().then(()=>te(()=>import("./VideoLayerView2D-DkKIGrjB.js"),__vite__mapDeps([262,263,254,101,195,71,72,43,190,145,15,196,197,132,131,87,20,14,16,21,193,74,75,76,77,78,79,80,83,194,189,149,125,73,81,89,206,217,169,208,209,210,211,207,199,110,4,70,18,11,25,24,48,93,68]))),wcs:()=>Yt().then(()=>te(()=>import("./ImageryTileLayerView2D-DcdftaHW.js"),__vite__mapDeps([242,243,241,145,15,43,107,108,195,71,72,190,101,196,197,132,131,87,20,14,16,21,217,169,244,205,86,189,211,245,112,226,224,219]))),"web-tile":Lg,wfs:yd,wms:()=>Yt().then(()=>te(()=>import("./WMSLayerView2D-DBpu6jFX.js"),__vite__mapDeps([264,232,195,71,72,43,190,145,15,101,196,197,132,131,87,20,14,16,21,216,194,189,149,125,83,217,169,233,219,265,226]))),wmts:()=>Yt().then(()=>te(()=>import("./WMTSLayerView2D-BBU9Jb45.js"),__vite__mapDeps([266,215,216,196,197,194,189,145,15,190,149,125,83,195,71,72,43,101,132,131,87,20,14,16,21,211,217,169,219]))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};function awe(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new z(`${i}:view-not-supported`,`${t} is not supported in 2D`)}const k8={hasLayerViewModule:e=>D8[e.type]!=null,importLayerView:e=>{const t=D8[e.type];if(t==null)throw awe(e);return t(e)}};let Ac=class Hd{static getId(t,i,r,s){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${i}/${r}/${s}`}constructor(t,i,r,s){this.set(t,i,r,s)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(t){this.set(t)}get hash(){const t=4095&this.row,i=4095&this.col,r=63&this.level;return(3&this.world)<<30|i<<22|t<<8|r}acquire(t,i,r,s){this.set(t,i,r,s)}contains(t){const i=t.level-this.level;return i>=0&&this.row===t.row>>i&&this.col===t.col>>i&&this.world===t.world}containsChild(t){const i=t.level-this.level;return i>0&&this.row===t.row>>i&&this.col===t.col>>i&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Hd(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,i,r,s){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[n,o,c,d]=t.split("/");this.level=parseFloat(n),this.row=parseFloat(o),this.col=parseFloat(c),this.world=parseFloat(d)}else this.level=+t,this.row=+i,this.col=+r,this.world=+s||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Hd(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(t,i,r){const s=this.clone();return s.col+=t,s.row+=i,r.normalizeKey(s),s}getChildKeys(){const t=this.level+1,i=this.row<<1,r=this.col<<1,s=this.world;return[new Hd(t,i,r,s),new Hd(t,i,r+1,s),new Hd(t,i+1,r,s),new Hd(t,i+1,r+1,s)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}};Ac.pool=new qh(Ac,null,null,25,50);function Yp(e,t){return[e,t]}function gd(e,t,i){return e[0]=t,e[1]=i,e}function lwe(e,t,i,r,s){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e}const eo=new Ac("0/0/0/0");let uwe=class aY{static create(t,i,r=null){const s=es(t.spatialReference),n=i.origin||Yp(t.origin.x,t.origin.y),o=Yp(t.size[0]*i.resolution,t.size[1]*i.resolution),c=Yp(-1/0,-1/0),d=Yp(1/0,1/0),f=Yp(1/0,1/0);r!=null&&(gd(c,Math.max(0,Math.floor((r.xmin-n[0])/o[0])),Math.max(0,Math.floor((n[1]-r.ymax)/o[1]))),gd(d,Math.max(0,Math.floor((r.xmax-n[0])/o[0])),Math.max(0,Math.floor((n[1]-r.ymin)/o[1]))),gd(f,d[0]-c[0]+1,d[1]-c[1]+1));const{cols:g,rows:v}=i;let _,S,T,E;return!r&&g&&v&&(gd(c,g[0],v[0]),gd(d,g[1],v[1]),gd(f,g[1]-g[0]+1,v[1]-v[0]+1)),t.isWrappable?(_=Yp(Math.ceil(Math.round((s.valid[1]-s.valid[0])/i.resolution)/t.size[0]),f[1]),S=!0,T=s.origin,E=s.valid):(_=f,S=!1),new aY(i.level,i.resolution,i.scale,n,c,d,f,o,_,S,T,E)}constructor(t,i,r,s,n,o,c,d,f,g,v,_){this.level=t,this.resolution=i,this.scale=r,this.origin=s,this.first=n,this.last=o,this.size=c,this.norm=d,this.worldSize=f,this.wrap=g,this._spatialReferenceOrigin=v,this._spatialReferenceValid=_}normalizeCol(t){if(!this.wrap)return t;const i=this.worldSize[0];return t<0?i-1-Math.abs((t+1)%i):t%i}normalizeKey(t){if(!this.wrap)return;const i=this.worldSize[0],r=t.col;r<0?(t.col=r+i,t.world-=1):r>=i&&(t.col=r-i,t.world+=1)}denormalizeCol(t,i){return this.wrap?this.worldSize[0]*i+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){const i=this.origin[0]+t*this.norm[0],r=this._spatialReferenceOrigin,s=this._spatialReferenceValid;return this.wrap&&r&&s?i===r[0]?s[0]:this.origin[0]===r[0]&&t===this.worldSize[0]?s[1]:i:i}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,i,r=!1){eo.set(i);const s=r?eo.col:this.denormalizeCol(eo.col,eo.world),n=eo.row;return lwe(t,this.getXForColumn(s),this.getYForRow(n+1),this.getXForColumn(s+1),this.getYForRow(n)),t}getTileCoords(t,i,r=!1){eo.set(i);const s=r?eo.col:this.denormalizeCol(eo.col,eo.world);return Array.isArray(t)?gd(t,this.getXForColumn(s),this.getYForRow(eo.row)):(t.x=this.getXForColumn(s),t.y=this.getYForRow(eo.row)),t}},Qv=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}*keys(){const t=this.lodInfo;for(const{row:i,colFrom:r,colTo:s}of this.spans)for(let n=r;n<=s;n++){const o=t.getWorldForColumn(n);yield new Ac(t.level,i,t.normalizeCol(n),o)}}forEach(t,i){const{spans:r,lodInfo:s}=this,{level:n}=s;if(r.length!==0)for(const{row:o,colFrom:c,colTo:d}of r)for(let f=c;f<=d;f++)t.call(i,n,o,s.normalizeCol(f),s.getWorldForColumn(f))}};Qv.pool=new qh(Qv);let GM=class{constructor(t,i,r){this.row=t,this.colFrom=i,this.colTo=r}};const Xt=new Ac("0/0/0/0");let cwe=class lY{static create(t,i){t[1]>i[1]&&([t,i]=[i,t]);const[r,s]=t,[n,o]=i,c=n-r,d=o-s,f=d!==0?c/d:0,g=(Math.ceil(s)-s)*f,v=(Math.floor(s)-s)*f;return new lY(r,Math.floor(s),Math.ceil(o),f,c<0?g:v,c<0?v:g,c<0?n:r,c<0?r:n)}constructor(t,i,r,s,n,o,c,d){this.x=t,this.ymin=i,this.ymax=r,this.invM=s,this.leftAdjust=n,this.rightAdjust=o,this.leftBound=c,this.rightBound=d}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Ds=[[0,0],[0,0],[0,0],[0,0]],dwe=1e-6;let hwe=class{constructor(t,i=null,r=t.lods[0].level,s=t.lods[t.lods.length-1].level){this.tileInfo=t,this.fullExtent=i,this.scales=[],this._infoByScale={},this._infoByLevel={};const n=t.lods.filter(c=>c.level>=r&&c.level<=s);this.minScale=n[0].scale,this.maxScale=n[n.length-1].scale;const o=this._lodInfos=n.map(c=>uwe.create(t,c,i));n.forEach((c,d)=>{this._infoByLevel[c.level]=o[d],this._infoByScale[c.scale]=o[d],this.scales[d]=c.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,i,r=!1){Xt.set(i);const s=this._infoByLevel[Xt.level];return s?s.getTileBounds(t,Xt,r):t}getTileCoords(t,i,r=!1){Xt.set(i);const s=this._infoByLevel[Xt.level];return s?s.getTileCoords(t,Xt,r):t}getTileCoverage(t,i=192,r=!0,s="closest"){if(!r&&(t.scale>this.minScale||t.scale<this.maxScale))return null;const n=s==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),o=Qv.pool.acquire(n),c=this._wrap;let d,f,g,v=1/0,_=-1/0;const S=o.spans;Ds[0][0]=Ds[0][1]=Ds[1][1]=Ds[3][0]=-i,Ds[1][0]=Ds[2][0]=t.size[0]+i,Ds[2][1]=Ds[3][1]=t.size[1]+i;for(const C of Ds)t.toMap(C,C),C[0]=n.getColumnForX(C[0]),C[1]=n.getRowForY(C[1]);const T=[];let E=3;for(let C=0;C<4;C++){if(Ds[C][1]===Ds[E][1]){E=C;continue}const L=cwe.create(Ds[C],Ds[E]);v=Math.min(L.ymin,v),_=Math.max(L.ymax,_),T[L.ymin]===void 0&&(T[L.ymin]=[]),T[L.ymin].push(L),E=C}if(v==null||_==null||_-v>100)return null;let M=[];for(d=v;d<_;){T[d]!=null&&(M=M.concat(T[d])),f=1/0,g=-1/0;for(let C=M.length-1;C>=0;C--){const L=M[C];f=Math.min(f,L.getLeftCol()),g=Math.max(g,L.getRightCol())}if(f=Math.floor(f),g=Math.floor(g),d>=n.first[1]&&d<=n.last[1])if(c)if(n.size[0]<n.worldSize[0]){const C=Math.floor(g/n.worldSize[0]);for(let L=Math.floor(f/n.worldSize[0]);L<=C;L++)S.push(new GM(d,Math.max(n.getFirstColumnForWorld(L),f),Math.min(n.getLastColumnForWorld(L),g)))}else S.push(new GM(d,f,g));else f>n.last[0]||g<n.first[0]||(f=Math.max(f,n.first[0]),g=Math.min(g,n.last[0]),S.push(new GM(d,f,g)));d+=1;for(let C=M.length-1;C>=0;C--){const L=M[C];L.ymax>=d?L.incrRow():M.splice(C,1)}}return o}getTileParentId(t){Xt.set(t);const i=this._infoByLevel[Xt.level],r=this._lodInfos.indexOf(i)-1;return r<0?null:(this._getTileIdAtLOD(Xt,this._lodInfos[r],Xt),Xt.id)}getTileResolution(t){const i=this._infoByLevel[typeof t=="object"?t.level:t];return i?i.resolution:-1}getTileScale(t){const i=this._infoByLevel[t.level];return i?i.scale:-1}intersects(t,i){Xt.set(i);const r=this._infoByLevel[Xt.level],s=t.lodInfo;if(s.resolution>r.resolution){this._getTileIdAtLOD(Xt,s,Xt);const o=s.denormalizeCol(Xt.col,Xt.world);for(const c of t.spans)if(c.row===Xt.row&&c.colFrom<=o&&c.colTo>=o)return!0}if(s.resolution<r.resolution){const[o,c,d,f]=t.spans.reduce((E,M)=>(E[0]=Math.min(E[0],M.row),E[1]=Math.max(E[1],M.row),E[2]=Math.min(E[2],M.colFrom),E[3]=Math.max(E[3],M.colTo),E),[1/0,-1/0,1/0,-1/0]),g=r.denormalizeCol(Xt.col,Xt.world),v=s.getColumnForX(r.getXForColumn(g)),_=s.getRowForY(r.getYForRow(Xt.row)),S=s.getColumnForX(r.getXForColumn(g+1))-1,T=s.getRowForY(r.getYForRow(Xt.row+1))-1;return!(v>f||S<d||_>c||T<o)}const n=s.denormalizeCol(Xt.col,Xt.world);return t.spans.some(o=>o.row===Xt.row&&o.colFrom<=n&&o.colTo>=n)}normalizeBounds(t,i,r){if(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],this._wrap){const s=es(this.tileInfo.spatialReference),n=-r*(s.valid[1]-s.valid[0]);t[0]+=n,t[2]+=n}return t}getSmallestInfoForScale(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>i[0])return this._infoByScale[i[0]];for(let r=1;r<i.length-1;r++)if(t>i[r]+dwe)return this._infoByScale[i[r-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(t){const i=this.scales;return this._infoByScale[t]||(t=i.reduce((r,s)=>Math.abs(s-t)<Math.abs(r-t)?s:r,i[0])),this._infoByScale[t]}scaleToLevel(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let r=i.length-1;r>=0;r--)if(t<i[r])return r===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[r]].level+(i[r]-t)/(i[r]-i[r+1]);return this._infoByScale[i[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}zoomToScale(t){return this.tileInfo.zoomToScale(t)}_getTileIdAtLOD(t,i,r){const s=this._infoByLevel[r.level];return t.set(r),i.resolution<s.resolution?null:(i.resolution===s.resolution||(t.level=i.level,t.col=Math.floor(r.col*s.resolution/i.resolution+.01),t.row=Math.floor(r.row*s.resolution/i.resolution+.01)),t)}},pwe=class{constructor(t,i){this.item=t,this.controller=i,this.promise=null}},fwe=class{constructor(t){this._schedule=null,this._task=null,this._deferreds=new mm,this._controllers=new mm,this._processingItems=new mm,this._pausedSignal=km(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new f2(t.peeker),this.process=t.process;const i=t.scheduler;t.priority&&i&&(this._task=i.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=ri(this._schedule),this._task=ri(this._task)}get updating(){var t;return!!((t=this._task)!=null&&t.updating)||this.running}get length(){return this._processingItems.size+this._queue.length}abort(t){const i=this._controllers.get(t);i&&i.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(i=>t.push(i)),this._controllers.clear(),t.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((i,r)=>t(r))}get(t){const i=this._deferreds.get(t);return i?i.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,i){const r=this.get(t);if(r)return r;const s=new AbortController;let n=null;i&&(n=In(i,()=>s.abort()));const o=()=>{const g=this._processingItems.get(t);g&&g.controller.abort(),c(),f.reject(Bt())},c=()=>{d.remove(),n!=null&&n.remove(),this._removeItem(t),this._queue.remove(t),this._scheduleNext()},d=$R(s.signal,o),f=en();return this._deferreds.set(t,f),this._controllers.set(t,s),f.promise.then(c,c),this._queue.push(t),this._scheduleNext(),f.promise}last(){return this._queue.last()}lastPromise(){const t=this.last();return t?this.get(t):null}peek(){return this._queue.peek()}popLast(){var i;const t=this._queue.popLast();return t&&((i=this._deferreds.get(t))==null||i.reject(Bt()),this._removeItem(t)),t}reset(){const t=Array.from(this._processingItems.values());this._processingItems.clear();for(const i of t)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_removeItem(t){this._deferreds.delete(t),this._controllers.delete(t),this._processingItems.delete(t)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=y1(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(i))}_processError(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(i))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(t==null)return;let i;const r=new AbortController,s=new pwe(t,r);this._processingItems.set(t,s);try{i=this.process(t,r.signal)}catch(n){this._processError(s,n)}ba(i)?(s.promise=i,i.then(n=>this._processResult(s,n),n=>this._processError(s,n))):this._processResult(s,i)}get test(){}};const F8=[0,0];let rl=class extends Te{constructor(t){super(t),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:t,process:i,scheduler:r,priority:s}=this;this._queue=new fwe({concurrency:t,scheduler:r,priority:s,process:(n,o)=>{const c=this._keyToItem.get(n);return i(c,{signal:o})},peeker:n=>this._peek(n)})}destroy(){this.clear(),this._queue=Gt(this._queue)}get length(){return this._queue?this._queue.length:0}abort(t){const i=typeof t=="string"?t:t.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}pause(){this._queue.pause()}push(t){const i=t.key.id;if(this._queue.has(i))return this._queue.get(i);const r=this._queue.push(i),s=this.tileInfoView.getTileScale(t.key),n=l1(this._tilesByScale,s,()=>new Set),o=()=>{n.delete(t.key),n.size===0&&this._tilesByScale.delete(s),this._keyToItem.delete(i)};return n.add(t.key),this._keyToItem.set(i,t),r.then(o,o),r}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(t){if(!this.state)return t.values().next().value;const i=new Set;for(const o of t)i.add(this._keyToItem.get(o).key);const r=this.state.scale;let s,n=Number.POSITIVE_INFINITY;for(const[o,c]of this._tilesByScale)if(t7(c,d=>i.has(d))){const d=Math.abs(o-r);d<n&&(s=c,n=d)}return this._getClosestTileKey(s,t).id}_getClosestTileKey(t,i){const r=this.tileInfoView,s=this.state.center;let n,o=Number.POSITIVE_INFINITY;for(const c of t)if(i.has(c.id)){r.getTileCoords(F8,c);const d=QT(F8,s);d<o&&(o=d,n=c)}return n}};u([h({constructOnly:!0})],rl.prototype,"concurrency",void 0),u([h({constructOnly:!0})],rl.prototype,"priority",void 0),u([h({constructOnly:!0})],rl.prototype,"process",void 0),u([h({constructOnly:!0})],rl.prototype,"scheduler",void 0),u([h()],rl.prototype,"state",void 0),u([h({constructOnly:!0})],rl.prototype,"tileInfoView",void 0),rl=u([A("esri.views.2d.tiling.TileQueue")],rl);const ZPe=rl;let mwe=class{constructor(t,i,r){this.maxSize=t,this._tileInfoView=i,this._removedFunc=r,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const i=this._tilePerId.get(t);if(!i)return;const r=i.key.level,s=this._tileKeysPerLevel[r];j8(this._tilePerId,t);for(let n=0;n<s.length;n++)if(s[n].id===t){s.splice(n,1);break}return i.visible=!0,i}add(t){t.visible=!1;const i=t.key,r=i.id;if(this._tilePerId.has(r))return;this._tilePerId.set(r,t);const s=i.level;this._tileKeysPerLevel[s]||(this._tileKeysPerLevel[s]=[]),this._tileKeysPerLevel[s].push(i)}prune(t,i,r){let s=this._tilePerId.size;if(s<=this.maxSize)return;let n=this._tileKeysPerLevel.length-1;for(;s>this.maxSize&&n>=0;)n!==t&&(s=this._pruneAroundCenterTile(s,i,r,n)),n--;s>this.maxSize&&(s=this._pruneAroundCenterTile(s,i,r,t))}_pruneAroundCenterTile(t,i,r,s){const n=this._tileKeysPerLevel[s];if(!n||n.length===0)return t;const{size:o,origin:c}=this._tileInfoView.tileInfo,d=r*o[0],f=r*o[1],g=[0,0],v=[0,0];for(n.sort((_,S)=>(g[0]=c.x+d*(_.col+.5),g[1]=c.y-f*(_.row+.5),v[0]=c.x+d*(S.col+.5),v[1]=c.y-f*(S.row+.5),N2(g,i)-N2(v,i)));n.length>0;){const _=n.pop();if(this._removeTile(_.id),--t===this.maxSize)break}return t}_removeTile(t){const i=this._tilePerId.get(t);this._removedFunc&&i&&this._removedFunc(i),j8(this._tilePerId,t)}};function j8(e,t){e.delete(t)}const vd=new Ac(0,0,0,0),za=new Map,Ng=[],qM=[];let JPe=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,t.resampling!=null&&(this.resampling=t.resampling),t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new mwe(t.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(t){var C,L;const{resampling:i,tileIndex:r}=this,{scale:s,center:n,resolution:o}=t.state,{minScale:c,maxScale:d}=this.tileInfoView,f=!t.stationary&&s>this._previousScale;if(this._previousScale=s,!i&&(s>c||s<d))return this.tiles.length=0,void this.clear();const g=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.resampling,this.coveragePolicy);if(!g)return this.tiles.length=0,void this.clear();const{spans:v,lodInfo:_}=g,{level:S}=_;this.tiles.length=0,r.forEach(N=>N.visible=!0);let T=0,E=0;if(v.length>0)for(const{row:N,colFrom:P,colTo:U}of v)for(let W=P;W<=U;W++){T++;const re=vd.set(S,N,_.normalizeCol(W),_.getWorldForColumn(W)).id;let ae=r.get(re);if(ae)ae.isReady?(za.set(re,ae),E++):f||this._addParentTile(re,za);else{if((C=this._tileCache)!=null&&C.has(re)){if(ae=this._tileCache.pop(re),this.tileIndex.set(re,ae),ae.isReady){za.set(re,ae),E++;continue}}else ae=this.acquireTile(vd),this.tileIndex.set(re,ae);f||this._addParentTile(re,za)}}const M=E===T;for(const[N,P]of r){if(za.has(N))continue;vd.set(N);const U=this.tileInfoView.intersects(g,vd),W=this.cachePolicy==="purge"?vd.level!==S:vd.level>S;!U||!f&&M?!W&&U||Ng.push(P):P.isReady?W&&this.cachePolicy==="purge"&&this._hasReadyAncestor(vd,S)?Ng.push(P):qM.push(P):W&&Ng.push(P)}for(const N of qM)N.isReady&&za.set(N.key.id,N);for(const N of Ng)this._tileCache?this._tileCache.add(N):this.releaseTile(N),r.delete(N.key.id);for(const N of za.values())this.tiles.push(N);for(const N of r.values())za.has(N.key.id)||(N.visible=!1);(L=this._tileCache)==null||L.prune(S,n,o),Qv.pool.release(g),qM.length=0,Ng.length=0,za.clear()}clear(){const{tileIndex:t}=this;for(const i of t.values())this.releaseTile(i);t.clear()}refresh(t){var i;for(const r of this.tileIndex.values())t(r);(i=this._tileCache)==null||i.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,i){var n;let r=t,s=null;for(;r=this.tileInfoView.getTileParentId(r),r;)if(this.tileIndex.has(r)){if(s=this.tileIndex.get(r),s==null?void 0:s.isReady){i.has(s.key.id)||i.set(s.key.id,s);break}}else if((n=this._tileCache)!=null&&n.has(r)&&(s=this._tileCache.pop(r),this.tileIndex.set(r,s),s==null?void 0:s.isReady)){i.has(s.key.id)||i.set(s.key.id,s);break}}_hasReadyAncestor(t,i){const r=Kr();this.tileInfoView.getTileBounds(r,t,!0);for(const s of this.tileIndex.values())if(s.isReady&&s.key.level>=i&&s.key.level<t.level){const n=Kr();if(this.tileInfoView.getTileBounds(n,s.key,!0),rae(n,r))return!0}return!1}};function ywe(e,t,i,r,s){uY(e,t,i||0,r||e.length-1,s||gwe)}function uY(e,t,i,r,s){for(;r>i;){if(r-i>600){var n=r-i+1,o=t-i+1,c=Math.log(n),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(n-d)/n)*(o-n/2<0?-1:1);uY(e,t,Math.max(i,Math.floor(t-o*d/n+f)),Math.min(r,Math.floor(t+(n-o)*d/n+f)),s)}var g=e[t],v=i,_=r;for(Pg(e,i,t),s(e[r],g)>0&&Pg(e,i,r);v<_;){for(Pg(e,v,_),v++,_--;s(e[v],g)<0;)v++;for(;s(e[_],g)>0;)_--}s(e[i],g)===0?Pg(e,i,_):Pg(e,++_,r),_<=t&&(i=_+1),t<=_&&(r=_-1)}}function Pg(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function gwe(e,t){return e<t?-1:e>t?1:0}function j2(e,t){if(!(this instanceof j2))return new j2(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function vwe(e,t,i){if(!i)return t.indexOf(e);for(var r=0;r<t.length;r++)if(i(e,t[r]))return r;return-1}function Jp(e,t){L0(e,0,e.children.length,t,e)}function L0(e,t,i,r,s){s||(s=Tf(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(var n,o=t;o<i;o++)n=e.children[o],N0(s,e.leaf?r(n):n);return s}function N0(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function U8(e,t){return e.minX-t.minX}function z8(e,t){return e.minY-t.minY}function BM(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function B_(e){return e.maxX-e.minX+(e.maxY-e.minY)}function bwe(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function _we(e,t){var i=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),s=Math.min(e.maxX,t.maxX),n=Math.min(e.maxY,t.maxY);return Math.max(0,s-i)*Math.max(0,n-r)}function HM(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function H_(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Tf(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function V8(e,t,i,r,s){for(var n,o=[t,i];o.length;)(i=o.pop())-(t=o.pop())<=r||(n=t+Math.ceil((i-t)/r/2)*r,ywe(e,n,t,i,s),o.push(t,n,n,i))}j2.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],r=this.toBBox;if(!H_(e,t))return i;for(var s,n,o,c,d=[];t;){for(s=0,n=t.children.length;s<n;s++)o=t.children[s],H_(e,c=t.leaf?r(o):o)&&(t.leaf?i.push(o):HM(e,c)?this._all(o,i):d.push(o));t=d.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!H_(e,t))return!1;for(var r,s,n,o,c=[];t;){for(r=0,s=t.children.length;r<s;r++)if(n=t.children[r],H_(e,o=t.leaf?i(n):n)){if(t.leaf||HM(e,o))return!0;c.push(n)}t=c.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var s=this.data;this.data=r,r=s}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e!=null&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=Tf([]),this},remove:function(e,t){if(e==null)return this;for(var i,r,s,n,o=this.data,c=this.toBBox(e),d=[],f=[];o||d.length;){if(o||(o=d.pop(),r=d[d.length-1],i=f.pop(),n=!0),o.leaf&&(s=vwe(e,o.children,t))!==-1)return o.children.splice(s,1),d.push(o),this._condense(d),this;n||o.leaf||!HM(o,c)?r?(i++,o=r.children[i],n=!1):o=null:(d.push(o),f.push(i),i=0,r=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:U8,compareMinY:z8,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,r){var s,n=i-t+1,o=this._maxEntries;if(n<=o)return Jp(s=Tf(e.slice(t,i+1)),this.toBBox),s;r||(r=Math.ceil(Math.log(n)/Math.log(o)),o=Math.ceil(n/Math.pow(o,r-1))),(s=Tf([])).leaf=!1,s.height=r;var c,d,f,g,v=Math.ceil(n/o),_=v*Math.ceil(Math.sqrt(o));for(V8(e,t,i,_,this.compareMinX),c=t;c<=i;c+=_)for(V8(e,c,f=Math.min(c+_-1,i),v,this.compareMinY),d=c;d<=f;d+=v)g=Math.min(d+v-1,f),s.children.push(this._build(e,d,g,r-1));return Jp(s,this.toBBox),s},_chooseSubtree:function(e,t,i,r){for(var s,n,o,c,d,f,g,v;r.push(t),!t.leaf&&r.length-1!==i;){for(g=v=1/0,s=0,n=t.children.length;s<n;s++)d=BM(o=t.children[s]),(f=bwe(e,o)-d)<v?(v=f,g=d<g?d:g,c=o):f===v&&d<g&&(g=d,c=o);t=c||t.children[0]}return t},_insert:function(e,t,i){var r=this.toBBox,s=i?e:r(e),n=[],o=this._chooseSubtree(s,this.data,t,n);for(o.children.push(e),N0(o,s);t>=0&&n[t].children.length>this._maxEntries;)this._split(n,t),t--;this._adjustParentBBoxes(s,n,t)},_split:function(e,t){var i=e[t],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);var n=this._chooseSplitIndex(i,s,r),o=Tf(i.children.splice(n,i.children.length-n));o.height=i.height,o.leaf=i.leaf,Jp(i,this.toBBox),Jp(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(e,t){this.data=Tf([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Jp(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var r,s,n,o,c,d,f,g;for(d=f=1/0,r=t;r<=i-t;r++)o=_we(s=L0(e,0,r,this.toBBox),n=L0(e,r,i,this.toBBox)),c=BM(s)+BM(n),o<d?(d=o,g=r,f=c<f?c:f):o===d&&c<f&&(f=c,g=r);return g},_chooseSplitAxis:function(e,t,i){var r=e.leaf?this.compareMinX:U8,s=e.leaf?this.compareMinY:z8;this._allDistMargin(e,t,i,r)<this._allDistMargin(e,t,i,s)&&e.children.sort(r)},_allDistMargin:function(e,t,i,r){e.children.sort(r);var s,n,o=this.toBBox,c=L0(e,0,t,o),d=L0(e,i-t,i,o),f=B_(c)+B_(d);for(s=t;s<i-t;s++)n=e.children[s],N0(c,e.leaf?o(n):n),f+=B_(c);for(s=i-t-1;s>=t;s--)n=e.children[s],N0(d,e.leaf?o(n):n),f+=B_(d);return f},_adjustParentBBoxes:function(e,t,i){for(var r=i;r>=0;r--)N0(t[r],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)e[i].children.length===0?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():Jp(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};function wwe(e,{timeZone:t,timeExtent:i}){return{$view:{scale:e,timeZone:t,timeProperties:{currentStart:i==null?void 0:i.start,currentEnd:i==null?void 0:i.end}}}}let G8=class cY{constructor(t,i){this.key=new Ac(0,0,0,0),this.bounds=Kr(),this.objectIds=new Set,this.key.set(i);const r=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=r.resolution,this.level=r.level,this.scale=r.scale,this.minScale=t.zoomToScale(r.level-1),this.maxScale=t.zoomToScale(r.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return tae(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(t){return wwe(this.scale,t)}createChildTiles(){const t=this.key.getChildKeys(),i=Qr.acquire();for(let r=0;r<t.length;r++)i[r]=new cY(this.tileInfoView,t[r]);return i}getQuantizationParameters(){return NW.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const bd={added:[],removed:[]},WM=new Set,Swe=new Ac(0,0,0,0);function Twe(e,t){const i=es(t);if(!i)return null;const[r,s]=i.valid;return e[2]>s?[Kr([e[0],e[1],s,e[3]]),Kr([r,e[1],r+e[2]-s,e[3]])]:e[0]<r?[Kr([r,e[1],e[2],e[3]]),Kr([s-(r-e[0]),e[1],s,e[3]])]:null}let Ewe=class extends Dn{constructor(t){super(),this._tiles=new Map,this._index=j2(9,B("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||JR(t)===0||XR(t)===0)return[];const i=Twe(t,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const i={added:[],removed:[]};for(const r of t.added)if(!this.has(r)){const s=new G8(this.tileScheme,r);this._tiles.set(r,s),this._index.insert(s),i.added.push(s)}for(const r of t.removed)if(this.has(r)){const s=this.get(r);this._tiles.delete(r),this._index.remove(s),i.removed.push(s)}this.tiles.length=0,this._tiles.forEach(r=>this.tiles.push(r)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(t){const i=this.tileScheme.getTileCoverage(t,0);if(!i)return;const{spans:r,lodInfo:s}=i,{level:n}=s;if(r.length>0)for(const{row:o,colFrom:c,colTo:d}of r)for(let f=c;f<=d;f++){const g=Swe.set(n,o,s.normalizeCol(f),s.getWorldForColumn(f)).id;if(WM.add(g),!this.has(g)){const v=new G8(this.tileScheme,g);this._tiles.set(g,v),this._index.insert(v),this.tiles.push(v),bd.added.push(v)}}for(let o=this.tiles.length-1;o>=0;o--){const c=this.tiles[o];WM.has(c.id)||(this._tiles.delete(c.id),this.tiles.splice(o,1),this._index.remove(c),bd.removed.push(c))}(bd.added.length||bd.removed.length)&&this.emit("update",bd),Qv.pool.release(i),WM.clear(),bd.added.length=0,bd.removed.length=0}};const KPe=1e-30,q8=512,W_=16777216,eDe=8,tDe=29,iDe=24,rDe=4,sDe=0,nDe=0,oDe=0,aDe=1,lDe=2,uDe=3,cDe=4,dDe=5,hDe=6,pDe=12,fDe=13,mDe=5,$we=6,yDe=5,gDe=6;var B8;(function(e){e[e.FilterFlags=0]="FilterFlags",e[e.Animation=1]="Animation",e[e.GPGPU=2]="GPGPU",e[e.VV=3]="VV",e[e.DD0=4]="DD0",e[e.DD1=5]="DD1",e[e.DD2=6]="DD2",e[e.LocalTimeOrigin=7]="LocalTimeOrigin"})(B8||(B8={}));const dY=6,xwe=1<<dY,vDe=xwe<<1,bDe=1.05,_De=3,wDe=1,SDe=3,TDe=3,EDe=5,$De=6,xDe=1.15,Mwe=4,MDe=128,Awe=256,ADe=Awe-2*Mwe,ODe=2,CDe=128,IDe=1,RDe=10,LDe=1024,NDe=128,PDe=4,DDe=1,kDe=1<<20,FDe=.75,jDe=10,UDe=.75,zDe=256,VDe=32,GDe=512,qDe=0,BDe=1,Owe=1,HDe=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],WDe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Dg=256;var H8,W8,Z8,Y8,LC,J8,X8,na,NC,Sv,Wi,U2,An,Jt,Oe,Kv,yl,Q8,K8,ej;(function(e){e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e[e.COLOR=16384]="COLOR"})(H8||(H8={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(W8||(W8={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(Z8||(Z8={})),function(e){e[e.ADD=32774]="ADD",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(Y8||(Y8={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(LC||(LC={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(J8||(J8={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(X8||(X8={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=5131]="HALF_FLOAT"}(na||(na={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(NC||(NC={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(Sv||(Sv={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(Wi||(Wi={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(U2||(U2={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(An||(An={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(Jt||(Jt={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(Oe||(Oe={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(Kv||(Kv={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(yl||(yl={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(Q8||(Q8={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(K8||(K8={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(ej||(ej={}));const ZDe=33984;var z2,tj,ij;(function(e){e[e.Texture=0]="Texture",e[e.BufferObject=1]="BufferObject",e[e.VertexArrayObject=2]="VertexArrayObject",e[e.Shader=3]="Shader",e[e.Program=4]="Program",e[e.FramebufferObject=5]="FramebufferObject",e[e.Renderbuffer=6]="Renderbuffer",e[e.TransformFeedback=7]="TransformFeedback",e[e.Sync=8]="Sync",e[e.UNCOUNTED=9]="UNCOUNTED",e[e.LinesOfCode=9]="LinesOfCode",e[e.Uniform=10]="Uniform",e[e.COUNT=11]="COUNT"})(z2||(z2={})),function(e){e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(tj||(tj={})),function(e){e[e.NONE=0]="NONE",e[e.BACK=1029]="BACK"}(ij||(ij={}));const YDe=33306;var nr,rj,sj,nj,oj,aj,lj;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(nr||(nr={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(rj||(rj={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(sj||(sj={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(nj||(nj={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(oj||(oj={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(aj||(aj={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(lj||(lj={}));const Cwe=()=>ne.getLogger("esri.views.webgl.checkWebGLError");function Iwe(e,t){switch(t){case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const hY=!!B("enable-feature:webgl-debug");function pY(){return hY}function JDe(){return hY}function Xp(e){if(pY()){const t=e.getError();if(t){const i=Iwe(e,t),r=new Error().stack;Cwe().error(new z("webgl-error","WebGL error occurred",{message:i,stack:r}))}}}var PC;(function(e){e[e.Texture=0]="Texture",e[e.RenderBuffer=1]="RenderBuffer"})(PC||(PC={}));function Rwe(e){switch(e){case na.BYTE:case na.UNSIGNED_BYTE:return 1;case na.SHORT:case na.UNSIGNED_SHORT:case na.HALF_FLOAT:return 2;case na.FLOAT:case na.INT:case na.UNSIGNED_INT:return 4}}function Lwe(e){const t=e.gl;switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case t.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case t.INVALID_OPERATION:return"The specified command is not allowed for the current state";case t.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case t.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case t.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function XDe(e,t,i,r,s=0){var o;const n=e.gl;e.bindBuffer(i);for(const c of r){const d=t.get(c.name);if(d==null){console.warn(`There is no location for vertex attribute '${c.name}' defined.`);continue}const f=s*c.stride;if(c.count<=4)n.vertexAttribPointer(d,c.count,c.type,c.normalized,c.stride,c.offset+f),n.enableVertexAttribArray(d),c.divisor>0&&e.gl.vertexAttribDivisor(d,c.divisor);else if(c.count===9)for(let g=0;g<3;g++)n.vertexAttribPointer(d+g,3,c.type,c.normalized,c.stride,c.offset+12*g+f),n.enableVertexAttribArray(d+g),c.divisor>0&&e.gl.vertexAttribDivisor(d+g,c.divisor);else if(c.count===16)for(let g=0;g<4;g++)n.vertexAttribPointer(d+g,4,c.type,c.normalized,c.stride,c.offset+16*g+f),n.enableVertexAttribArray(d+g),c.divisor>0&&((o=e.gl)==null||o.vertexAttribDivisor(d+g,c.divisor));else console.error("Unsupported vertex attribute element count: "+c.count);if(pY()){const g=Lwe(e),v=Rwe(c.type),_=c.offset,S=Math.round(v/_)!==v/_?`. Offset not a multiple of stride. DataType requires ${v} bytes, but descriptor has an offset of ${_}`:"";g&&console.error(`Unable to bind vertex attribute "${c.name}" with baseInstanceOffset ${f}${S}:`,g,c)}}}function QDe(e,t,i,r){var n,o,c;const s=e.gl;e.bindBuffer(i);for(const d of r){const f=t.get(d.name);if(d.count<=4)s.disableVertexAttribArray(f),d.divisor&&d.divisor>0&&((n=e.gl)==null||n.vertexAttribDivisor(f,0));else if(d.count===9)for(let g=0;g<3;g++)s.disableVertexAttribArray(f+g),d.divisor&&d.divisor>0&&((o=e.gl)==null||o.vertexAttribDivisor(f+g,0));else if(d.count===16)for(let g=0;g<4;g++)s.disableVertexAttribArray(f+g),d.divisor&&d.divisor>0&&((c=e.gl)==null||c.vertexAttribDivisor(f+g,0));else console.error("Unsupported vertex attribute element count: "+d.count)}e.unbindBuffer(LC.ARRAY_BUFFER)}function Nwe(e){switch(e){case Jt.ALPHA:case Jt.LUMINANCE:case Jt.RED:case Jt.RED_INTEGER:case Oe.R8:case Oe.R8I:case Oe.R8UI:case Oe.R8_SNORM:case yl.STENCIL_INDEX8:return 1;case Jt.LUMINANCE_ALPHA:case Jt.RG:case Jt.RG_INTEGER:case Oe.RGBA4:case Oe.R16F:case Oe.R16I:case Oe.R16UI:case Oe.RG8:case Oe.RG8I:case Oe.RG8UI:case Oe.RG8_SNORM:case Oe.RGB565:case Oe.RGB5_A1:case yl.DEPTH_COMPONENT16:return 2;case Jt.DEPTH_COMPONENT:case Jt.RGB:case Jt.RGB_INTEGER:case Oe.RGB8:case Oe.RGB8I:case Oe.RGB8UI:case Oe.RGB8_SNORM:case Oe.SRGB8:case yl.DEPTH_COMPONENT24:return 3;case Jt.DEPTH_STENCIL:case Jt.DEPTH24_STENCIL8:case Jt.RGBA:case Jt.RGBA_INTEGER:case Oe.RGBA8:case Oe.R32F:case Oe.R11F_G11F_B10F:case Oe.RG16F:case Oe.R32I:case Oe.R32UI:case Oe.RG16I:case Oe.RG16UI:case Oe.RGBA8I:case Oe.RGBA8UI:case Oe.RGBA8_SNORM:case Oe.SRGB8_ALPHA8:case Oe.RGB9_E5:case Oe.RGB10_A2UI:case Oe.RGB10_A2:case yl.DEPTH_STENCIL:case yl.DEPTH_COMPONENT32F:case yl.DEPTH24_STENCIL8:return 4;case yl.DEPTH32F_STENCIL8:return 5;case Oe.RGB16F:case Oe.RGB16I:case Oe.RGB16UI:return 6;case Oe.RG32F:case Oe.RG32I:case Oe.RG32UI:case Oe.RGBA16F:case Oe.RGBA16I:case Oe.RGBA16UI:return 8;case Oe.RGB32F:case Oe.RGB32I:case Oe.RGB32UI:return 12;case Oe.RGBA32F:case Oe.RGBA32I:case Oe.RGBA32UI:return 16;case nr.COMPRESSED_RGB_S3TC_DXT1_EXT:case nr.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case nr.COMPRESSED_RGBA_S3TC_DXT3_EXT:case nr.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case nr.COMPRESSED_R11_EAC:case nr.COMPRESSED_SIGNED_R11_EAC:case nr.COMPRESSED_RGB8_ETC2:case nr.COMPRESSED_SRGB8_ETC2:case nr.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case nr.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case nr.COMPRESSED_RG11_EAC:case nr.COMPRESSED_SIGNED_RG11_EAC:case nr.COMPRESSED_RGBA8_ETC2_EAC:case nr.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}let fY=class{constructor(t=0,i=t){this.width=t,this.height=i,this.target=An.TEXTURE_2D,this.pixelFormat=Jt.RGBA,this.dataType=Kv.UNSIGNED_BYTE,this.samplingMode=Wi.LINEAR,this.wrapMode=U2.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.shouldCompress=!1,this.depth=1,this.isImmutable=!1}};function Pwe(e){return e.width<=0||e.height<=0?0:Math.round(e.width*e.height*e.depth*(e.hasMipmap?4/3:1)*(e.internalFormat==null?4:Nwe(e.internalFormat))*(e.target===An.TEXTURE_CUBE_MAP?6:1))}const Dwe=()=>ne.getLogger("esri/views/webgl/textureUtils");function Z_(e){(e.width!=null&&e.width<0||e.height!=null&&e.height<0||e.depth!=null&&e.depth<0)&&Dwe().error("Negative dimension parameters are not allowed!")}function kwe(e){return e in Oe}function Fwe(e){return e in nr}function Ef(e){return e!=null&&"type"in e&&e.type==="compressed"}function jwe(e){return e!=null&&"byteLength"in e}function uj(e){return e!=null&&!Ef(e)&&!jwe(e)}function Qp(e){return e===An.TEXTURE_3D||e===An.TEXTURE_2D_ARRAY}function cj(e,t,i,r=1){let s=Math.max(t,i);return e===An.TEXTURE_3D&&(s=Math.max(s,r)),Math.floor(Math.log2(s))+1}function Y_(e){if(e.internalFormat!=null)return e.internalFormat===Jt.DEPTH_STENCIL?Jt.DEPTH24_STENCIL8:e.internalFormat;switch(e.dataType){case Kv.FLOAT:switch(e.pixelFormat){case Jt.RGBA:return Oe.RGBA32F;case Jt.RGB:return Oe.RGB32F;default:throw new z("Unable to derive format")}case Kv.UNSIGNED_BYTE:switch(e.pixelFormat){case Jt.RGBA:return Oe.RGBA8;case Jt.RGB:return Oe.RGB8}}return e.internalFormat=e.pixelFormat===Jt.DEPTH_STENCIL?Jt.DEPTH24_STENCIL8:e.pixelFormat}function Uwe(e){let t="width"in e?e.width:e.codedWidth,i="height"in e?e.height:e.codedHeight;return e instanceof HTMLVideoElement&&(t=e.videoWidth,i=e.videoHeight),{width:t,height:i,depth:1}}let zwe=class mY extends fY{constructor(t,i){switch(super(),this.context=t,Object.assign(this,i),this.internalFormat){case Oe.R16F:case Oe.R16I:case Oe.R16UI:case Oe.R32F:case Oe.R32I:case Oe.R32UI:case Oe.R8_SNORM:case Oe.R8:case Oe.R8I:case Oe.R8UI:this.pixelFormat=Jt.RED}}static validate(t,i){return new mY(t,i)}};const vu=()=>ne.getLogger("esri/views/webgl/Texture");let DC=class Wr{constructor(t,i=null,r=null){if(this.type=PC.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,this._compressionAbortController=km(null),"context"in t)this._descriptor=t,r=i;else{const s=zwe.validate(t,i);if(!s)throw new z("Texture descriptor invalid");this._descriptor=s}this._descriptor.target===An.TEXTURE_CUBE_MAP?this._setDataCubeMap(r):this.setData(r)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return Pwe(this._descriptor)}get cachedMemory(){return this.usedMemory}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}get isCompressing(){return this._compressionAbortController.value!==null}dispose(){this.abortCompression(),this._glName&&this._descriptor.context.instanceCounter.decrement(z2.Texture,this),this._descriptor.context.gl&&this._glName&&(this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(t,i){const r=this._descriptor;if(r.width!==t||r.height!==i){if(this._wasImmutablyAllocated)throw new z("Immutable textures can't be resized!");r.width=t,r.height=i,this._descriptor.target===An.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}enableCompression(t){this._descriptor.shouldCompress=t}setData(t){this.abortCompression(),!Ef(t)&&this._descriptor.internalFormat&&this._descriptor.internalFormat in nr&&(this._descriptor.internalFormat=void 0),this._setData(t),!Ef(t)&&this._descriptor.shouldCompress&&this._compressOnWorker(t)}updateData(t,i,r,s,n,o,c=0){o||vu().error("An attempt to use uninitialized data!"),this._glName||vu().error("An attempt to update uninitialized texture!");const d=this._descriptor;d.internalFormat=Y_(d);const{context:f,pixelFormat:g,dataType:v,target:_,isImmutable:S}=d;if(S&&!this._wasImmutablyAllocated)throw new z("Cannot update immutable texture before allocation!");const T=f.bindTexture(this,Wr.TEXTURE_UNIT_FOR_UPDATES,!0);(i<0||r<0||i+s>d.width||r+n>d.height)&&vu().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:E}=f;c&&(s&&n||vu().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),E.pixelStorei(E.UNPACK_SKIP_ROWS,c)),uj(o)?E.texSubImage2D(_,t,i,r,s,n,g,v,o):Ef(o)?E.compressedTexSubImage2D(_,t,i,r,s,n,d.internalFormat,o.levels[t]):E.texSubImage2D(_,t,i,r,s,n,g,v,o),c&&E.pixelStorei(E.UNPACK_SKIP_ROWS,0),f.bindTexture(T,Wr.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(t,i,r,s,n,o,c,d){d||vu().error("An attempt to use uninitialized data!"),this._glName||vu().error("An attempt to update an uninitialized texture!");const f=this._descriptor;f.internalFormat=Y_(f);const{context:g,pixelFormat:v,dataType:_,isImmutable:S,target:T}=f;if(S&&!this._wasImmutablyAllocated)throw new z("Cannot update immutable texture before allocation!");Qp(T)||vu().warn("Attempting to set 3D texture data on a non-3D texture");const E=g.bindTexture(this,Wr.TEXTURE_UNIT_FOR_UPDATES);g.setActiveTexture(Wr.TEXTURE_UNIT_FOR_UPDATES),(i<0||r<0||s<0||i+n>f.width||r+o>f.height||s+c>f.depth)&&vu().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:M}=g;if(Ef(d))d=d.levels[t],M.compressedTexSubImage3D(T,t,i,r,s,n,o,c,f.internalFormat,d);else{const C=d;M.texSubImage3D(T,t,i,r,s,n,o,c,v,_,C)}g.bindTexture(E,Wr.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;if(t.width===0||t.height===0)return;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new z("Cannot add mipmaps to immutable texture after allocation");t.hasMipmap=!0,this._samplingModeDirty=!0,Z_(t)}t.samplingMode===Wi.LINEAR?(this._samplingModeDirty=!0,t.samplingMode=Wi.LINEAR_MIPMAP_NEAREST):t.samplingMode===Wi.NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=Wi.NEAREST_MIPMAP_NEAREST);const i=this._descriptor.context.bindTexture(this,Wr.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(Wr.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(t.target),this._descriptor.context.bindTexture(i,Wr.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const t=this._descriptor;if(t.hasMipmap){if(this._wasImmutablyAllocated)throw new z("Cannot delete mipmaps to immutable texture after allocation");t.hasMipmap=!1,this._samplingModeDirty=!0,Z_(t)}t.samplingMode===Wi.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,t.samplingMode=Wi.LINEAR):t.samplingMode===Wi.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=Wi.NEAREST)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,Z_(this._descriptor),this._wrapModeDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1)}abortCompression(){this.isCompressing&&(this._compressionAbortController.value=Tm(this._compressionAbortController.value))}_setData(t,i){var d;const r=this._descriptor,s=(d=r.context)==null?void 0:d.gl;if(!s)return;Xp(s),this._glName||(this._glName=s.createTexture(),this._glName&&r.context.instanceCounter.increment(z2.Texture,this)),Z_(r);const n=r.context.bindTexture(this,Wr.TEXTURE_UNIT_FOR_UPDATES);r.context.setActiveTexture(Wr.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),Xp(s);const o=i??r.target,c=Qp(o);if(uj(t))this._setDataFromTexImageSource(t,o);else{const{width:f,height:g,depth:v}=r;if(f==null||g==null)throw new z("Width and height must be specified!");if(c&&v==null)throw new z("Depth must be specified!");if(r.internalFormat=Y_(r),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(o,r.internalFormat,r.hasMipmap,f,g,v),Ef(t)){if(!Fwe(r.internalFormat))throw new z("Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(t,r.internalFormat,o)}else this._texImage(o,0,r.internalFormat,f,g,v,t),Xp(s),r.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),Xp(s),r.context.bindTexture(n,Wr.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(t=null){for(let i=An.TEXTURE_CUBE_MAP_POSITIVE_X;i<=An.TEXTURE_CUBE_MAP_NEGATIVE_Z;i++)this._setData(t,i)}_configurePixelStorage(){const t=this._descriptor.context.gl,{unpackAlignment:i,flipped:r,preMultiplyAlpha:s}=this._descriptor;t.pixelStorei(t.UNPACK_ALIGNMENT,i),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r?1:0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s?1:0)}_setDataFromTexImageSource(t,i){const{gl:r}=this._descriptor.context,s=this._descriptor;s.internalFormat=Y_(s);const n=Qp(i),{width:o,height:c,depth:d}=Uwe(t);s.width&&s.height,s.width||(s.width=o),s.height||(s.height=c),n&&s.depth,n&&(s.depth=d),s.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(i,s.internalFormat,s.hasMipmap,o,c,d),this._texImage(i,0,s.internalFormat,o,c,d,t),Xp(r),s.hasMipmap&&(this.generateMipmap(),Xp(r))}_setDataFromCompressedSource(t,i,r){const s=this._descriptor,{width:n,height:o,depth:c}=s,d=t.levels,f=cj(r,n,o,c),g=Math.min(f,d.length)-1;this._descriptor.context.gl.texParameteri(s.target,s.context.gl.TEXTURE_MAX_LEVEL,g),this._forEachMipmapLevel((v,_,S,T)=>{const E=d[Math.min(v,d.length-1)];this._compressedTexImage(r,v,i,_,S,T,E)},g)}_texStorage(t,i,r,s,n,o){const{gl:c}=this._descriptor.context;if(!kwe(i))throw new z("Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const d=r?cj(t,s,n,o):1;if(Qp(t)){if(o==null)throw new z("Missing depth dimension for 3D texture upload");c.texStorage3D(t,d,i,s,n,o)}else c.texStorage2D(t,d,i,s,n);this._wasImmutablyAllocated=!0}_texImage(t,i,r,s,n,o,c){const d=this._descriptor.context.gl,f=Qp(t),{isImmutable:g,pixelFormat:v,dataType:_}=this._descriptor;if(g){if(c!=null){const S=c;if(f){if(o==null)throw new z("Missing depth dimension for 3D texture upload");d.texSubImage3D(t,i,0,0,0,s,n,o,v,_,S)}else d.texSubImage2D(t,i,0,0,s,n,v,_,S)}}else{const S=c;if(f){if(o==null)throw new z("Missing depth dimension for 3D texture upload");d.texImage3D(t,i,r,s,n,o,0,v,_,S)}else d.texImage2D(t,i,r,s,n,0,v,_,S)}}_compressedTexImage(t,i,r,s,n,o,c){const d=this._descriptor.context.gl,f=Qp(t);if(this._descriptor.isImmutable){if(c!=null)if(f){if(o==null)throw new z("Missing depth dimension for 3D texture upload");d.compressedTexSubImage3D(t,i,0,0,0,s,n,o,r,c)}else d.compressedTexSubImage2D(t,i,0,0,s,n,r,c)}else if(f){if(o==null)throw new z("Missing depth dimension for 3D texture upload");d.compressedTexImage3D(t,i,r,s,n,o,0,c)}else d.compressedTexImage2D(t,i,r,s,n,0,c)}async _compressOnWorker(t){var s,n;if(!Wr.compressionWorkerHandle||!Wr.compressionWorkerHandle.isCompressible(t))return;const i=(s=this._descriptor.context)==null?void 0:s.gl.getExtension("WEBGL_compressed_texture_etc"),r=(n=this._descriptor.context)==null?void 0:n.gl.getExtension("WEBGL_compressed_texture_s3tc");if(i||r){const o=new AbortController;this._compressionAbortController.value=o;const c={data:await createImageBitmap(t),flipped:this.descriptor.flipped,width:t.width,height:t.height,hasMipmap:this._descriptor.hasMipmap,hasETC:!!i,hasS3TC:!!r};Wr.compressionWorkerHandle.invoke(c,this._compressionAbortController.value.signal).then(d=>{d&&this.isCompressing&&this.glName&&(this._descriptor.internalFormat=d.internalFormat,this._setData(d.compressedTexture)),o===this._compressionAbortController.value&&(this._compressionAbortController.value=null)}).catch(d=>{Ur(d)||o!==this._compressionAbortController.value||(this._compressionAbortController.value=null)})}}_forEachMipmapLevel(t,i=1/0){let{width:r,height:s,depth:n,hasMipmap:o,target:c}=this._descriptor;const d=c===An.TEXTURE_3D;if(r==null||s==null||d&&n==null)throw new z("Missing texture dimensions for mipmap calculation");for(let f=0;t(f,r,s,n),o&&(r!==1||s!==1||d&&n!==1)&&!(f>=i);++f)r=Math.max(1,r>>1),s=Math.max(1,s>>1),d&&(n=Math.max(1,n>>1))}_applySamplingMode(){var n;const t=this._descriptor,i=(n=t.context)==null?void 0:n.gl;let r=t.samplingMode,s=t.samplingMode;r===Wi.LINEAR_MIPMAP_NEAREST||r===Wi.LINEAR_MIPMAP_LINEAR?(r=Wi.LINEAR,t.hasMipmap||(s=Wi.LINEAR)):r!==Wi.NEAREST_MIPMAP_NEAREST&&r!==Wi.NEAREST_MIPMAP_LINEAR||(r=Wi.NEAREST,t.hasMipmap||(s=Wi.NEAREST)),i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,r),i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,s)}_applyWrapMode(){var r;const t=this._descriptor,i=(r=t.context)==null?void 0:r.gl;typeof t.wrapMode=="number"?(i.texParameteri(t.target,i.TEXTURE_WRAP_S,t.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,t.wrapMode)):(i.texParameteri(t.target,i.TEXTURE_WRAP_S,t.wrapMode.s),i.texParameteri(t.target,i.TEXTURE_WRAP_T,t.wrapMode.t))}_applyAnisotropicFilteringParameters(){const t=this._descriptor,i=t.context.capabilities.textureFilterAnisotropic;i&&t.context.gl.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy??1)}};DC.TEXTURE_UNIT_FOR_UPDATES=0,DC.compressionWorkerHandle=null;const ZM=()=>ne.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function Vwe(e,t){t.fillColor[0]=e.color.r/255,t.fillColor[1]=e.color.g/255,t.fillColor[2]=e.color.b/255,t.fillColor[3]=e.color.a,e.haloColor?(t.outlineColor[0]=e.haloColor.r/255,t.outlineColor[1]=e.haloColor.g/255,t.outlineColor[2]=e.haloColor.b/255,t.outlineColor[3]=e.haloColor.a):(t.outlineColor[0]=t.fillColor[0],t.outlineColor[1]=t.fillColor[1],t.outlineColor[2]=t.fillColor[2],t.outlineColor[3]=t.fillColor[3]),t.fillColor[3]*=e.fillOpacity,t.outlineColor[3]*=e.haloOpacity,t.fillColor[0]*=t.fillColor[3],t.fillColor[1]*=t.fillColor[3],t.fillColor[2]*=t.fillColor[3],t.outlineColor[0]*=t.outlineColor[3],t.outlineColor[1]*=t.outlineColor[3],t.outlineColor[2]*=t.outlineColor[3],t.outlineWidth=(1-e.haloBlur)*e.haloWidth,t.outerHaloWidth=e.haloBlur*e.haloWidth/2,t.innerHaloWidth=e.haloBlur*e.haloWidth/2,t.outlinePosition=0}const Gwe=[0,0,0,0];let yY=class{constructor(){this.type="single",this._highlightOptions=new yc,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*Dg),this._minMaxDistance=[0,0]}setHighlightOptions(t){this._highlightOptions=t}applyHighlightOptions(t,i){this._updateGradientTexture(t),t.bindTexture(this._shadeTex,$we),i.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){var t;(t=this._shadeTex)==null||t.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<dY)-1,activeGradient:this}]}_updateGradientTexture(t){const i=qwe(this._highlightOptions);if(i===this._optionsShadeTexKey)return;this._optionsShadeTexKey=i,Vwe(this._highlightOptions,this._convertedHighlightOptions);const r=this._convertedHighlightOptions,s=r.outlinePosition-r.outlineWidth/2-r.outerHaloWidth,n=r.outlinePosition-r.outlineWidth/2,o=r.outlinePosition+r.outlineWidth/2,c=r.outlinePosition+r.outlineWidth/2+r.innerHaloWidth,d=Math.sqrt(Math.PI/2)*Owe,f=Math.abs(s)>d?Math.round(10*(Math.abs(s)-d))/10:0,g=Math.abs(c)>d?Math.round(10*(Math.abs(c)-d))/10:0;let v;f&&!g?ZM().error("The outer rim of the highlight is "+f+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!f&&g?ZM().error("The inner rim of the highlight is "+g+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):f&&g&&ZM().error("The highlight is "+Math.max(f,g)+"px away from the edge of the feature; consider reducing some width values.");const _=[void 0,void 0,void 0,void 0];function S(E,M,C){_[0]=(1-C)*E[0]+C*M[0],_[1]=(1-C)*E[1]+C*M[1],_[2]=(1-C)*E[2]+C*M[2],_[3]=(1-C)*E[3]+C*M[3]}const{_texelData:T}=this;for(let E=0;E<Dg;++E)v=s+E/(Dg-1)*(c-s),v<s?(_[0]=0,_[1]=0,_[2]=0,_[3]=0):v<n?S(Gwe,r.outlineColor,(v-s)/(n-s)):v<o?[_[0],_[1],_[2],_[3]]=r.outlineColor:v<c?S(r.outlineColor,r.fillColor,(v-o)/(c-o)):[_[0],_[1],_[2],_[3]]=r.fillColor,T[4*E]=255*_[0],T[4*E+1]=255*_[1],T[4*E+2]=255*_[2],T[4*E+3]=255*_[3];if(this._minMaxDistance[0]=s,this._minMaxDistance[1]=c,!this._shadeTex){const E=new fY;E.wrapMode=U2.CLAMP_TO_EDGE,E.width=Dg,E.height=1,this._shadeTex=new DC(t,E)}this._shadeTex.updateData(0,0,0,Dg,1,this._texelData)}};function qwe(e){return`${e.color};${e.haloColor};${e.haloOpacity};${e.fillOpacity};${e.haloWidth};${e.haloBlur}`}let Bwe=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(t){for(let i=0;i<t.length;i++)this.gradients[i]||(this.gradients[i]=new yY),this.gradients[i].setHighlightOptions(t[i]);for(let i=t.length+1;i<this.gradients.length;i++)this.gradients[i].destroy();this.gradients.length=t.length}destroy(){for(const t of this.gradients)t.destroy()}getReasonsWithGradients(){let t=1;const i=[];for(let r=0;r<this.gradients.length;r++){const s=this.gradients[r];i.push({activeReasons:t,activeGradient:s}),t<<=1}return i}};var dj,hj,pj,fj,mj,yj,V2,gj,vj;(function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"})(dj||(dj={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(hj||(hj={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(pj||(pj={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(fj||(fj={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(mj||(mj={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIMPLE=1]="SIMPLE",e[e.DOT_DENSITY=2]="DOT_DENSITY",e[e.OUTLINE_FILL=3]="OUTLINE_FILL",e[e.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",e[e.HEATMAP=5]="HEATMAP",e[e.PIE_CHART=6]="PIE_CHART"}(yj||(yj={})),function(e){e[e.All=0]="All",e[e.Highlight=1]="Highlight",e[e.InsideEffect=2]="InsideEffect",e[e.OutsideEffect=3]="OutsideEffect"}(V2||(V2={})),function(e){e[e.BATCHING=0]="BATCHING",e[e.STRICT_ORDER=1]="STRICT_ORDER",e[e.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}(gj||(gj={})),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT"}(vj||(vj={}));const gY={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:e=>e.stencilRef,compare:NC.EQUAL,mask:255,op:{fail:Sv.KEEP,zFail:Sv.KEEP,zPass:Sv.REPLACE}}}},Hwe={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},Wwe={...gY,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function Zwe({pixelRatio:e,state:t,displayLevel:i,requiredLevel:r},s){const n=1/2**(i-s.key.level),o=1/2**(r-s.key.level);return{displayMat3:t.displayMat3,displayViewMat3:t.displayViewMat3,displayViewScreenMat3:s.transforms.displayViewScreenMat3,viewMat3:t.viewMat3,tileMat3:s.transforms.tileMat3,displayZoomFactor:n,requiredZoomFactor:o,tileOffset:[s.x,s.y],currentScale:t.scale,currentZoom:i,metersPerSRUnit:Fn(t.spatialReference),rotation:t.rotation,pixelRatio:e}}function vY(e){var t;return((t=e.passOptions)==null?void 0:t.type)==="highlight"}function bY(e){var t;return((t=e.passOptions)==null?void 0:t.type)==="hittest"}function Ywe(e){if(!bY(e))return null;const{position:t,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:s}=e.passOptions;return{position:t,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:s}}function Jwe(e){if(!vY(e))return null;const{activeReasons:t,highlightAll:i}=e.passOptions;return{activeReasons:t,highlightAll:i?1:0}}function ike(e,t,i){const r={};for(const s in i)i[s]instanceof Function?r[s]=i[s](e,t):r[s]=i[s];return r}function rke(e,t){const{attributeView:i,context:r}=e;return{storage:i.getUniforms(r),view:Zwe(e,t),hittestRequest:Ywe(e),highlight:Jwe(e)}}function ske(e){return{inside:e.selection===V2.InsideEffect,outside:e.selection===V2.OutsideEffect}}function Xwe(e){return bY(e)?Hwe:vY(e)&&e.passOptions.stepType==="clear"?Wwe:gY}function nke(e){const{row:t,col:i}=e.key,r=i*q8,s=t*q8;return{tileOffsetFromLocalOrigin:[r%W_,s%W_],maxIntsToLocalOrigin:[Math.floor(r/W_),Math.floor(s/W_)]}}const Qwe=new rt({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function oke(e){return Qwe.toJSON(e)}function ake(e){const{bandCount:t,attributeTable:i,colormap:r,pixelType:s}=e.raster.rasterInfo;return t===1&&(i!=null||r!=null||s==="u8"||s==="s8")}function Kwe(e,t){return t==null?(e==null||e.destroy(),null):((e==null?void 0:e.type)==="single"&&Array.isArray(t)&&(e.destroy(),e=null),(e==null?void 0:e.type)!=="multi"||Array.isArray(t)||(e.destroy(),e=null),e||(e=Array.isArray(t)?new Bwe:new yY),Array.isArray(t)?e.type==="multi"&&e.setHighlightOptions(t):e.type==="single"&&e.setHighlightOptions(t),e)}function lke(e,t,i,r){const{painter:s,highlightGradient:n}=e,{highlight:o}=s.effects;if(!n)return;const c=e.passOptions,d=n.getReasonsWithGradients();for(let f=0;f<d.length;f++){const g={...e,passOptions:{type:"highlight",activeGradient:d[f].activeGradient,activeReasons:d[f].activeReasons,stepType:"burn",highlightAll:t}};if(o.bind(g),i(g),f<d.length-1){let _=0;for(let S=f+1;S<d.length;S++)_|=d[S].activeReasons;i({...e,passOptions:{type:"highlight",activeGradient:d[f].activeGradient,activeReasons:_,stepType:"clear",highlightAll:t}})}const v={...e,passOptions:{type:"highlight",activeGradient:d[f].activeGradient,activeReasons:d[f].activeReasons,stepType:"draw",highlightAll:t}};s.setPipelineState(Xwe(e)),s.updatePipelineState(e.context),o.draw(v),o.unbind()}e.passOptions=c}function uke(e){if(!e)return[];let t=lme(e)?[e]:pe.isCollection(e)?e.toArray():Array.isArray(e)?e:[];return t=t==null?void 0:t.filter(Al),((t==null?void 0:t.length)??0)===0?[]:t}const J_=e=>parseFloat(e)/100;function eSe(e,t,i){const r=typeof e.left=="string"?J_(e.left)*t:e.left,s=typeof e.right=="string"?J_(e.right)*t:e.right,n=typeof e.top=="string"?J_(e.top)*i:e.top,o=typeof e.bottom=="string"?J_(e.bottom)*i:e.bottom,c=n;return{xmin:r,xmax:Math.max(t-s,r),ymin:c,ymax:Math.max(i-o,n)}}function _Y(e,t,i,r){switch(t.type){case"rect":{const{width:s,height:n}=e,{xmin:o,xmax:c,ymin:d,ymax:f}=eSe(t,s,n),{x:g,y:v}=i;return g>o&&g<c&&v>d&&v<f}case"path":return t.path.length===0||!Array.isArray(t.path[0][0])||YR(t.path,[i.x,i.y]);case"geometry":return t.geometry==null||(t.geometry.type==="polygon"?ZR(t.geometry,r):v1(t.geometry,r))}}function tSe(e){if(!e.highlights)return null;const t=e.highlights.findIndex(i=>i.name==="default");return t===-1?null:e.highlights.items[t]}function iSe(e,t){if(!e.highlights){if(!t)return;e.highlights=new pe([new yc])}const i=e.highlights.findIndex(r=>r.name==="default");t?e.highlights.items[i].assignFrom(t):(e.highlights.removeAt(i),e.highlights.length===0&&(e.highlights=null))}async function rSe(e,t,i){const r=zW(t)?UW(e,t):t;if(!e.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let s=new Set;const n=new Set;let o=!1,c=null,d=null;i!=null&&i.include?_j(i.include,bj(e,_=>{s.add(_),YM(_,S=>n.add(S))},(_,S)=>{n.add(_),s.add(S)},_=>{c||(c=new Set),c.add(_)},_=>s.add(_),()=>o=!0)):(o=!0,s=new Set(e.allLayerViews),s.forEach(_=>{YM(_,S=>n.add(S))})),i!=null&&i.exclude&&_j(i.exclude,bj(e,_=>{s.delete(_),YM(_,S=>n.delete(S))},_=>n.delete(_),_=>{d||(d=new Set),d.add(_)}));const f=e.toMap(r),g=e.allLayerViews.filter(_=>!_.suspended&&s.has(_)&&_.clips.every(S=>_Y(e,S,r,f))).reverse();let v=[...o?e.graphicsView.hitTest(f).map(_=>({type:"graphic",graphic:_,layer:null,mapPoint:f})):[],...await Promise.all(g.map(_=>_.hitTest(f,r)).toArray())].filter(Al).flat().filter(Al);return v=v.filter(_=>{var S;return _.type!=="graphic"||((S=_.layer)==null?void 0:S.type)!=="subtype-group"||n.has(_.graphic.layer)}),c&&(v=v.filter(_=>!("graphic"in _)||!_.graphic||(c==null?void 0:c.has(kC(_.graphic))))),d&&(v=v.filter(_=>!("graphic"in _)||!_.graphic||!(d!=null&&d.has(kC(_.graphic))))),{screenPoint:r,results:v}}function bj(e,t,i,r,s,n){return o=>{if(o instanceof Mc){if(o.layer===e)n==null||n();else{const c=e.allLayerViews.find(d=>d.layer===o.layer);c&&(s==null||s(c))}r(kC(o))}else if(!("layer"in o&&"element"in o))if(o.type==="subtype-sublayer"){const c=e.allLayerViews.find(d=>d.layer===o.parent);c&&i(o,c)}else{const c=e.allLayerViews.find(d=>d.layer===o);c&&t(c)}}}function _j(e,t){if(e)if(HS(e))for(const i of e)if(HS(i))for(const r of i)t(r);else t(i);else t(e)}function kC(e){var i,r;const t=e.getObjectId();return t?`${((i=e.layer)==null?void 0:i.uid)??((r=e.sourceLayer)==null?void 0:r.uid)??"MapView"}/${t}`:`"MapView/${e.uid}`}function YM({layer:e},t){(e==null?void 0:e.type)==="subtype-group"&&e.sublayers.forEach(i=>{t(i)})}let kg=null,G2=!0;function sSe(e,t,i){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(G2)try{return new ImageData(e,t)}catch{G2=!1}return wY(e,t,i)}function cke(e,t,i,r){if(!t||!i)throw new Error("Cannot construct image data without dimensions");if(G2)try{return new ImageData(e,t,i)}catch{G2=!1}const s=wY(t,i,r);return s.data.set(e,0),s}function nSe(){return kg||(kg=document.createElement("canvas"),kg.width=1,kg.height=1),kg}function wY(e,t,i){return i||(i=nSe()),i.getContext("2d").createImageData(e,t)}async function oSe(e,t){const i=window.URL.createObjectURL(e);try{const{data:r}=await qt(i,{...t,responseType:"image"});return r}catch(r){throw Ur(r)?r:new z("invalid-image",`Could not fetch requested image at ${i}`)}finally{window.URL.revokeObjectURL(i)}}async function dke(e,t){const{arrayBuffer:i,mediaType:r}=await aSe(e,t),s=r==="image/png";if(r==="image/gif"){const{isAnimatedGIF:n,parseGif:o}=await te(()=>import("./gif-_HH3qwVm.js"),[]);if(n(i))return o(i,t)}if(s){const{isAnimatedPNG:n,parseApng:o}=await te(()=>import("./apng-BiHpEeeJ.js"),__vite__mapDeps([267,1]));if(n(i))return o(i,t)}return oSe(new Blob([i],{type:r}),t)}async function aSe(e,t){var s;const i=Mm(e);if(i!=null&&i.isBase64)return{arrayBuffer:T7(i.data),mediaType:i.mediaType};const r=await qt(e,{responseType:"array-buffer",...t});return{arrayBuffer:r.data,mediaType:((s=r.getHeader)==null?void 0:s.call(r,"Content-Type"))??""}}function SY(e,t,i){const{ctx:r,canvas:s}=EY(e,i),n=r.getImageData(0,0,e.width,e.height),o=xY(s,t);return $Y(s),{dataUrl:o,data:n}}function TY(e,t){const{ctx:i,canvas:r}=EY(e,t),s=i.getImageData(0,0,e.width,e.height);return $Y(r),s}function EY(e,t){const i=lSe();t.premultipliedAlpha&&hSe(e),i.width=e.width,i.height=e.height;const r=i.getContext("2d",{willReadFrequently:!0});return r.putImageData(e,0,0),t.flipY&&dSe(r),{ctx:r,canvas:i}}function $Y(e){e.width=0,e.height=0}function lSe(){return JM==null&&(JM=document.createElement("canvas")),JM}let JM=null;function xY(e,t){const i=pSe[t.format],r=t.quality/100;return e.toDataURL(i,r)}function MY(e,t){const i=cSe(e),r=mSe[i];return{format:i,quality:Nn(t??r,0,100)}}function AY(e,t){return t/Math.max(e[0],e[1])}function uSe(e,t,i,r=0,s=0,n=e.width-r,o=e.height-s,c=!1){const{data:d}=e,{width:f,height:g,data:v}=t,_=n/f,S=o/g,T=Math.ceil(_/2),E=Math.ceil(S/2),M=e.width;for(let C=0;C<g;C++)for(let L=0;L<f;L++){const N=4*(L+(c?g-C-1:C)*f);let P=0,U=0,W=0,re=0,ae=0,fe=0;const ye=(C+.5)*S;for(let Se=Math.floor(C*S);Se<(C+1)*S;Se++){const _e=Math.abs(ye-(Se+.5))/E,Qe=(L+.5)*_,Le=_e*_e;for(let pt=Math.floor(L*_);pt<(L+1)*_;pt++){const X=Math.abs(Qe-(pt+.5))/T,he=Math.sqrt(Le+X*X);if(he>=1)continue;let me=2*he*he*he-3*he*he+1;const it=4*(r+pt+(s+Se)*M);fe+=me*d[it+3],U+=me,!i&&d[it+3]<255&&(me=me*d[it+3]/255),W+=me*d[it],re+=me*d[it+1],ae+=me*d[it+2],P+=me}}v[N]=W/P,v[N+1]=re/P,v[N+2]=ae/P,v[N+3]=fe/U}return t}function cSe(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return fSe}}function dSe(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function hSe(e){const t=e.data,i=t.length;for(let r=0;r<i;r+=4){const s=t[r+3];if(s!==255&&s>0){const n=255/s;t[r]=t[r]*n,t[r+1]=t[r+1]*n,t[r+2]=t[r+2]*n}}}const pSe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},wj=98,fSe="png",mSe={png:100,jpg:wj,jpeg:wj},hke=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:sSe,encode:SY,encodeData:TY,getFormatAndQuality:MY,getMaximumResolutionScale:AY,resampleHermite:uSe,toDataUrl:xY},Symbol.toStringTag,{value:"Module"})),OY={flipY:!0,premultipliedAlpha:!0};async function ySe(e,t){const i=await CY(e,t),{format:r,quality:s}=MY(t==null?void 0:t.format,t==null?void 0:t.quality);return SY(i,{format:r,quality:s},OY)}async function gSe(e,t){const i=await CY(e,t);return TY(i,OY)}function CY(e,t){const i=_Se(t||{},bSe(e.stage,e.size),e.size,e.padding),r=vSe(t,e.allLayerViews);return e.stage.takeScreenshot(i,r,e.backgroundColor,t==null?void 0:t.rotation)}function vSe(e={},t){if(!e.layers)return;const i=[];return e.layers.forEach(r=>{const s=t.find(n=>n.layer.id===r.id);s!=null&&s.container&&i.push(s.container)}),i}function bSe(e,t){return Math.min(4,AY(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function _Se(e,t,i,r){e.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let s=null;e.width!=null&&e.height!=null?s=[e.width,e.height]:e.width==null&&e.height!=null?s=[e.height,e.height]:e.width!=null&&e.height==null?s=[e.width,e.width]:e.width==null&&e.height==null&&(s=null);const n=i[0]-(r.left+r.right),o=i[1]-(r.top+r.bottom);let c,d,f=e.area||{x:0,y:0,width:n,height:o};if(s){const g=n/o,v=s[0]/s[1];if(v>g){const _=f.width/v;f={x:f.x,y:Math.round(f.y+(f.height-_)/2),width:f.width,height:Math.round(_)}}else{const _=f.height*v;f={x:Math.round(f.x+(f.width-_)/2),y:f.y,width:Math.round(_),height:f.height}}}else s=[f.width,f.height];return s[0]>f.width?(c=Math.min(s[0]/f.width,t),d=s[0]/f.width/c):(c=1,d=s[0]/f.width),{cropArea:{x:Math.round((f.x+r.left)*c),y:Math.round((f.y+r.top)*c),width:Math.round(f.width*c),height:Math.round(f.height*c)},outputScale:d,resolutionScale:c}}const wSe=e=>e.includes("Brush");let IY=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),wSe(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}};function SSe(e,t){const i=t.debugRendererInfo&&e.getExtension("WEBGL_debug_renderer_info");return i?{getUnmaskedRendererWebGL:()=>e.getParameter(i.UNMASKED_RENDERER_WEBGL)}:null}let Sj;function TSe(){return Sj??(Sj=xSe()),Sj}let ESe=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}};function $Se(e){if(typeof WebGL2RenderingContext>"u")return null;const t=document.createElement("canvas");if(!t)return null;let i=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(i==null&&(i=t.getContext("webgl2"),i!=null&&(e.majorPerformanceCaveat=!0)),i==null)return i;e.available=!0,e.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return r&&(e.supportsHighPrecisionFragment=r.precision>0),i}function xSe(){var i;const e=new ESe,t=$Se(e);return t==null||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null,e.unmaskedRenderer=((i=SSe(t,{debugRendererInfo:!0}))==null?void 0:i.getUnmaskedRendererWebGL())??"unknown"),e}function MSe(e){const t=TSe();return t.available?e==="3d"&&t.majorPerformanceCaveat?new z("webgl:major-performance-caveat-detected",`Your WebGL implementation (${t.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new z("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function ASe(e){return e&&"nodeType"in e}function OSe(e){return e&&typeof e.render=="function"}const Tj={component:"esri-component"};let Wd=class extends Te{constructor(){super(...arguments),this.widget=null}destroy(){var t;this.node=null,(t=this.widget)==null||t.destroy()}get id(){var t,i;return this._get("id")??((t=this.widget)==null?void 0:t.id)??((i=this.node)==null?void 0:i.id)}set id(t){this._set("id",t)}set node(t){const i=this._get("node");t!==i&&(t&&t.classList.add(Tj.component),i&&i.classList.remove(Tj.component),this._set("node",t))}castNode(t){var i;return(i=this.widget)==null||i.destroy(),t?typeof t=="string"||ASe(t)?(this._set("widget",null),xL(t)):(OSe(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};u([h()],Wd.prototype,"id",null),u([h()],Wd.prototype,"node",null),u([ht("node")],Wd.prototype,"castNode",null),u([h({readOnly:!0})],Wd.prototype,"widget",void 0),Wd=u([A("esri.views.ui.Component")],Wd);const dS=Wd,RY="calcite-mode-";function CSe(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function ISe(){return CSe().startsWith("dark")}function RSe(){return`${RY}${ISe()?"dark":"light"}`}function LSe(e){NSe(e),e.classList.add(RSe())}function NSe(e){Array.from(e.classList).forEach(t=>{t.startsWith(RY)&&e.classList.remove(t)})}const PSe={left:0,top:0,bottom:0,right:0},LY={bottom:30,top:15,right:15,left:15},Va="esri-ui",as={ui:Va,corner:`${Va}-corner`,innerContainer:`${Va}-inner-container`,manualContainer:`${Va}-manual-container`,cornerContainer:`${Va}-corner-container`,topLeft:`${Va}-top-left`,topRight:`${Va}-top-right`,bottomLeft:`${Va}-bottom-left`,bottomRight:`${Va}-bottom-right`};function DSe(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function X_(e){return e===0?"0":`${e}px`}function XM(e){const t=typeof e=="object"&&e!==null&&Object.getPrototypeOf(e);return(t===null||t===Object.prototype)&&("component"in e||"index"in e||"position"in e)?e:null}function QM(e,{top:t,bottom:i,left:r,right:s}){e.style.top=t,e.style.bottom=i,e.style.left=r,e.style.right=s}let ea=class extends Dn.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=Ss(),this.view=null,this._applyViewPadding=()=>{const i=this.container;i&&QM(i,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const i=this._innerContainer;i&&QM(i,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([xe(()=>{var t;return[(t=this.view)==null?void 0:t.padding,this.container]},this._applyViewPadding,Nt),xe(()=>this.padding,this._applyUIPadding,Nt),xe(()=>[this.container,this._locale],([t,i])=>{t&&t.setAttribute("lang",i)},Nt),BG(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentMap.clear()}set container(t){const i=this._get("container");t!==i&&(t&&(t.classList.add(as.ui),LSe(t),this._attachContainers(t)),i&&(i.classList.remove(as.ui),QM(i,{top:"",bottom:"",left:"",right:""}),i.textContent=""),this._set("container",t))}get height(){var n;const t=((n=this.view)==null?void 0:n.height)??0;if(t===0)return t;const i=this._getViewPadding(),{top:r,bottom:s}=i;return Math.max(t-r-s,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...LY,...t}}get width(){var n;const t=((n=this.view)==null?void 0:n.width)??0;if(t===0)return t;const i=this._getViewPadding(),{left:r,right:s}=i;return Math.max(t-r-s,0)}add(t,i){let r,s,n;if(Array.isArray(t))return void t.forEach(c=>this.add(c,i));const o=XM(t);o&&({index:r,position:i,component:t,key:s}=o),i&&typeof i=="object"&&({index:r,key:s,position:i,internal:n}=i),!t||i&&!this._isValidPosition(i)||this._add(t,i,r,s,n)}remove(t,i){var s,n;if(!t)return;if(Array.isArray(t))return t.map(o=>this.remove(o,i));const r=this._find(t);if(r){if(this._componentMap.has(r)&&((s=this._componentMap.get(r))==null?void 0:s.key)!==i)return;const o=this._components.indexOf(r),c=r.node.parentNode;return c==null||c.removeChild(r.node),this._componentMap.delete(r),(n=r.widget)==null||n.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(o,1)[0]}}empty(t,i={removeInternal:!1}){if(Array.isArray(t)){for(const n of t)this.empty(n,i);return}const r=this._positionNameToContainerLookup[t??"manual"],s=Array.prototype.slice.call(r.children).map(n=>this._findByNode(n)).filter(n=>{var o;return n==null?!1:!(((o=this._componentMap.get(n))==null?void 0:o.internal)??!1)||i.removeInternal});for(const n of s)this.remove(n)}move(t,i){if(Array.isArray(t)&&t.forEach(o=>this.move(o,i)),!t)return;let r;const s=XM(t)||XM(i);if(s&&(r=s.index,i=s.position,t=s.component||t),i&&!this._isValidPosition(i))return;const n=this.remove(t);n&&this.add(n,{position:i,index:r})}find(t){if(!t)return null;const i=this._findById(t);return i&&(i.widget||i.node)}getComponents(t,i={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(r=>this._getComponentsAtPosition(r,i)):this._getComponentsAtPosition(t,i):this._components.filter(r=>{var s;return i.includeInternal||!((s=this._componentMap.get(r))!=null&&s.internal)}).map(({widget:r,node:s})=>r??s)}getPosition(t){for(const i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(t))return i;return null}_add(t,i,r,s,n){t instanceof dS||(t=new dS({node:t}));const{widget:o}=t;o!=null&&o instanceof Te&&o.addHandles(gt(()=>{queueMicrotask(()=>this.remove(t))}),this._removeWidgetHandleKey),this._place({component:t,position:i,index:r}),this._components.push(t),this._componentMap.set(t,{key:s,internal:n})}_find(t){return t?t instanceof dS?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){var t;return((t=this.view)==null?void 0:t.padding)??PSe}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(as.innerContainer,as.cornerContainer);const i=document.createElement("div");i.classList.add(as.innerContainer,as.manualContainer);const r=document.createElement("div");r.classList.add(as.topLeft,as.corner),t.appendChild(r);const s=document.createElement("div");s.classList.add(as.topRight,as.corner),t.appendChild(s);const n=document.createElement("div");n.classList.add(as.bottomLeft,as.corner),t.appendChild(n);const o=document.createElement("div");o.classList.add(as.bottomRight,as.corner),t.appendChild(o),this._innerContainer=t,this._manualContainer=i;const c=mhe();this._cornerNameToContainerLookup={"top-left":r,"top-right":s,"bottom-left":n,"bottom-right":o,"top-leading":c?s:r,"top-trailing":c?r:s,"bottom-leading":c?o:n,"bottom-trailing":c?n:o},this._positionNameToContainerLookup={manual:i,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){var f,g;const i=t.position??"manual",{component:r,index:s}=t,n=this._positionNameToContainerLookup[i],o=s!=null&&s>-1;if(DSe(r.widget)&&r.widget.startup(),!o)return void n.appendChild(r.node);const c=Array.from(n.children);if(s===0){const{firstChild:v}=n;return void(v?(f=v.parentNode)==null?void 0:f.insertBefore(r.node,v):n.appendChild(r.node))}if(s>=c.length)return void n.appendChild(r.node);const d=c[s];(g=d.parentNode)==null||g.insertBefore(r.node,d)}_toPixelPosition(t){return{top:X_(t.top),left:X_(t.left),right:X_(t.right),bottom:X_(t.bottom)}}_findByComponent(t){return this._components.find(i=>i===t)??null}_findById(t){return this._components.find(({id:i})=>i===t)??null}_findByNode(t){return this._components.find(({node:i})=>i===t)??null}_getComponentsAtPosition(t,i){const r=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(r.children).map(s=>this._findByNode(s)).filter(Al).filter(s=>{var n;return i.includeInternal||!((n=this._componentMap.get(s))!=null&&n.internal)}).map(({widget:s,node:n})=>s??n)}};u([h()],ea.prototype,"_locale",void 0),u([h()],ea.prototype,"container",null),u([h()],ea.prototype,"height",null),u([h({value:LY})],ea.prototype,"padding",null),u([ht("padding")],ea.prototype,"castPadding",null),u([h()],ea.prototype,"view",void 0),u([h()],ea.prototype,"width",null),ea=u([A("esri.views.ui.UI")],ea);const kSe=ea,FSe="randomUUID"in crypto;function sE(){if(FSe)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=i=>e[i].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function gke(){return`{${sE().toUpperCase()}}`}function jSe(){return`{${sE()}}`}function USe(e){const t=e.toUpperCase();return e[0]!=="{"?`{${t}}`:t}const zSe={handleInterceptedEvent:(e,t,i,r)=>(e.scheduleRender(),t.properties[`on${r.type}`].apply(t.properties.bind||i,[r]))},VSe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}},GSe=e=>({...VSe,...e}),qSe=(e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i},BSe=(e,t)=>e.find(t),Ej=(e,t,i=!1)=>{let r=e;return t.forEach((s,n)=>{const o=r!=null&&r.children?BSe(r.children,c=>c.domNode===s):void 0;i&&!o&&n!==t.length-1||(r=o)}),r},HSe=e=>{let t;const i={...zSe,...e},r=GSe(i),s=r.performanceLogger;let n,o=!0,c=!1;const d=[],f=[],g=(_,S,T)=>{var C;let E;r.eventHandlerInterceptor=(L,N,P,U)=>function(W){let re;s("domEvent",W);const ae=qSe(W.currentTarget,E.domNode),fe=ae.some(Se=>{var _e;return customElements.get((_e=Se==null?void 0:Se.tagName)==null?void 0:_e.toLowerCase())});if(W.eventPhase===Event.CAPTURING_PHASE||!fe)ae.reverse(),re=Ej(E.getLastRender(),ae);else{const Se=W.composedPath(),_e=Se.slice(Se.indexOf(W.currentTarget),Se.indexOf(E.domNode)).reverse();re=Ej(E.getLastRender(),_e,!0)}let ye;return re&&(ye=i.handleInterceptedEvent(t,re,this,W)),s("domEventProcessed",W),ye},(C=i.postProcessProjectionOptions)==null||C.call(i,r);const M=T();E=_(S,M,r),r.eventHandlerInterceptor=void 0,d.push(E),f.push(T),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(E,M)};let v=()=>{if(n=void 0,o){o=!1,s("renderStart",void 0);for(let _=0;_<d.length;_++){const S=f[_]();s("rendered",void 0);try{d[_].update(S)}catch(T){console.error(T)}s("patched",void 0)}s("renderDone",void 0),o=!0}};return i.modifyDoRenderImplementation&&(v=i.modifyDoRenderImplementation(v,d,f)),t={renderNow:v,scheduleRender:()=>{n||c||(n=requestAnimationFrame(v))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),c=!0},resume:()=>{c=!1,o=!0,t.scheduleRender()},append:(_,S)=>{g(uc.append,_,S)},insertBefore:(_,S)=>{g(uc.insertBefore,_,S)},merge:(_,S)=>{g(uc.merge,_,S)},replace:(_,S)=>{g(uc.replace,_,S)},detach:_=>{for(let S=0;S<f.length;S++)if(f[S]===_)return f.splice(S,1),d.splice(S,1)[0];throw new Error("renderFunction was not found")}},t};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.1.0 */const WSe="calcite-mode-auto",ZSe="calcite-mode-dark",vke={rtl:"calcite--rtl"},bke={filter:250,nextTick:0,resize:150,reposition:100};function $j(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>e.contains(ZSe)||e.contains(WSe)&&t?"dark":"light",r=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),s=o=>{n!==o&&r(o),n=o};let n=i();r(n),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>s(o.matches?"dark":"light")),new MutationObserver(()=>s(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const xl=globalThis.calciteConfig,_ke=(xl==null?void 0:xl.focusTrapStack)||[],wke=(xl==null?void 0:xl.logLevel)||"info",xj="3.1.0",YSe="2025-03-26",JSe="d5f75fd64";function XSe(){if(xl&&xl.version)return;console.info(`Using Calcite Components ${xj} [Date: ${YSe}, Revision: ${JSe}]`);const e=xl||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:xj,writable:!1}),globalThis.calciteConfig=e}const QSe=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;function KSe(){QSe()&&(document.readyState==="interactive"?$j():document.addEventListener("DOMContentLoaded",()=>$j(),{once:!0})),XSe()}KSe();const e2e=tie({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.1.0/",hydratedAttribute:"calcite-hydrated"}),{customElement:Ske,getAssetPath:Tke,setAssetPath:t2e}=e2e;/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.1.0 */let NY=!1;const i2e=e=>{NY=!0,t2e(e)};let PY;function r2e(){NY||i2e(Mn(wi(PY)))}function sy(e){var i;const t=[];for(const r of Object.keys(e))customElements.get(`calcite-${r}`)||t.push((i=e[r])==null?void 0:i.call(e));return t.length>0?Promise.all(t):null}PY="components/assets";const DY=Symbol("widget"),kY=Symbol("widget-test-data"),s2e=[],n2e={},q2=new WeakMap;function FY(e,t){let i=t.children;if(i!=null&&i.length)for(let s=0;s<i.length;++s)i[s]=FY(e,i[s]);else i=s2e;const r=t.vnodeSelector;if(B2(r)){const s=t.properties||n2e,n=s.key||r,o={key:n,afterCreate:o2e,afterUpdate:a2e,afterRemoved:jY,parentWidget:e,widgetConstructor:r,widgetProperties:{...s,key:n,children:i}};return{vnodeSelector:r.vnodeSelector,properties:o,children:void 0,text:void 0,domNode:null}}return t}function o2e(e,t,i,{parentWidget:r,widgetConstructor:s,widgetProperties:n}){var c;const o=new s(n);o.container=e,q2.set(e,o),(c=o.afterCreate)==null||c.call(o,o,e),r.addHandles(gt(()=>jY(e))),queueMicrotask(()=>{o[kY].projector.renderNow()})}function a2e(e,t,i,{widgetProperties:r}){var n;const s=q2.get(e);s&&(s.set(r),(n=s.afterUpdate)==null||n.call(s,s,e))}function jY(e){var i;const t=q2.get(e);t&&((i=t.afterRemoved)==null||i.call(t,t,e),t.destroy(),q2.delete(e))}function B2(e){return typeof e=="function"&&e[DY]}const Mj=new Set;function l2e(e){Mj.add(e),e.finally(()=>Mj.delete(e))}var UY;const u2e="esri.widgets.Widget";let c2e=0;function zY(e,t){const i=Object.prototype.hasOwnProperty;for(const r in t)i.call(t,r)&&i.call(e,r)&&(e[r]!=null&&t[r]!=null&&typeof e[r]=="object"&&typeof t[r]=="object"?zY(e[r],t[r]):e[r]=t[r]);return e}const d2e=HSe({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(r,s,n,o)=>{const c=t==null?void 0:t(r,s,n,o),d=i.test(r);if(!((r=r.replace(i,"")).toLowerCase()in n)||d){const f=r[2].toLowerCase()+r.slice(3),g=S=>c==null?void 0:c.call(n,S);n.addEventListener(f,g,d);const v=()=>n.removeEventListener(f,g,d),_=o.afterRemoved;o.afterRemoved=S=>{_==null||_(S),v()}}return c}},handleInterceptedEvent(e,t,i,r){const{eventPhase:s,type:n}=r,o=s===Event.CAPTURING_PHASE;let c=`on${n}${o?"capture":""}`;const d=t.properties;(d&&c in d||(c=`on${n[0].toUpperCase()}${n.slice(1)}${o?"Capture":""}`,d&&c in d))&&(kB(),e.scheduleRender(),d[c].call(d.bind||i,r))}});let KM=!1,Pi=class extends x1.EsriPromiseMixin(Dn.EventedAccessor){constructor(t,i){super(t,i),this._attached=!1,this._projector=d2e,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=hT(async()=>{var d;if((d=this._messageBundleProps)!=null&&d.length){const f=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:g,propertyName:v})=>{if(this.destroyed)return;let _=await Kq(g);this.uiStrings&&Object.keys(this.uiStrings)&&(_=zY(j(_),this.uiStrings)),this[v]=_}));if(this.destroyed)return;for(const g of f)g.status==="rejected"&&ne.getLogger(this).error("widget-intl:locale-error",this.declaredClass,g.reason)}await this.loadLocale()}),r2e();const r="esri-widget-uid-"+sE(),s=this.render.bind(this);this._trackingTarget=new pT(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const n=()=>({vnodeSelector:"div",properties:{key:`${r}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),o=()=>{var v,_;if(!this._readyForTrueRender||this.destroyed)return null;const d=s()??n(),f=d.properties??(d.properties={});if(f.key??(f.key=r),B2(d.vnodeSelector)){if(!this.visible)return n()}else this.visible?f.styles||(f.styles={}):(f.class="",f.styles={display:"none"}),(v=f.styles).display??(v.display="");let g=0;return(_=d.children)==null||_.forEach(S=>{var T;B2(S.vnodeSelector)||(S.properties??(S.properties={}),(T=S.properties).key??(T.key=`${this.id}--${g++}`))}),FY(this,d)};this.render=()=>{if(KM)return o();let d=hhe(this)??null;if(d)return d;this._trackingTarget.clear(),KM=!0;try{d=Ol(this._trackingTarget,o)}catch(f){throw ne.getLogger(this).error(f),f}finally{KM=!1}return d&&phe(this,d),d};const c=this.beforeFirstRender();c?this._resourcesFetch=c.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),l2e(this._resourcesFetch)}normalizeCtorArgs(t,i){const r={...t};return i&&(r.container=i),r}postInitialize(){}beforeFirstRender(){var i;const t=this.loadDependencies();return(i=this._messageBundleProps)!=null&&i.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(R5):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(Gt(this._trackingTarget),Gt(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,gM(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return xL(t)}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){var t;return this._get("id")||((t=this.container)==null?void 0:t.id)||Date.now().toString(16)+"-widget-"+c2e++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(UY=DY,kY)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(gM(this),this._projector.scheduleRender())}classes(...t){return fhe.apply(this,t)}renderNow(){gM(this),this._projector.renderNow()}_postInitialize(){var i;if(this.destroyed)return;this.scheduleRender(),(i=this._delegatedEventNames)!=null&&i.length&&this.addHandles(xe(()=>this.viewModel,(r,s)=>{s&&this.removeHandles("delegated-events"),r&&dT(r)&&this.addHandles(this._delegatedEventNames.map(n=>f1(r,n,o=>{this.emit(n,o)})),"delegated-events")},gs)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(R5),this.scheduleRender()};this.addHandles([BG(t),xe(()=>this.uiStrings,t),$s(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){var i;this._attached&&(this._projector.detach(this.render),this._attached=!1),(i=t==null?void 0:t.parentNode)==null||i.removeChild(t)}};Pi[UY]=!0,Pi.vnodeSelector="div",u([h()],Pi.prototype,"_readyForTrueRender",void 0),u([h({value:null})],Pi.prototype,"container",null),u([ht("container")],Pi.prototype,"castContainer",null),u([h()],Pi.prototype,"icon",null),u([h()],Pi.prototype,"id",null),u([h()],Pi.prototype,"label",null),u([h()],Pi.prototype,"renderable",null),u([h()],Pi.prototype,"uiStrings",void 0),u([h()],Pi.prototype,"viewModel",void 0),u([h({value:!0})],Pi.prototype,"visible",null),u([h()],Pi.prototype,"key",void 0),u([h()],Pi.prototype,"children",void 0),u([h()],Pi.prototype,"afterCreate",void 0),u([h()],Pi.prototype,"afterUpdate",void 0),u([h()],Pi.prototype,"afterRemoved",void 0),Pi=u([A(u2e)],Pi);const Vc=Pi,h2e=new Map;function p2e(e){return h2e.get(e)}function Aj(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function f2e(e,t){return e.length!==t.length||e.some((i,r)=>i.text!==t[r].text)}function Fg(e,t,i){!i||!t||e.find(r=>r.layerView===t&&r.text===i)||e.push({text:i,layerView:t})}function m2e(e){return e.type==="bing-maps"}const Ga=[];let $f=class extends Te{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new pe,this.view=null,this._allLayerViewsChange=i=>{var s;this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const r=(s=this.view)==null?void 0:s.allLayerViews;r&&(this.addHandles(r.map(n=>xe(()=>{var o;return[n.suspended,(o=n.layer)==null?void 0:o.attributionVisible]},()=>this._updateAttributionItems())).toArray(),"suspension"),r.forEach(n=>{n.declaredClass==="esri.views.3d.layers.Tiles3DLayerView3D"&&this.addHandles(n.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),i!=null&&i.removed&&i.removed.forEach(n=>{this._pendingAttributions.delete(n),this._fetchedAttributionData.delete(n)}),this._updateAttributionItems()},this.addHandles([Io(()=>{var i;return(i=this.view)==null?void 0:i.allLayerViews},"change",i=>this._allLayerViewsChange(i),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),$s(()=>{var i;return((i=this.view)==null?void 0:i.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var t;return(t=this.view)!=null&&t.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,i=t==null?void 0:t.allLayerViews;if(Ga.length=0,!t||!i)return void this._clear();i.forEach(s=>{var c,d;if(s.suspended||!((c=s.layer)!=null&&c.attributionVisible))return;const n=s.layer;if(Aj(n,"user"))return void Fg(Ga,s,n.copyright);if(n.hasAttributionData){if(this._fetchedAttributionData.has(s)){const f=this._fetchedAttributionData.get(s);return void(f?Fg(Ga,s,this._getDynamicAttribution(f,t,n)):Aj(n)&&Fg(Ga,s,n.copyright))}return void this._fetchAttributionData(s)}const o="portalItem"in n?(d=n.portalItem)==null?void 0:d.accessInformation:void 0;Fg(Ga,s,o||n.copyright)});const r=i.find(s=>{var n;return((n=s.layer)==null?void 0:n.type)==="integrated-mesh-3dtiles"});if(this.view&&r){const s=p2e(this.view);if(s){const n=s.getAttributionText();for(let o=0;o<n.length;++o)Fg(Ga,r,n[o])}}f2e(this.items,Ga)&&(this.items.removeAll(),this.items.addMany(Ga)),Ga.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const i=await ET(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const r=i.ok?this._createContributionIndex(i.value,m2e(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,r)}this._updateAttributionItems()}_createContributionIndex(t,i){const r=t.contributors,s={};if(!r)return s;for(let n=0;n<r.length;n++){const o=r[n],c=o.coverageAreas;if(!c)return;for(const d of c){const f=d.bbox,g=d.zoomMin-(i&&d.zoomMin?1:0),v=d.zoomMax-(i&&d.zoomMax?1:0),_=new Pt({xmin:f[1],ymin:f[0],xmax:f[3],ymax:f[2],spatialReference:Ge.WGS84}),S={extent:Th(_),attribution:o.attribution||"",score:d.score!=null?d.score:100,id:n};for(let T=g;T<=v;T++)s[T]??(s[T]=[]),s[T].push(S)}}return s.maxKey=Math.max.apply(null,Object.keys(s)),s}_getDynamicAttribution(t,i,r){var g;const{extent:s,scale:n}=i;let o=((g=r.tileInfo)==null?void 0:g.scaleToZoom(n))??0;if(o=Math.min(t.maxKey??0,Math.round(o)),!s||o==null||o<=-1)return"";const c=t[o],d=_T(s.center.clone().normalize(),Ge.WebMercator),f=new Set;return c?c.filter(v=>{const _=v.id,S=!f.has(_)&&d&&v.extent&&v1(v.extent,d);return S&&f.add(_),S}).sort((v,_)=>_.score-v.score||v.objectId-_.objectId).map(v=>v.attribution).join(", "):""}};u([h({readOnly:!0,type:pe})],$f.prototype,"items",void 0),u([h({readOnly:!0})],$f.prototype,"state",null),u([h()],$f.prototype,"view",void 0),$f=u([A("esri.widgets.Attribution.AttributionViewModel")],$f);const VY=$f,Fr={button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",heading:"esri-widget__heading",hidden:"esri-hidden",interactive:"esri-interactive",panel:"esri-widget--panel",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button"};function y2e(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:v2e(e[t])}}}function g2e(e){const t=e==null?void 0:e.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function v2e(e){return function(t,...i){g2e(t)?bhe(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...i)}}function Oc(e){return(t,i)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}var b2e=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},GY=function(e,t){for(var i=0,r=e.length;i<r;i++){var s=e[i];Array.isArray(s)?GY(s,t):s!=null&&s!==!1&&(s.hasOwnProperty("vnodeSelector")||(s=b2e(s)),t.push(s))}},_2e=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var s=[];return GY(i,s),{vnodeSelector:e,properties:t||void 0,children:s,text:void 0,domNode:null}};function we(e,t,...i){return typeof e!="function"||B2(e)?_2e(e,t??null,...i):e(t,...i)}function xke(...e){return e}const Kp="esri-attribution",ef={base:Kp,poweredBy:`${Kp}__powered-by`,sources:`${Kp}__sources`,open:`${Kp}--open`,sourcesOpen:`${Kp}__sources--open`,link:`${Kp}__link`};let Zr=class extends Vc{constructor(t,i){super(t,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(r=>r.forEach(({target:s})=>this._checkSourceTextOverflow(s))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new VY}initialize(){this.addHandles(Io(()=>{var t;return(t=this.viewModel)==null?void 0:t.items},"change",()=>this.scheduleRender()))}destroy(){var t;(t=this._resizeObserver)==null||t.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,i)=>(t.includes(i.text)||t.push(i.text),t),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[ef.open]:this._isOpen};return we("div",{bind:this,class:this.classes(ef.base,Fr.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return we("div",{class:ef.poweredBy},"Powered by"," ",we("a",{class:ef.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const t=this._isOpen,i=this._isInteractive,r=i?0:void 0,{attributionText:s}=this,n={[ef.sourcesOpen]:t,[Fr.interactive]:i};return we("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(ef.sources,n),innerHTML:s,tabIndex:r})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let i=!1;const{clientHeight:r,clientWidth:s,scrollWidth:n}=t,o=n>s,c=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,c&&(i=!0),this._isOpen){const d=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,d&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};u([h()],Zr.prototype,"_isOpen",void 0),u([h()],Zr.prototype,"_isInteractive",null),u([h()],Zr.prototype,"_attributionTextOverflowed",void 0),u([h()],Zr.prototype,"_prevSourceNodeHeight",void 0),u([h({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Zr.prototype,"attributionText",null),u([h()],Zr.prototype,"icon",null),u([h()],Zr.prototype,"itemDelimiter",void 0),u([h()],Zr.prototype,"label",null),u([h(),Oc("esri/widgets/Attribution/t9n/Attribution")],Zr.prototype,"messages",void 0),u([h()],Zr.prototype,"view",null),u([h({type:VY})],Zr.prototype,"viewModel",void 0),u([y2e()],Zr.prototype,"_toggleState",null),Zr=u([A("esri.widgets.Attribution")],Zr);const w2e=Zr;function S2e(){const e=B("mapview-essential-goto-duration");return e==null?e:e}function T2e(e){var t,i;return((t=e==null?void 0:e.spatialReference)==null?void 0:t.isWebMercator)||((i=e==null?void 0:e.spatialReference)==null?void 0:i.isGeographic)||!1}const E2e=e=>{let t=class extends e{constructor(...i){super(...i),this.goToOverride=null,this.view=null}callGoTo(i){const{view:r}=this;return qV(r),this.goToOverride?this.goToOverride(r,i):r.goTo(i.target,i.options)}};return u([h()],t.prototype,"goToOverride",void 0),u([h()],t.prototype,"view",void 0),t=u([A("esri.widgets.support.GoTo")],t),t};let Zd=class extends E2e(Te){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(Nt)}destroy(){this.view=null}get canShowNorth(){return T2e(this.view)}get state(){var t;return!((t=this.view)!=null&&t.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var t,i;(t=this.view)!=null&&t.ready&&(((i=this.view)==null?void 0:i.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:S2e()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){t!=null&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;const i=-t.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(t){this.removeAllHandles(),this._watchForView(),t&&this.addHandles(t.type==="2d"?xe(()=>t==null?void 0:t.rotation,this._updateForRotation,Nt):xe(()=>t==null?void 0:t.camera,this._updateForCamera,Nt))}_watchForView(t){this.addHandles(xe(()=>this.view,this._updateRotationWatcher,t))}};u([h({readOnly:!0})],Zd.prototype,"canShowNorth",null),u([h({readOnly:!0})],Zd.prototype,"orientation",void 0),u([h({readOnly:!0})],Zd.prototype,"state",null),u([h()],Zd.prototype,"view",void 0),Zd=u([A("esri.widgets.Compass.CompassViewModel")],Zd);const qY=Zd,Oj="esri-compass",Cj={base:Oj,iconContainer:`${Oj}__icon-container`};let sl=class extends Vc{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new qY,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=r=>({transform:`rotateZ(${r.z}deg)`})}loadDependencies(){return sy({button:()=>te(()=>import("./index-CzCOC5St.js"),__vite__mapDeps([268,269,270,271,272,273,274,275,276,277,278,279,280])),icon:()=>te(()=>import("./index-DW0ZHRNK.js").then(t=>t.i),__vite__mapDeps([272,273,270,274]))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:i}=this.viewModel,{messages:r}=this;return we("div",{class:this.classes(Cj.base,Fr.widget)},we("calcite-button",{class:Fr.widgetButton,disabled:i==="disabled",kind:"neutral",label:r.reset,onclick:this._reset,round:!0,scale:"s",title:r.reset},we("div",{"aria-hidden":"true",class:Cj.iconContainer,title:r.reset},we("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};u([h()],sl.prototype,"goToOverride",null),u([h()],sl.prototype,"icon",null),u([h()],sl.prototype,"label",null),u([h(),Oc("esri/widgets/Compass/t9n/Compass")],sl.prototype,"messages",void 0),u([h()],sl.prototype,"view",null),u([h({type:qY})],sl.prototype,"viewModel",void 0),sl=u([A("esri.widgets.Compass")],sl);const $2e=sl,Ij="esri-navigation-toggle",Rj={base:Ij,isLayoutHorizontal:`${Ij}--horizontal`};let xf=class extends Te{constructor(t){super(t),this._navigationMode="pan",this.view=null}initialize(){this.addHandles($s(()=>{var t,i;return(i=(t=this.view)==null?void 0:t.navigation)==null?void 0:i.actionMap},()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){var t,i;return(t=this.view)!=null&&t.ready&&((i=this.view)==null?void 0:i.type)==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._updateNavigationActionMap()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_updateNavigationActionMap(){var r,s;const t=(s=(r=this.view)==null?void 0:r.navigation)==null?void 0:s.actionMap;if(!t)return;const i=this._navigationMode==="pan";t.dragPrimary=i?"pan":"rotate",t.dragSecondary=i?"rotate":"pan"}};u([h({readOnly:!0})],xf.prototype,"state",null),u([h()],xf.prototype,"_navigationMode",void 0),u([h()],xf.prototype,"view",void 0),xf=u([A("esri.widgets.NavigationToggle.NavigationToggleViewModel")],xf);const BY=xf;let nl=class extends Vc{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new BY,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{var s;const r=((s=this.viewModel)==null?void 0:s.navigationMode)==="pan"?this._rotateButton:this._panButton;dv(r),this.toggle()}}loadDependencies(){return sy({button:()=>te(()=>import("./index-CzCOC5St.js"),__vite__mapDeps([268,269,270,271,272,273,274,275,276,277,278,279,280]))})}get icon(){return"move"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){var s,n;const t=((s=this.viewModel)==null?void 0:s.state)==="disabled",i=((n=this.viewModel)==null?void 0:n.navigationMode)==="pan",r=this.messages.toggle;return we("div",{class:this.classes(Rj.base,Fr.widget,{[Rj.isLayoutHorizontal]:this.layout==="horizontal"})},we("calcite-button",{afterCreate:o=>{this._panButton=o},appearance:i?"outline-fill":"solid",class:Fr.widgetButton,disabled:t,iconStart:"move",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?void 0:-1,title:r}),we("calcite-button",{afterCreate:o=>{this._rotateButton=o},appearance:i?"solid":"outline-fill",class:Fr.widgetButton,disabled:t,iconStart:"rotate",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?-1:void 0,title:r}))}};u([h()],nl.prototype,"icon",null),u([h()],nl.prototype,"label",null),u([h({value:"vertical"})],nl.prototype,"layout",null),u([h(),Oc("esri/widgets/NavigationToggle/t9n/NavigationToggle")],nl.prototype,"messages",void 0),u([h()],nl.prototype,"view",null),u([h({type:BY})],nl.prototype,"viewModel",void 0),nl=u([A("esri.widgets.NavigationToggle")],nl);const x2e=nl;let Yd=class extends Te{get canZoomIn(){var r,s,n;if(!((r=this.view)==null?void 0:r.ready))return!1;const i=(n=(s=this.view)==null?void 0:s.constraints)==null?void 0:n.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){var s;const{view:t}=this;if(!(t==null?void 0:t.ready))return!1;const r=(s=t.constraints)==null?void 0:s.effectiveMinScale;return r===0||this._scale<r}get _scale(){var i,r,s;const t=(r=(i=this.view)==null?void 0:i.animation)==null?void 0:r.target;return(t&&"then"in t||t==null?void 0:t.scale)??((s=this.view)==null?void 0:s.scale)??0}};u([h({readOnly:!0})],Yd.prototype,"canZoomIn",null),u([h({readOnly:!0})],Yd.prototype,"canZoomOut",null),u([h()],Yd.prototype,"view",void 0),u([h()],Yd.prototype,"_scale",null),Yd=u([A("esri.widgets.Zoom.ZoomConditions2D")],Yd);const M2e=Yd;let Mf=class extends Te{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};u([h({readOnly:!0})],Mf.prototype,"canZoomIn",null),u([h({readOnly:!0})],Mf.prototype,"canZoomOut",null),u([h()],Mf.prototype,"view",void 0),Mf=u([A("esri.widgets.Zoom.ZoomConditions3D")],Mf);const A2e=Mf;let ju=class extends Te{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var t;return this._zoomConditions!=null&&((t=this._zoomConditions)==null?void 0:t.canZoomOut)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new M2e({view:t}):t.type==="3d"&&(this._zoomConditions=new A2e({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){const t=this.view;this.canZoomIn&&t&&(t.type==="2d"?t.mapViewNavigation.zoomIn():Lv(t.goTo({zoomFactor:2})))}zoomOut(){const t=this.view;this.canZoomOut&&t&&(t.type==="2d"?t.mapViewNavigation.zoomOut():Lv(t.goTo({zoomFactor:.5})))}};u([h()],ju.prototype,"_zoomConditions",void 0),u([h()],ju.prototype,"canZoomIn",null),u([h()],ju.prototype,"canZoomOut",null),u([h({readOnly:!0})],ju.prototype,"state",null),u([h()],ju.prototype,"view",null),ju=u([A("esri.widgets.Zoom.ZoomViewModel")],ju);const HY=ju,Lj={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let ol=class extends Vc{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new HY,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return sy({button:()=>te(()=>import("./index-CzCOC5St.js"),__vite__mapDeps([268,269,270,271,272,273,274,275,276,277,278,279,280]))})}get icon(){return"magnifying-glass-plus"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t={[Lj.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:r}=this.viewModel,{zoomIn:s,zoomOut:n}=this.messages;return we("div",{class:this.classes(Lj.base,Fr.widget,t)},we("calcite-button",{class:Fr.widgetButton,disabled:!i,iconStart:"plus",kind:"neutral",label:s,onclick:this.zoomIn,title:s}),we("calcite-button",{class:Fr.widgetButton,disabled:!r,iconStart:"minus",kind:"neutral",label:n,onclick:this.zoomOut,title:n}))}};u([h()],ol.prototype,"icon",null),u([h()],ol.prototype,"label",null),u([h({value:"vertical"})],ol.prototype,"layout",null),u([h(),Oc("esri/widgets/Zoom/t9n/Zoom")],ol.prototype,"messages",void 0),u([h()],ol.prototype,"view",null),u([h({type:HY})],ol.prototype,"viewModel",void 0),ol=u([A("esri.widgets.Zoom")],ol);const O2e=ol;function C2e(e){return(e==null?void 0:e.view)!==void 0}let hS=class extends kSe{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=i=>{this.components.forEach(r=>{const s=this._find(r),n=s==null?void 0:s.widget;C2e(n)&&(n.view=i)})},this._componentsWatcher=(i,r)=>{this._removeComponents(r),this._addComponents(i),this._adjustPadding(i)}}initialize(){this.addHandles([xe(()=>this.components,this._componentsWatcher,Nt),xe(()=>this.view,this._updateViewAwareWidgets,Nt)])}_add(t,i,r,s,n){let o=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;o=this._createComponent(t)}super._add(o,i,r,s,n)}_removeComponents(t){t.forEach(i=>{const r=this._find(i);r&&(this.remove(r),r.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:i}=this.padding;this.padding=i}}_addComponents(t){this.constructed&&t.forEach(i=>this.add(this._createComponent(i),this._defaultPositionLookup[i]))}_createComponent(t){const i=this._createWidget(t);return new dS({id:t,node:i})}_createWidget(t){const i=this.view;switch(t){case"attribution":return new w2e({view:i});case"compass":return new $2e({view:i});case"navigation-toggle":return new x2e({view:i});case"zoom":return new O2e({view:i})}}};u([h()],hS.prototype,"components",void 0),hS=u([A("esri.views.ui.DefaultUI")],hS);const WY=hS;let pS=class extends WY{constructor(t){super(t),this.components=["attribution","zoom"]}};u([h()],pS.prototype,"components",void 0),pS=u([A("esri.views.ui.2d.DefaultUI2D")],pS);const ZY=pS;let YY=class FC{constructor(t,i,r=""){this.major=t,this.minor=i,this._context=r}lessThan(t,i){return this.major<t||t===this.major&&this.minor<i}greaterEqual(t,i){return!this.lessThan(t,i)}validate(t){if(this.major!==t.major){const i=this._context&&this._context+":",r=this._context&&this._context+" ";throw new z(i+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new FC(this.major,this.minor,this._context)}static parse(t,i=""){const[r,s]=t.split("."),n=/^\s*\d+\s*$/;if(!(r!=null&&r.match)||!n.test(r))throw new z((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!(s!=null&&s.match)||!n.test(s))throw new z((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const o=parseInt(r,10),c=parseInt(s,10);return new FC(o,c,i)}},I2e=class extends YY{constructor(t,i){super(t,i,"webmap")}};function e3(e){return e!=null&&typeof e=="object"&&"declaredClass"in e&&e.declaredClass==="esri.WebMap"}new I2e(2,33);var jC;let fS=jC=class extends K{constructor(e){super(e),this.color=new Ne([0,0,0,1])}clone(){return new jC(j({color:this.color}))}};u([h({type:Ne,json:{write:!0}})],fS.prototype,"color",void 0),fS=jC=u([A("esri.webmap.background.ColorBackground")],fS);const R2e=fS;let JY,XY,QY,KY,eJ,tJ,iJ;async function L2e(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:i,MapViewNavigation:r,MagnifierView2D:s,GridView2D:n,Stage:o}]=await Promise.all([te(()=>import("./webglDeps-CQkp6Pqd.js"),__vite__mapDeps([188,145,15,189,190,191])),te(()=>import("./mapViewDeps-B8KmNjfA.js"),__vite__mapDeps([192,110,76,193,74,75,16,15,77,78,79,80,72,83,194,189,145,190,149,125,73,43,195,71,101,196,197,132,131,87,20,14,21,81,89,198,84,85,86,199,4,130,188,191,200,96,201,70,18,11,25,24,202,138,139,123,147,203,59,204,88,205,206,82,207,48,93,68,208,209,210,211,141,212,213]))]);XY=e,QY=t,KY=i,eJ=r,tJ=s,iJ=n,JY=o}let nt=class extends c_e(bde(Zhe(Nhe(v0e)))){constructor(t){super(t),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new jv({getCollections:()=>{var i,r;return[(i=this.basemapView)==null?void 0:i.baseLayerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new XT({actionMap:new eN({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new pe,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new IY,this.type="2d",this.view2dType=null,this.ui=new ZY,this.test={takeScreenshot:async i=>gSe(this._getScreenshotView(i),i)},this.padding={top:0,right:0,bottom:0,left:0},Mce()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=Gt(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new Ewe(this.featuresTilingScheme)}get constraintsInfo(){var r,s;const t=(r=this.defaultsFromMap)==null?void 0:r.tileInfo,i=this.spatialReference;return{lods:(s=t==null?void 0:t.spatialReference)!=null&&s.equals(i)?t.lods:null,spatialReference:i}}get initialExtentRequired(){var c;if(!this.stateManager)return!1;const{scale:t,constraints:i,center:r,viewpoint:s,extent:n}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((c=this.map.initialViewProperties)!=null&&c.viewpoint))&&!n&&(i!=null&&i.effectiveLODs||(o=-1),(!r||t===0&&o===-1)&&((s==null?void 0:s.targetGeometry)==null||s.targetGeometry.type!=="extent"&&!s.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const t=this._getDefaultViewpoint();if(!t)return!1;const i=t.targetGeometry,r=this.spatialReference;return fB(i.spatialReference,r)}get background(){return e3(this.map)?this.map.initialViewProperties.background:null}set background(t){this._override("background",t)}get center(){var t;return((t=this.stateManager)==null?void 0:t.center)??null}set center(t){this.stateManager.center=t}get highlightOptions(){return tSe(this)}set highlightOptions(t){iSe(this,t)}get padding(){var t;return(t=this.stateManager)==null?void 0:t.padding}set padding(t){this.stateManager&&(this.stateManager.padding=t)}get rendering(){var t;return((t=this.stage)==null?void 0:t.renderRequested)??!1}get resolution(){return this.stateManager.resolution??0}get scale(){var t;return((t=this.stateManager)==null?void 0:t.scale)??0}set scale(t){this.stateManager&&(this.stateManager.scale=t)}get tileInfo(){var t;return(t=this.featuresTilingScheme)==null?void 0:t.tileInfo}get updating(){var r,s,n,o;const t=!(!this.magnifier.visible||this.magnifier.position===null||!((r=this._magnifierView)!=null&&r.updatingHandles.updating)),i=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(c=>!c.destroyed&&!("layerViews"in c)&&c.updating===!0)||t);if(B("esri-2d-log-updating")){const c=this.allLayerViews.reduce((d,f)=>({...d,[`${f.layer.id}(${f.layer.type})`]:!f.destroyed&&!("layerViews"in f)&&f.updating}),{});console.log(`Updating MapView: ${i}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(s=this.layerViewManager)==null?void 0:s.updating}
-> labelManager.updating: ${(n=this.labelManager)==null?void 0:n.updating}
-> graphicsView.updating: ${(o=this.graphicsView)==null?void 0:o.updating}
-> allLayerViews: ${JSON.stringify(c)}
-> updatingMagnifier: ${t}
`)}return i}get visibleArea(){const t=this.stateManager.visibleArea;return t&&new Pn({rings:[t.map(i=>[i[0],i[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(t){this.stateManager.zoom=t}get navigating(){var t;return((t=this.mapViewNavigation)==null?void 0:t.interacting)??!1}async hitTest(t,i){return rSe(this,t,i)}async takeScreenshot(t){return ySe(this._getScreenshotView(t),t)}toMap(t){if(!this.ready)return null;const i=zW(t)?UW(this,t):t;return this.stateManager.toMap(i)}toScreen(t,i){return this.stateManager.toScreen(t,i)}whenLayerView(t){return super.whenLayerView(t)}graphicChanged(t){this.graphicsView&&this.graphicsView.graphicUpdateHandler(t)}whenReady(){return new Promise(t=>{this.ready?t(this):this._resolveWhenReady.push(t)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var t;return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||((t=this.defaultsFromMap)==null?void 0:t.spatialReference)||null}getDefaultTimeZone(){return e3(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return e3(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(t){return k8.hasLayerViewModule(t)}importLayerView(t){return k8.importLayerView(t)}pixelSizeAt(){return this.ready?this.resolution:(ne.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(t){var f;const i=this.toMap(t),r=await this.hitTest(t),s=this.allLayerViews.toArray().filter(g=>g.clips.every(v=>_Y(this,v,t,i))).reverse(),n=new globalThis.Map(s.map(g=>[g.layer.uid,g])),o=[];let c=0,d=0;for(;c<r.results.length||d<s.length;){const g=r.results.at(c);if(g&&g.type!=="graphic"){++c;continue}const v=n.get((f=(g==null?void 0:g.layer)??(g==null?void 0:g.graphic.layer))==null?void 0:f.uid);if((!g||v)&&d<s.length&&s.at(d)!==v){const _=s.at(d);"fetchPopupFeaturesAtLocation"in _&&o.push({mapPoint:i,layerView:_}),++d}else g&&(o.push({graphic:g.graphic,layerView:v}),++c)}return{hits:o,location:i}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let t=MSe(this.type);if(B("safari")&&B("safari")<9&&(t=new z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:B("safari")})),t!=null)throw ne.getLogger(this).warn("#validate()",t.message),t}loadAsyncDependencies(){return L2e()}_getDefaultViewpoint(){var M;const{constraints:t,initialExtent:i,map:r,padding:s,size:n}=this;if(!t)return null;const o=r&&"initialViewProperties"in r?r.initialViewProperties:void 0,c=this.stateManager.getUserStartupOptions(this.size),d=o==null?void 0:o.viewpoint,f=((M=d==null?void 0:d.targetGeometry)==null?void 0:M.extent)??i,g=f==null?void 0:f.center,v=(d==null?void 0:d.rotation)??0,_=(d==null?void 0:d.scale)||f&&eE(f,[n[0]-s.left-s.right,n[1]-s.top-s.bottom]),S=c.center??g,T=c.rotation??v,E=c.scale??_;return S&&E?new Rn({targetGeometry:S,scale:E,rotation:T}):null}_startup(){var c;this.timeline.begin("MapView Startup");const t=this._getDefaultViewpoint();this.stateManager.startup(t,this.size,this.spatialReference,(c=this.defaultsFromMap.extent)==null?void 0:c.center),this.graphics.owner=this;const i=new JY(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=i,this._magnifierView=new tJ,this._magnifierView.magnifier=this.magnifier,this._gridView=new iJ;const r=new KY({view:this});this._set("labelManager",r);const s=new owe({view:this});this._set("animationManager",s);const n=new eJ({view:this,animationManager:s});this._set("mapViewNavigation",n),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),i.on("webgl-error",d=>this.fatalError=d.error),xe(()=>this.stationary,d=>i.stationary=d,gs),xe(()=>this.background,d=>{i.backgroundColor=d==null?void 0:d.color,this._magnifierView.backgroundColor=d==null?void 0:d.color},gs),xe(()=>this.magnifier,d=>this._magnifierView.magnifier=d,gs),xe(()=>this.grid,d=>this._gridView.grid=d,gs),xe(()=>this.renderingOptions,d=>i.renderingOptions=d,gs),xe(()=>this.highlights.items.map(d=>({name:d.name,options:{fillColor:d.color,haloColor:d.haloColor,fillOpacity:d.fillOpacity,haloOpacity:d.haloOpacity,haloWidth:d.haloWidth,haloBlur:d.haloBlur}})),()=>{i.highlightGradient=Kwe(i.highlightGradient,this.highlights.items)},gs),xe(()=>this.state.id,()=>i.state=this.state,gs)],"map-view"),this._updateStageChildren();const o=this._resolveWhenReady;this._resolveWhenReady=[],o.forEach(d=>d(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(i=>{this.stage.addChild(i.container)});const t=this.graphicsView;this.stage.addChild(t.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const t=new hwe(gde.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",t);const i=new XY({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new QY(t)});this._set("graphicsView",i)}_destroySpatialReferenceDependentProperties(){const t=this.graphicsView;this._set("graphicsView",null),t.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(t){var o;const{allLayerViews:i,padding:r,size:s,stage:n}=this;return{allLayerViews:i,backgroundColor:t!=null&&t.ignoreBackground?null:(o=this.background)==null?void 0:o.color,padding:r,size:s,stage:n}}_spatialReferenceChanged(t){if(this.ready){this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(t),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};nt.type="2d",u([h({constructOnly:!0})],nt.prototype,"deactivatedWebGLExtensions",void 0),u([h({constructOnly:!0})],nt.prototype,"debugWebGLExtensions",void 0),u([h({readOnly:!0})],nt.prototype,"featuresTilingScheme",void 0),u([h({readOnly:!0})],nt.prototype,"graphicsTileStore",null),u([h()],nt.prototype,"graphicsView",void 0),u([h()],nt.prototype,"constraintsInfo",null),u([h()],nt.prototype,"initialExtentRequired",null),u([h()],nt.prototype,"labelManager",void 0),u([h({type:XT,nonNullable:!0})],nt.prototype,"navigation",void 0),u([h({constructOnly:!0})],nt.prototype,"renderCanvas",void 0),u([h()],nt.prototype,"renderingOptions",void 0),u([h({constructOnly:!0})],nt.prototype,"supersampleScreenshotsEnabled",void 0),u([h({readOnly:!0})],nt.prototype,"supportsGround",void 0),u([h()],nt.prototype,"defaultsFromMapSettings",null),u([h({readOnly:!0})],nt.prototype,"typeSpecificPreconditionsReady",null),u([h({type:R2e})],nt.prototype,"background",null),u([h()],nt.prototype,"center",null),u([h({type:pe})],nt.prototype,"floors",void 0),u([h()],nt.prototype,"grid",void 0),u([h({type:yc})],nt.prototype,"highlightOptions",null),u([h()],nt.prototype,"map",void 0),u([h()],nt.prototype,"padding",null),u([h({readOnly:!0})],nt.prototype,"rendering",null),u([h({readOnly:!0})],nt.prototype,"resolution",null),u([h()],nt.prototype,"scale",null),u([h({constructOnly:!0})],nt.prototype,"spatialReferenceLocked",void 0),u([h({readOnly:!0})],nt.prototype,"tileInfo",null),u([h({type:IY,readOnly:!0})],nt.prototype,"timeline",void 0),u([h({readOnly:!0})],nt.prototype,"type",void 0),u([h({readOnly:!0})],nt.prototype,"updating",null),u([h({readOnly:!0})],nt.prototype,"view2dType",void 0),u([h({readOnly:!0})],nt.prototype,"visibleArea",null),u([h()],nt.prototype,"zoom",null),u([h({readOnly:!0})],nt.prototype,"navigating",null),u([h(),ht(e=>e instanceof WY?e:c1(ZY,e))],nt.prototype,"ui",void 0),nt=u([A("esri.views.View2D")],nt);const N2e=nt;let mS=class extends N2e{constructor(t){super(t),this.view2dType="map"}};u([h({readOnly:!0})],mS.prototype,"view2dType",void 0),mS=u([A("esri.views.MapView")],mS);const P2e=mS,_n="esri-layer-list",qa=`${_n}__item`,jg={base:_n,actionMenu:`${_n}__action-menu`,actionGroup:`${_n}__action-group`,filterNoResults:`${_n}__filter-no-results`,item:qa,itemActive:`${qa}--active`,itemContentBottom:`${qa}-content-bottom`,itemMessage:`${qa}-message`,itemActionIcon:`${qa}-action-icon`,itemActionImage:`${qa}-action-image`,itemTemporaryIcon:`${qa}-temporary-icon`,itemTableIcon:`${qa}-table-icon`,itemCatalogIcon:`${qa}-catalog-icon`,statusIndicator:`${_n}__status-indicator`,publishing:`${_n}__publishing`,updating:`${_n}__updating`,connectionStatus:`${_n}__connection-status`,connectionStatusConnected:`${_n}__connection-status--connected`,visibleToggle:`${_n}__visible-toggle`,visibleIcon:`${_n}__visible-icon`};function Nj(e){return e.icon?e.icon:"image"in e&&e.image||e.className?void 0:"question"}function D2e(e){return e?{backgroundImage:`url(${e})`}:{}}function zke({action:e,feature:t}){const i=t==null?void 0:t.attributes,r="image"in e?e.image:void 0;return r&&i?nce(r,i):r??""}const rJ={hide:"hide",hideChildren:"hide-children"},k2e=10,F2e=2;function j2e({exclusive:e,visible:t,visibilityAppearance:i}){const r=i==="checkbox";return t?e?"circle-f":r?"check-square-f":"view-visible":e?"circle":r?"square":"view-hide"}function U2e({connectionStatus:e,publishing:t}){return e?e==="connected"?"beacon":"offline":t?"square":"bullet-point"}function z2e(e){return(e==null?void 0:e.listMode)===rJ.hideChildren}function H2(e){return(e==null?void 0:e.listMode)??void 0}function V2e(e){return e!=null&&"minScale"in e&&e.minScale!=null?e.minScale:void 0}function G2e(e){return e!=null&&"maxScale"in e&&e.maxScale!=null?e.maxScale:void 0}function q2e(e){if(!e)return"inherited";const t=X2e(_N(e)?e.layer:e);return t!=null?t?"independent":"inherited":"visibilityMode"in e&&e.visibilityMode!=null?e.visibilityMode:"independent"}function B2e(e){e==null||e.removeMany(e.filter(t=>t==null?void 0:t.destroyed))}function sJ(e){if(e&&(!("type"in e)||e.type!=="wmts"))return"sublayers"in e?"sublayers":"layers"in e?"layers":void 0}function H2e(e,t){e&&(e.filterPredicate=t?i=>t(go(i)):void 0)}function W2e(e){const t=(e!=null&&e.layer&&_N(e.layer)?e.layer.layer:void 0)??(e==null?void 0:e.layer);return!!t&&t.type!=="catalog"&&(Q2e(t)??!0)}function Z2e(e){return H2(e)!==rJ.hide}function Y2e(e,t){if(!e||t==null||isNaN(t))return!1;const i=V2e(e),r=G2e(e),s=i!=null&&!isNaN(i)&&i>0&&t>i,n=r!=null&&!isNaN(r)&&r>0&&t<r;return s||n}function nJ(e,t){e==null||e.sort((i,r)=>{const s="uid"in i?t.indexOf(i.uid):-1,n="uid"in r?t.indexOf(r.uid):-1;return s>n?-1:s<n?1:0})}function J2e(e,t){const i=e==null?void 0:e.layer;if(!i)return;const r=sJ(i);if(!r)return;let s;r==="layers"&&"layers"in i?s=i.layers:r==="sublayers"&&"sublayers"in i&&(s=i.sublayers),nJ(s,t)}function Pj(e){const t=e==null?void 0:e.layer;return t&&"layers"in t?t.layers:null}function _N(e){return e!=null&&"layer"in e&&e.layer!=null}function X2e(e){const t=oJ(e);return t!=null&&"supportsSublayerVisibility"in t?t.supportsSublayerVisibility:void 0}function Q2e(e){const t=oJ(e);return t!=null&&"supportsDynamicLayers"in t?t.supportsDynamicLayers:void 0}function oJ(e){return e&&"capabilities"in e&&e.capabilities!=null&&"exportMap"in e.capabilities?e.capabilities.exportMap:void 0}function go(e){return e==null?void 0:e["data-item"]}function Dj(e){return e==null?void 0:e.getAttribute("data-layer-type")}function K2e(e){const{children:t,error:i}=e,r="incompatible"in e&&e.incompatible;return!!(t!=null&&t.filter(s=>!s.hidden).length)&&!i&&!r}function eTe(e){for(const t of e)for(const i of t)if(i.type==="button"||i.type==="toggle")return i}var UC;let We=UC=class extends Vc{constructor(e){super(e),this.dragEnabled=!1,this.listModeDisabled=!1,this.parent=null,this.parentTitles=null,this.viewModel=null,this._onActionMenuOpen=t=>{this.item.actionsOpen=t.currentTarget.open},this._setTooltipReference=t=>{var i,r;(r=this.onTooltipReferenceChange)==null||r.call(this,(i=this.item.layer)==null?void 0:i.uid,t)},this._removeTooltipReference=()=>{var t,i;(i=this.onTooltipReferenceChange)==null||i.call(this,(t=this.item.layer)==null?void 0:t.uid,null)}}loadDependencies(){return sy({"action-group":()=>te(()=>import("./index-DdFtaati.js").then(e=>e.i),__vite__mapDeps([281,269,270,271,272,273,274,282,283,275,278,280,284,285,286,287,276,288,289,290,291,292])),"action-menu":()=>te(()=>import("./index-Bf4svpi4.js").then(e=>e.i),__vite__mapDeps([291,269,270,271,272,273,274,282,283,275,278,280,284,285,286,287,276,288,289,290,292])),action:()=>te(()=>import("./index-9QiumRAd.js"),__vite__mapDeps([282,269,270,271,272,273,274,283,275,278,280])),icon:()=>te(()=>import("./index-DW0ZHRNK.js").then(e=>e.i),__vite__mapDeps([272,273,270,274])),"list-item":()=>te(()=>import("./index-lQk5MXn1.js"),__vite__mapDeps([293,272,273,270,274,294,275,285,286,278,290,280,287,295,269,271,282,283,296,297,298,299,300])),list:()=>te(()=>import("./index-DOtwgvdB.js"),__vite__mapDeps([301,269,270,271,302,275,274,273,283,272,303,304,305,276,277,278,290,279,280,286,299])),notice:()=>te(()=>import("./index-e7r65iLU.js"),__vite__mapDeps([306,272,273,270,274,275,280,287,271]))})}render(){var S,T;const e=this.parentTitles??[],{_title:t,item:i,activeItem:r,selectionMode:s,selectedItems:n,messages:o,parent:c,css:d}=this,f="visibleAtCurrentTimeExtent"in i&&"layerInvisibleAtTime"in o&&!i.visibleAtCurrentTimeExtent?`${t} (${o.layerInvisibleAtTime})`:"visibleAtCurrentScale"in i&&"layerInvisibleAtScale"in o&&!i.visibleAtCurrentScale?`${t} (${o.layerInvisibleAtScale})`:t,g="parent"in i&&((T=(S=i.parent)==null?void 0:S.layer)==null?void 0:T.type)==="catalog",{layer:v}=i,_="visibleAtCurrentScale"in i&&!i.visibleAtCurrentScale||"visibleAtCurrentTimeExtent"in i&&!i.visibleAtCurrentTimeExtent;return we("calcite-list-item",{afterCreate:E=>this._focusSelectedDragEl(E,i),afterUpdate:E=>this._focusSelectedDragEl(E,i),class:this.classes(d.item,"itemActive"in d&&{[d.itemActive]:r===i}),"data-item":i,"data-layer-id":v==null?void 0:v.id,dragDisabled:!i.sortable||g,id:v==null?void 0:v.uid,key:`list-item-${v==null?void 0:v.uid}`,label:t,metadata:{parentTitles:e,_title:t},open:"open"in i&&i.open,selected:s!=="none"&&n.includes(i),title:f,unavailable:_,value:v==null?void 0:v.uid,onCalciteListItemSelect:E=>"visible"in i&&this._handleCalciteListItemSelect(E,i,c),onCalciteListItemToggle:E=>"open"in i&&this._handleCalciteListItemToggle(E,i)},this._renderedCatalogFootprintIcon,this._renderedCatalogDynamicIcon,this._renderedItemStatus,this._renderedItemToggle,this._renderedCatalogSelectNode,this._renderedItemTemporaryIcon,this._renderedChildList,this._renderedItemMessage,this._renderedPanel,this._renderedPanelAction,this._renderedActions)}get _title(){const{messages:e}=this;return this.item.title||("untitledTable"in e?e.untitledTable:e.untitledLayer)}get _renderedItemStatus(){const{item:e,parent:t,visibleElements:i,css:r}=this;if(!i.statusIndicators)return null;const{publishing:s}=e,n="updating"in e&&e.updating&&!t,o="connectionStatus"in e?e.connectionStatus:void 0,c=!!o;return we("calcite-icon",{class:this.classes(r.statusIndicator,{[r.publishing]:s},"updating"in r&&{[r.updating]:n},"connectionStatus"in r&&{[r.connectionStatus]:c},"connectionStatusConnected"in r&&{[r.connectionStatusConnected]:c&&o==="connected"}),icon:U2e({connectionStatus:o,publishing:s}),key:"layer-item-status",scale:"s",slot:"content-end"})}get _renderedItemTemporaryIcon(){const{item:e,visibleElements:t,css:i}=this,{layer:r}=e,s="temporaryLayerIndicators"in t&&t.temporaryLayerIndicators,n="temporaryTableIndicators"in t&&t.temporaryTableIndicators,o=r&&"persistenceEnabled"in r&&(NL(r)||!r.persistenceEnabled);return(s||n)&&o?we("calcite-icon",{class:i.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"content-start",title:this.messages.temporary}):null}get _renderedItemToggle(){const{item:e,parent:t,messages:i,visibilityAppearance:r,css:s}=this;if(!("visible"in e&&"layerVisibility"in i&&"visibleToggle"in s&&r))return null;const{visible:n}=e,o=this._getParentVisibilityMode(t);if(o==="inherited")return null;const c=j2e({visible:n,exclusive:o==="exclusive",visibilityAppearance:r}),d=r==="checkbox",f=i.layerVisibility;return we("calcite-action",{appearance:"transparent",class:s.visibleToggle,icon:d?c:void 0,key:"visibility-toggle",onclick:()=>this._toggleVisibility(e,t),scale:"s",slot:d?"actions-start":"actions-end",text:f,title:f},d?null:we("calcite-icon",{class:this.classes({[s.visibleIcon]:o!=="exclusive"&&n}),icon:c,scale:"s"}))}get _renderedPanel(){const{panel:e}=this.item;return!(e!=null&&e.open)||e.disabled||e.flowEnabled?null:we("div",{class:this.css.itemContentBottom,key:`content-panel-${e.uid}`,slot:"content-bottom"},e.render())}get _renderedPanelAction(){const{panel:e}=this.item;if(!(e!=null&&e.visible))return null;const{open:t,title:i,disabled:r}=e;return we("calcite-action",{active:t,appearance:"transparent",disabled:r,icon:Nj(e),key:`action-${e.uid}`,onclick:()=>this._togglePanel(e),scale:"s",slot:"actions-end",text:i??"",title:i??void 0},this._renderFallbackIcon(e))}get _renderedActions(){switch(this._actionsCount){case 0:return null;case 1:return this._singleAction;default:return this._renderedActionMenu}}get _renderedActionMenu(){const{item:e,messagesCommon:t}=this,i=t.options;return we("calcite-action-menu",{appearance:"transparent",key:"item-action-menu",label:t.menu,open:e.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:this._onActionMenuOpen},we("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:i,title:i}),this._renderedActionMenuContent)}get _renderedActionMenuContent(){return this._filteredSections.toArray().map(e=>we("calcite-action-group",{key:`action-section-${e.uid}`},e.toArray().map(t=>this._renderAction({action:t,textEnabled:!0}))))}get _renderedCatalogFootprintIcon(){const{css:e}=this,t=this.item.layer,i=(t==null?void 0:t.type)==="catalog-footprint",r=(t==null?void 0:t.type)==="sublayer"&&CF(t,"footprints");return"itemCatalogIcon"in e&&(i||r)?we("calcite-icon",{class:e.itemCatalogIcon,icon:"footprint",key:"footprint",scale:"s",slot:"content-start"}):null}get _renderedCatalogDynamicIcon(){const{css:e}=this,t=this.item.layer,i=(t==null?void 0:t.type)==="catalog-dynamic-group",r=(t==null?void 0:t.type)==="sublayer"&&CF(t,"layers-in-view");return"itemCatalogIcon"in e&&(i||r)?we("calcite-icon",{class:e.itemCatalogIcon,icon:"catalog-dataset",key:"catalog-dataset",scale:"s",slot:"content-start"}):null}get _renderedCatalogSelectNode(){const{_title:e,item:t,visibleElements:i}=this;if(!("visible"in t))return;const{layer:r}=t,s=(r==null?void 0:r.type)==="catalog-dynamic-group";return"catalogLayerList"in i&&i.catalogLayerList&&s?we("calcite-action",{appearance:"transparent",disabled:!r.visible,icon:"chevron-right",iconFlipRtl:!0,onclick:()=>this._triggerOnCatalogOpen(t),scale:"s",slot:"actions-end",text:e}):null}get _renderedChildList(){const{dragEnabled:e,item:t,rootGroupUid:i,listModeDisabled:r,selectionMode:s,displayMode:n}=this;if(!("children"in t))return;const o=[...this.parentTitles??[],t.title],{children:c,layer:d}=t,f=(d==null?void 0:d.type)!=="catalog-dynamic-group"&&K2e(t),g=!r&&z2e(d),v=(d==null?void 0:d.type)==="group",_=!g&&!f&&e&&v,S=!!e&&"childrenSortable"in t&&t.childrenSortable&&W2e(t);return f||_?we("calcite-list",{canPull:T=>!!this.canMove&&this.canMove(T,"pull"),canPut:T=>!!this.canMove&&this.canMove(T,"put"),"data-item":t,"data-layer-type":i,displayMode:n,dragEnabled:S,group:v?i:`${i}-${d==null?void 0:d.uid}`,key:`child-list-${d==null?void 0:d.uid}`,label:t.title,selectionAppearance:"border",selectionMode:s},c==null?void 0:c.filter(T=>!T.hidden&&(this.visibleElements.errors||!T.error)).toArray().map(T=>this._renderItem(T,t,o)),this._renderedTablesItem):null}get _hasTables(){var i,r;const{layerTablesEnabled:e}=this,t=this.item.layer;if(!e||!t)return!1;switch(t.type){case"knowledge-graph":return e.includes(t.type)&&"tables"in t&&!!((i=t.tables)!=null&&i.length);case"map-image":case"tile":return e.includes(t.type)&&"subtables"in t&&!!((r=t.subtables)!=null&&r.length);default:return!1}}get _renderedTablesItem(){const{item:e,messages:t,css:i}=this,{layer:r}=e;return"itemTableIcon"in i&&"visible"in e&&"tables"in t&&this._hasTables?we("calcite-list-item",{class:i.item,"data-layer-id":r==null?void 0:r.id,dragDisabled:!0,key:`list-item-table-list-tables-${r==null?void 0:r.uid}`,label:t.tables,title:t.tables,onCalciteListItemSelect:()=>this._triggerOnTablesOpen(e)},we("calcite-icon",{class:i.itemTableIcon,icon:"table",scale:"s",slot:"content-start"}),we("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"})):null}get _renderedItemMessage(){const{item:e,messages:t,css:i}=this;return e.error?we("div",{class:i.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},we("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},we("div",{slot:"message"},"tableError"in t?t.tableError:t.layerError))):"incompatible"in e&&e.incompatible&&"layerIncompatible"in t?we("div",{class:i.itemMessage,key:"esri-layer-list__incompatible",slot:"content-bottom"},we("calcite-notice",{afterCreate:this._setTooltipReference,afterRemoved:this._removeTooltipReference,bind:this,icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",tabIndex:0,width:"full"},we("div",{slot:"message"},t.layerIncompatible))):null}get _singleAction(){return this._renderAction({action:eTe(this._filteredSections),textEnabled:!1})}get _filteredSections(){return this.item.actionsSections.map(e=>e.filter(t=>t.visible))}get _actionsCount(){return this.item.actionsSections.reduce((e,t)=>e+t.length,0)}_renderAction(e){const{item:t}=this,{action:i,textEnabled:r}=e;if(!i)return null;const{active:s,disabled:n,title:o,type:c,indicator:d}=i;return we("calcite-action",{active:c==="toggle"&&i.value,appearance:"transparent","data-action-id":i.id,disabled:n,icon:Nj(i),indicator:d,key:`action-${i.uid}`,loading:s,onclick:()=>this._triggerAction(t,i),scale:"s",slot:r?void 0:"actions-end",text:o??"",textEnabled:r,title:o??void 0},this._renderFallbackIcon(i))}_renderFallbackIcon(e){const{css:t}=this,{className:i,icon:r}=e;if(r)return null;const s="image"in e?e.image:void 0,n={[t.itemActionIcon]:!!i,[t.itemActionImage]:!!s};return i&&(n[i]=!0),s||i?we("span",{"aria-hidden":"true",class:this.classes(t.itemActionIcon,n),key:"icon",styles:D2e(s)}):null}_renderItem(e,t,i=[]){var r;return we(UC,{activeItem:this.activeItem,canMove:this.canMove,css:this.css,displayMode:this.displayMode,dragEnabled:this.dragEnabled,item:e,key:`layerListItem-${(r=e.layer)==null?void 0:r.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:t,parentTitles:i,rootGroupUid:this.rootGroupUid,selectedDragItemLayerUid:this.selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this.onAction,onCatalogOpen:this.onCatalogOpen,onPanelOpen:this.onPanelOpen,onSelectedDragItemLayerUidChange:this.onSelectedDragItemLayerUidChange,onTablesOpen:this.onTablesOpen,onTooltipReferenceChange:this.onTooltipReferenceChange})}_triggerAction(e,t){t&&e&&(t.type==="toggle"&&(t.value=!t.value),this.onAction(t,e))}_triggerOnTablesOpen(e){e&&this.onTablesOpen&&this.onTablesOpen(e)}_triggerOnCatalogOpen(e){var t;e&&((t=this.onCatalogOpen)==null||t.call(this,e))}_focusSelectedDragEl(e,t){var i,r;this.selectedDragItemLayerUid===((i=t.layer)==null?void 0:i.uid)&&(dv(e),(r=this.onSelectedDragItemLayerUidChange)==null||r.call(this,null))}_handleCalciteListItemToggle(e,t){e.stopPropagation(),t.open=e.target.open}_getParentVisibilityMode(e){return e&&"visibilityMode"in e?e.visibilityMode:null}_handleCalciteListItemSelect(e,t,i){if(go(e.target)!==t)return;const r=this._getParentVisibilityMode(i);this.selectionMode==="none"&&r!=="inherited"&&this._toggleVisibility(t,i)}_togglePanel(e){e.open=!e.open,e.open&&this.onPanelOpen()}_toggleVisibility(e,t){!e||!("visible"in e)||this._getParentVisibilityMode(t)==="exclusive"&&e.visible||(e.visible=!e.visible)}};We.vnodeSelector="calcite-list-item",u([h()],We.prototype,"activeItem",void 0),u([h()],We.prototype,"canMove",void 0),u([h()],We.prototype,"css",void 0),u([h()],We.prototype,"displayMode",void 0),u([h()],We.prototype,"dragEnabled",void 0),u([h()],We.prototype,"item",void 0),u([h()],We.prototype,"layerTablesEnabled",void 0),u([h()],We.prototype,"listModeDisabled",void 0),u([h()],We.prototype,"messages",void 0),u([h()],We.prototype,"messagesCommon",void 0),u([h()],We.prototype,"onAction",void 0),u([h()],We.prototype,"onPanelOpen",void 0),u([h()],We.prototype,"onCatalogOpen",void 0),u([h()],We.prototype,"onTablesOpen",void 0),u([h()],We.prototype,"onSelectedDragItemLayerUidChange",void 0),u([h()],We.prototype,"onTooltipReferenceChange",void 0),u([h()],We.prototype,"parent",void 0),u([h()],We.prototype,"parentTitles",void 0),u([h()],We.prototype,"rootGroupUid",void 0),u([h()],We.prototype,"selectionMode",void 0),u([h()],We.prototype,"selectedItems",void 0),u([h()],We.prototype,"selectedDragItemLayerUid",void 0),u([h()],We.prototype,"visibleElements",void 0),u([h()],We.prototype,"visibilityAppearance",void 0),u([h()],We.prototype,"_title",null),u([h()],We.prototype,"_renderedItemStatus",null),u([h()],We.prototype,"_renderedItemTemporaryIcon",null),u([h()],We.prototype,"_renderedItemToggle",null),u([h()],We.prototype,"_renderedPanel",null),u([h()],We.prototype,"_renderedPanelAction",null),u([h()],We.prototype,"_renderedActions",null),u([h()],We.prototype,"_renderedActionMenu",null),u([h()],We.prototype,"_renderedActionMenuContent",null),u([h()],We.prototype,"_renderedCatalogFootprintIcon",null),u([h()],We.prototype,"_renderedCatalogDynamicIcon",null),u([h()],We.prototype,"_renderedCatalogSelectNode",null),u([h()],We.prototype,"_renderedChildList",null),u([h()],We.prototype,"_hasTables",null),u([h()],We.prototype,"_renderedTablesItem",null),u([h()],We.prototype,"_renderedItemMessage",null),u([h()],We.prototype,"_singleAction",null),u([h()],We.prototype,"_filteredSections",null),u([h()],We.prototype,"_actionsCount",null),We=UC=u([A("esri.widgets.LayerList.LayerListItem")],We);const tTe=We;function kj(e){return e!=null&&typeof e=="object"&&e.type==="2d"&&e.view2dType==="linkchart"}function iTe(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const i=t._delegatedEventNames,r=Array.isArray(e)?e:rTe(e);i.push(...r)}}function rTe(e){return e.split(",").map(t=>t.trim())}function Tv(e){return e&&typeof e.render=="function"}function sTe(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}let vr=class extends Fc.IdentifiableMixin(Vc){constructor(t,i){super(t,i),this._legend=null,this.className=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([xe(()=>this._canCreateLegend,()=>this._createLegend(),Nt),xe(()=>[this._legend,this._legendOptions],()=>this._updateLegend(),Nt)])}destroy(){this._legend=Gt(this._legend)}get _canCreateLegend(){const{content:t,listItem:i}=this;if(!i)return!1;const r="legend";return t===r||t!=null&&!!Array.isArray(t)&&t.includes(r)}get _legendOptions(){const{listItem:t,_legendLayerInfo:i}=this,r=t==null?void 0:t.view;return i&&r?{view:r,layerInfos:[i]}:{}}get _legendLayerInfo(){var o;const t=(o=this.listItem)==null?void 0:o.layer;if(!t||t.type==="subtype-sublayer")return null;const i=_N(t)?t:null,r=t==null?void 0:t.parent,s=r!=null&&"type"in r&&r.type==="map-image"?i==null?void 0:i.source:null,n="";return s&&r?{layer:r,title:n,sublayerIds:[s.mapLayerId]}:{layer:t,title:n}}get disabled(){var s;const{listItem:t,_legend:i,content:r}=this;return!t||!(Array.isArray(r)&&r.length>1)&&!!i&&(!((s=i.activeLayerInfos)!=null&&s.length)||!t.visibleAtCurrentScale||!t.visible)}set disabled(t){this._overrideIfSome("disabled",t)}get icon(){const{image:t}=this,i=this._getFirstWidget();return this._get("icon")??(!t&&i?i.icon:null)}set icon(t){this._overrideIfSome("icon",t)}get title(){var t;return this._get("title")||(((t=this._getFirstWidget())==null?void 0:t.label)??"")}set title(t){this._override("title",t)}render(){return we("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(t){const{_legend:i,disabled:r,open:s}=this;return t&&!r&&s?t==="legend"&&i?we("div",{key:"legend-widget"},i.render()):typeof t=="string"?we("div",{innerHTML:t,key:t}):Tv(t)?we("div",{key:"content-widget"},t.render()):t instanceof HTMLElement?we("div",{afterCreate:this._attachToNode,bind:t,key:"content-element"}):null:null}_renderContents(){const{content:t,open:i}=this;return i?Array.isArray(t)?t.map(r=>this._renderContent(r)):this._renderContent(t):null}async _createLegend(){if(Gt(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:t}=await te(()=>import("./Legend-KAHwwSTC.js"),__vite__mapDeps([307,229,197,250,221,223,108,308,161,159,5,160,110,162,163,164])),i=new t(this._legendOptions);this._legend=i}_attachToNode(t){t.appendChild(this)}_updateLegend(){const t=this._legend;t&&t.set(this._legendOptions)}_getWidget(t){return t==="legend"?this._legend:Tv(t)?t:null}_getFirstWidget(){const{content:t}=this;return Array.isArray(t)?t.map(i=>this._getWidget(i)).find(i=>i):this._getWidget(t)}};u([h()],vr.prototype,"_legend",void 0),u([h()],vr.prototype,"_canCreateLegend",null),u([h()],vr.prototype,"_legendOptions",null),u([h()],vr.prototype,"_legendLayerInfo",null),u([h()],vr.prototype,"className",void 0),u([h()],vr.prototype,"content",void 0),u([h()],vr.prototype,"disabled",null),u([h()],vr.prototype,"flowEnabled",void 0),u([h()],vr.prototype,"icon",null),u([h()],vr.prototype,"image",void 0),u([h()],vr.prototype,"listItem",void 0),u([h()],vr.prototype,"open",void 0),u([h()],vr.prototype,"title",null),u([h()],vr.prototype,"visible",void 0),vr=u([A("esri.widgets.LayerList.ListItemPanel")],vr);const aJ=vr;var P0;const nTe=pe.ofType({key:"type",defaultKeyValue:"button",base:qT,typeMap:{button:ZH,toggle:YH}}),lJ=pe.ofType(nTe),t3="layer",Q_="child-list-mode",oTe="hide";let Ot=P0=class extends Fc.IdentifiableMixin(Te){constructor(e){super(e),this.actionsSections=new lJ,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(pe.ofType(P0)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.panel=null,this.parent=null,this.view=null}initialize(){if(this.addHandles([xe(()=>{var e;return[this.layer,(e=this.layer)==null?void 0:e.listMode,this.listModeDisabled]},()=>this._watchLayerProperties(this.layer),Nt),xe(()=>this.checkPublishStatusEnabled,e=>this._updateChildrenPublishing(e),Nt),xe(()=>this.view,e=>this._updateChildrenView(e),Nt),xe(()=>this.panel,e=>this._setListItemOnPanel(e),Nt)]),typeof this.listItemCreatedFunction=="function"){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){var e;(e=this.panel)==null||e.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:e,publishing:t}=this;if(!t&&e&&"connectionStatus"in e)return e.connectionStatus}get error(){var e;return(e=this.layer)==null?void 0:e.loadError}get incompatible(){const{layerView:e}=this;return!(!e||!("spatialReferenceSupported"in e))&&!e.spatialReferenceSupported}get layerView(){const{layer:e,view:t}=this;if(!e||!t||e.type==="sublayer")return null;const i=e.type==="subtype-sublayer"?e.parent:e;return t.allLayerViews.find(r=>r.layer===i)??null}castPanel(e){var t;return(t=this.panel)!=null&&t.open&&!e.hasOwnProperty("open")&&(e.open=!0),e?new aJ(e):null}get sortable(){var e;return((e=this.layer)==null?void 0:e.type)!=="knowledge-graph-sublayer"&&this._get("sortable")}set sortable(e){this._set("sortable",e)}get title(){const e=ws(this,"layer.layer");return(!e||e&&ws(this,"layer.layer.loaded"))&&ws(this,"layer.title")||ws(this,"layer.attributes.title")||""}set title(e){this._override("title",e)}get publishing(){var i;const{layer:e,checkPublishStatusEnabled:t}=this;return!!(t&&e&&"publishingInfo"in e&&((i=e.publishingInfo)==null?void 0:i.status)==="publishing")}get updating(){const{layerView:e,connectionStatus:t,layer:i,publishing:r}=this;return!r&&!t&&(e?e.updating:(i==null?void 0:i.loadStatus)==="loading"||!1)}get visible(){var e;return!!((e=this.layer)!=null&&e.visible)}set visible(e){const t=this.layer;t&&(t.visible=e)}get visibleAtCurrentScale(){var e,t;return((e=this.layerView)==null?void 0:e.visibleAtCurrentScale)??!Y2e(this.layer,(t=this.view)==null?void 0:t.scale)}get visibleAtCurrentTimeExtent(){var e;return((e=this.layerView)==null?void 0:e.visibleAtCurrentTimeExtent)??!0}get visibilityMode(){return q2e(this.layer)}clone(){return new P0({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildrenPublishing(e){var t;(t=this.children)==null||t.forEach(i=>i.checkPublishStatusEnabled=e)}_updateChildrenView(e){const t=this.children;t&&t.forEach(i=>i.view=e)}_createChildren(e){const{listModeDisabled:t,children:i}=this,r=e.filter(s=>!i.some(n=>n.layer===s));i.addMany(this._createChildItems(r,t))}_destroyChildren(e){const{children:t}=this,i=t.filter(r=>!!r.layer&&!e.includes(r.layer));t.destroyMany(i)}_sortChildren(e){this.children.sort((t,i)=>e.indexOf(i.layer)-e.indexOf(t.layer))}_destroyAllChildren(){this.removeHandles(Q_),this.children.destroyAll()}_watchChildLayerListMode(e){this.removeHandles(Q_),this.listModeDisabled||this.addHandles(e.toArray().map(t=>xe(()=>t.listMode,()=>this._compileChildren(e))),Q_)}_compileChildren(e){const t=this.listModeDisabled?e:e==null?void 0:e.filter(i=>H2(i)!==oTe);e!=null&&e.length?(this._createChildren(t),this._destroyChildren(t),this._sortChildren(t),this._watchChildLayerListMode(e)):this._destroyAllChildren()}_watchSublayerChanges(e){e&&this.addHandles(e.on("change",()=>this._compileChildren(e)),t3)}_initializeChildLayers(e){this._compileChildren(e),this._watchSublayerChanges(e)}_createChildItems(e,t){return e.reverse().map(i=>t||Z2e(i)?new P0({layer:i,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null).filter(Al)}_watchLayerProperties(e){if(this.removeHandles(t3),this.removeHandles(Q_),!e)return;if((!this.listModeDisabled&&H2(e))==="hide-children")return void this.children.destroyAll();const t=sJ(e);t&&this.addHandles(xe(()=>e[t],i=>{e.hasOwnProperty(t)&&this._initializeChildLayers(i)},Nt),t3)}};u([h({type:lJ})],Ot.prototype,"actionsSections",void 0),u([h()],Ot.prototype,"actionsOpen",void 0),u([h()],Ot.prototype,"checkPublishStatusEnabled",void 0),u([h({type:pe.ofType(Ot)})],Ot.prototype,"children",void 0),u([h()],Ot.prototype,"childrenSortable",void 0),u([h({readOnly:!0})],Ot.prototype,"connectionStatus",null),u([h({readOnly:!0})],Ot.prototype,"error",null),u([h()],Ot.prototype,"hidden",void 0),u([h({readOnly:!0})],Ot.prototype,"incompatible",null),u([h()],Ot.prototype,"layer",void 0),u([h({readOnly:!0})],Ot.prototype,"layerView",null),u([h()],Ot.prototype,"listItemCreatedFunction",void 0),u([h({nonNullable:!0})],Ot.prototype,"listModeDisabled",void 0),u([h()],Ot.prototype,"open",void 0),u([h({type:aJ})],Ot.prototype,"panel",void 0),u([ht("panel")],Ot.prototype,"castPanel",null),u([h()],Ot.prototype,"parent",void 0),u([h({value:!0})],Ot.prototype,"sortable",null),u([h()],Ot.prototype,"title",null),u([h({readOnly:!0})],Ot.prototype,"publishing",null),u([h({readOnly:!0})],Ot.prototype,"updating",null),u([h()],Ot.prototype,"view",void 0),u([h()],Ot.prototype,"visible",null),u([h({readOnly:!0})],Ot.prototype,"visibleAtCurrentScale",null),u([h({readOnly:!0})],Ot.prototype,"visibleAtCurrentTimeExtent",null),u([h({readOnly:!0})],Ot.prototype,"visibilityMode",null),Ot=P0=u([A("esri.widgets.LayerList.ListItem")],Ot);const wN=Ot,to={view:"view",viewLayers:"view-layers",mapLayers:"map-layers",layerViews:"layer-views",layerListMode:"layer-list-mode"},aTe="hide",uJ=pe.ofType(wN);let ta=class extends Dn.EventedAccessor{constructor(t){super(t),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new uJ,this.view=null}initialize(){this.addHandles([xe(()=>{var t;return((t=this.view)==null?void 0:t.ready)===!0},()=>this._viewHandles(),Nt),xe(()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled],()=>this._recompileList()),xe(()=>kj(this.view)?this.view.inGeographicLayout:null,()=>this._compileList())],to.view)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:t}=this;return t!=null&&t.ready?"ready":t?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten(t=>t.children).length}triggerAction(t,i){t&&!t.disabled&&this.emit("trigger-action",{action:t,item:i})}moveListItem(t,i,r,s){var S,T;const n=t==null?void 0:t.layer;if(!n||n.type==="subtype-sublayer"||n.type==="sublayer")return;const o=(T=(S=this.view)==null?void 0:S.map)==null?void 0:T.layers,c=i?Pj(i):o,d=r?Pj(r):o;if(!c||!d)return;const{operationalItems:f}=this,g=(i==null?void 0:i.children)||f,v=(r==null?void 0:r.children)||f,_=d.length-s;t.parent=r||null,g.remove(t),c.remove(n),v.includes(t)||v.add(t,_),d.includes(n)||d.add(n,_),this._compileList()}_createLayerViewHandles(t){this.removeHandles(to.layerViews),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),to.layerViews)}_createMapLayerHandles(t){this.removeHandles(to.mapLayers),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),to.mapLayers)}_createListItem(t){const{view:i,listItemCreatedFunction:r,checkPublishStatusEnabled:s,listModeDisabled:n}=this;return new wN({checkPublishStatusEnabled:s,listModeDisabled:n,layer:t,listItemCreatedFunction:r,view:i})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(t){return t?this.listModeDisabled?t:t.filter(i=>H2(i)!==aTe):void 0}_watchLayersListMode(t){this.removeHandles(to.layerListMode),t&&!this.listModeDisabled&&this.addHandles(xe(()=>t.filter(i=>"listMode"in i).map(i=>i.listMode).toArray(),()=>this._compileList()),to.layerListMode)}_compileList(){var s,n;const t=(n=(s=this.view)==null?void 0:s.map)==null?void 0:n.layers,i=kj(this.view)&&!this.view.inGeographicLayout?t==null?void 0:t.filter(({type:o})=>o==="link-chart"):t;this._watchLayersListMode(i);const r=this._getViewableLayers(i);r!=null&&r.length?(this._createNewItems(r),this._removeItems(r),this._sortItems(r)):this._removeAllItems()}_createNewItems(t){const{operationalItems:i}=this;t.forEach(r=>{i.some(s=>s.layer===r)||i.add(this._createListItem(r))})}_removeItems(t){const{operationalItems:i}=this,r=[];i.forEach(s=>{s&&t&&t.includes(s.layer)||r.push(s)}),i.destroyMany(r)}_sortItems(t){const{operationalItems:i}=this;i.sort((r,s)=>{const n=t.indexOf(r.layer),o=t.indexOf(s.layer);return n>o?-1:n<o?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:t}=this;this.removeHandles([to.mapLayers,to.layerViews,to.viewLayers]),t!=null&&t.ready?this.addHandles([xe(()=>{var i,r;return(r=(i=this.view)==null?void 0:i.map)==null?void 0:r.allLayers},i=>this._createMapLayerHandles(i),Nt),xe(()=>{var i;return(i=this.view)==null?void 0:i.allLayerViews},i=>this._createLayerViewHandles(i),Nt)],to.viewLayers):this._removeAllItems()}};u([h()],ta.prototype,"checkPublishStatusEnabled",void 0),u([h()],ta.prototype,"listItemCreatedFunction",void 0),u([h({nonNullable:!0})],ta.prototype,"listModeDisabled",void 0),u([h({type:uJ})],ta.prototype,"operationalItems",void 0),u([h({readOnly:!0})],ta.prototype,"state",null),u([h()],ta.prototype,"totalItems",null),u([h()],ta.prototype,"view",void 0),ta=u([A("esri.widgets.LayerList.LayerListViewModel")],ta);const cJ=ta;let wn=class extends Te{constructor(){super(...arguments),this.catalogLayerList=!0,this.closeButton=!1,this.collapseButton=!1,this.errors=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.statusIndicators=!0,this.temporaryLayerIndicators=!1}};u([h({type:Boolean,nonNullable:!0})],wn.prototype,"catalogLayerList",void 0),u([h({type:Boolean,nonNullable:!0})],wn.prototype,"closeButton",void 0),u([h({type:Boolean,nonNullable:!0})],wn.prototype,"collapseButton",void 0),u([h({type:Boolean,nonNullable:!0})],wn.prototype,"errors",void 0),u([h({type:Boolean,nonNullable:!0})],wn.prototype,"filter",void 0),u([h({type:Boolean,nonNullable:!0})],wn.prototype,"flow",void 0),u([h({type:Boolean,nonNullable:!0})],wn.prototype,"heading",void 0),u([h({type:Boolean,nonNullable:!0})],wn.prototype,"statusIndicators",void 0),u([h({type:Boolean,nonNullable:!0})],wn.prototype,"temporaryLayerIndicators",void 0),wn=u([A("esri.widgets.LayerList.LayerListVisibleElements")],wn);const dJ=wn,lTe=["label","description","metadata"],uTe=pe.ofType(wN),Fj="nested";let Ze=class extends Fc.IdentifiableMixin(Vc){constructor(t,i){super(t,i),this._rootListEl=null,this._activeItem=null,this._tooltipReferenceMap=new mm,this._focusRootFlowItem=!1,this._focusPanelFlowItem=!1,this._focusLayerFlowItem=null,this._layerListMap=new mm,this._lastDragDetail=null,this._selectedDragItemLayerUid=null,this._rootGroupUid=`operational-${this.uid}`,this._openedLayersController=null,this.catalogLayerList=null,this.catalogOptions=null,this.collapsed=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterPredicate=null,this.filterText="",this.headingLevel=2,this.knowledgeGraphOptions=null,this.layerTablesEnabled=new pe(["knowledge-graph"]),this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.mapImageOptions=null,this.messages=null,this.messagesCommon=null,this.minDragEnabledItems=F2e,this.minFilterItems=k2e,this.openedLayers=new pe,this.openedLayerLists=new pe,this.selectedItems=new uTe,this.selectionMode="none",this.tableList=null,this.tileOptions=null,this.viewModel=new cJ,this.visibilityAppearance="default",this.visibleElements=new dJ,this._canMove=({dragEl:r,fromEl:s,toEl:n},o)=>{var U,W,re;const c=o==="pull"?this.listItemCanGiveFunction:this.listItemCanReceiveFunction,d=go(r);if(!(d!=null&&d.sortable))return!1;const f=go(s),g=Dj(s),v=go(n),_=Dj(n),S=!!g&&!!_&&g===_,T={selected:d,from:f,to:v},E=s.group,M=n.group,C=((U=f==null?void 0:f.layer)==null?void 0:U.type)??"",L=((W=v==null?void 0:v.layer)==null?void 0:W.type)??"",N=new Set(["map-image","catalog","knowledge-graph"]);return E&&M&&typeof c=="function"?c.call(null,T):S&&!N.has(C)&&!N.has(L)&&((re=d==null?void 0:d.layer)==null?void 0:re.type)!=="sublayer"},this._onCatalogOpen=r=>{var s,n;this.openedLayers.push((s=r.layer)==null?void 0:s.parent),this._focusLayerFlowItem=(n=r.layer)==null?void 0:n.uid},this._onTablesOpen=r=>{var s;this.openedLayers.push(r.layer),this._focusLayerFlowItem=(s=r.layer)==null?void 0:s.uid},this._onPanelOpen=()=>{this._focusPanelFlowItem=!0},this._onTooltipReferenceChange=(r,s)=>{s?this._tooltipReferenceMap.set(r,s):this._tooltipReferenceMap.delete(r)},this._onSelectedDragItemLayerUidChange=r=>{this._selectedDragItemLayerUid=r},this._onTriggerAction=(r,s)=>{this.triggerAction(r,s)},this._clearActiveItem=()=>{this._activeItem=null},this._setActiveItem=r=>{if(this.visibilityAppearance!=="default")return;const s=Array.from(r.composedPath()).find(n=>{var o;return(o=n.classList)==null?void 0:o.contains(jg.item)});this._activeItem=go(s)},this._onCalciteListOrderChange=r=>{const{_lastDragDetail:s}=this,{toEl:n,fromEl:o,dragEl:c,newIndex:d}=r;if(o&&n&&!((s==null?void 0:s.newIndex)===d&&(s==null?void 0:s.dragEl)===c&&(s==null?void 0:s.toEl)===n&&(s==null?void 0:s.fromEl)===o))if(this._lastDragDetail=r,this._selectedDragItemLayerUid=c.value,o!==n)this._moveLayerFromChildList({toEl:n,fromEl:o,dragEl:c,newIndex:d});else{const f=Array.from(o.children).filter(g=>g==null?void 0:g.matches("calcite-list-item")).map(g=>g.value);this._sortLayers(o,f)}}}initialize(){this.addHandles([Io(()=>this.openedLayers,"change",()=>this._handleOpenedLayersChange(),Nt),Io(()=>this.viewModel.operationalItems,"change",()=>B2e(this.selectedItems),Nt),xe(()=>[this.filterPredicate,this._rootListEl],()=>H2e(this._rootListEl,this.filterPredicate))])}loadDependencies(){return sy({button:()=>te(()=>import("./index-CzCOC5St.js"),__vite__mapDeps([268,269,270,271,272,273,274,275,276,277,278,279,280])),flow:()=>te(()=>import("./index-DbQHFXAQ.js"),__vite__mapDeps([309,275,274,280,273,270])),"flow-item":()=>te(()=>import("./index-CiaiAuj5.js"),__vite__mapDeps([310,269,270,271,272,273,274,282,283,275,278,280,284,285,286,287,276,288,289,290,291,292,302,311])),list:()=>te(()=>import("./index-DOtwgvdB.js"),__vite__mapDeps([301,269,270,271,302,275,274,273,283,272,303,304,305,276,277,278,290,279,280,286,299])),notice:()=>te(()=>import("./index-e7r65iLU.js"),__vite__mapDeps([306,272,273,270,274,275,280,287,271])),tooltip:()=>te(()=>import("./index-BFQwMPE6.js"),__vite__mapDeps([312,275,285,273,270,286,287,288,283]))})}destroy(){this._destroyOpenedLayerLists(),this._tooltipReferenceMap.clear()}get _totalItems(){return this.viewModel.operationalItems.flatten(t=>t.children.filter(i=>{var r;return((r=i.layer)==null?void 0:r.type)!=="catalog-dynamic-group"})).length}get _visibleItems(){var t;return(t=this.operationalItems)==null?void 0:t.filter(i=>!i.hidden&&(this.visibleElements.errors||!i.error))}get _openedPanelItems(){return this._visibleItems.flatten(t=>t.children).filter(({hidden:t,panel:i})=>!t&&(i==null?void 0:i.open)&&!i.disabled&&i.flowEnabled)}get _dragEnabled(){return this._totalItems>=this.minDragEnabledItems&&this.dragEnabled}get _filterEnabled(){return this._totalItems>=this.minFilterItems&&this.visibleElements.filter}get _renderedOpenLayerFlowItems(){const{openedLayers:t}=this;return t.toArray().map((i,r)=>this._renderLayerFlowItem(i,r===t.length-1))}get icon(){return"layers"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(t){this.viewModel.listItemCreatedFunction=t}get operationalItems(){return this.viewModel.operationalItems}set operationalItems(t){this.viewModel.operationalItems=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}triggerAction(t,i){return this.viewModel.triggerAction(t,i)}render(){var s;const t=(s=this.viewModel)==null?void 0:s.state,{_visibleItems:i}=this,r={[Fr.hidden]:t==="loading",[Fr.disabled]:t==="disabled"};return we("div",{class:this.classes(jg.base,Fr.widget,Fr.panel,r)},i!=null&&i.length?[this._renderItemTooltips(),this._renderItems()]:this._renderNoItems())}async _createFlowList(t,i){const{_layerListMap:r}=this,s=r.get(t);if(s)return s;const n=t.type==="catalog"?await this._createCatalogLayerList(t):await this._createTableList(t);return i.aborted||r.set(t,n),n}async _handleOpenedLayersChange(){var d;const{_layerListMap:t,openedLayers:i,openedLayerLists:r}=this;(d=this._openedLayersController)==null||d.abort();const s=new AbortController,{signal:n}=s;this._openedLayersController=s,t.forEach((f,g)=>{i.includes(g)||(f.destroy(),t.delete(g))});const o=await Promise.all(i.map(f=>this._createFlowList(f,n)));if(n.aborted)return;r.removeAll(),r.addMany(o);const c=r.at(-1);c?"catalogLayer"in c?(this._set("catalogLayerList",c),this._set("tableList",null)):(this._set("catalogLayerList",null),this._set("tableList",c)):(this._set("catalogLayerList",null),this._set("tableList",null))}_destroyOpenedLayerLists(){this.openedLayerLists.destroyAll(),this.openedLayers.removeAll(),this._layerListMap.clear()}_renderItemTooltip(t){var s,n;const{_tooltipReferenceMap:i,messages:r}=this;return t?we("calcite-tooltip",{key:`tooltip-${(s=t.layer)==null?void 0:s.uid}`,overlayPositioning:"fixed",referenceElement:i.get((n=t.layer)==null?void 0:n.uid)},r.layerIncompatibleTooltip):null}_renderItemTooltipNodes(t){var i;return t.incompatible?this._renderItemTooltip(t):(i=t.children)==null?void 0:i.filter(r=>!r.hidden).toArray().map(r=>this._renderItemTooltipNodes(r))}_renderItemTooltips(){var t;return(t=this._visibleItems)==null?void 0:t.toArray().map(i=>this._renderItemTooltipNodes(i))}_renderNoItemsMessage(){return we("div",{slot:"message"},this.messages.noItemsToDisplay)}_renderNoItems(){return we("div",{class:jg.itemMessage,key:"esri-layer-list__no-items"},we("calcite-notice",{icon:"information",kind:"info",open:!0,width:"full"},this._renderNoItemsMessage()))}async _createCatalogLayerList(t){const{default:i}=await te(()=>import("./CatalogLayerList-a1IbRW3X.js"),[]),{headingLevel:r,catalogOptions:s,view:n,filterPlaceholder:o,listItemCreatedFunction:c,minFilterItems:d,selectionMode:f,visibilityAppearance:g,_onCatalogOpen:v,_onTablesOpen:_,layerTablesEnabled:S}=this;return new i({headingLevel:r,view:n,filterPlaceholder:o,listItemCreatedFunction:c,minFilterItems:d,selectionMode:f,visibilityAppearance:g,...s,catalogLayer:t,layerTablesEnabled:S,onCatalogOpen:v,onTablesOpen:_})}_getTableListParams(t){switch(t.type){case"knowledge-graph":return{...this.knowledgeGraphOptions,tables:t.tables};case"map-image":return{...this.mapImageOptions,tables:t.subtables};case"tile":return{...this.tileOptions,tables:t.subtables};default:return null}}async _createTableList(t){const{default:i}=await te(()=>import("./TableList-CQWheqeb.js"),[]),{headingLevel:r,selectionMode:s,dragEnabled:n}=this;return new i({headingLevel:r,selectionMode:s,dragEnabled:n,...this._getTableListParams(t)})}_renderLayerFlowItem(t,i){var o;const{messages:r,openedLayers:s}=this,n=t.title||this.messages.untitledLayer;return we("calcite-flow-item",{afterCreate:this._focusLayerFlowItemNode,afterUpdate:this._focusLayerFlowItemNode,bind:this,"data-layer-uid":t.uid,description:n,heading:r[t.type==="catalog"?"catalogLayers":"tables"],headingLevel:this.headingLevel,key:`flow-layer-list-${t.uid}`,selected:i,onCalciteFlowItemBack:c=>{c.preventDefault(),s.pop();const d=s.at(-1);d?this._focusLayerFlowItem=d.uid:this._focusRootFlowItem=!0}},(o=this._layerListMap.get(t))==null?void 0:o.render())}_renderPanelFlowItems(){const{_openedPanelItems:t,openedLayers:i}=this;return t.toArray().map(({title:r,panel:s},n)=>{const o=()=>this._handlePanelFlowItemBack(s);return we("calcite-flow-item",{afterCreate:this._focusPanelFlowItemNode,afterUpdate:this._focusPanelFlowItemNode,bind:this,description:r,heading:s.title,headingLevel:this.headingLevel,key:`flow-panel-${s.uid}`,selected:!i.length&&n===t.length-1,onCalciteFlowItemBack:c=>{c.preventDefault(),o()}},s.render(),we("calcite-button",{appearance:"transparent",onclick:o,slot:"footer-actions",width:"full"},this.messagesCommon.back))})}_handlePanelFlowItemBack(t){t.open=!1,this._focusRootFlowItem=!0}_focusRootFlowItemNode(t){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,dv(t))}_focusLayerFlowItemNode(t){this._focusLayerFlowItem===t.dataset.layerUid&&(this._focusLayerFlowItem=null,dv(t))}_focusPanelFlowItemNode(t){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,dv(t))}_renderItems(){const{visible:t,collapsed:i,_visibleItems:r,_openedPanelItems:s,_filterEnabled:n,_rootGroupUid:o,visibleElements:{closeButton:c,collapseButton:d,heading:f,flow:g},_dragEnabled:v,selectionMode:_,filterText:S,openedLayers:T,filterPlaceholder:E,messages:M}=this,C=[we("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:c,closed:!t,collapsed:i,collapsible:d,heading:f?M.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",selected:!T.length&&!s.length,onCalciteFlowItemClose:()=>this.visible=!1},we("calcite-list",{afterCreate:L=>{this._rootListEl=L,L.addEventListener("focusin",this._setActiveItem),L.addEventListener("focusout",this._clearActiveItem)},afterRemoved:L=>{this._rootListEl=null,L.removeEventListener("focusin",this._setActiveItem),L.removeEventListener("focusout",this._clearActiveItem)},canPull:L=>this._canMove(L,"pull"),canPut:L=>this._canMove(L,"put"),"data-layer-type":o,displayMode:Fj,dragEnabled:v,filterEnabled:n,filterPlaceholder:E,filterProps:lTe,filterText:n?S:"",group:o,key:"root-list",label:M.widgetLabel,onmouseleave:this._clearActiveItem,onmouseover:this._setActiveItem,selectionAppearance:"border",selectionMode:_,onCalciteListChange:L=>this._handleCalciteListChange(L),onCalciteListDragEnd:L=>this._handleCalciteListDragEnd(L.detail),onCalciteListFilter:L=>{var N;return this.filterText=((N=L.currentTarget)==null?void 0:N.filterText)??""},onCalciteListOrderChange:L=>this._onCalciteListOrderChange(L.detail)},r==null?void 0:r.toArray().map(L=>this._renderItem(L)),r!=null&&r.length&&n?we("div",{class:jg.filterNoResults,slot:"filter-no-results"},we("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(),this._renderedOpenLayerFlowItems];return t?g?we("calcite-flow",{key:"root-flow"},C):C:null}_renderItem(t,i,r){var s;return we(tTe,{activeItem:this._activeItem,canMove:this._canMove,css:jg,displayMode:Fj,dragEnabled:this.dragEnabled,item:t,key:`layerListItem-${(s=t.layer)==null?void 0:s.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.viewModel.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:i,parentTitles:r,rootGroupUid:this._rootGroupUid,selectedDragItemLayerUid:this._selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this._onTriggerAction,onCatalogOpen:this._onCatalogOpen,onPanelOpen:this._onPanelOpen,onSelectedDragItemLayerUidChange:this._onSelectedDragItemLayerUidChange,onTablesOpen:this._onTablesOpen,onTooltipReferenceChange:this._onTooltipReferenceChange})}_moveLayerFromChildList({toEl:t,fromEl:i,dragEl:r,newIndex:s}){const n=go(r),o=go(t),c=go(i);this.viewModel.moveListItem(n,c,o,s)}_handleCalciteListDragEnd(t){const{fromEl:i,dragEl:r,oldIndex:s}=t;i.insertBefore(r,i.children[s])}_sortLayers(t,i){var r,s;if(t)if(t===this._rootListEl)nJ((s=(r=this.view)==null?void 0:r.map)==null?void 0:s.layers,i);else{const n=go(t);if(!n)return;J2e(n,i)}}_handleCalciteListChange(t){const{selectionMode:i,selectedItems:r}=this;if(i==="none")return;const s=t.target.selectedItems.map(n=>go(n)).filter(Boolean);r.removeAll(),r.addMany(s)}};u([h()],Ze.prototype,"_rootListEl",void 0),u([h()],Ze.prototype,"_activeItem",void 0),u([h()],Ze.prototype,"_tooltipReferenceMap",void 0),u([h()],Ze.prototype,"_focusRootFlowItem",void 0),u([h()],Ze.prototype,"_focusPanelFlowItem",void 0),u([h()],Ze.prototype,"_focusLayerFlowItem",void 0),u([h()],Ze.prototype,"_layerListMap",void 0),u([h()],Ze.prototype,"_totalItems",null),u([h()],Ze.prototype,"_visibleItems",null),u([h()],Ze.prototype,"_openedPanelItems",null),u([h()],Ze.prototype,"_dragEnabled",null),u([h()],Ze.prototype,"_filterEnabled",null),u([h()],Ze.prototype,"_renderedOpenLayerFlowItems",null),u([h({readOnly:!0})],Ze.prototype,"catalogLayerList",void 0),u([h()],Ze.prototype,"catalogOptions",void 0),u([h()],Ze.prototype,"collapsed",void 0),u([h()],Ze.prototype,"dragEnabled",void 0),u([h()],Ze.prototype,"filterPlaceholder",void 0),u([h()],Ze.prototype,"filterPredicate",void 0),u([h()],Ze.prototype,"filterText",void 0),u([h()],Ze.prototype,"headingLevel",void 0),u([h()],Ze.prototype,"icon",null),u([h()],Ze.prototype,"knowledgeGraphOptions",void 0),u([h()],Ze.prototype,"label",null),u([h()],Ze.prototype,"layerTablesEnabled",void 0),u([h()],Ze.prototype,"listItemCanGiveFunction",void 0),u([h()],Ze.prototype,"listItemCanReceiveFunction",void 0),u([h()],Ze.prototype,"listItemCreatedFunction",null),u([h()],Ze.prototype,"mapImageOptions",void 0),u([h(),Oc("esri/widgets/LayerList/t9n/LayerList")],Ze.prototype,"messages",void 0),u([h(),Oc("esri/t9n/common")],Ze.prototype,"messagesCommon",void 0),u([h()],Ze.prototype,"minDragEnabledItems",void 0),u([h()],Ze.prototype,"minFilterItems",void 0),u([h({readOnly:!0})],Ze.prototype,"openedLayers",void 0),u([h({readOnly:!0})],Ze.prototype,"openedLayerLists",void 0),u([h()],Ze.prototype,"operationalItems",null),u([h()],Ze.prototype,"selectedItems",void 0),u([h()],Ze.prototype,"selectionMode",void 0),u([h({readOnly:!0})],Ze.prototype,"tableList",void 0),u([h()],Ze.prototype,"tileOptions",void 0),u([h()],Ze.prototype,"view",null),u([iTe("trigger-action"),h({type:cJ})],Ze.prototype,"viewModel",void 0),u([h()],Ze.prototype,"visibilityAppearance",void 0),u([h({type:dJ,nonNullable:!0})],Ze.prototype,"visibleElements",void 0),Ze=u([A("esri.widgets.LayerList")],Ze);const cTe=Ze;let dTe=class hJ{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(U3),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const i=new hJ,r=this._originStores[tt.DEFAULTS];r&&r.forEach((s,n)=>{i.set(n,j(s),tt.DEFAULTS)});for(let s=tt.SERVICE;s<U3;s++){const n=this._originStores[s];n&&n.forEach((o,c)=>{t&&t.has(c)||i.set(c,j(o),s)})}return i}get(t,i){const r=i===void 0?this._values:this._originStores[i];return r?r.get(t):void 0}keys(t){const i=t==null?this._values:this._originStores[t];return i?[...i.keys()]:[]}set(t,i,r=tt.USER){let s=this._originStores[r];if(s||(s=new Map,this._originStores[r]=s),s.set(t,i),!this._values.has(t)||this._propertyOriginMap.get(t)<=r){const n=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),n!==i}return!1}delete(t,i=tt.USER){const r=this._originStores[i];if(!r)return;const s=r.get(t);if(r.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===i){this._values.delete(t);for(let n=i-1;n>=0;n--){const o=this._originStores[n];if(o&&o.has(t)){this._values.set(t,o.get(t)),this._propertyOriginMap.set(t,n);break}}}return s}has(t,i){const r=i===void 0?this._values:this._originStores[i];return!!r&&r.has(t)}revert(t,i){for(;i>0&&!this.has(t,i);)--i;const r=this._originStores[i],s=r==null?void 0:r.get(t),n=this._values.get(t);return this._values.set(t,s),this._propertyOriginMap.set(t,i),n!==s}originOf(t){return this._propertyOriginMap.get(t)||tt.DEFAULTS}forEach(t){this._values.forEach(t)}};const pJ=e=>{let t=class extends e{constructor(...i){super(...i);const r=Es(this),s=r.store,n=new dTe;r.store=n,y7(r,s,n)}read(i,r){v7(this,i,r)}getAtOrigin(i,r){const s=i3(this),n=oc(r);if(typeof i=="string")return s.get(i,n);const o={};return i.forEach(c=>{o[c]=s.get(c,n)}),o}originOf(i){return WS(this.originIdOf(i))}originIdOf(i){return i3(this).originOf(i)}revert(i,r){const s=i3(this),n=oc(r),o=Es(this);let c;c=typeof i=="string"?i==="*"?s.keys(n):[i]:i,c.forEach(d=>{o.invalidate(d),s.revert(d,n),o.commit(d)})}};return t=u([A("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function i3(e){return Es(e).store}let jj=class extends pJ(Te){};jj=u([A("esri.core.ReadOnlyMultiOriginJSONSupport")],jj);const hTe=e=>{let t=class extends e{constructor(...i){super(...i)}clear(i,r="user"){return r3(this).delete(i,oc(r))}write(i,r){return _7(this,i=i||{},r),i}setAtOrigin(i,r,s){Es(this).setAtOrigin(i,r,oc(s))}removeOrigin(i){const r=r3(this),s=oc(i),n=r.keys(s);for(const o of n)r.originOf(o)===s&&r.set(o,r.get(o,s),tt.USER)}updateOrigin(i,r){const s=r3(this),n=oc(r),o=ws(this,i);for(let c=n+1;c<U3;++c)s.delete(i,c);s.set(i,o,n)}toJSON(i){return this.write({},i)}};return t=u([A("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function r3(e){return Es(e).store}const SN=e=>{let t=class extends hTe(pJ(e)){constructor(...i){super(...i)}};return t=u([A("esri.core.MultiOriginJSONSupport")],t),t};let Uj=class extends SN(Te){};Uj=u([A("esri.core.MultiOriginJSONSupport")],Uj);const pTe={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!0,supportsCurrentUser:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!0,supportsReturnMesh:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0,supportsTrueCurve:!1},fTe={supportsDate:!0,supportsFixedInterval:!0,supportsAutoInterval:!0,supportsFixedBoundaries:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!0,supportedStatistics:{count:!0,sum:!0,avg:!0,var:!0,stddev:!0,min:!0,max:!0,percentileContinuous:!0,percentileDiscrete:!0,envelope:!0,centroid:!0,convexHull:!0},supportedNormalizationTypes:{field:!0,log:!0,naturalLog:!0,percentOfTotal:!0,squareRoot:!0}},TN=[252,146,31,255],mTe=[153,153,153,255],fJ={type:"esriSMS",style:"esriSMSCircle",size:6,color:TN,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},mJ={type:"esriSLS",style:"esriSLSSolid",width:.75,color:TN},yJ={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},yTe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},gTe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},vTe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},bTe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};function Zke(e){return{renderer:{type:"simple",symbol:e==="esriGeometryPoint"||e==="esriGeometryMultipoint"?fJ:e==="esriGeometryPolyline"?mJ:yJ}}}const _Te=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let wTe=1;function Yke(e,t){if(B("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let i=`this${zj(t)} = null;`;for(const s in e)i+=`this${zj(s)} = ${JSON.stringify(e[s])};`;const r=new Function(`
      return class AttributesClass$${wTe++} {
        constructor() {
          ${i};
        }
      }
    `)();return()=>new r}catch{return()=>({[t]:null,...e})}}function zj(e){return _Te.test(e)?`.${e}`:`["${e}"]`}function Jke(e={}){return[{name:"New Feature",description:"",prototype:{attributes:j(e)}}]}function STe(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:pTe,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:fTe,editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}var zC;const VC=new rt({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let ir=zC=class extends K{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,Mc)}writeGeometryType(e,t,i,r){if(e)return void VC.write(e,t,i,r);const{features:s}=this;if(s){for(const n of s)if((n==null?void 0:n.geometry)!=null)return void VC.write(n.geometry.type,t,i,r)}}readQueryGeometry(e,t){if(!e)return null;const i=!!e.spatialReference,r=Uh(e);return r&&!i&&t.spatialReference&&(r.spatialReference=Ge.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:i}=this;if(i){for(const r of i)if(r&&r.geometry!=null&&r.geometry.spatialReference)return void(t.spatialReference=r.geometry.spatialReference.toJSON())}}clone(){return new zC(this.cloneProperties())}cloneProperties(){return j({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let i=0;i<t.features.length;i++){const r=t.features[i];if(r.geometry){const s=e==null?void 0:e[i];r.geometry=(s==null?void 0:s.toJSON())||r.geometry}}return t}quantize(e){const{scale:[t,i],translate:[r,s]}=e,n=f=>Math.round((f-r)/t),o=f=>Math.round((s-f)/i),c=this.features,d=this._getQuantizationFunction(this.geometryType,n,o);for(let f=0,g=c.length;f<g;f++)d!=null&&d(c[f].geometry)||(c.splice(f,1),f--,g--);return this.transform=e,this}unquantize(){var _,S;const{geometryType:e,features:t,transform:i}=this;if(!i)return this;const{translate:[r,s],scale:[n,o]}=i,c=T=>T*n+r,d=T=>s-T*o;let f=null,g=null;if(this.hasZ&&((_=i==null?void 0:i.scale)==null?void 0:_[2])!=null){const{translate:[,,T],scale:[,,E]}=i;f=M=>M*E+T}if(this.hasM&&((S=i==null?void 0:i.scale)==null?void 0:S[3])!=null){const{translate:[,,,T],scale:[,,,E]}=i;g=M=>M==null?M:M*E+T}const v=this._getHydrationFunction(e,c,d,f,g);for(const{geometry:T}of t)T!=null&&v&&v(T);return this.transform=null,this}readFeaturesWithClass(e,t,i){var n;const r=Ge.fromJSON(t.spatialReference),s=[];for(let o=0;o<e.length;o++){const c=e[o],d=i.fromJSON(c),f=(n=c.geometry)==null?void 0:n.spatialReference;d.geometry==null||f||(d.geometry.spatialReference=r);const g=c.aggregateGeometries,v=d.aggregateGeometries;if(g&&v!=null)for(const _ in v){const S=v[_],T=g[_],E=T==null?void 0:T.spatialReference;S==null||E||(S.spatialReference=r)}s.push(d)}return s}_quantizePoints(e,t,i){let r,s;const n=[];for(let o=0,c=e.length;o<c;o++){const d=e[o];if(o>0){const f=t(d[0]),g=i(d[1]);f===r&&g===s||(n.push([f-r,g-s]),r=f,s=g)}else r=t(d[0]),s=i(d[1]),n.push([r,s])}return n.length>0?n:null}_getQuantizationFunction(e,t,i){return e==="point"?r=>(r.x=t(r.x),r.y=i(r.y),r):e==="polyline"||e==="polygon"?r=>{const s=Eh(r)?r.rings:r.paths,n=[];for(let o=0,c=s.length;o<c;o++){const d=s[o],f=this._quantizePoints(d,t,i);f&&n.push(f)}return n.length>0?(Eh(r)?r.rings=n:r.paths=n,r):null}:e==="multipoint"?r=>{const s=this._quantizePoints(r.points,t,i);return s&&s.length>0?(r.points=s,r):null}:e==="extent"?r=>r:null}_getHydrationFunction(e,t,i,r,s){return e==="point"?n=>{n.x=t(n.x),n.y=i(n.y),r&&(n.z=r(n.z))}:e==="polyline"||e==="polygon"?n=>{const o=Eh(n)?n.rings:n.paths;let c,d;for(let f=0,g=o.length;f<g;f++){const v=o[f];for(let _=0,S=v.length;_<S;_++){const T=v[_];_>0?(c+=T[0],d+=T[1]):(c=T[0],d=T[1]),T[0]=t(c),T[1]=i(d)}}if(r&&s)for(let f=0,g=o.length;f<g;f++){const v=o[f];for(let _=0,S=v.length;_<S;_++){const T=v[_];T[2]=r(T[2]),T[3]=s(T[3])}}else if(r)for(let f=0,g=o.length;f<g;f++){const v=o[f];for(let _=0,S=v.length;_<S;_++){const T=v[_];T[2]=r(T[2])}}else if(s)for(let f=0,g=o.length;f<g;f++){const v=o[f];for(let _=0,S=v.length;_<S;_++){const T=v[_];T[2]=s(T[2])}}}:e==="extent"?n=>{n.xmin=t(n.xmin),n.ymin=i(n.ymin),n.xmax=t(n.xmax),n.ymax=i(n.ymax),r&&n.zmax!=null&&n.zmin!=null&&(n.zmax=r(n.zmax),n.zmin=r(n.zmin)),s&&n.mmax!=null&&n.mmin!=null&&(n.mmax=s(n.mmax),n.mmin=s(n.mmin))}:e==="multipoint"?n=>{const o=n.points;let c,d;for(let f=0,g=o.length;f<g;f++){const v=o[f];f>0?(c+=v[0],d+=v[1]):(c=v[0],d=v[1]),v[0]=t(c),v[1]=i(d)}if(r&&s)for(let f=0,g=o.length;f<g;f++){const v=o[f];v[2]=r(v[2]),v[3]=s(v[3])}else if(r)for(let f=0,g=o.length;f<g;f++){const v=o[f];v[2]=r(v[2])}else if(s)for(let f=0,g=o.length;f<g;f++){const v=o[f];v[2]=s(v[2])}}:null}};u([h({type:String,json:{write:!0}})],ir.prototype,"displayFieldName",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ir.prototype,"exceededTransferLimit",void 0),u([h({type:[Mc],json:{write:!0}})],ir.prototype,"features",void 0),u([ue("features")],ir.prototype,"readFeatures",null),u([h({type:[JT],json:{write:!0}})],ir.prototype,"fields",void 0),u([h({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:VC.read}}})],ir.prototype,"geometryType",void 0),u([de("geometryType")],ir.prototype,"writeGeometryType",null),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ir.prototype,"hasM",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ir.prototype,"hasZ",void 0),u([h({types:b1,json:{write:!0}})],ir.prototype,"queryGeometry",void 0),u([ue("queryGeometry")],ir.prototype,"readQueryGeometry",null),u([h({type:Ge,json:{write:!0}})],ir.prototype,"spatialReference",void 0),u([de("spatialReference")],ir.prototype,"writeSpatialReference",null),u([h({json:{write:!0}})],ir.prototype,"transform",void 0),ir=zC=u([A("esri.rest.support.FeatureSet")],ir),ir.prototype.toJSON.isDefaultToJSON=!0;const EN=ir;let Jd=class extends ga{constructor(){super(...arguments),this.type="geojson",this.refresh=hT(async t=>{await this.load();const{extent:i,timeExtent:r}=await this._connection.invoke("refresh",t);return this.sourceJSON.extent=i,r&&(this.sourceJSON.timeInfo.timeExtent=[r.start,r.end]),{dataChanged:!0,updates:{extent:this.sourceJSON.extent,timeInfo:this.sourceJSON.timeInfo}}})}load(t){const i=t!=null?t.signal:null;return this.addResolvingPromise(this._startWorker(i)),Promise.resolve(this)}destroy(){var t;(t=this._connection)==null||t.close(),this._connection=null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatures",t?t.toJSON():null,i)).then(r=>EN.fromJSON(r))}queryFeaturesJSON(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatures",t?t.toJSON():null,i))}queryFeatureCount(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,i))}queryObjectIds(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,i))}queryExtent(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,i)).then(r=>({count:r.count,extent:Pt.fromJSON(r.extent)}))}querySnapping(t,i={}){return this.load(i).then(()=>this._connection.invoke("querySnapping",t,i))}async queryAttributeBins(t,i={}){return await this.load(),this._connection.invoke("queryAttributeBins",t==null?void 0:t.toJSON(),i)}_applyEdits(t){if(!this._connection)throw new z("geojson-layer-source:edit-failure","Memory source not loaded");const i=this.layer.objectIdField,r=[],s=[],n=[];if(t.addFeatures)for(const o of t.addFeatures)r.push(this._serializeFeature(o));if(t.deleteFeatures)for(const o of t.deleteFeatures)"objectId"in o&&o.objectId!=null?s.push(o.objectId):"attributes"in o&&o.attributes[i]!=null&&s.push(o.attributes[i]);if(t.updateFeatures)for(const o of t.updateFeatures)n.push(this._serializeFeature(o));return this._connection.invoke("applyEdits",{adds:r,updates:n,deletes:s}).then(({extent:o,timeExtent:c,featureEditResults:d})=>(this.sourceJSON.extent=o,c&&(this.sourceJSON.timeInfo.timeExtent=[c.start,c.end]),this._createEditsResult(d)))}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const i=t.success===!0?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:i?new z("geojson-layer-source:edit-failure",i.description,{code:i.code}):null}}_serializeFeature(t){const{attributes:i}=t,r=this._geometryForSerialization(t);return r?{geometry:r.toJSON(),attributes:i}:{attributes:i}}_geometryForSerialization(t){const{geometry:i}=t;return i==null?null:i.type==="mesh"||i.type==="extent"?Pn.fromExtent(i.extent):i}async _startWorker(t){this._connection=await rB("GeoJSONSourceWorker",{strategy:B("feature-layers-workers")?"dedicated":"local",signal:t,registryTarget:this});const{fields:i,spatialReference:r,hasZ:s,geometryType:n,objectIdField:o,url:c,timeInfo:d,customParameters:f}=this.layer,g=this.layer.originOf("spatialReference")==="defaults",v={url:c,customParameters:f,fields:i&&i.map(S=>S.toJSON()),geometryType:rL.toJSON(n),hasZ:s,objectIdField:o,timeInfo:d?d.toJSON():null,spatialReference:g?null:r&&r.toJSON()},_=await this._connection.invoke("load",v,{signal:t});for(const S of _.warnings)ne.getLogger(this.layer).warn("#load()",`${S.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:S});_.featureErrors.length&&ne.getLogger(this.layer).warn("#load()",`Encountered ${_.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:_.featureErrors}),this.sourceJSON=_.layerDefinition,this.capabilities=STe(this.sourceJSON.hasZ,!0)}};u([h()],Jd.prototype,"capabilities",void 0),u([h()],Jd.prototype,"type",void 0),u([h({constructOnly:!0})],Jd.prototype,"layer",void 0),u([h()],Jd.prototype,"sourceJSON",void 0),Jd=u([A("esri.layers.graphics.sources.GeoJSONSource")],Jd);const si=(e=>e)(["operational-layers","basemap","ground"]);function TTe(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i}function gm(e,t,i,r){var s=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(s,gm.prototype),s.expected=t,s.found=i,s.location=r,s.name="SyntaxError",s}function s3(e,t,i){return i=i||" ",e.length>t?e:(t-=e.length,e+(i+=i.repeat(t)).slice(0,t))}function ETe(e,t){var i,r={},s=(t=t!==void 0?t:{}).grammarSource,n={start:$i},o=$i,c="none",d=")",f=",",g="(",v="%",_="px",S="cm",T="mm",E="in",M="pt",C="pc",L="deg",N="rad",P="grad",U="turn",W="#",re=".",ae="e",fe=/^[ \t\n\r]/,ye=/^[a-z\-]/,Se=/^[0-9a-fA-F]/,_e=/^[+\-]/,Qe=/^[0-9]/,Le=As("none"),pt=Ci("none",!1),X=Ci(")",!1),he=Ci(",",!1),me=As("whitespace"),it=Fl([" ","	",`
`,"\r"],!1,!1),D=As("function"),le=Ci("(",!1),Ee=As("identifier"),ge=Fl([["a","z"],"-"],!1,!1),Fe=As("percentage"),ft=Ci("%",!1),Je=As("length"),zr=Ci("px",!1),Ht=Ci("cm",!1),Lo=Ci("mm",!1),dy=Ci("in",!1),ep=Ci("pt",!1),hy=Ci("pc",!1),py=As("angle"),fy=Ci("deg",!1),gE=Ci("rad",!1),vE=Ci("grad",!1),rn=Ci("turn",!1),bE=As("number"),q1=As("color"),B1=Ci("#",!1),qc=Fl([["0","9"],["a","f"],["A","F"]],!1,!1),H1=Fl(["+","-"],!1,!1),zn=Fl([["0","9"]],!1,!1),_E=Ci(".",!1),wE=Ci("e",!1),Bc=function(){return[]},Vr=function(I,Q){return{type:"function",name:I,parameters:Q||[]}},No=function(I,Q){return Q.length>0?wy(I,Q,3):[I]},Gr=function(I){return{type:"quantity",value:I.value,unit:I.unit}},SE=function(I){return{type:"color",colorType:I.type,value:I.value}},TE=function(I){return I},EE=function(){return sp()},tp=function(I){return{value:I,unit:"%"}},ip=function(I){return{value:I,unit:"px"}},Sa=function(I){return{value:I,unit:"cm"}},rp=function(I){return{value:I,unit:"mm"}},Hc=function(I){return{value:I,unit:"in"}},$E=function(I){return{value:I,unit:"pt"}},W1=function(I){return{value:I,unit:"pc"}},Z1=function(I){return{value:I,unit:"deg"}},my=function(I){return{value:I,unit:"rad"}},Wc=function(I){return{value:I,unit:"grad"}},xE=function(I){return{value:I,unit:"turn"}},Y1=function(I){return{value:I,unit:null}},J1=function(){return{type:"hex",value:sp()}},yy=function(I){return{type:"function",value:I}},gy=function(){return{type:"named",value:sp()}},X1=function(){return parseFloat(sp())},J=0|t.peg$currPos,vt=J,ui=[{line:1,column:1}],Wt=J,Vn=t.peg$maxFailExpected||[],Ae=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in n))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');o=n[t.startRule]}function sp(){return e.substring(vt,J)}function Ci(I,Q){return{type:"literal",text:I,ignoreCase:Q}}function Fl(I,Q,oe){return{type:"class",parts:I,inverted:Q,ignoreCase:oe}}function Zc(){return{type:"end"}}function As(I){return{type:"other",description:I}}function Ta(I){var Q,oe=ui[I];if(oe)return oe;if(I>=ui.length)Q=ui.length-1;else for(Q=I;!ui[--Q];);for(oe={line:(oe=ui[Q]).line,column:oe.column};Q<I;)e.charCodeAt(Q)===10?(oe.line++,oe.column=1):oe.column++,Q++;return ui[I]=oe,oe}function Ea(I,Q,oe){var je=Ta(I),It=Ta(Q);return{source:s,start:{offset:I,line:je.line,column:je.column},end:{offset:Q,line:It.line,column:It.column}}}function Ue(I){J<Wt||(J>Wt&&(Wt=J,Vn=[]),Vn.push(I))}function jl(I,Q,oe){return new gm(gm.buildMessage(I,Q),I,Q,oe)}function $i(){var I;return(I=Q1())===r&&(I=K1()),I}function Q1(){var I,Q;return Ae++,I=J,xi(),e.substr(J,4)===c?(Q=c,J+=4):(Q=r,Ae===0&&Ue(pt)),Q!==r?(xi(),vt=I,I=Bc()):(J=I,I=r),Ae--,I===r&&Ae===0&&Ue(Le),I}function K1(){var I,Q;if(I=[],(Q=Gn())!==r)for(;Q!==r;)I.push(Q),Q=Gn();else I=r;return I}function Gn(){var I,Q,oe,je;return I=J,xi(),(Q=eb())!==r?(xi(),(oe=Ul())===r&&(oe=null),xi(),e.charCodeAt(J)===41?(je=d,J++):(je=r,Ae===0&&Ue(X)),je!==r?(xi(),vt=I,I=Vr(Q,oe)):(J=I,I=r)):(J=I,I=r),I}function Ul(){var I,Q,oe,je,It,Ut,mi,zi;if(I=J,(Q=vy())!==r){for(oe=[],je=J,It=xi(),e.charCodeAt(J)===44?(Ut=f,J++):(Ut=r,Ae===0&&Ue(he)),Ut===r&&(Ut=null),mi=xi(),(zi=vy())!==r?je=It=[It,Ut,mi,zi]:(J=je,je=r);je!==r;)oe.push(je),je=J,It=xi(),e.charCodeAt(J)===44?(Ut=f,J++):(Ut=r,Ae===0&&Ue(he)),Ut===r&&(Ut=null),mi=xi(),(zi=vy())!==r?je=It=[It,Ut,mi,zi]:(J=je,je=r);vt=I,I=No(Q,oe)}else J=I,I=r;return I}function vy(){var I,Q;return I=J,(Q=np())===r&&(Q=op())===r&&(Q=qn())===r&&(Q=by()),Q!==r&&(vt=I,Q=Gr(Q)),(I=Q)===r&&(I=J,(Q=ib())!==r&&(vt=I,Q=SE(Q)),I=Q),I}function xi(){var I,Q;for(Ae++,I=[],Q=e.charAt(J),fe.test(Q)?J++:(Q=r,Ae===0&&Ue(it));Q!==r;)I.push(Q),Q=e.charAt(J),fe.test(Q)?J++:(Q=r,Ae===0&&Ue(it));return Ae--,Q=r,Ae===0&&Ue(me),I}function eb(){var I,Q,oe;return Ae++,I=J,(Q=tb())!==r?(e.charCodeAt(J)===40?(oe=g,J++):(oe=r,Ae===0&&Ue(le)),oe!==r?(vt=I,I=TE(Q)):(J=I,I=r)):(J=I,I=r),Ae--,I===r&&(Q=r,Ae===0&&Ue(D)),I}function tb(){var I,Q,oe;if(Ae++,I=J,Q=[],oe=e.charAt(J),ye.test(oe)?J++:(oe=r,Ae===0&&Ue(ge)),oe!==r)for(;oe!==r;)Q.push(oe),oe=e.charAt(J),ye.test(oe)?J++:(oe=r,Ae===0&&Ue(ge));else Q=r;return Q!==r&&(vt=I,Q=EE()),Ae--,(I=Q)===r&&(Q=r,Ae===0&&Ue(Ee)),I}function np(){var I,Q,oe;return Ae++,I=J,xi(),(Q=Ui())!==r?(e.charCodeAt(J)===37?(oe=v,J++):(oe=r,Ae===0&&Ue(ft)),oe!==r?(vt=I,I=tp(Q)):(J=I,I=r)):(J=I,I=r),Ae--,I===r&&Ae===0&&Ue(Fe),I}function op(){var I,Q,oe;return Ae++,I=J,xi(),(Q=Ui())!==r?(e.substr(J,2)===_?(oe=_,J+=2):(oe=r,Ae===0&&Ue(zr)),oe!==r?(vt=I,I=ip(Q)):(J=I,I=r)):(J=I,I=r),I===r&&(I=J,xi(),(Q=Ui())!==r?(e.substr(J,2)===S?(oe=S,J+=2):(oe=r,Ae===0&&Ue(Ht)),oe!==r?(vt=I,I=Sa(Q)):(J=I,I=r)):(J=I,I=r),I===r&&(I=J,xi(),(Q=Ui())!==r?(e.substr(J,2)===T?(oe=T,J+=2):(oe=r,Ae===0&&Ue(Lo)),oe!==r?(vt=I,I=rp(Q)):(J=I,I=r)):(J=I,I=r),I===r&&(I=J,xi(),(Q=Ui())!==r?(e.substr(J,2)===E?(oe=E,J+=2):(oe=r,Ae===0&&Ue(dy)),oe!==r?(vt=I,I=Hc(Q)):(J=I,I=r)):(J=I,I=r),I===r&&(I=J,xi(),(Q=Ui())!==r?(e.substr(J,2)===M?(oe=M,J+=2):(oe=r,Ae===0&&Ue(ep)),oe!==r?(vt=I,I=$E(Q)):(J=I,I=r)):(J=I,I=r),I===r&&(I=J,xi(),(Q=Ui())!==r?(e.substr(J,2)===C?(oe=C,J+=2):(oe=r,Ae===0&&Ue(hy)),oe!==r?(vt=I,I=W1(Q)):(J=I,I=r)):(J=I,I=r)))))),Ae--,I===r&&Ae===0&&Ue(Je),I}function qn(){var I,Q,oe;return Ae++,I=J,(Q=Ui())!==r?(e.substr(J,3)===L?(oe=L,J+=3):(oe=r,Ae===0&&Ue(fy)),oe!==r?(vt=I,I=Z1(Q)):(J=I,I=r)):(J=I,I=r),I===r&&(I=J,(Q=Ui())!==r?(e.substr(J,3)===N?(oe=N,J+=3):(oe=r,Ae===0&&Ue(gE)),oe!==r?(vt=I,I=my(Q)):(J=I,I=r)):(J=I,I=r),I===r&&(I=J,(Q=Ui())!==r?(e.substr(J,4)===P?(oe=P,J+=4):(oe=r,Ae===0&&Ue(vE)),oe!==r?(vt=I,I=Wc(Q)):(J=I,I=r)):(J=I,I=r),I===r&&(I=J,(Q=Ui())!==r?(e.substr(J,4)===U?(oe=U,J+=4):(oe=r,Ae===0&&Ue(rn)),oe!==r?(vt=I,I=xE(Q)):(J=I,I=r)):(J=I,I=r)))),Ae--,I===r&&(Q=r,Ae===0&&Ue(py)),I}function by(){var I,Q;return Ae++,I=J,xi(),(Q=Ui())!==r?(vt=I,I=Y1(Q)):(J=I,I=r),Ae--,I===r&&Ae===0&&Ue(bE),I}function ib(){var I,Q,oe,je;if(Ae++,I=J,e.charCodeAt(J)===35?(Q=W,J++):(Q=r,Ae===0&&Ue(B1)),Q!==r){if(oe=[],je=e.charAt(J),Se.test(je)?J++:(je=r,Ae===0&&Ue(qc)),je!==r)for(;je!==r;)oe.push(je),je=e.charAt(J),Se.test(je)?J++:(je=r,Ae===0&&Ue(qc));else oe=r;oe!==r?(vt=I,I=J1()):(J=I,I=r)}else J=I,I=r;return I===r&&(I=J,(Q=Gn())!==r&&(vt=I,Q=yy(Q)),(I=Q)===r&&(I=J,(Q=tb())!==r&&(vt=I,Q=gy()),I=Q)),Ae--,I===r&&(Q=r,Ae===0&&Ue(q1)),I}function Ui(){var I,Q,oe,je,It,Ut,mi,zi;for(I=J,Q=e.charAt(J),_e.test(Q)?J++:(Q=r,Ae===0&&Ue(H1)),Q===r&&(Q=null),oe=J,je=[],It=e.charAt(J),Qe.test(It)?J++:(It=r,Ae===0&&Ue(zn));It!==r;)je.push(It),It=e.charAt(J),Qe.test(It)?J++:(It=r,Ae===0&&Ue(zn));if(e.charCodeAt(J)===46?(It=re,J++):(It=r,Ae===0&&Ue(_E)),It!==r){if(Ut=[],mi=e.charAt(J),Qe.test(mi)?J++:(mi=r,Ae===0&&Ue(zn)),mi!==r)for(;mi!==r;)Ut.push(mi),mi=e.charAt(J),Qe.test(mi)?J++:(mi=r,Ae===0&&Ue(zn));else Ut=r;Ut!==r?oe=je=[je,It,Ut]:(J=oe,oe=r)}else J=oe,oe=r;if(oe===r)if(oe=[],je=e.charAt(J),Qe.test(je)?J++:(je=r,Ae===0&&Ue(zn)),je!==r)for(;je!==r;)oe.push(je),je=e.charAt(J),Qe.test(je)?J++:(je=r,Ae===0&&Ue(zn));else oe=r;if(oe!==r){if(je=J,e.charCodeAt(J)===101?(It=ae,J++):(It=r,Ae===0&&Ue(wE)),It!==r){if(Ut=e.charAt(J),_e.test(Ut)?J++:(Ut=r,Ae===0&&Ue(H1)),Ut===r&&(Ut=null),mi=[],zi=e.charAt(J),Qe.test(zi)?J++:(zi=r,Ae===0&&Ue(zn)),zi!==r)for(;zi!==r;)mi.push(zi),zi=e.charAt(J),Qe.test(zi)?J++:(zi=r,Ae===0&&Ue(zn));else mi=r;mi!==r?je=It=[It,Ut,mi]:(J=je,je=r)}else J=je,je=r;je===r&&(je=null),vt=I,I=X1()}else J=I,I=r;return I}function _y(I,Q){return I.map(function(oe){return oe[Q]})}function wy(I,Q,oe){return[I].concat(_y(Q,oe))}if(i=o(),t.peg$library)return{peg$result:i,peg$currPos:J,peg$FAILED:r,peg$maxFailExpected:Vn,peg$maxFailPos:Wt};if(i!==r&&J===e.length)return i;throw i!==r&&J<e.length&&Ue(Zc()),jl(Vn,Wt<e.length?e.charAt(Wt):null,Wt<e.length?Ea(Wt,Wt+1):Ea(Wt,Wt))}function gJ(e){if(!e||e.length===0)return null;if(typeof e=="string"){const i=Vj(e);return i&&i.length!==0?i:null}const t=e.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new z("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:Vj(i.value)}});t.sort((i,r)=>r.effects.length-i.effects.length);for(let i=0;i<t.length-1;i++){if(!Ufe(t[i].effects,t[i+1].effects))throw new z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[i].effects,b:t[i+1].effects});zfe(t[i].effects,t[i+1].effects)}return t.sort((i,r)=>r.scale-i.scale),t}function Vj(e){let t;if(!e)return[];try{t=ETe(e)}catch(i){throw new z("effect:invalid-syntax","Invalid effect syntax",{value:e,error:i})}return t.map(i=>$Te(i))}function $Te(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return xTe(e);case"opacity":return MTe(e);case"hue-rotate":return ATe(e);case"blur":return OTe(e);case"drop-shadow":return CTe(e);case"bloom":return ITe(e)}}catch(t){throw t.details.filter=e,t}throw new z("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function xTe(e){let t=1;return ny(e.parameters,1),e.parameters.length===1&&(t=_o(e.parameters[0])),new WA(e.name,t)}function MTe(e){let t=1;return ny(e.parameters,1),e.parameters.length===1&&(t=_o(e.parameters[0])),new yH(t)}function ATe(e){let t=0;return ny(e.parameters,1),e.parameters.length===1&&(t=kTe(e.parameters[0])),new fH(t)}function OTe(e){let t=0;return ny(e.parameters,1),e.parameters.length===1&&(t=MN(e.parameters[0]),U1(t,e.parameters[0])),new uH(t)}function CTe(e){const t=[];let i=null;for(const r of e.parameters)if(r.type==="color"){if(t.length&&Object.freeze(t),i)throw new z("effect:type-error","Accepts only one color",{});i=FTe(r)}else{const s=MN(r);if(Object.isFrozen(t))throw new z("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(s),t.length===3&&U1(s,r)}if(t.length<2||t.length>3)throw new z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new hH(t[0],t[1],t[2]||0,i||vJ("black"))}function ITe(e){let t=1,i=0,r=0;return ny(e.parameters,3),e.parameters[0]&&(t=_o(e.parameters[0])),e.parameters[1]&&(i=MN(e.parameters[1]),U1(i,e.parameters[1])),e.parameters[2]&&(r=_o(e.parameters[2])),new aH(t,i,r)}function ny(e,t){if(e.length>t)throw new z("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function nE(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in xN)return"<length>";if(e.unit in $N)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function U1(e,t){if(e<0)throw new z("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function RTe(e){if(e.type!=="quantity"||e.unit!==null)throw new z("effect:type-error",`Expected <double>, Actual: ${nE(e)}`,{term:e})}function LTe(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new z("effect:type-error",`Expected <double> or <percentage>, Actual: ${nE(e)}`,{term:e})}TTe(gm,Error),gm.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var i,r=null;for(i=0;i<e.length;i++)if(e[i].source===this.location.source){r=e[i].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,n=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,o=this.location.source+":"+n.line+":"+n.column;if(r){var c=this.location.end,d=s3("",n.line.toString().length," "),f=r[s.line-1],g=(s.line===c.line?c.column:f.length+1)-s.column||1;t+=`
 --> `+o+`
`+d+` |
`+n.line+" | "+f+`
`+d+" | "+s3("",s.column-1," ")+s3("",g,"^")}else t+=`
 at `+o}return t},gm.buildMessage=function(e,t){var i={literal:function(f){return'"'+s(f.text)+'"'},class:function(f){var g=f.parts.map(function(v){return Array.isArray(v)?n(v[0])+"-"+n(v[1]):n(v)});return"["+(f.inverted?"^":"")+g.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(f){return f.description}};function r(f){return f.charCodeAt(0).toString(16).toUpperCase()}function s(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+r(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+r(g)})}function n(f){return f.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+r(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+r(g)})}function o(f){return i[f.type](f)}function c(f){var g,v,_=f.map(o);if(_.sort(),_.length>0){for(g=1,v=1;g<_.length;g++)_[g-1]!==_[g]&&(_[v]=_[g],v++);_.length=v}switch(_.length){case 1:return _[0];case 2:return _[0]+" or "+_[1];default:return _.slice(0,-1).join(", ")+", or "+_[_.length-1]}}function d(f){return f?'"'+s(f)+'"':"end of input"}return"Expected "+c(e)+" but "+d(t)+" found."};const $N={deg:1,grad:.9,rad:180/Math.PI,turn:360};function NTe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&$N[e.unit]!=null))throw new z("effect:type-error",`Expected <angle>, Actual: ${nE(e)}`,{term:e})}const xN={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function PTe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&xN[e.unit]!=null))throw new z("effect:type-error",`Expected <length>, Actual: ${nE(e)}`,{term:e})}function _o(e){LTe(e);const t=e.value;return U1(t,e),e.unit==="%"?.01*t:t}function DTe(e){return RTe(e),U1(e.value,e),e.value}function kTe(e){return NTe(e),e.value*$N[e.unit]||0}function MN(e){return PTe(e),e.value*xN[e.unit]||0}function FTe(e){switch(e.colorType){case"hex":return Ope(e.value);case"named":return vJ(e.value);case"function":return zTe(e.value)}}function vJ(e){if(!QB(e))throw new z("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return Ape(e)}const jTe=/^rgba?/i,UTe=/^hsla?/i;function zTe(e){if(ny(e.parameters,4),jTe.test(e.name))return[_o(e.parameters[0]),_o(e.parameters[1]),_o(e.parameters[2]),e.parameters[3]?_o(e.parameters[3]):1];if(UTe.test(e.name))return KB(DTe(e.parameters[0]),_o(e.parameters[1]),_o(e.parameters[2]),e.parameters[3]?_o(e.parameters[3]):1);throw new z("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function e1(e,t,i){var r;try{return GTe(e)}catch(s){(r=i==null?void 0:i.messages)==null||r.push(s)}return null}function t1(e,t,i,r){try{const s=VTe(e);cr(i,s,t)}catch(s){r.messages&&r.messages.push(s)}}function VTe(e){const t=gJ(e);return t?Vfe(t)?t.map(i=>i.toJSON()):t.map(({scale:i,effects:r})=>({scale:i,value:r.map(s=>s.toJSON())})):null}function GTe(e){if(!e||e.length===0)return null;if(qTe(e)){const t=[];for(const i of e)t.push({scale:i.scale,value:Gj(i.value)});return t}return Gj(e)}function qTe(e){const t=e[0];return!!t&&"scale"in t}function Gj(e){if(!(e!=null&&e.length))return"";const t=[];for(const i of e){let r=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":r=[Ba(i,"amount")];break;case"blur":r=[Ba(i,"radius","pt")];break;case"hue-rotate":r=[Ba(i,"angle","deg")];break;case"drop-shadow":r=[Ba(i,"xoffset","pt"),Ba(i,"yoffset","pt"),Ba(i,"blurRadius","pt"),BTe(i,"color")];break;case"bloom":r=[Ba(i,"strength"),Ba(i,"radius","pt"),Ba(i,"threshold")]}const s=`${i.type}(${r.filter(Boolean).join(" ")})`;gJ(s),t.push(s)}return t.join(" ")}function Ba(e,t,i){if(e[t]==null)throw new z("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return i?e[t]+i:""+e[t]}function BTe(e,t){if(e[t]==null)throw new z("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const i=e[t];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const HTe={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:si}},"portal-item":{read:!0,write:{layerContainerTypes:si}}}}},qj={read:{reader:e1},write:{allowNull:!0,writer:t1,layerContainerTypes:si}},WTe={json:{read:!1,write:!1,origins:{"web-map":qj,"portal-item":qj}}},AN=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return u([h(HTe)],t.prototype,"blendMode",void 0),u([h(WTe)],t.prototype,"effect",void 0),t=u([A("esri.layers.mixins.BlendLayer")],t),t},bJ=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return u([h({type:Object,json:{write:{overridePolicy:i=>({enabled:!!(i&&Object.keys(i).length>0)})}}})],t.prototype,"customParameters",void 0),t=u([A("esri.layers.mixins.CustomParametersMixin")],t),t},_J=96;function Qke(e,t){const i=e.extent,r=e.width,s=Fn(i==null?void 0:i.spatialReference);return i&&r?i.width/r*s*tG*_J:0}function Kke(e,t){return e/(Fn(t)*tG*_J)}function e4e(e,t,i){return ZTe(e,t)&&YTe(e,i)}function ZTe(e,t){return t===0||xo(e,t)||e<t}function YTe(e,t){return t===0||xo(e,t)||e>t}function JTe(e,t){return xo(e,t)?0:(e||Number.POSITIVE_INFINITY)>(t||Number.POSITIVE_INFINITY)?1:-1}const Bj={write:{overridePolicy:(e,t,i)=>({enabled:!i||i.filterMode==="scale"})}};let Uu=class extends at.ClonableMixin(K){constructor(t){super(t),this.id=sE(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};u([h({type:String,json:{write:!0}})],Uu.prototype,"id",void 0),u([h({type:Number,json:Bj})],Uu.prototype,"maxScale",void 0),u([h({type:Number,json:Bj})],Uu.prototype,"minScale",void 0),u([h({type:String,json:{write:!0}})],Uu.prototype,"title",void 0),u([h({type:String,json:{write:!0}})],Uu.prototype,"where",void 0),Uu=u([A("esri.layers.support.DisplayFilter")],Uu);const wJ=Uu;function XTe(e,t){return{...t,filterMode:e.mode}}function i4e(e,t){return SJ(e,t).next().value??null}function r4e(e,t,i){const r=QTe(e);if(r&&(h7(t,r[0])||Z3(i,r[1])))return"";const s=Array.from(SJ(e,t,i)),n=KTe(s,t,i)?"1=1":s.map(o=>o.where||"1=1").reduce((o,c)=>sme(o,c),"");return n&&n!=="1=1"?n:""}function QTe(e){if(TJ(e)==="manual")return null;const t=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:i,maxScale:r}of e.filters)t[0]=Math.max(t[0],i1(i)),t[1]=Math.min(t[1],W2(r));return t}function*SJ(e,t,i){if(TJ(e)==="manual"){const r=e.filters.find(s=>s.id===e.activeFilterId);r&&(yield r)}else{typeof t=="object"&&(t=t.scale);for(const r of e.filters)eEe(r.minScale,r.maxScale,t,i)&&(yield r)}}function KTe(e,t,i){var n,o;if(e.length===0)return!0;const r=i1((n=e.at(0))==null?void 0:n.minScale),s=W2((o=e.at(-1))==null?void 0:o.maxScale);if(Z3(r,t)||h7(s,i))return!0;for(let c=0;c<e.length-1;c++){const d=e[c],f=e[c+1];if(Z3(i1(f.minScale),W2(d.maxScale)))return!0}return!1}function eEe(e,t,i,r){return e=i1(e),i=i1(i),t=W2(t),!(!xo(i,e)&&(r??i)>e)&&!yse(t,i)&&(r===void 0||!xo(r,e))}function TJ(e){return"mode"in e?e.mode:e.filterMode}function i1(e){return e||Number.POSITIVE_INFINITY}function W2(e){return e||0}let Xd=class extends at.ClonableMixin(K){constructor(t){super(t),this.activeFilterId=null,this.filters=new(pe.ofType(wJ)),this.mode="manual"}writeFilters(t,i,r,s){const n=t.toArray();this.mode==="scale"&&n.sort((o,c)=>{const d=JTe(c.minScale,o.minScale),f=o.maxScale-c.maxScale;return d===0?f:d}),i[r]=n.map(o=>o.toJSON(s))}write(t,i){return super.write(t,XTe(this,i))}};u([h({type:String,json:{write:{overridePolicy:(e,t,i)=>({enabled:i.filterMode==="manual",isRequired:!0})}}})],Xd.prototype,"activeFilterId",void 0),u([h({type:pe.ofType(wJ),nonNullable:!0,json:{write:!0}})],Xd.prototype,"filters",void 0),u([de("filters")],Xd.prototype,"writeFilters",null),u([h({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],Xd.prototype,"mode",void 0),Xd=u([A("esri.layers.support.DisplayFilterInfo")],Xd);const tEe=Xd,EJ=e=>{let t=class extends e{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return u([h(iEe)],t.prototype,"displayFilterEnabled",void 0),u([h(rEe)],t.prototype,"displayFilterInfo",void 0),t=u([A("esri.layers.mixins.DisplayFilteredLayer")],t),t},iEe={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:e=>!e},write:{layerContainerTypes:si,writer(e,t,i){cr(i,!e,t)}},origins:{"web-scene":{write:!1,read:!1}}}},rEe={type:tEe,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:si},origins:{"web-scene":{write:!1,read:!1}}}};var GC;const n3=new rt({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),o3=new rt({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ia=GC=class extends K{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:i,spatialRelationship:r,timeExtent:s,objectIds:n,units:o,distance:c}=this;return new _s({geometry:j(i),objectIds:j(n),spatialRelationship:r,timeExtent:j(s),where:t,units:o,distance:c,...e})}clone(){const{where:e,geometry:t,spatialRelationship:i,timeExtent:r,objectIds:s,units:n,distance:o}=this;return new GC({geometry:j(t),objectIds:j(s),spatialRelationship:i,timeExtent:j(r),where:e,units:n,distance:o})}};u([h({type:String,json:{write:!0}})],ia.prototype,"where",void 0),u([h({types:b1,json:{write:!0}})],ia.prototype,"geometry",void 0),u([h({type:n3.apiValues,json:{name:"spatialRel",read:{reader:n3.read},write:{allowNull:!1,writer:n3.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],ia.prototype,"spatialRelationship",void 0),u([h({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],ia.prototype,"distance",void 0),u([h({type:[Number],json:{write:!0}})],ia.prototype,"objectIds",void 0),u([h({type:o3.apiValues,json:{read:o3.read,write:{writer:o3.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],ia.prototype,"units",void 0),u([h({type:Il,json:{write:!0}})],ia.prototype,"timeExtent",void 0),ia=GC=u([A("esri.layers.support.FeatureFilter")],ia);const sEe=ia;var qC;const Hj={read:{reader:e1},write:{writer:t1,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},Wj={read:{reader:e1},write:{writer:t1,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},Zj={name:"showExcludedLabels",default:!0};let Qd=qC=class extends K{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var r,s;const i=super.write(e,t);if(t!=null&&t.origin){if(i.filter){const n=Object.keys(i.filter);if(n.length>1||n[0]!=="where")return(r=t.messages)==null||r.push(new z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in i)return(s=t.messages)==null||s.push(new z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return i}clone(){return new qC({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};u([h({type:sEe,json:{write:{allowNull:!0,writer(e,t,i,r){const s=e==null?void 0:e.write({},r);s&&Object.keys(s).length!==0?cr(i,s,t):cr(i,null,t)}}}})],Qd.prototype,"filter",void 0),u([h({json:{read:e1,write:{writer:t1,allowNull:!0},origins:{"web-map":Hj,"portal-item":Hj}}})],Qd.prototype,"includedEffect",void 0),u([h({json:{read:e1,write:{writer:t1,allowNull:!0},origins:{"web-map":Wj,"portal-item":Wj}}})],Qd.prototype,"excludedEffect",void 0),u([h({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":Zj,"portal-item":Zj}}})],Qd.prototype,"excludedLabelsVisible",void 0),Qd=qC=u([A("esri.layers.support.FeatureEffect")],Qd);const nEe=Qd,Yj={write:{allowNull:!0}},oEe={type:nEe,json:{origins:{"web-map":Yj,"portal-item":Yj}}},$J=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return u([h(oEe)],t.prototype,"featureEffect",void 0),t=u([A("esri.layers.mixins.FeatureEffectLayer")],t),t};let Af=class extends at.ClonableMixin(K){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};u([h({type:String,json:{write:!0}})],Af.prototype,"expression",void 0),u([h({type:String,json:{write:!0}})],Af.prototype,"title",void 0),u([h({type:String,json:{write:!0}})],Af.prototype,"returnType",void 0),Af=u([A("esri.layers.support.ExpressionInfo")],Af);const ON=Af;var BC;let al=BC=class extends K{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new BC({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:j(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};u([h({type:Boolean,json:{write:!0}})],al.prototype,"isAutoGenerated",void 0),u([h({type:String,json:{write:!0}})],al.prototype,"name",void 0),u([h({type:String,json:{write:!0}})],al.prototype,"alias",void 0),u([h({type:String,json:{write:!0}})],al.prototype,"onStatisticField",void 0),u([h({type:ON,json:{write:!0}})],al.prototype,"onStatisticExpression",void 0),u([h({type:String,json:{write:!0}})],al.prototype,"statisticType",void 0),al=BC=u([A("esri.layers.support.AggregateField")],al);const Cc=al;let gc=class extends K{constructor(){super(...arguments),this.type=null}};u([h({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],gc.prototype,"type",void 0),gc=u([A("esri.layers.support.FeatureReduction")],gc);var HC;let D0=HC=class extends K{constructor(e){super(e)}async collectRequiredFields(e,t){return jr(e,t,this.expression)}clone(){return new HC({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};u([h({type:String,json:{write:{isRequired:!0}}})],D0.prototype,"expression",void 0),u([h({type:String,json:{write:!0}})],D0.prototype,"title",void 0),D0=HC=u([A("esri.symbols.support.FeatureExpressionInfo")],D0);const Jj=D0,oE={unknown:1,inches:Ti(1,"meters","inches"),feet:Ti(1,"meters","feet"),"us-feet":Ti(1,"meters","us-feet"),yards:Ti(1,"meters","yards"),miles:Ti(1,"meters","miles"),"nautical-miles":Ti(1,"meters","nautical-miles"),millimeters:Ti(1,"meters","millimeters"),centimeters:Ti(1,"meters","centimeters"),decimeters:Ti(1,"meters","decimeters"),meters:Ti(1,"meters","meters"),kilometers:Ti(1,"meters","kilometers"),"decimal-degrees":1/coe(1,"meters",pi.radius)};function a4e(e){return!!e&&oE[e]!=null}function l4e(e){return 1/(oE[e]||1)}function aEe(){const e=Object.keys(oE);return nV(e,"decimal-degrees"),e.sort(),e}const lEe=aEe();var WC;const K_=hr()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),Xj=new rt({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let ll=WC=class extends K{constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,i,r){t[i]=e.write({},r),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new WC({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&bre(this.featureExpressionInfo,e.featureExpressionInfo)}};u([h({type:Jj,json:{write:!0}})],ll.prototype,"featureExpressionInfo",void 0),u([ue("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],ll.prototype,"readFeatureExpressionInfo",null),u([de("featureExpressionInfo",{featureExpressionInfo:{type:Jj},"featureExpression.value":{type:[0]}})],ll.prototype,"writeFeatureExpressionInfo",null),u([h({type:K_.apiValues,nonNullable:!0,json:{type:K_.jsonValues,read:K_.read,write:{writer:K_.write,isRequired:!0}}})],ll.prototype,"mode",null),u([h({type:Number,json:{write:!0}})],ll.prototype,"offset",void 0),u([h({type:lEe,json:{type:String,read:Xj.read,write:Xj.write}})],ll.prototype,"unit",null),ll=WC=u([A("esri.symbols.support.ElevationInfo")],ll);const xJ=ll;let Of=class extends K{constructor(t){super(t),this.description=null,this.label=null,this.type=null}};u([h({type:String,json:{write:!0}})],Of.prototype,"description",void 0),u([h({type:String,json:{write:!0}})],Of.prototype,"label",void 0),u([h()],Of.prototype,"type",void 0),Of=u([A("esri.tables.elements.AttributeTableElement")],Of);const zm=Of;var ZC;let k0=ZC=class extends zm{constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return new ZC({description:this.description,displayType:this.displayType,label:this.label})}};u([h({type:["auto"],json:{write:!0}})],k0.prototype,"displayType",void 0),u([h({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],k0.prototype,"type",void 0),k0=ZC=u([A("esri.tables.elements.AttributeTableAttachmentElement")],k0);const Qj=k0;var YC;let F0=YC=class extends zm{constructor(e){super(e),this.fieldName=null,this.type="field"}clone(){return new YC({description:this.description,fieldName:this.fieldName,label:this.label})}};u([h({type:String,json:{write:!0}})],F0.prototype,"fieldName",void 0),u([h({type:String,json:{read:!1,write:!0}})],F0.prototype,"type",void 0),F0=YC=u([A("esri.tables.elements.AttributeTableFieldElement")],F0);const Kj=F0;var JC;let j0=JC=class extends zm{constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return new JC({description:this.description,label:this.label,relationshipId:this.relationshipId})}};u([h({type:Number,json:{write:!0}})],j0.prototype,"relationshipId",void 0),u([h({type:["relationship"],json:{read:!1,write:!0}})],j0.prototype,"type",void 0),j0=JC=u([A("esri.tables.elements.AttributeTableRelationshipElement")],j0);const e9=j0;function MJ(e){return{typesWithGroup:{base:zm,key:"type",typeMap:{attachment:Qj,field:Kj,group:e,relationship:e9}},typesWithoutGroup:{base:zm,key:"type",typeMap:{attachment:Qj,field:Kj,relationship:e9}}}}function AJ(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>r[s.type]).map(s=>r[s.type].fromJSON(s))}function OJ(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>r[s.type]).map(s=>s.toJSON())}function CJ(e,t,i=!0){return e?e.map(r=>Co(i?t.typesWithGroup:t.typesWithoutGroup,r)):null}var XC;let gl=XC=class extends zm{constructor(e){super(e),this.elements=null,this.type="group"}castElements(e){return CJ(e,a3,!1)}readElements(e,t){return AJ(t.attributeTableElements,a3,!1)}writeElements(e,t){t.attributeTableElements=OJ(e,a3,!1)}clone(){return new XC({description:this.description,elements:j(this.elements),label:this.label})}};u([h({json:{write:!0}})],gl.prototype,"elements",void 0),u([ht("elements")],gl.prototype,"castElements",null),u([ue("elements",["attributeTableElements"])],gl.prototype,"readElements",null),u([de("elements")],gl.prototype,"writeElements",null),u([h({type:String,json:{read:!1,write:!0}})],gl.prototype,"type",void 0),gl=XC=u([A("esri.tables.elements.AttributeTableGroupElement")],gl);const a3=MJ(gl),uEe=gl;var QC;const l3=MJ(uEe);let zu=QC=class extends K{constructor(e){super(e),this.elements=null,this.orderByFields=null}castElements(e){return CJ(e,l3)}readElements(e,t){return AJ(t.attributeTableElements,l3)}writeElements(e,t){t.attributeTableElements=OJ(e,l3)}clone(){return new QC({elements:j(this.elements),orderByFields:this.orderByFields})}};u([h({json:{write:!0}})],zu.prototype,"elements",void 0),u([ht("elements")],zu.prototype,"castElements",null),u([ue("elements",["attributeTableElements"])],zu.prototype,"readElements",null),u([de("elements")],zu.prototype,"writeElements",null),u([h({type:[Object],json:{write:!0}})],zu.prototype,"orderByFields",void 0),zu=QC=u([A("esri.tables.AttributeTableTemplate")],zu);const cEe=zu,IJ={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:si}}},z1={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,i){t[i]=!e}}}},V1={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:si}}},RJ={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:Lh}}},LJ={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:si}}},NJ={value:null,type:xJ,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:si}}};function c4e(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const PJ={write:{enabled:!0,layerContainerTypes:si},read:!0},Z2={type:Number,json:{origins:{"web-document":PJ,"portal-item":{write:{layerContainerTypes:si}}}}},dEe={...Z2,json:{...Z2.json,origins:{"web-document":{...PJ,write:{enabled:!0,layerContainerTypes:si,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,i)=>{var r;return i&&i.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?(r=t.layerDefinition)!=null&&r.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?Bv(t.layerDefinition.drawingInfo.transparency):void 0:Bv(t.drawingInfo.transparency)}}}},d4e={type:Pt,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const i=Pt.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(i.spatialReference=Ge.fromJSON(t.spatialReference)),i}}}},read:!1}},DJ={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},hEe={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:si}}},pEe={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:si}}},kJ={json:{write:{ignoreOrigin:!0,layerContainerTypes:si},origins:{"web-map":{read:!1,write:!1}}}},FJ={type:cEe,json:{name:"attributeTableInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}};async function fEe(e,t,i){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=jJ(e));const r=mEe(e),s=e.capabilities.query.supportsPagination;t.start=0,t.num=r;let n=null;for(;;){const o=await e.source.queryFeaturesJSON(t,i);if(n==null?n=o:n.features=n.features.concat(o.features),n.exceededTransferLimit=o.exceededTransferLimit,!s||!o.exceededTransferLimit)break;t.start+=r}return n}function mEe(e){return jJ(e)*yEe(e)}function yEe(e){return e.capabilities.query.maxRecordCount||2e3}function jJ(e){return e.capabilities.query.supportsMaxRecordCountFactor?_s.MAX_MAX_RECORD_COUNT_FACTOR:1}var KC;let U0=KC=class extends K{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new KC({minValue:this.minValue,maxValue:this.maxValue})}};u([h({type:Number,json:{write:!0}})],U0.prototype,"minValue",void 0),u([h({type:Number,json:{write:!0}})],U0.prototype,"maxValue",void 0),U0=KC=u([A("esri.renderers.support.AuthoringInfoClassBreakInfo")],U0);var eI;let tc=eI=class extends K{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new eI({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:j(this.classBreakInfos)})}};u([h({type:String,json:{write:!0}})],tc.prototype,"field",void 0),u([h({type:String,json:{write:!0}})],tc.prototype,"normalizationField",void 0),u([h({type:String,json:{write:!0}})],tc.prototype,"label",void 0),u([h({type:[U0],json:{write:!0}})],tc.prototype,"classBreakInfos",void 0),tc=eI=u([A("esri.renderers.support.AuthoringInfoFieldInfo")],tc);var tI;let Cf=tI=class extends K{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new tI({label:this.label,value:this.value,size:this.size})}};u([h({type:String,json:{write:!0}})],Cf.prototype,"label",void 0),u([h({type:Number,json:{write:!0}})],Cf.prototype,"size",void 0),u([h({type:Number,json:{write:!0}})],Cf.prototype,"value",void 0),Cf=tI=u([A("esri.renderers.support.AuthoringInfoSizeStop")],Cf);const gEe=Cf;var iI;const ew=new rt({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),tw=new rt({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),t9={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},i9=["high-to-low","above-and-below","centered-on","extremes"],r9=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size"])],s9=["seconds","minutes","hours","days","months","years"],vEe=["circle","diamond","hexagon-flat","hexagon-pointy","square"];let rr=iI=class extends K{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}get normalizationField(){return this.theme==="reference-size"?this._get("normalizationField"):null}set normalizationField(e){this._set("normalizationField",e)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(e){this._set("referenceSizeScale",e)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(e){this._set("referenceSizeSymbolStyle",e)}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get sizeStops(){return this.theme==="reference-size"?this._get("sizeStops"):null}set sizeStops(e){this._set("sizeStops",e)}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new iI({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:j(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};u([h({types:t9,json:{write:!0}})],rr.prototype,"endTime",void 0),u([ht("endTime")],rr.prototype,"castEndTime",null),u([h({type:String,json:{write:!0}})],rr.prototype,"field",void 0),u([h({type:Number,json:{write:!0}})],rr.prototype,"maxSliderValue",void 0),u([h({type:Number,json:{write:!0}})],rr.prototype,"minSliderValue",void 0),u([h({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],rr.prototype,"normalizationField",null),u([h({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],rr.prototype,"referenceSizeScale",null),u([h({type:vEe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],rr.prototype,"referenceSizeSymbolStyle",null),u([h({types:t9,json:{write:!0}})],rr.prototype,"startTime",void 0),u([ht("startTime")],rr.prototype,"castStartTime",null),u([h({type:[gEe],json:{origins:{"web-scene":{write:!1}},write:!0}})],rr.prototype,"sizeStops",null),u([h({type:ew.apiValues,value:null,json:{type:ew.jsonValues,read:ew.read,write:ew.write}})],rr.prototype,"style",null),u([h({type:r9,value:null,json:{type:r9,origins:{"web-scene":{type:i9,write:{writer:(e,t)=>{i9.includes(e)&&(t.theme=e)}}}},write:!0}})],rr.prototype,"theme",null),u([h({type:tw.apiValues,json:{type:tw.jsonValues,read:tw.read,write:tw.write}})],rr.prototype,"type",void 0),u([h({type:s9,json:{type:s9,write:!0}})],rr.prototype,"units",void 0),rr=iI=u([A("esri.renderers.support.AuthoringInfoVisualVariable")],rr);const bEe=rr;let yS=class extends K{constructor(t){super(t),this.type=null}};u([h({readOnly:!0,json:{read:!1,write:!0}})],yS.prototype,"type",void 0),yS=u([A("esri.rest.support.ColorRamp")],yS);const CN=yS;var rI;let Kd=rI=class extends CN{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new rI({fromColor:j(this.fromColor),toColor:j(this.toColor),algorithm:this.algorithm})}};u([Ie({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Kd.prototype,"algorithm",void 0),u([h({type:Ne,json:{type:[yt],write:!0}})],Kd.prototype,"fromColor",void 0),u([h({type:Ne,json:{type:[yt],write:!0}})],Kd.prototype,"toColor",void 0),u([h({type:["algorithmic"]})],Kd.prototype,"type",void 0),Kd=rI=u([A("esri.rest.support.AlgorithmicColorRamp")],Kd);const IN=Kd;var sI;let z0=sI=class extends CN{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new sI({colorRamps:j(this.colorRamps)})}};u([h({type:[IN],json:{write:!0}})],z0.prototype,"colorRamps",void 0),u([h({type:["multipart"]})],z0.prototype,"type",void 0),z0=sI=u([A("esri.rest.support.MultipartColorRamp")],z0);const UJ=z0,_Ee={key:"type",base:CN,typeMap:{algorithmic:IN,multipart:UJ}};function wEe(e){return e!=null&&e.type?e.type==="algorithmic"?IN.fromJSON(e):e.type==="multipart"?UJ.fromJSON(e):null:null}var nI;const _d=new rt({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),iw=new rt({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),n9=new rt({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),o9=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],SEe=["high-to-low","above-and-below","above","below"],TEe=["flow-line","wave-front"],EEe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let di=nI=class extends K{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?wEe(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){var e;return new nI({classificationMethod:this.classificationMethod,colorRamp:j(this.colorRamp),fadeRatio:j(this.fadeRatio),fields:(e=this.fields)==null?void 0:e.slice(),field1:j(this.field1),field2:j(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};u([h({type:_d.apiValues,value:null,json:{type:_d.jsonValues,read:_d.read,write:_d.write,origins:{"web-document":{default:"manual",type:_d.jsonValues,read:_d.read,write:_d.write}}}})],di.prototype,"classificationMethod",null),u([h({types:_Ee,json:{write:!0}})],di.prototype,"colorRamp",void 0),u([ue("colorRamp")],di.prototype,"readColorRamp",null),u([h({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],di.prototype,"fadeRatio",void 0),u([h({type:[String],value:null,json:{write:!0}})],di.prototype,"fields",null),u([h({type:tc,value:null,json:{write:!0}})],di.prototype,"field1",null),u([h({type:tc,value:null,json:{write:!0}})],di.prototype,"field2",null),u([h({type:TEe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],di.prototype,"flowTheme",null),u([h({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],di.prototype,"focus",null),u([h({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],di.prototype,"isAutoGenerated",void 0),u([h({type:Number,value:null,json:{type:yt,write:!0}})],di.prototype,"numClasses",null),u([h({type:o9,json:{type:o9,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],di.prototype,"lengthUnit",void 0),u([h({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],di.prototype,"maxSliderValue",void 0),u([h({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],di.prototype,"minSliderValue",void 0),u([h({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],di.prototype,"statistics",null),u([h({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],di.prototype,"standardDeviationInterval",null),u([h({type:iw.apiValues,value:null,json:{type:iw.jsonValues,read:iw.read,write:iw.write,origins:{"web-scene":{type:n9.jsonValues,write:{writer:n9.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],di.prototype,"type",null),u([h({type:[bEe],json:{write:!0}})],di.prototype,"visualVariables",void 0),u([h({type:EEe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],di.prototype,"univariateSymbolStyle",null),u([h({type:SEe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],di.prototype,"univariateTheme",null),di=nI=u([A("esri.renderers.support.AuthoringInfo")],di);const RN=di,u3=new rt({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let V0=class extends K{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const i=new Set;return await this.collectRequiredFields(i,t),Array.from(i).sort()}getSymbol(t,i){}async getSymbolAsync(t,i){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};u([h({type:RN,json:{write:!0}})],V0.prototype,"authoringInfo",void 0),u([h({type:u3.apiValues,readOnly:!0,json:{type:u3.jsonValues,read:!1,write:{writer:u3.write,ignoreOrigin:!0,isRequired:!0}}})],V0.prototype,"type",void 0),V0=u([A("esri.renderers.Renderer")],V0);const Dl=V0;let G0=class extends at.ClonableMixin(K){constructor(){super(...arguments),this.showLegend=null,this.title=null}};u([h({type:Boolean,json:{write:!0}})],G0.prototype,"showLegend",void 0),u([h({type:String,json:{write:!0}})],G0.prototype,"title",void 0),G0=u([A("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],G0);const zJ=G0,c3=new rt({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let ho=class extends K{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(ne.getLogger(this).error(".field: field must be a string value"),null):u1(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};u([h()],ho.prototype,"index",void 0),u([h({type:c3.apiValues,readOnly:!0,json:{read:c3.read,write:{writer:c3.write,isRequired:!0}}})],ho.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],ho.prototype,"field",void 0),u([ht("field")],ho.prototype,"castField",null),u([h({type:String,json:{write:!0}})],ho.prototype,"valueExpression",void 0),u([h({type:String,json:{write:!0}})],ho.prototype,"valueExpressionTitle",void 0),u([h({readOnly:!0})],ho.prototype,"arcadeRequired",null),u([h({type:zJ,json:{write:!0}})],ho.prototype,"legendOptions",void 0),ho=u([A("esri.renderers.visualVariables.VisualVariable")],ho);const oy=ho;var oI;let eh=oI=class extends K{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,i){t[i]=e??0}clone(){return new oI({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};u([h({type:Ne,json:{type:[yt],write:{isRequired:!0}}})],eh.prototype,"color",void 0),u([h({type:String,json:{write:!0}})],eh.prototype,"label",void 0),u([h({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],eh.prototype,"value",void 0),u([de("value")],eh.prototype,"writeValue",null),eh=oI=u([A("esri.renderers.visualVariables.support.ColorStop")],eh);const $Ee=eh;var aI;let th=aI=class extends oy{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){var e;return new aI({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([h({readOnly:!0})],th.prototype,"cache",null),u([h({type:["color"],json:{type:["colorInfo"]}})],th.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],th.prototype,"normalizationField",void 0),u([h({type:[$Ee],json:{write:!0}})],th.prototype,"stops",null),th=aI=u([A("esri.renderers.visualVariables.ColorVariable")],th);const VJ=th;var lI;let Vu=lI=class extends K{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return Bv(t.transparency)}writeOpacity(e,t,i){t[i]=DT(e)}clone(){return new lI({label:this.label,opacity:this.opacity,value:this.value})}};u([h({type:String,json:{write:!0}})],Vu.prototype,"label",void 0),u([h({type:Number,json:{type:yt,write:{target:"transparency",isRequired:!0}}})],Vu.prototype,"opacity",void 0),u([ue("opacity",["transparency"])],Vu.prototype,"readOpacity",null),u([de("opacity")],Vu.prototype,"writeOpacity",null),u([h({type:Number,json:{write:{isRequired:!0}}})],Vu.prototype,"value",void 0),Vu=lI=u([A("esri.renderers.visualVariables.support.OpacityStop")],Vu);const xEe=Vu;var uI;let ih=uI=class extends oy{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){var e;return new uI({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([h({readOnly:!0})],ih.prototype,"cache",null),u([h({type:["opacity"],json:{type:["transparencyInfo"]}})],ih.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],ih.prototype,"normalizationField",void 0),u([h({type:[xEe],json:{write:!0}})],ih.prototype,"stops",null),ih=uI=u([A("esri.renderers.visualVariables.OpacityVariable")],ih);const LN=ih;var cI;let rh=cI=class extends oy{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){var e;return new cI({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}};u([h({readOnly:!0})],rh.prototype,"cache",null),u([h({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],rh.prototype,"axis",void 0),u([h({type:["rotation"],json:{type:["rotationInfo"]}})],rh.prototype,"type",void 0),u([h({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],rh.prototype,"rotationType",void 0),rh=cI=u([A("esri.renderers.visualVariables.RotationVariable")],rh);const GJ=rh;function MEe(e){return dt(e)}var dI;let Gu=dI=class extends K{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new dI({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};u([h({type:String,json:{write:!0}})],Gu.prototype,"label",void 0),u([h({type:Number,cast:dt,json:{write:{isRequired:!0}}})],Gu.prototype,"size",void 0),u([h({type:Number,json:{write:{isRequired:!0}}})],Gu.prototype,"value",void 0),u([h({type:Boolean,json:{write:!1}})],Gu.prototype,"useMinValue",void 0),u([h({type:Boolean,json:{write:!1}})],Gu.prototype,"useMaxValue",void 0),Gu=dI=u([A("esri.renderers.visualVariables.support.SizeStop")],Gu);const gS=Gu;let vS=class extends zJ{constructor(){super(...arguments),this.customValues=null}};u([h({type:[Number],json:{write:!0}})],vS.prototype,"customValues",void 0),vS=u([A("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],vS);const AEe=vS;var Ml,Zi;function Kf(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function r1(e){return e!=null&&!isNaN(e)&&isFinite(e)}function qJ(e){return e.valueExpression?Ml.Expression:e.field&&typeof e.field=="string"?Ml.Field:Ml.Unknown}function OEe(e,t){const i=t||qJ(e),r=e.valueUnit||"unknown";return i===Ml.Unknown?Zi.Constant:e.stops?Zi.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?Zi.ClampedLinear:r==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?Zi.Proportional:Zi.Additive:Zi.Identity:Zi.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(Ml||(Ml={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(Zi||(Zi={}));const BJ=()=>ne.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),aE=e=>BJ().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),lE=()=>BJ().error("Use of arcade expressions requires an arcade context"),a9=new Mc,bS=Math.PI,HJ=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function WJ(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(T=>T.type==="color"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void aE("ColorVariable");const s=typeof t=="number",n=s?null:t,o=n==null?void 0:n.attributes;let c=s?t:null;const d=r.field,{ipData:f,hasExpression:g}=r.cache;let v=r.cache.compiledFunc;if(!d&&!g){const T=r.stops;return T&&T[0]&&T[0].color}if(typeof c!="number")if(g){if((i==null?void 0:i.arcade)==null)return void lE();const T={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},E=i.arcade.arcadeUtils,M=E.getViewInfo(T),C=E.createExecContext(n,M,i.timeZone);if(!v){const L=E.createSyntaxTree(r.valueExpression);v=E.createFunction(L),r.cache.compiledFunc=v}c=E.executeFunction(v,C)}else o&&(c=o[d]);const _=r.normalizationField,S=o!=null&&_!=null?parseFloat(o[_]):void 0;if(c!=null&&(!_||s||!isNaN(S)&&S!==0)){isNaN(S)||s||(c/=S);const T=NN(c,f);if(T){const E=T[0],M=T[1],C=E===M?r.stops[E].color:Ne.blendColors(r.stops[E].color,r.stops[M].color,T[2],i!=null?i.color:void 0);return new Ne(C)}}}function ZJ(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(T=>T.type==="opacity"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void aE("OpacityVariable");const s=typeof t=="number",n=s?null:t,o=n==null?void 0:n.attributes;let c=s?t:null;const d=r.field,{ipData:f,hasExpression:g}=r.cache;let v=r.cache.compiledFunc;if(!d&&!g){const T=r.stops;return T&&T[0]&&T[0].opacity}if(typeof c!="number")if(g){if((i==null?void 0:i.arcade)==null)return void lE();const T={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},E=i.arcade.arcadeUtils,M=E.getViewInfo(T),C=E.createExecContext(n,M,i.timeZone);if(!v){const L=E.createSyntaxTree(r.valueExpression);v=E.createFunction(L),r.cache.compiledFunc=v}c=E.executeFunction(v,C)}else o&&(c=o[d]);const _=r.normalizationField,S=o!=null&&_!=null?parseFloat(o[_]):void 0;if(c!=null&&(!_||s||!isNaN(S)&&S!==0)){isNaN(S)||s||(c/=S);const T=NN(c,f);if(T){const E=T[0],M=T[1];if(E===M)return r.stops[E].opacity;{const C=r.stops[E].opacity;return C+(r.stops[M].opacity-C)*T[2]}}}}function YJ(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(S=>S.type==="rotation"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void aE("RotationVariable");const s=r.axis||"heading",n=s==="heading"&&r.rotationType==="arithmetic"?90:0,o=s==="heading"&&r.rotationType==="arithmetic"?-1:1,c=typeof t=="number"?null:t,d=c==null?void 0:c.attributes,f=r.field,{hasExpression:g}=r.cache;let v=r.cache.compiledFunc,_=0;if(!f&&!g)return _;if(g){if((i==null?void 0:i.arcade)==null)return void lE();const S={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},T=i.arcade.arcadeUtils,E=T.getViewInfo(S),M=T.createExecContext(c,E,i.timeZone);if(!v){const C=T.createSyntaxTree(r.valueExpression);v=T.createFunction(C),r.cache.compiledFunc=v}_=T.executeFunction(v,M)}else d&&(_=d[f]||0);return _=typeof _!="number"||isNaN(_)?null:n+o*_,_}function CEe(e,t,i){const r=typeof t=="number",s=r?null:t,n=s==null?void 0:s.attributes;let o=r?t:null;const{isScaleDriven:c}=e.cache;let d=e.cache.compiledFunc;if(c){const g=i!=null?i.scale:void 0,v=i!=null?i.view:void 0;o=g==null||v==="3d"?IEe(e):g}else if(!r)switch(e.inputValueType){case Ml.Expression:{if((i==null?void 0:i.arcade)==null)return void lE();const g={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},v=i.arcade.arcadeUtils,_=v.getViewInfo(g),S=v.createExecContext(s,_,i.timeZone);if(!d){const T=v.createSyntaxTree(e.valueExpression);d=v.createFunction(T),e.cache.compiledFunc=d}o=v.executeFunction(d,S);break}case Ml.Field:n&&(o=n[e.field]);break;case Ml.Unknown:o=null}if(!r1(o))return null;if(r||!e.normalizationField)return o;const f=n?parseFloat(n[e.normalizationField]):null;return r1(f)&&f!==0?o/f:null}function IEe(e){let t=null,i=null;const r=e.stops;return r?(t=r[0].value,i=r[r.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}function uE(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(n=>n.type==="size"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void aE("SizeVariable");const s=XJ(CEe(r,t,i),r,t,i,r.cache.ipData);return s==null||isNaN(s)?0:s}function Ts(e,t,i){return e==null?null:Kf(e)?uE(e,t,i):r1(e)?e:null}function JJ(e,t,i){return r1(i)&&e>i?i:r1(t)&&e<t?t:e}function REe(e,t,i,r){return e+((Ts(t.minSize,i,r)||t.minDataValue)??0)}function LEe(e,t,i){const r=e.stops;let s=(r==null?void 0:r.length)&&r[0].size;return s==null&&(s=e.minSize),Ts(s,t,i)}function NEe(e,t,i,r){const s=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),n=Ts(t.minSize,i,r),o=Ts(t.maxSize,i,r),c=r!=null?r.shape:void 0;if(e<=t.minDataValue)return n;if(e>=t.maxDataValue)return o;if(n==null||o==null)return null;if(t.scaleBy==="area"&&c){const d=c==="circle",f=d?bS*(n/2)**2:n*n,g=f+s*((d?bS*(o/2)**2:o*o)-f);return d?2*Math.sqrt(g/bS):Math.sqrt(g)}return n+s*(o-n)}function PEe(e,t,i,r){const s=r!=null?r.shape:void 0,n=e/t.minDataValue,o=Ts(t.minSize,i,r),c=Ts(t.maxSize,i,r);let d=null;return d=s==="circle"?2*Math.sqrt(n*(o/2)**2):s==="square"||s==="diamond"||s==="image"?Math.sqrt(n*o**2):n*o,JJ(d,o,c)}function DEe(e,t,i,r,s){var d,f,g;const[n,o,c]=NN(e,s);if(n===o)return Ts((d=t.stops)==null?void 0:d[n].size,i,r);{const v=Ts((f=t.stops)==null?void 0:f[n].size,i,r);return v+(Ts((g=t.stops)==null?void 0:g[o].size,i,r)-v)*c}}function kEe(e,t,i,r){const s=((r==null?void 0:r.resolution)??1)*oE[t.valueUnit],n=Ts(t.minSize,i,r),o=Ts(t.maxSize,i,r),{valueRepresentation:c}=t;let d=null;return d=c==="area"?2*Math.sqrt(e/bS)/s:c==="radius"||c==="distance"?2*e/s:e/s,JJ(d,n,o)}function XJ(e,t,i,r,s){switch(t.transformationType){case Zi.Additive:return REe(e,t,i,r);case Zi.Constant:return LEe(t,i,r);case Zi.ClampedLinear:return NEe(e,t,i,r);case Zi.Proportional:return PEe(e,t,i,r);case Zi.Stops:return DEe(e,t,i,r,s);case Zi.RealWorldSize:return kEe(e,t,i,r);case Zi.Identity:return e;case Zi.Unknown:return null}}function FEe(e,t,i){const{isScaleDriven:r}=e.cache;if(!(r&&i==="3d"||t))return null;const s={scale:t,view:i};let n=Ts(e.minSize,a9,s),o=Ts(e.maxSize,a9,s);if(n!=null||o!=null){if(n>o){const c=o;o=n,n=c}return{minSize:n,maxSize:o}}}function jEe(e,t,i){if(!e.visualVariables)return;const r=[],s=[],n=[],o=[],c=[];for(const d of e.visualVariables)switch(d.type){case"color":s.push(d);break;case"opacity":n.push(d);break;case"rotation":c.push(d);break;case"size":o.push(d)}return s.forEach(d=>{const f=WJ(d,t,i);r.push({variable:d,value:f})}),n.forEach(d=>{const f=ZJ(d,t,i);r.push({variable:d,value:f})}),c.forEach(d=>{const f=YJ(d,t,i);r.push({variable:d,value:f})}),o.forEach(d=>{const f=uE(d,t,i);r.push({variable:d,value:f})}),r.filter(d=>d.value!=null)}function NN(e,t){if(!t)return;let i=0,r=t.length-1;return t.some((s,n)=>e<s?(r=n,!0):(i=n,!1)),[i,r,(e-t[i])/(t[r]-t[i])]}function UEe(e,t,i){const r=["proportional","proportional","proportional"];for(const s of e){const n=s.useSymbolValue?"symbol-value":uE(s,t,i);switch(s.axis){case"width":r[0]=n;break;case"depth":r[1]=n;break;case"height":r[2]=n;break;case"width-and-depth":r[0]=n,r[1]=n;break;case"all":case void 0:case null:r[0]=n,r[1]=n,r[2]=n;break;default:s.axis}}return r}const g4e=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:UEe,getColor:WJ,getOpacity:ZJ,getRotationAngle:YJ,getSize:uE,getSizeForValue:XJ,getSizeFromNumberOrVariable:Ts,getSizeRangeAtScale:FEe,getVisualVariableValues:jEe,viewScaleRE:HJ},Symbol.toStringTag,{value:"Module"}));var hI;const rw=new rt({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),pI=new rt({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function l9(e){if(e!=null)return typeof e=="string"||typeof e=="number"?MEe(e):e.type==="size"?Kf(e)?e:(delete(e={...e}).type,new St(e)):void 0}function u9(e,t,i){if(typeof e!="object")return e;const r=new St;return r.read(e,i),r}let St=hI=class extends oy{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&HJ.test(this.valueExpression)}}set index(e){Kf(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),Kf(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return qJ(this)}set maxDataValue(e){e&&this.stops&&(ne.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(ne.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return l9(e)}readMaxSize(e,t,i){return u9(e,t,i)}set minDataValue(e){e&&this.stops&&(ne.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(ne.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return l9(e)}readMinSize(e,t,i){return u9(e,t,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value):e&&(ne.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return OEe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,i,r){if(e==="$view.scale"){if(r!=null&&r.messages){const s=this.index,n=typeof s=="string"?s:`visualVariables[${s}]`;r.messages.push(new z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:n+".valueExpression",context:r}))}}else t[i]=e}readValueUnit(e){return e?pI.read(e):null}clone(){var e,t;return new hI({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Kf(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Kf(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:(e=this.stops)==null?void 0:e.map(i=>i.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}flipSizes(){if(this.transformationType===Zi.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===Zi.Stops){const e=this.stops;if(!e)return this;const t=e.map(r=>r.size).reverse(),i=e.length;for(let r=0;r<i;r++)e[r].size=t[r];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){var e;return(e=this.stops)==null?void 0:e.map(t=>t.value||0)}};u([h({readOnly:!0})],St.prototype,"cache",null),u([h({type:rw.apiValues,json:{type:rw.jsonValues,origins:{"web-map":{read:!1}},read:rw.read,write:rw.write}})],St.prototype,"axis",void 0),u([h()],St.prototype,"index",null),u([h({type:String,readOnly:!0})],St.prototype,"inputValueType",null),u([h({type:AEe,json:{write:!0}})],St.prototype,"legendOptions",void 0),u([h({type:Number,value:null,json:{write:!0}})],St.prototype,"maxDataValue",null),u([h({type:Number,value:null,json:{write:!0}})],St.prototype,"maxSize",null),u([ht("maxSize")],St.prototype,"castMaxSize",null),u([ue("maxSize")],St.prototype,"readMaxSize",null),u([h({type:Number,value:null,json:{write:!0}})],St.prototype,"minDataValue",null),u([h({type:Number,value:null,json:{write:!0}})],St.prototype,"minSize",null),u([ht("minSize")],St.prototype,"castMinSize",null),u([ue("minSize")],St.prototype,"readMinSize",null),u([h({type:String,json:{write:!0}})],St.prototype,"normalizationField",void 0),u([h({readOnly:!0})],St.prototype,"arcadeRequired",null),u([h({type:String})],St.prototype,"scaleBy",void 0),u([h({type:[gS],value:null,json:{write:!0}})],St.prototype,"stops",null),u([h({type:["outline"],json:{write:!0}})],St.prototype,"target",void 0),u([h({type:String,readOnly:!0})],St.prototype,"transformationType",null),u([h({type:["size"],json:{type:["sizeInfo"]}})],St.prototype,"type",void 0),u([h({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],St.prototype,"useSymbolValue",void 0),u([h({type:String,json:{write:!0}})],St.prototype,"valueExpression",void 0),u([ue("valueExpression",["valueExpression","expression"])],St.prototype,"readValueExpression",null),u([de("web-scene","valueExpression")],St.prototype,"writeValueExpressionWebScene",null),u([h({type:["radius","diameter","area","width","distance"],json:{write:!0}})],St.prototype,"valueRepresentation",void 0),u([h({type:pI.apiValues,json:{write:pI.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],St.prototype,"valueUnit",void 0),u([ue("valueUnit")],St.prototype,"readValueUnit",null),St=hI=u([A("esri.renderers.visualVariables.SizeVariable")],St);const cE=St,zEe={color:VJ,size:cE,opacity:LN,rotation:GJ},VEe=new rt({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),GEe=/^\[([^\]]+)\]$/i;let _S=class extends Te{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t==null?void 0:t.filter(i=>!!i),t==null?void 0:t.length){for(const i of t)switch(i.type){case"color":this.colorVariables.push(i);break;case"opacity":this.opacityVariables.push(i);break;case"rotation":this.rotationVariables.push(i);break;case"size":this.sizeVariables.push(i)}this.sizeVariables.length&&this.sizeVariables.some(i=>!!i.target)&&t.sort((i,r)=>{let s=null;return s=i.target===r.target?0:i.target?1:-1,s});for(let i=0;i<t.length;i++)t[i].index=i;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,i,r){const{rotationExpression:s,rotationType:n}=i,o=s==null?void 0:s.match(GEe),c=o==null?void 0:o[1];if(c&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:n,field:c})),t)return t.map(d=>{const f=VEe.read(d.type),g=zEe[f];g||(ne.getLogger(this).warn(`Unknown variable type: ${f}`),r!=null&&r.messages&&r.messages.push(new Ln("visual-variable:unsupported",`visualVariable of type '${f}' is not supported`,{definition:d,context:r})));const v=new g;return v.read(d,r),v})}writeVariables(t,i){const r=[];for(const s of t){const n=s.toJSON(i);n&&r.push(n)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};u([h()],_S.prototype,"visualVariables",null),_S=u([A("esri.renderers.visualVariables.VisualVariableFactory")],_S);const qEe=_S,BEe={base:oy,key:"type",typeMap:{opacity:LN,color:VJ,rotation:GJ,size:cE}},ay=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new qEe}set visualVariables(i){this._vvFactory.visualVariables=i,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(i,r,s){return this._vvFactory.readVariables(i,r,s)}writeVisualVariables(i,r,s,n){r[s]=this._vvFactory.writeVariables(i,n)}get arcadeRequiredForVisualVariables(){var i;return((i=this.visualVariables)==null?void 0:i.some(({arcadeRequired:r})=>r))??!1}hasVisualVariables(i,r){return i?this.getVisualVariablesForType(i,r).length>0:this.getVisualVariablesForType("size",r).length>0||this.getVisualVariablesForType("color",r).length>0||this.getVisualVariablesForType("opacity",r).length>0||this.getVisualVariablesForType("rotation",r).length>0}getVisualVariablesForType(i,r){var s;return((s=this.visualVariables)==null?void 0:s.filter(n=>n.type===i&&(typeof r=="string"?n.target===r:r!==!1||!n.target)))??[]}async collectVVRequiredFields(i,r){let s=[];this.visualVariables&&(s=s.concat(this.visualVariables));for(const n of s)n&&(n.field&&is(i,r,n.field),n.normalizationField&&is(i,r,n.normalizationField),n.valueExpression&&(HEe(n.valueExpression,i,r)||await jr(i,r,n.valueExpression)))}};return u([h({types:[BEe],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),u([ue("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),u([de("visualVariables")],t.prototype,"writeVisualVariables",null),t=u([A("esri.renderers.mixins.VisualVariablesMixin")],t),t};function HEe(e,t,i){const r=bme(e);return r!=null&&(is(t,i,r),!0)}const Y2=wa.fromJSON(fJ),PN=tn.fromJSON(mJ),QJ=Kh.fromJSON(yJ),WEe=iy.fromJSON(yTe);function b4e(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return Y2;case"polyline":return PN;case"polygon":case"extent":return QJ}return null}const _4e=wa.fromJSON(gTe),w4e=tn.fromJSON(vTe),S4e=Kh.fromJSON(bTe),ZEe=Tl.fromSimpleMarkerSymbol(Y2),YEe=Qh.fromSimpleLineSymbol(PN),JEe=zc.fromSimpleFillSymbol(QJ),XEe=new P1({symbolLayers:new pe([new Xh({material:{color:TN},edges:new XH({size:kn(1),color:new Ne(mTe)})})])}),QEe=new Qh({symbolLayers:new pe([new ey({material:{color:new Ne([0,0,0])},size:kn(1)})])}),KEe=new zc({symbolLayers:new pe([new Xh({outline:{color:new Ne([0,0,0]),size:kn(1)}})])});function T4e(e){if(e==null)return null;switch(e.type){case"mesh":return XEe;case"point":case"multipoint":return ZEe;case"polyline":return YEe;case"polygon":case"extent":return JEe}return null}const c9="#useCIMFallbackSymbology()",tf={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function e$e(e,t=tf){var d,f,g,v;if(!e)return{symbol:null};const{retainId:i=tf.retainId,ignoreDrivers:r=tf.ignoreDrivers,hasLabelingContext:s=tf.hasLabelingContext,retainCIM:n=tf.retainCIM,cimFallbackEnabled:o=tf.cimFallbackEnabled}=t;let c=null;if(MW(e)||e instanceof xc)c=e.clone();else if(e.type==="cim"){const _=(f=(d=e.data)==null?void 0:d.symbol)==null?void 0:f.type;switch(_){case"CIMPointSymbol":c=n?e.clone():Tl.fromCIMSymbol(e);break;case"CIMLineSymbol":o&&(c=QEe.clone(),(g=t==null?void 0:t.logWarning)==null||g.call(t,c9,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(c=KEe.clone(),(v=t==null?void 0:t.logWarning)==null||v.call(t,c9,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!c)return{error:new z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${_||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof tn)c=Qh.fromSimpleLineSymbol(e);else if(e instanceof wa)c=Tl.fromSimpleMarkerSymbol(e);else if(e instanceof D1)c=Tl.fromPictureMarkerSymbol(e);else if(e instanceof Kh)c=t.geometryType&&t.geometryType==="mesh"?P1.fromSimpleFillSymbol(e):zc.fromSimpleFillSymbol(e);else{if(!(e instanceof iy))return{error:new z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};c=s?HT.fromTextSymbol(e):Tl.fromTextSymbol(e)}return i&&c&&c.type!=="cim"&&(c.id=e.id),!r||c.type==="cim"||c instanceof xc||c.symbolLayers.forEach(_=>_.ignoreDrivers=!0),{symbol:c}}function J2(e,t,i,r){const s=KJ(e,{},{context:r,isLabelSymbol:!1});s!=null&&(t[i]=s)}function d9(e,t,i,r){const s=KJ(e,{},{context:r,isLabelSymbol:!0});s!=null&&(t[i]=s)}function h9(e){return MW(e)||e instanceof xc}function t$e(e){return(e==null?void 0:e.type)==="polygon-3d"||(e==null?void 0:e.type)==="line-3d"}function KJ(e,t,i){var c;if(e==null)return null;const{context:r,isLabelSymbol:s}=i,n=r==null?void 0:r.origin,o=r==null?void 0:r.messages;if(n==="web-scene"&&!h9(e)){const d=e$e(e,{retainCIM:!0,hasLabelingContext:s});return d.symbol!=null?d.symbol.write(t,r):(o==null||o.push(new z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:d.error})),null)}return qA(r==null?void 0:r.layer)&&t$e(e)?(o==null||o.push(new z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${(c=r==null?void 0:r.layer)==null?void 0:c.declaredClass}'.`,{symbol:e,context:r})),null):(n==="web-map"||n==="portal-item"&&!qA(r==null?void 0:r.layer))&&h9(e)?(o==null||o.push(new z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function E4e(e,t){return cge(e,null,t)}const dE={types:AW,json:{write:{writer:J2},origins:{"web-scene":{types:YF,write:{writer:J2},read:{reader:Vm({types:YF})}}}}},DN=bR({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},dE),kN={types:{base:Sr,key:"type",typeMap:{"simple-fill":cc.typeMap["simple-fill"],"picture-fill":cc.typeMap["picture-fill"],"polygon-3d":cc.typeMap["polygon-3d"],cim:cc.typeMap.cim}},json:{write:{writer:J2},origins:{"web-scene":{type:zc,write:{writer:J2}}}}},wS={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}};var fI;let sh=fI=class extends ay(Dl){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.symbols.map(i=>i.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new fI({description:this.description,label:this.label,symbol:j(this.symbol),visualVariables:j(this.visualVariables),authoringInfo:j(this.authoringInfo)})}};u([h({type:String,json:{write:!0}})],sh.prototype,"description",void 0),u([h({type:String,json:{write:!0}})],sh.prototype,"label",void 0),u([h(DN)],sh.prototype,"symbol",void 0),u([Ie({simple:"simple"})],sh.prototype,"type",void 0),sh=fI=u([A("esri.renderers.SimpleRenderer")],sh);const da=sh,i$e=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function mI(e){return e instanceof Te}function p9(e){return e instanceof pe?Object.keys(e.items):mI(e)?Es(e).keys():e?Object.keys(e):[]}function sw(e,t){return e instanceof pe?e.items[t]:e[t]}function r$e(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function Ev(e){return e?e.declaredClass:null}function eX(e,t){var v;const i=e.diff;if(i&&typeof i=="function")return i(e,t);const r=p9(e),s=p9(t);if(r.length===0&&s.length===0)return;if(!r.length||!s.length||r$e(e,t))return{type:"complete",oldValue:e,newValue:t};const n=s.filter(_=>!r.includes(_)),o=r.filter(_=>!s.includes(_)),c=r.filter(_=>s.includes(_)&&sw(e,_)!==sw(t,_)).concat(n,o).sort(),d=Ev(e);if(d&&i$e.has(d)&&c.length)return{type:"complete",oldValue:e,newValue:t};let f;const g=mI(e)&&mI(t);for(const _ of c){const S=sw(e,_),T=sw(t,_);let E;if((g||typeof S!="function"&&typeof T!="function")&&S!==T&&(S!=null||T!=null)){if(i&&i[_]&&typeof i[_]=="function")E=(v=i[_])==null?void 0:v.call(i,S,T);else if(S instanceof Date&&T instanceof Date){if(S.getTime()===T.getTime())continue;E={type:"complete",oldValue:S,newValue:T}}else E=typeof S=="object"&&typeof T=="object"&&Ev(S)===Ev(T)?eX(S,T):{type:"complete",oldValue:S,newValue:T};E!=null&&(f!=null?f.diff[_]=E:f={type:"partial",diff:{[_]:E}})}}return f}function $4e(e,t){return s$e(e,t)}function s$e(e,t){if(e==null)return!1;const i=t.split(".");let r=e;for(const s of i){if(r.type==="complete")return!0;if(r.type!=="partial")return!1;{const n=r.diff[s];if(!n)return!1;r=n}}return!0}function x4e(e,t){if(!e)return!1;if(e.type==="partial"){const i=Object.keys(e.diff);return i.length===1&&i[0]===t}return!1}function n$e(e,t){if(typeof e!="function"&&typeof t!="function"&&(e!=null||t!=null))return e==null||t==null||typeof e=="object"&&typeof t=="object"&&Ev(e)!==Ev(t)?{type:"complete",oldValue:e,newValue:t}:eX(e,t)}function nw(e){if(e==null)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const i of t.added)if(!nw(i))return!1;for(const i of t.removed)if(!nw(i))return!1;for(const i of t.changed)if(!nw(i))return!1;return!0}case"partial":for(const t in e.diff)if(!nw(e.diff[t]))return!1;return!0}}var yI;const o$e=hr()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let q0=yI=class extends at.ClonableMixin(K){static from(e){return c1(yI,e)}constructor(e){super(e),this.title=null,this.order=null}};u([h({type:String,json:{write:!0}})],q0.prototype,"title",void 0),u([Ie(o$e)],q0.prototype,"order",void 0),q0=yI=u([A("esri.renderers.support.RendererLegendOptions")],q0);const FN=q0;let If=class extends at.ClonableMixin(K){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};u([h(wS)],If.prototype,"value",void 0),u([h(wS)],If.prototype,"value2",void 0),u([h(wS)],If.prototype,"value3",void 0),If=u([A("esri.renderers.support.UniqueValue")],If);const vm=If;let qu=class extends at.ClonableMixin(K){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const i=typeof(t=Array.isArray(t)?t:[t])[0];return i==="string"||i==="number"?t.map(r=>new vm({value:r})):i==="object"?t[0]instanceof vm?t:t.map(r=>new vm(r)):null}};u([h({type:String,json:{write:!0}})],qu.prototype,"description",void 0),u([h({type:String,json:{write:!0}})],qu.prototype,"label",void 0),u([h(dE)],qu.prototype,"symbol",void 0),u([h({type:[vm],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new vm({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const i=[];for(const r of e){const s=[r.value,r.value2,r.value3].filter(Al).map(n=>n.toString());i.push(s)}t.values=i}}}})],qu.prototype,"values",void 0),u([ht("values")],qu.prototype,"castValues",null),qu=u([A("esri.renderers.support.UniqueValueClass")],qu);const tX=qu;let B0=class extends at.ClonableMixin(K){constructor(t){super(t),this.heading=null,this.classes=null}};u([h({type:String,json:{write:!0}})],B0.prototype,"heading",void 0),u([h({type:[tX],json:{write:{isRequired:!0}}})],B0.prototype,"classes",void 0),B0=u([A("esri.renderers.support.UniqueValueGroup")],B0);const gI=B0;var vI;let nh=vI=class extends K{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new vI({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){var t;const e=JSON.stringify((t=this.symbol)==null?void 0:t.toJSON());return`${this.value}.${e}`}};u([h({type:String,json:{write:!0}})],nh.prototype,"description",void 0),u([h({type:String,json:{write:!0}})],nh.prototype,"label",void 0),u([h(DN)],nh.prototype,"symbol",void 0),u([h(wS)],nh.prototype,"value",void 0),nh=vI=u([A("esri.renderers.support.UniqueValueInfo")],nh);const $v=nh,f9=new Map;async function a$e(e,t){try{return{data:(await d$e(e,t)).data,baseUrl:one(e),styleUrl:e}}catch(i){return wo(i),null}}function l$e(e,t,i){var d;const r=t.portal!=null?t.portal:Ms.getDefault();let s;const n=`${r.url} - ${(d=r.user)==null?void 0:d.username} - ${e}`,o=f9.get(n);if(o)return o;const c=u$e(e,r,i).then(f=>(s=f,f.fetchData())).then(f=>({data:f,baseUrl:s.itemUrl??"",styleName:e}));return f9.set(n,c),c}function u$e(e,t,i){return t.load(i).then(()=>{const r=new To({disableExtraQuery:!0,query:`owner:${m9} AND type:${y9} AND typekeywords:"${e}"`});return t.queryItems(r,i)}).then(({results:r})=>{var o;let s=null;const n=e.toLowerCase();if(r&&Array.isArray(r)){for(const c of r)if(((o=c.typeKeywords)==null?void 0:o.some(f=>f.toLowerCase()===n))&&c.type===y9&&c.owner===m9){s=c;break}}if(!s)throw new z("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return s.load(i)})}function c$e(e,t,i){return(e==null?void 0:e.styleUrl)!=null?a$e(e.styleUrl,i):(e==null?void 0:e.styleName)!=null?l$e(e.styleName,t,i):Promise.reject(new z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function C4e(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function I4e(e,t){for(const i of t)switch(i){case"cim":if(e.cimRef)return{format:i,url:encodeURI(e.cimRef)};break;case"web-gltf-basisu":{const r=d3(e,"gltf_basisu");if(r)return{format:i,url:r};break}case"web-gltf":{const r=d3(e,"gltf");if(r)return{format:i,url:r};break}case"web":{const r=d3(e,"gltf");if(r)return{format:"web-gltf",url:r};if(e.webRef)return{format:i,url:encodeURI(e.webRef)};break}}}function d3(e,t){var i,r;if(!B("enable-feature:force-wosr"))return(r=(i=e.formatInfos)==null?void 0:i.find(s=>s.type===t))==null?void 0:r.href}function d$e(e,t){const i={responseType:"json",query:{f:"json"},...t};return qt(Mo(e),i)}const m9="esri_en",y9="Style",R4e="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var H0;const iX="esri.renderers.UniqueValueRenderer",bu=()=>ne.getLogger(iX),g9="uvInfos-watcher",v9="uvGroups-watcher",h$e=",",p$e=ji($v);function f$e(e){const{field1:t,field2:i,field3:r,fieldDelimiter:s,uniqueValueInfos:n,valueExpression:o}=e,c=!(!t||!i);return[{classes:(n??[]).map(d=>{var C;const{symbol:f,label:g,value:v,description:_}=d,[S,T,E]=c?((C=v==null?void 0:v.toString())==null?void 0:C.split(s||""))||[]:[v],M=[];return(t||o)&&M.push(S),i&&M.push(T),r&&M.push(E),{symbol:f,label:g,values:[M],description:_}})}]}function rf(e){return e!=null&&e!==""&&(typeof e!="string"||e.trim()!==""&&e.toLowerCase()!=="<null>")||(e=null),e+""}let Kt=H0=class extends ay(Dl){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,i){if(!t&&!i)return;if(!t||!i)return{type:"complete",oldValue:t,newValue:i};let r=!1;const s={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let n=0;n<i.length;n++){const o=t.find(c=>c.value===i[n].value);o?n$e(o,i[n])?(s.changed.push({type:"complete",oldValue:o,newValue:i[n]}),r=!0):s.unchanged.push({oldValue:o,newValue:i[n]}):(s.added.push(i[n]),r=!0)}for(let n=0;n<t.length;n++)i.find(o=>o.value===t[n].value)||(s.removed.push(t[n]),r=!0);return r?s:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:u1(e)}writeField(e,t,i,r){typeof e=="string"?t[i]=e:r!=null&&r.messages?r.messages.push(new z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):bu().error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,i){return i.portal||Ms.getDefault()}readStyleOrigin(e,t,i){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const r=Hm(t.styleUrl,i);return Object.freeze({styleUrl:r})}}writeStyleOrigin(e,t,i,r){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=g1(e.styleUrl,r))}set uniqueValueGroups(e){this.styleOrigin?bu().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?bu().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){var r;if(this.styleOrigin)return void bu().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i=typeof e=="object"?p$e(e):new $v({value:e,symbol:OW(t)}),(r=this.uniqueValueInfos)==null||r.push(i),this._valueInfoMap[rf(i.value)]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void bu().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let i=0;i<t.length;i++){const r=t[i];if(String(r.value)===String(e)){delete this._valueInfoMap[rf(e)],t.splice(i,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let i=t;return this.valueExpression&&(t==null?void 0:t.arcade)==null&&(i={...i,arcade:await $c()}),this._getUniqueValueInfo(e,i)}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void bu().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(e,t);return(i==null?void 0:i.symbol)||this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(i==null?void 0:i.arcade)==null){const s=await $c(),{arcadeUtils:n}=s;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),i={...i,arcade:s}}const r=this._getUniqueValueInfo(e,i);return(r==null?void 0:r.symbol)||this.defaultSymbol}get symbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){var r;const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=(r=this.uniqueValueInfos)==null?void 0:r.reduce((s,n)=>s+n.getMeshHash(),"");return`${e}.${t}.${i}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new H0({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:j(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:j(this.visualVariables),legendOptions:j(this.legendOptions),authoringInfo:j(this.authoringInfo),backgroundFillSymbol:j(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=j(this.uniqueValueInfos),i=j(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(j(this.styleOrigin))),Object.freeze(t),Object.freeze(i)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",i),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.symbols.map(r=>r.collectRequiredFields(e,t)),jr(e,t,this.valueExpression)];is(e,t,this.field),is(e,t,this.field2),is(e,t,this.field3),await Promise.all(i)}populateFromStyle(){return c$e(this.styleOrigin,{portal:this.portal}).then(e=>{var i;const t=[];return this._valueInfoMap={},e!=null&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(r=>{const s=new xc({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);const n=new $v({value:r.name,symbol:s});t.push(n),this._valueInfoMap[rf(r.name)]=n}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((i=this.uniqueValueInfos)!=null&&i.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",h$e)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[rf(t.value)]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(g9);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const i of e)t.push(xe(()=>({symbol:i.symbol,value:i.value,label:i.label,description:i.description}),(r,s)=>{r!==s&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,g9)}}_watchUniqueValueGroups(){this.removeHandles(v9);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const i of e){t.push(xe(()=>({classes:i.classes}),(r,s)=>{r!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const r of i.classes??[])t.push(xe(()=>({symbol:r.symbol,values:r.values,label:r.label,description:r.description}),(s,n)=>{s!==n&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,v9)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:i,field3:r,fieldDelimiter:s,uniqueValueGroups:n,valueExpression:o}=this;if(!t&&!o)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const c=!(!t||!i);for(const d of n)for(const f of d.classes??[]){const{symbol:g,label:v,values:_,description:S}=f;for(const T of _??[]){const{value:E,value2:M,value3:C}=T,L=[E];i&&L.push(M),r&&L.push(C);const N=c?L.join(s||""):L[0]??void 0;e.push(new $v({symbol:g,label:v,value:N,description:S}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:i,valueExpression:r,fieldDelimiter:s,uniqueValueInfos:n}=this;if(!t&&!r||!n.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const o=!(!t||!i),c=n.map(f=>{var C;const{symbol:g,label:v,value:_,description:S}=f,[T,E,M]=o?((C=_==null?void 0:_.toString())==null?void 0:C.split(s||""))||[]:[_];return new tX({symbol:g,label:v,description:S,values:[new vm({value:T,value2:E,value3:M})]})}),d=[new gI({classes:c})];e&&Object.freeze(d),this._set("uniqueValueGroups",d),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:i,scale:r,spatialReference:s,arcade:n,timeZone:o}=t??{};let c=this._cache.compiledFunc;const d=n.arcadeUtils;if(!c){const g=d.createSyntaxTree(this.valueExpression);c=d.createFunction(g),this._cache.compiledFunc=c}const f=d.executeFunction(c,d.createExecContext(e,d.getViewInfo({viewingMode:i,scale:r,spatialReference:s}),o));return this._valueInfoMap[rf(f)]}_getUnqiueValueInfoForFields(e){const t=this.field,i=e.attributes;let r;if(this.field2){const s=this.field2,n=this.field3,o=[];t&&o.push(i[t]),s&&o.push(i[s]),n&&o.push(i[n]),r=o.join(this.fieldDelimiter||"")}else t&&(r=i[t]);return this._valueInfoMap[rf(r)]}static fromPortalStyle(e,t){const i=new H0(t==null?void 0:t.properties);i._set("styleOrigin",Object.freeze({styleName:e})),i._set("portal",(t==null?void 0:t.portal)||Ms.getDefault());const r=i.populateFromStyle();return r.catch(s=>{bu().error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",s)}),r}static fromStyleUrl(e,t){const i=new H0(t==null?void 0:t.properties);i._set("styleOrigin",Object.freeze({styleUrl:e}));const r=i.populateFromStyle();return r.catch(s=>{bu().error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",s)}),r}};u([h({readOnly:!0})],Kt.prototype,"_cache",null),u([Ie({uniqueValue:"unique-value"})],Kt.prototype,"type",void 0),u([h(kN)],Kt.prototype,"backgroundFillSymbol",void 0),u([h({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Kt.prototype,"field",null),u([ht("field")],Kt.prototype,"castField",null),u([de("field")],Kt.prototype,"writeField",null),u([h({type:String,value:null,json:{write:!0}})],Kt.prototype,"field2",null),u([h({type:String,value:null,json:{write:!0}})],Kt.prototype,"field3",null),u([h({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],Kt.prototype,"orderByClassesEnabled",void 0),u([h({type:String,value:null,json:{write:!0}})],Kt.prototype,"valueExpression",null),u([h({type:String,json:{write:!0}})],Kt.prototype,"valueExpressionTitle",void 0),u([h({type:FN,json:{write:!0}})],Kt.prototype,"legendOptions",void 0),u([h({type:String,json:{write:!0}})],Kt.prototype,"defaultLabel",void 0),u([h(bR({...dE},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Kt.prototype,"defaultSymbol",null),u([h({type:String,value:null,json:{write:!0}})],Kt.prototype,"fieldDelimiter",null),u([h({type:Ms,readOnly:!0})],Kt.prototype,"portal",void 0),u([ue("portal",["styleName"])],Kt.prototype,"readPortal",null),u([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Kt.prototype,"styleOrigin",void 0),u([ue("styleOrigin",["styleName","styleUrl"])],Kt.prototype,"readStyleOrigin",null),u([de("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Kt.prototype,"writeStyleOrigin",null),u([h({type:[gI],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,i)=>(t.uniqueValueGroups||f$e(t)).map(r=>gI.fromJSON(r,i))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Kt.prototype,"uniqueValueGroups",null),u([h({type:[$v],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],Kt.prototype,"uniqueValueInfos",null),Kt=H0=u([A(iX)],Kt);const jN=Kt;var bI;let Hi=bI=class extends K{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new bI(j({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};u([h({type:[String],json:{write:!0}})],Hi.prototype,"attachmentTypes",void 0),u([h({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Hi.prototype,"attachmentsWhere",void 0),u([h({type:Boolean,json:{write:!0}})],Hi.prototype,"cacheHint",void 0),u([h({type:[String],json:{write:!0}})],Hi.prototype,"keywords",void 0),u([h({type:[String],json:{write:!0}})],Hi.prototype,"globalIds",void 0),u([h({json:{write:!0}})],Hi.prototype,"name",void 0),u([h({type:Number,json:{read:{source:"resultRecordCount"}}})],Hi.prototype,"num",void 0),u([h({type:[Number],json:{write:!0}})],Hi.prototype,"objectIds",void 0),u([h({type:[String],json:{write:!0}})],Hi.prototype,"orderByFields",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],Hi.prototype,"returnMetadata",void 0),u([h({type:[Number],json:{write:!0}})],Hi.prototype,"size",void 0),u([h({type:Number,json:{read:{source:"resultOffset"}}})],Hi.prototype,"start",void 0),u([de("start"),de("num")],Hi.prototype,"writeStart",null),u([h({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Hi.prototype,"where",void 0),Hi=bI=u([A("esri.rest.support.AttachmentQuery")],Hi),Hi.from=ji(Hi);const m$e=Hi,rX=hr()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),b9="percent-of-total",_9="field",L4e=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let i=this._get("normalizationType");const r=!!this.normalizationField,s=this.normalizationTotal!=null;return r||s?(i=r&&_9||s&&b9||null,r&&s&&ne.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):i!==_9&&i!==b9||(i=null),i}set normalizationType(i){this._set("normalizationType",i)}};return u([h({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),u([h({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),u([h({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),u([h({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),u([Ie(rX,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=u([A("esri.rest.support.NormalizationBinParametersMixin")],t),t};var _I;let oi=_I=class extends K{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new _I(j({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};u([h({type:Boolean,json:{write:!0}})],oi.prototype,"cacheHint",void 0),u([h({type:bo,json:{write:!0}})],oi.prototype,"dynamicDataSource",void 0),u([h({type:String,json:{write:!0}})],oi.prototype,"gdbVersion",void 0),u([h({type:Number,json:{write:!0}})],oi.prototype,"geometryPrecision",void 0),u([h({type:Date})],oi.prototype,"historicMoment",void 0),u([de("historicMoment")],oi.prototype,"_writeHistoricMoment",null),u([h({type:Number,json:{write:!0}})],oi.prototype,"maxAllowableOffset",void 0),u([h({json:{write:!0}})],oi.prototype,"objectIds",void 0),u([h({type:[String],json:{write:!0}})],oi.prototype,"orderByFields",void 0),u([h({type:[String],json:{write:!0}})],oi.prototype,"outFields",void 0),u([h({type:Ge,json:{read:{source:"outSR"},write:{target:"outSR"}}})],oi.prototype,"outSpatialReference",void 0),u([h({json:{write:!0}})],oi.prototype,"relationshipId",void 0),u([h({type:Number,json:{read:{source:"resultOffset"}}})],oi.prototype,"start",void 0),u([de("start"),de("num")],oi.prototype,"writeStart",null),u([h({type:Number,json:{read:{source:"resultRecordCount"}}})],oi.prototype,"num",void 0),u([h({json:{write:!0}})],oi.prototype,"returnGeometry",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],oi.prototype,"returnM",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],oi.prototype,"returnZ",void 0),u([h({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],oi.prototype,"where",void 0),oi=_I=u([A("esri.rest.support.RelationshipQuery")],oi),oi.from=ji(oi);const UN=oi,N4e=Object.freeze(Object.defineProperty({__proto__:null,default:UN},Symbol.toStringTag,{value:"Module"})),wI=new rt({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function y$e(e,t,i,r){const s=await Gc(e);if(await zN(e,t,r),!s.addAttachment)throw new z(r,"Layer source does not support addAttachment capability");return s.addAttachment(t,i)}function zN(e,t,i){var n,o;const{attributes:r}=t,{objectIdField:s}=e;return(o=(n=e.capabilities)==null?void 0:n.data)!=null&&o.supportsAttachment?t?r?s&&r[s]?Promise.resolve():Promise.reject(new z(i,`feature is missing the identifying attribute ${s}`)):Promise.reject(new z(i,"'attributes' are required on a feature to query attachments")):Promise.reject(new z(i,"A feature is required to add/delete/update attachments")):Promise.reject(new z(i,"this layer doesn't support attachments"))}async function g$e(e,t,i,r,s){const n=await Gc(e);if(await zN(e,t,s),!n.updateAttachment)throw new z(s,"Layer source does not support updateAttachment capability");return n.updateAttachment(t,i,r)}async function v$e(e,t,i){const{applyEdits:r}=await te(()=>import("./editingSupport-DSI1vP5g.js"),[]),s=await e.load();let n=i;return s.type==="feature"&&s.infoFor3D&&t.deleteFeatures!=null&&s.globalIdField!=null&&(n={...n,globalIdToObjectId:await U$e(s,t.deleteFeatures,s.globalIdField)}),r(s,s.source,t,i)}async function b$e(e,t,i){const{uploadAssets:r}=await te(()=>import("./editingSupport-DSI1vP5g.js"),[]),s=await e.load();return r(s,s.source,t,i)}async function _$e(e,t,i,r){const s=await Gc(e);if(await zN(e,t,r),!s.deleteAttachments)throw new z(r,"Layer source does not support deleteAttachments capability");return s.deleteAttachments(t,i)}async function w$e(e,t,i){const r=(await e.load({signal:t==null?void 0:t.signal})).source;if(!r.fetchRecomputedExtents)throw new z(i,"Layer source does not support fetchUpdates capability");return r.fetchRecomputedExtents(t)}async function S$e(e,t,i,r){var S,T,E,M;t=m$e.from(t),await e.load();const s=e.source,n=e.capabilities;if(!((S=n==null?void 0:n.data)!=null&&S.supportsAttachment))throw new z(r,"this layer doesn't support attachments");const{attachmentTypes:o,objectIds:c,globalIds:d,num:f,size:g,start:v,where:_}=t;if(!((T=n==null?void 0:n.operations)!=null&&T.supportsQueryAttachments)&&((o==null?void 0:o.length)>0||(d==null?void 0:d.length)>0||(g==null?void 0:g.length)>0||f||v||_))throw new z(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(c!=null&&c.length||d!=null&&d.length||_))throw new z(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!s.queryAttachments)throw new z(r,"Layer source does not support queryAttachments capability",t);return!((E=n==null?void 0:n.attachment)!=null&&E.supportsOrderByFields)&&((M=t.orderByFields)!=null&&M.length)&&((t=t.clone()).orderByFields=null),s.queryAttachments(t)}async function T$e(e,t,i,r){const s=await Gc(e);if(!s.queryObjectIds)throw new z(r,"Layer source does not support queryObjectIds capability");return s.queryObjectIds(_s.from(t)??e.createQuery(),i)}async function E$e(e,t,i,r){const s=await Gc(e);if(!s.queryFeatureCount)throw new z(r,"Layer source does not support queryFeatureCount capability");return s.queryFeatureCount(_s.from(t)??e.createQuery(),i)}async function $$e(e,t,i,r){const s=await Gc(e);if(!s.queryExtent)throw new z(r,"Layer source does not support queryExtent capability");return s.queryExtent(_s.from(t)??e.createQuery(),i)}async function x$e(e,t,i,r){const s=await Gc(e);if(!s.queryRelatedFeatures)throw new z(r,"Layer source does not support queryRelatedFeatures capability");return s.queryRelatedFeatures(UN.from(t),i)}async function M$e(e,t,i,r){const s=await Gc(e);if(!s.queryRelatedFeaturesCount)throw new z(r,"Layer source does not support queryRelatedFeaturesCount capability");return s.queryRelatedFeaturesCount(UN.from(t),i)}async function A$e(e){const t=e.source;if(t!=null&&t.refresh)try{const{dataChanged:i,updates:r}=await t.refresh();if(r!=null&&(e.sourceJSON={...e.sourceJSON,...r},e.read(r,{origin:"service",url:e.parsedUrl})),i)return!0}catch{}if(e.definitionExpression)try{return(await EH(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function O$e(e){var o,c;const t=new _s,i=(o=e.capabilities)==null?void 0:o.data,r=(c=e.capabilities)==null?void 0:c.query;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,r&&(t.compactGeometryEnabled=r.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),i&&(i.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),i.supportsM&&e.returnM!=null&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:s,timeExtent:n}=e;return t.timeExtent=s!=null&&n!=null?n.offset(-s.value,s.unit):n||null,t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null,t}function sX(e){const{globalIdField:t,fields:i}=e;if(t)return t;if(i){for(const r of i)if(r.type==="esriFieldTypeGlobalID")return r.name}}function nX(e){const{objectIdField:t,fields:i}=e;if(t)return t;if(i){for(const r of i)if(r.type==="esriFieldTypeOID")return r.name}}function C$e(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function I$e(e,t,i,r){var d,f;const s=i==null?void 0:i.feature,n=!!((d=e.subtypes)!=null&&d.length);if(n&&!(i!=null&&i.excludeImpliedDomains)){const g=L$e(e,t);if(g)return g}const o=n&&R$e(e,s);if(o){const g=(f=o==null?void 0:o.domains)==null?void 0:f[t];return(g==null?void 0:g.type)==="inherited"?r:g}const c=lX(e.types,e.typeIdField,s);if(c){const g=c.domains&&c.domains[t];if(g&&(g==null?void 0:g.type)!=="inherited")return g}if(r)return r;if(!(i!=null&&i.excludeImpliedDomains)){const g=N$e(e,t);if(g)return g}return null}function R$e(e,t){const{subtypes:i,subtypeField:r}=e;if(!(t!=null&&t.attributes)||!(i!=null&&i.length)||!r)return null;const s=t.attributes[r];return s==null?null:i.find(n=>n.code===s)}function L$e(e,t){var o,c;const{fieldsIndex:i,subtypeField:r}=e,{name:s,type:n}=i.get(t)??{};if(!s)return null;if((r&&((o=i.get(r))==null?void 0:o.name))===s&&((c=e.subtypes)!=null&&c.length)){const d=e.subtypes.map(f=>new vh({code:oX(f.code,n),name:f.name}));if(d!=null&&d.length)return new ZT({codedValues:d})}return null}function N$e(e,t){var n,o;const{fieldsIndex:i}=e,{name:r,type:s}=i.get(t)??{};if(!r)return null;if(("typeIdField"in e?(n=i.get(e.typeIdField))==null?void 0:n.name:null)===r&&"types"in e&&((o=e.types)!=null&&o.length)){const c=e.types.map(d=>new vh({code:oX(d.id,s),name:d.name}));return new ZT({codedValues:c})}return null}function oX(e,t){return t?UH({type:t})&&typeof e=="number"?`${e}`:Kme({type:t})&&typeof e=="string"?Number.parseInt(e,10):e:e}async function Gc(e){return(await e.load()).source}async function P4e(e,t){if(!Be)return;const i=Be.findCredential(e);if(i)return i.userId;let r;try{const s=await RL(e,t);s&&(r=await Be.checkSignInStatus(`${s}/sharing`))}catch{}return r?r.userId:null}async function aX(e,t){if(!Be||Be.findCredential(e))return;let i;try{const r=await RL(e,t);r&&(i=await Be.checkSignInStatus(`${r}/sharing`))}catch{}if(i)try{const r=t!=null?t.signal:null;await Be.getCredential(e,{signal:r})}catch{}}async function P$e(e,t,i){var s;const r=(s=e.parsedUrl)==null?void 0:s.path;r&&e.authenticationTriggerEvent===t&&await aX(r,i)}async function D4e(e){var i;const t=(i=e.parsedUrl)==null?void 0:i.path;t&&D$e(e)&&await aX(t)}function D$e(e){return k$e(e)&&("serviceDefinitionExpression"in e&&X2(e.serviceDefinitionExpression)||"definitionExpression"in e&&X2(e.definitionExpression))}function k$e(e){var t;return!(!JB(e)||!((t=e.capabilities)!=null&&t.query.supportsCurrentUser))}function X2(e){return!!(e!=null&&e.toLowerCase().includes("current_user"))}function F$e(e){return!SS(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const h3=Vm({types:AW});function VN(e,t){var i;if(e.defaultSymbol)return(i=e.types)!=null&&i.length?new jN({defaultSymbol:h3(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(r=>({id:r.id,symbol:h3(r.symbol,r,t)}))}):new da({symbol:h3(e.defaultSymbol,e,t)})}function j$e(e){var r,s,n;let t=(r=e.sourceJSON)==null?void 0:r.cacheMaxAge;if(!t)return!1;const i=(n=(s=e.editingInfo)==null?void 0:s.lastEditDate)==null?void 0:n.getTime();return i==null||(t*=1e3,Date.now()-i<t)}async function U$e(e,t,i){if(t==null)return null;const r=[],{objectIdField:s}=e;if(t.forEach(f=>{let g=null;if("attributes"in f){const{attributes:v}=f;g={globalId:v[i],objectId:v[s]!=null&&v[s]!==-1?v[s]:null}}else g={globalId:f.globalId,objectId:f.objectId!=null&&f.objectId!==-1?f.objectId:null};g.globalId!=null&&(g.objectId!=null&&g.objectId!==-1||r.push(g.globalId))}),r.length===0)return null;const n=e.createQuery();n.where=r.map(f=>`${i}='${f}'`).join(" OR "),n.returnGeometry=!1,n.outFields=[s,i],n.cacheHint=!1;const o=await Mae(fEe(e,n));if(!o.ok)return null;const c=new Map,d=o.value.features;for(const f of d){const g=f.attributes[i],v=f.attributes[s];g!=null&&v!=null&&v!==-1&&c.set(USe(g),v)}return c}function lX(e,t,i){if(!t||!i||!e)return null;const r=i.getAttribute(t);return r==null?null:e.find(s=>{const{id:n}=s;return n!=null&&n.toString()===r.toString()})??null}function SS(e){var t;return((t=e.sourceJSON)==null?void 0:t.isMultiServicesView)||z$e(e)}function z$e(e){var t,i;return!!((i=(t=e.sourceJSON)==null?void 0:t.capabilities)!=null&&i.toLowerCase().split(",").map(r=>r.trim()).includes("map"))}function V$e(e,t,i){const r=t==null?void 0:t.queryAttributeBins;if(!r)throw new z(i,"Layer source does not support binning");switch(e.binParameters.type){case"auto-interval":if(!r.supportsAutoInterval)throw new z(i,"Layer source does not support auto-interval binning");if(e.binParameters.normalizationType&&(!r.supportsNormalization||!w9(e.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new z(i,"Layer source does not support normalization binning");break;case"date":if(!r.supportsDate)throw new z(i,"Layer source does not support date binning");if(e.binParameters.snapToData&&!r.supportsSnapToData)throw new z(i,"Layer source does not support snapToData binning");if(e.binParameters.returnFullIntervalBin&&!r.supportsReturnFullIntervalBin)throw new z(i,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!r.supportsFixedBoundaries)throw new z(i,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!r.supportsFixedInterval)throw new z(i,"Layer source does not support fixed-interval binning");if(e.binParameters.normalizationType&&(!r.supportsNormalization||!w9(e.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new z(i,"Layer source does not support normalization binning")}if(e.binParameters.stackBy&&!r.supportsStackBy)throw new z(i,"Layer source does not support stackBy binning");if(e.binParameters.splitBy&&!r.supportsSplitBy)throw new z(i,"Layer source does not support splitBy binning");if(e.binParameters.firstDayOfWeek&&!r.supportsFirstDayOfWeek)throw new z(i,"Layer source does not support firstDayOfWeek binning");const s=r==null?void 0:r.supportedStatistics;if(e.outStatistics&&s){const n=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:o}of e.outStatistics){const c=n.get(o);if(c&&!s[c])throw new z(i,`Layer source does not support ${o} statistic type`)}}}function w9(e,t){return e!=null&&!!(t!=null&&t[rX.toJSON(e)])}const GN="__begin__",qN="__end__",G$e=new RegExp(GN,"ig"),q$e=new RegExp(qN,"ig"),S9=new RegExp("^"+GN,"i"),T9=new RegExp(qN+"$","i"),Q2='"',B$e=Q2+" + ",H$e=" + "+Q2;function W$e(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function Z$e(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function BN(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=W$e(e.labelExpression),t.type="conventional"),t}function Y$e(e){const t=BN(e);switch(t.type){case"conventional":return SI(t.expression);case"arcade":return t.expression}return null}function J$e(e){const t=BN(e);switch(t.type){case"conventional":return Q$e(t.expression);case"arcade":return uX(t.expression)}return null}function SI(e){let t;return e?(t=a1(e,i=>GN+'$feature["'+i+'"]'+qN),t=S9.test(t)?t.replace(S9,""):Q2+t,t=T9.test(t)?t.replace(T9,""):t+Q2,t=t.replaceAll(G$e,B$e).replaceAll(q$e,H$e)):t='""',t}const X$e=/^\s*\{([^}]+)\}\s*$/i;function Q$e(e){const t=e==null?void 0:e.match(X$e);return(t==null?void 0:t[1].trim())||null}const K$e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,exe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,txe=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function uX(e){if(!e)return null;let t=K$e.exec(e)||exe.exec(e);return t?t[1]||t[3]:(t=txe.exec(e),t?t[2]:null)}var TI;let Bu=TI=class extends K{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?SI(t.value):e}writeExpression(e,t,i){this.value!=null&&(e=SI(this.value)),e!=null&&(t[i]=e)}clone(){return new TI({expression:this.expression,title:this.title,value:this.value})}};u([h({type:String,json:{write:{writerEnsuresNonNull:!0}}})],Bu.prototype,"expression",void 0),u([ue("expression",["expression","value"])],Bu.prototype,"readExpression",null),u([de("expression")],Bu.prototype,"writeExpression",null),u([h({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Bu.prototype,"title",void 0),u([h({json:{read:!1,write:!1}})],Bu.prototype,"value",void 0),Bu=TI=u([A("esri.layers.support.LabelExpressionInfo")],Bu);const cX=Bu;var EI;const ow=new rt({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function aw(e,t,i){return{enabled:!qA(i==null?void 0:i.layer)}}function dX(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function ixe(e){return(e==null?void 0:e.type)==="map-image"}function hX(e){var t,i;return!!ixe(e)&&!!((i=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&i.supportsArcadeExpressionForLabeling)}function rxe(e){return dX(e)||hX(e==null?void 0:e.layer)}let _i=EI=class extends K{static evaluateWhere(e,t){const i=(r,s,n)=>{switch(s){case"=":return r==n;case"<>":return r!=n;case">":return r>n;case">=":return r>=n;case"<":return r<n;case"<=":return r<=n}return!1};try{if(e==null)return!0;const r=e.split(" ");if(r.length===3)return i(t[r[0]],r[1],r[2]);if(r.length===7){const s=i(t[r[0]],r[1],r[2]),n=r[3],o=i(t[r[4]],r[5],r[6]);switch(n){case"AND":return s&&o;case"OR":return s||o}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=WEe,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const i=t.labelExpressionInfo;if(!i||!i.value&&!i.expression)return e}writeLabelExpression(e,t,i){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=Z$e(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const r=uX(this.labelExpressionInfo.expression);r&&(e="["+r+"]")}}e!=null&&(t[i]=e)}writeLabelExpressionInfo(e,t,i,r){if(e==null&&this.labelExpression!=null&&dX(r))e=new cX({expression:this.getLabelExpressionArcade()});else if(!e)return;const s=e.toJSON(r);s.expression&&(t[i]=s)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return BN(this)}getLabelExpressionArcade(){return Y$e(this)}getLabelExpressionSingleField(){return J$e(this)}hash(){return JSON.stringify(this)}clone(){return new EI({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:j(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:j(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};u([h({type:String,json:{write:!0}})],_i.prototype,"name",void 0),u([h({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:aw}}}}})],_i.prototype,"allowOverrun",void 0),u([h({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:aw}}}}})],_i.prototype,"deconflictionStrategy",void 0),u([h({type:String,json:{write:{overridePolicy(e,t,i){return this.labelExpressionInfo&&(i==null?void 0:i.origin)==="service"&&hX(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],_i.prototype,"labelExpression",void 0),u([ue("labelExpression")],_i.prototype,"readLabelExpression",null),u([de("labelExpression")],_i.prototype,"writeLabelExpression",null),u([h({type:cX,json:{write:{overridePolicy:(e,t,i)=>rxe(i)?{allowNull:!0}:{enabled:!1}}}})],_i.prototype,"labelExpressionInfo",void 0),u([de("labelExpressionInfo")],_i.prototype,"writeLabelExpressionInfo",null),u([h({type:ow.apiValues,json:{type:ow.jsonValues,read:ow.read,write:ow.write}})],_i.prototype,"labelPlacement",void 0),u([h({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],_i.prototype,"labelPosition",void 0),u([h({type:Number})],_i.prototype,"maxScale",void 0),u([de("maxScale")],_i.prototype,"writeMaxScale",null),u([h({type:Number})],_i.prototype,"minScale",void 0),u([de("minScale")],_i.prototype,"writeMinScale",null),u([h({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:aw}}}}})],_i.prototype,"repeatLabel",void 0),u([h({type:Number,cast:dt,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:aw}}}}})],_i.prototype,"repeatLabelDistance",void 0),u([h({types:dge,json:{origins:{"web-scene":{types:hge,write:d9,default:null}},write:d9,default:null}})],_i.prototype,"symbol",void 0),u([h({type:Boolean,json:{write:!0}})],_i.prototype,"useCodedValues",void 0),u([h({type:String,json:{write:!0}})],_i.prototype,"where",void 0),_i=EI=u([A("esri.layers.support.LabelClass")],_i);const ly=_i;var $I;let Hu=$I=class extends K{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){var e;return new $I({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:((e=this.symbol)==null?void 0:e.clone())??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};u([h({type:String,json:{write:!0}})],Hu.prototype,"description",void 0),u([h({type:String,json:{write:!0}})],Hu.prototype,"label",void 0),u([h({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],Hu.prototype,"minValue",void 0),u([h({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],Hu.prototype,"maxValue",void 0),u([h(DN)],Hu.prototype,"symbol",void 0),Hu=$I=u([A("esri.renderers.support.ClassBreakInfo")],Hu);const K2=Hu;var xI;const pX="log",TS="percent-of-total",ES="field",lw=new rt({esriNormalizeByLog:pX,esriNormalizeByPercentOfTotal:TS,esriNormalizeByField:ES}),sxe=ji(K2);let Di=xI=class extends ay(Dl){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,i){if(!Array.isArray(e))return;let r=t.minValue;return e.map(s=>{const n=new K2;return n.read(s,i),n.minValue==null&&(n.minValue=r),n.maxValue==null&&(n.maxValue=n.minValue),r=n.maxValue,n})}writeClassBreakInfos(e,t,i,r){const s=e.map(n=>n.write({},r));this._areClassBreaksConsecutive()&&s.forEach(n=>delete n.classMinValue),t[i]=s}castField(e){return e==null?e:typeof e=="function"?(ne.getLogger(this).error(".field: field must be a string value"),null):u1(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=this.normalizationTotal!=null;return t||i?(e=t&&ES||i&&TS||null,t&&i&&ne.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==ES&&e!==TS||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,i){let r=null;r=typeof e=="number"?new K2({minValue:e,maxValue:t,symbol:OW(i)}):sxe(j(e)),this.classBreakInfos.push(r),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const i=this.classBreakInfos.length;for(let r=0;r<i;r++){const s=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(s[0]===e&&s[1]===t){this.classBreakInfos.splice(r,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(t==null?void 0:t.arcade)==null&&ne.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let i=t;this.valueExpression&&(t==null?void 0:t.arcade)==null&&(i={...i,arcade:await $c()});const r=this.getBreakIndex(e,i);return r!==-1?this.classBreakInfos[r]:null}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void ne.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(e,t);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(t==null?void 0:t.arcade)==null){const s=await $c(),{arcadeUtils:n}=s;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),i={...i,arcade:s}}const r=this.getBreakIndex(e,i);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}get symbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((r,s)=>r+s.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var e,t;return new xI({field:this.field,backgroundFillSymbol:(e=this.backgroundFillSymbol)==null?void 0:e.clone(),defaultLabel:this.defaultLabel,defaultSymbol:(t=this.defaultSymbol)==null?void 0:t.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:j(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:j(this.visualVariables),legendOptions:j(this.legendOptions),authoringInfo:j(this.authoringInfo)})}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.symbols.map(r=>r.collectRequiredFields(e,t)),jr(e,t,this.valueExpression)];is(e,t,this.field),is(e,t,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(e,t){const{viewingMode:i,scale:r,spatialReference:s,arcade:n,timeZone:o}=t??{},{valueExpression:c}=this;let d=this._compiledValueExpression.valueExpression===c?this._compiledValueExpression.compiledFunction:null;const f=n.arcadeUtils;if(!d){const v=f.createSyntaxTree(c);d=f.createFunction(v),this._compiledValueExpression.compiledFunction=d}this._compiledValueExpression.valueExpression=c;const g=f.executeFunction(d,f.createExecContext(e,f.getViewInfo({viewingMode:i,scale:r,spatialReference:s}),o));return this._getBreakIndexfromInfos(g)}_getBreakIndexForField(e){const t=this.field,i=e.attributes,r=this.normalizationType;let s=parseFloat(i[t]);if(r){const n=this.normalizationTotal,o=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if(r===pX)s=Math.log(s)*Math.LOG10E;else if(r!==TS||n==null||isNaN(n)){if(r===ES&&!isNaN(o)){if(isNaN(s)||isNaN(o))return-1;s/=o}}else s=s/n*100}return this._getBreakIndexfromInfos(s)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let i=0;i<this.classBreakInfos.length;i++){const r=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(r[0]<=e&&(t?e<=r[1]:e<r[1]))return i}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let i=1;i<t;i++)if(e[i-1].maxValue!==e[i].minValue)return!1;return!0}};u([h(kN)],Di.prototype,"backgroundFillSymbol",void 0),u([h({type:[K2],json:{write:{isRequired:!0}}})],Di.prototype,"classBreakInfos",void 0),u([ue("classBreakInfos")],Di.prototype,"readClassBreakInfos",null),u([de("classBreakInfos")],Di.prototype,"writeClassBreakInfos",null),u([h({type:String,json:{write:!0}})],Di.prototype,"defaultLabel",void 0),u([h(dE)],Di.prototype,"defaultSymbol",void 0),u([h({type:String,json:{write:!0}})],Di.prototype,"field",void 0),u([ht("field")],Di.prototype,"castField",null),u([h({type:Boolean})],Di.prototype,"isMaxInclusive",void 0),u([h({type:FN,json:{write:!0}})],Di.prototype,"legendOptions",void 0),u([h({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Di.prototype,"minValue",null),u([h({type:String,json:{write:!0}})],Di.prototype,"normalizationField",void 0),u([h({type:Number,json:{write:!0}})],Di.prototype,"normalizationTotal",void 0),u([h({type:lw.apiValues,value:null,json:{type:lw.jsonValues,read:lw.read,write:lw.write}})],Di.prototype,"normalizationType",null),u([Ie({classBreaks:"class-breaks"})],Di.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],Di.prototype,"valueExpression",void 0),u([h({type:String,json:{write:!0}})],Di.prototype,"valueExpressionTitle",void 0),Di=xI=u([A("esri.renderers.ClassBreaksRenderer")],Di);const fX=Di,MI=-3,nxe=MI-1;var vl;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(vl||(vl={}));let oxe=class{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new wh,this._users=new wh}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear()}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,i){this._removeFuncs.push([t,i])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(i=>i[0]!==t)}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,i){const r=this._db.get(t.id+i);return(r==null?void 0:r.size)??0}put(t,i,r,s,n){i=t.id+i;const o=this._db.get(i);if(o&&(this._size-=o.size,t.size-=o.size,this._db.delete(i),o.entry!==r&&this._notifyRemove(i,o.entry,o.size,vl.ALL)),s>this._maxSize)return void this._notifyRemove(i,r,s,vl.ALL);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return console.warn(`Refusing to cache entry with size ${s} for key ${i}`),void this._notifyRemove(i,r,0,vl.ALL);const c=1+Math.max(n,nxe)-MI;this._db.set(i,new axe(r,s,c)),this._size+=s,t.size+=s,this._checkSize()}updateSize(t,i,r,s){i=t.id+i;const n=this._db.get(i);if(n&&n.entry===r){for(this._size-=n.size,t.size-=n.size;s>this._maxSize;){const o=this._notifyRemove(i,r,s,vl.SOME);if(!(o!=null&&o>0))return void this._db.delete(i);s=o}n.size=s,this._size+=s,t.size+=s,this._checkSize()}}pop(t,i){i=t.id+i;const r=this._db.get(i);if(r)return this._size-=r.size,t.size-=r.size,this._db.delete(i),++this._hit,r.entry;++this._miss}get(t,i){i=t.id+i;const r=this._db.get(i);if(r!==void 0)return this._db.delete(i),r.lives=r.lifetime,this._db.set(i,r),++this._hit,r.entry;++this._miss}peek(t,i){const r=this._db.get(t.id+i);return r?++this._hit:++this._miss,r==null?void 0:r.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},r=new Array;this._db.forEach((o,c)=>{const d=o.lifetime;r[d]=(r[d]||0)+o.size,this._users.forAll(f=>{const{id:g,name:v}=f;if(c.startsWith(g)){const _=i[v]||0;i[v]=_+o.size}})});const s={};this._users.forAll(o=>{const c=o.name;if("hitRate"in o&&typeof o.hitRate=="number"&&!isNaN(o.hitRate)&&o.hitRate>0){const d=i[c]||0;i[c]=d,s[c]=Math.round(100*o.hitRate)+"%"}else s[c]="0%"});const n=Object.keys(i);n.sort((o,c)=>i[c]-i[o]),n.forEach(o=>t[o]=Math.round(i[o]/2**20)+"MB / "+s[o]);for(let o=r.length-1;o>=0;--o){const c=r[o];c&&(t["Priority "+(o+MI-1)]=Math.round(c/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){const i=t.id;this._db.forEach((r,s)=>{s.startsWith(i)&&(this._size-=r.size,this._db.delete(s),this._notifyRemove(s,r.entry,r.size,vl.ALL))}),t.size=0}clearAll(){this._db.forEach((t,i)=>this._notifyRemove(i,t.entry,t.size,vl.ALL)),this._users.forAll(t=>t.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,i,r,s){let n;return this._removeFuncs.some(o=>{if(t.startsWith(o[0])){const c=o[1](i,s,r);return typeof c=="number"&&(n=c),!0}return!1}),n}_checkSize(){this._users.forAll(t=>this._checkSizeLimits(t)),this._checkSizeLimits()}_checkSizeLimits(t){const i=t??this;if(i.maxSize<0||i.size<=i.maxSize)return;const r=t==null?void 0:t.id;let s=!0;for(;s;){s=!1;for(const[n,o]of this._db)if(o.lifetime===0&&(!r||n.startsWith(r))){if(this._purgeItem(n,o,t),i.size<=.9*i.maxSize)return;s||(s=this._db.has(n))}}for(const[n,o]of this._db)if((!r||n.startsWith(r))&&(this._purgeItem(n,o,t),i.size<=.9*i.maxSize))return}_purgeItem(t,i,r=this._users.find(s=>t.startsWith(s.id))){if(this._db.delete(t),i.lives<=1){this._size-=i.size,r&&(r.size-=i.size);const s=this._notifyRemove(t,i.entry,i.size,vl.SOME);s!=null&&s>0&&(this._size+=s,r&&(r.size+=s),i.lives=i.lifetime,i.size=s,this._db.set(t,i))}else--i.lives,this._db.set(t,i)}},axe=class{constructor(t,i,r){this.entry=t,this.size=i,this.lifetime=r,this.lives=r}},lxe=class{constructor(t,i){this._storage=new oxe,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),i&&this._storage.registerRemoveFunc("",i)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,i,r=1){this._storage.put(this,t,i,r,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}};function uxe(e){return"timeZone"in e}function cxe(e){return"timeZone"in e}function dxe(e){return"dateFieldsTimeZone"in e}const hxe=new Map;let mX=class $S{static fromJSON(t){return new $S(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new $S(t.fields??[],$9(t))}static fromLayerJSON(t){return new $S(t.fields??[],$9(t))}constructor(t=[],i){var s;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=i?new Map(i):null;const r=[];for(const n of this.fields){const o=n==null?void 0:n.name,c=E9(o);if(o&&c){const d=hh(o);this._fieldsMap.set(o,n),this._fieldsMap.set(d,n),this._normalizedFieldsMap.set(c,n),r.push(`${d}:${n.type}:${(s=this._timeZoneByFieldName)==null?void 0:s.get(o)}`),eye(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):jH(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),zF(n)||VF(n)||(n.editable=n.editable==null||!!n.editable,n.nullable=n.nullable==null||!!n.nullable)}}r.sort(),this.uid=r.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)zF(t)||VF(t)||t.nullable||Gme(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}equals(t){return this.uid===(t==null?void 0:t.uid)}has(t){return this.get(t)!=null}get(t){if(!t)return;let i=this._fieldsMap.get(t);return i||(i=this._fieldsMap.get(hh(t))??this._normalizedFieldsMap.get(E9(t)),i&&this._fieldsMap.set(t,i),i)}getTimeZone(t){const i=this.get(t&&typeof t!="string"?t.name:t);return i?this._timeZoneByFieldName?this._timeZoneByFieldName.get(i.name):i.type==="date"||i.type==="esriFieldTypeDate"?(ne.getLogger("esri.layers.support.FieldsIndex").errorOnce(new z("getTimeZone:no-timezone-information",`no time zone information for field '${i.name}'`)),Sc):yX.has(i.type)?zh:null:null}getLuxonTimeZone(t){const i=this.getTimeZone(t);return i?i===zh?So.instance:i===Sc?lr.utcInstance:l1(hxe,i,()=>xs.create(i)):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return tye(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){var i;return((i=this.get(t))==null?void 0:i.name)??void 0}toJSON(){return{fields:this.fields.map(t=>K.isSerializable(t)?t.toJSON():t),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function hh(e){return e.trim().toLowerCase()}function E9(e){var t;return((t=Ome(e))==null?void 0:t.toLowerCase())??""}const yX=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function $9(e){const t=new Map;if(!e.fields)return t;const i=e.datesInUnknownTimezone===!0,{timeInfo:r,editFieldsInfo:s}=e,n=(r?"startField"in r?r.startField:r.startTimeField:"")??"",o=(r?"endField"in r?r.endField:r.endTimeField:"")??"",c=dxe(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?Rw(e.dateFieldsTimeReference):null,d=s?uxe(s)?s.timeZone??c:s.dateFieldsTimeReference?Rw(s.dateFieldsTimeReference):c??Sc:null,f=r?cxe(r)?r.timeZone??c:r.timeReference?Rw(r.timeReference):c:null,g=new Map([[hh((s==null?void 0:s.creationDateField)??""),d],[hh((s==null?void 0:s.editDateField)??""),d],[hh(n),f],[hh(o),f]]);for(const{name:v,type:_}of e.fields)if(yX.has(_))t.set(v,zh);else if(_!=="date"&&_!=="esriFieldTypeDate")t.set(v,null);else if(i)t.set(v,zh);else{const S=g.get(hh(v??""))??c;t.set(v,S)}return t}var x9,M9,A9,O9,C9,I9,R9,L9,N9,P9,AI,OI,D9,k9,F9,j9,U9,z9,V9,G9,q9,B9,H9,W9,Z9,Y9,J9,X9,Q9,K9,eU,tU,iU,rU,sU,nU,oU,aU,lU,uU,cU,dU,hU,pU,fU,mU,yU,gU,vU,bU,_U,wU,SU,TU,EU,eT,$U,xU,MU,AU,OU,CU,IU;(function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"})(x9||(x9={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(M9||(M9={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(A9||(A9={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(O9||(O9={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(C9||(C9={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(I9||(I9={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(R9||(R9={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(L9||(L9={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(N9||(N9={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(P9||(P9={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(AI||(AI={})),function(e){e.Linear="Linear",e.EaseIn="EaseIn",e.EaseOut="EaseOut",e.EaseInOut="EaseInOut"}(OI||(OI={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(D9||(D9={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(k9||(k9={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(F9||(F9={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(j9||(j9={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(U9||(U9={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(z9||(z9={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(V9||(V9={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(G9||(G9={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(q9||(q9={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees",e.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",e.ConcentricCircles="ConcentricCircles",e.DoubleJogArrow="DoubleJogArrow",e.LinkedChevrons="LinkedChevrons",e.SegmentThenHalfCircle="SegmentThenHalfCircle",e.LineWithStraightTicks="LineWithStraightTicks",e.DoubleCurve="DoubleCurve",e.ParallelWithTicksByWidth="ParallelWithTicksByWidth",e.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(B9||(B9={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(H9||(H9={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(W9||(W9={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(Z9||(Z9={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(Y9||(Y9={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(J9||(J9={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(X9||(X9={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(Q9||(Q9={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(K9||(K9={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(eU||(eU={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(tU||(tU={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(iU||(iU={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AlongLine=1]="AlongLine"}(rU||(rU={})),function(e){e[e.Auto=0]="Auto",e[e.Clockwise=1]="Clockwise",e[e.Counterclockwise=2]="Counterclockwise"}(sU||(sU={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(nU||(nU={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(oU||(oU={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(aU||(aU={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(lU||(lU={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(uU||(uU={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(cU||(cU={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(dU||(dU={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(hU||(hU={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(pU||(pU={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(fU||(fU={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(mU||(mU={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(yU||(yU={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(gU||(gU={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(vU||(vU={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(bU||(bU={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(_U||(_U={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(wU||(wU={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(SU||(SU={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(TU||(TU={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(EU||(EU={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(eT||(eT={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}($U||($U={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(xU||(xU={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(MU||(MU={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(AU||(AU={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(OU||(OU={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(CU||(CU={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(IU||(IU={}));const pxe={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},CI={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:eT.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:eT.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:AI.Loop,repeatdelay:0,easing:OI.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0}};function fxe(e){return typeof e=="function"}function U4e(e,t,i,r){return fxe(e)?e(t,i,r):e}function z4e(e){return[e.r,e.g,e.b,e.a]}const mxe=` /-,
`;function RU(e){let t=e.length;for(;t--;)if(!mxe.includes(e.charAt(t)))return!1;return!0}function V4e(e,t){const i=[];let r=0,s=-1;do if(s=e.indexOf("[",r),s>=r){if(s>r){const n=e.slice(r,s);i.push([n,null,RU(n)])}if(r=s+1,s=e.indexOf("]",r),s>=r){if(s>r){const n=t[e.slice(r,s)];n&&i.push([null,n,!1])}r=s+1}}while(s!==-1);if(r<e.length){const n=e.slice(r);i.push([n,null,RU(n)])}return i}function G4e(e,t,i,r){let s="",n=null;for(const o of t){const[c,d,f]=o;if(c)f?n=c:(n&&(s+=n,n=null),s+=c);else{let g=d;i!=null&&(g=gX(d,i));const v=e.attributes[g];v&&(n&&(s+=n,n=null),s+=v)}}return yxe(s,r)}function yxe(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function q4e(e,t,i,r,s,n,o=!0){const c=t/s,d=i/n,f=Math.ceil(c/2),g=Math.ceil(d/2);for(let v=0;v<n;v++)for(let _=0;_<s;_++){const S=4*(_+(o?n-v-1:v)*s);let T=0,E=0,M=0,C=0,L=0,N=0,P=0;const U=(v+.5)*d;for(let W=Math.floor(v*d);W<(v+1)*d;W++){const re=Math.abs(U-(W+.5))/g,ae=(_+.5)*c,fe=re*re;for(let ye=Math.floor(_*c);ye<(_+1)*c;ye++){let Se=Math.abs(ae-(ye+.5))/f;const _e=Math.sqrt(fe+Se*Se);_e>=-1&&_e<=1&&(T=2*_e*_e*_e-3*_e*_e+1,T>0&&(Se=4*(ye+W*t),P+=T*e[Se+3],M+=T,e[Se+3]<255&&(T=T*e[Se+3]/250),C+=T*e[Se],L+=T*e[Se+1],N+=T*e[Se+2],E+=T))}}r[S]=C/E,r[S+1]=L/E,r[S+2]=N/E,r[S+3]=P/M}}function gxe(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function B4e(e){var t;return((t=e.data)==null?void 0:t.symbol)??null}function H4e(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function W4e(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function Z4e(e){return e!=null&&(e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill")}function vxe(e){return e!=null&&(e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices")}const Y4e=(e,t=0)=>e==null||isNaN(e)?t:e,J4e=(e,t)=>e??t,X4e=(e,t)=>e??t,Q4e=e=>e.tintColor?gxe(e.tintColor):[255,255,255,1],K4e=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function e5e(){return te(()=>import("./geometryEngineJSON-Bvf5zUh7.js").then(e=>e.g),__vite__mapDeps([9,10,1,11]))}function t5e(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function i5e(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function r5e(e){let t="normal",i="normal";if(e){const r=e.toLowerCase();r.includes("italic")?t="italic":r.includes("oblique")&&(t="oblique"),r.includes("bold")?i="bold":r.includes("light")&&(i="lighter")}return{style:t,weight:i}}function s5e(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function LU(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const i=LU(t);if(i!=null)return i}break;case"CIMTextSymbol":return LU(e.symbol);case"CIMSolidFill":return e.color}return null}function NU(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const i of t){const r=NU(i);if(r!=null)return r}break}case"CIMTextSymbol":return NU(e.symbol);case"CIMSolidStroke":return e.color}}function PU(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const i=PU(t);if(i!==void 0)return i}break;case"CIMTextSymbol":return PU(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function n5e(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function o5e(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function a5e(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:typeof e[t]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const l5e=e=>e.includes("data:image/svg+xml");function u5e(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function HN(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function c5e(e,t,i,r,s,n,o=!0){const{infos:c}=n;let d=1,f=0,g=0,v=0,_=1;for(const{absoluteAnchorPoint:E,offsetX:M,offsetY:C,rotation:L,size:N,frameHeight:P,rotateClockWise:U,scaleSymbolsProportionally:W}of c)_=E?1:d,g=kU(M,C,f,_,g),v=DU(M,C,f,_,v),P&&(W||o)&&(d*=N/P),f=FU(L,U,f);const S=kU(r,s,f,_,g),T=DU(r,s,f,_,v);return{size:e*d,rotation:FU(t,i,f),offsetX:S,offsetY:T}}function bxe(e){if(e==null)return!1;if(Array.isArray(e))return e.every(t=>bxe(t));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function _xe(e,t){if(t==="color"||t==="outlinecolor"||t==="backgroundcolor"||t==="borderlinecolor"||t==="tintcolor")return[...pxe[t]];const i=CI[e];if(!i)throw new Error(`InternalError: default value for type ${e}.`);return i[t]}function wxe(e){return e.split(" ").map(t=>Number(t))}function Sxe(e){return typeof e=="string"?wxe(e):e}function d5e(e){return e!=null&&e.dashTemplate&&(e.dashTemplate=Sxe(e.dashTemplate)),e}function II(e){if(e==null)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const i of t)if(i.type==="CIMVectorMarker")return II(i)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const i of t)if(i.symbol)return II(i.symbol)}}return"Normal"}function h5e(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers){for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const r=i.size??CI.CIMVectorMarker.size;r>t&&(t=r);break}}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers){for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const r=i.width;r!=null&&r>t&&(t=r);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(i.markerPlacement&&vxe(i.markerPlacement)){const r=i.size??CI.CIMVectorMarker.size;r>t&&(t=r)}break;case"CIMPictureFill":{const r=i.height;r!=null&&r>t&&(t=r)}}}return t}}}function gX(e,t){if(t!==null){const i=t.get(e);return i?i.name:e}return e}function p5e(e){return e.map(t=>({...t,propertyName:HN(t.propertyName)}))}function f5e(e){const t={};for(const i in e){const r=e[i];t[HN(i)]=r}return t}function DU(e,t,i,r,s){const n=i*Math.PI/180;if(n){const o=Math.cos(n);return(Math.sin(n)*e+o*t)*r+s}return t*r+s}function kU(e,t,i,r,s){const n=i*Math.PI/180;return n?(Math.cos(n)*e-Math.sin(n)*t)*r+s:e*r+s}function FU(e,t,i){return t?i-e:i+e}function m5e(e,t,i){const r=i==="Color"||i==="TintColor"||i==="ToColor",s=i==="Rotation"||i==="Angle"||i==="ToRotation";let n=t[HN(i)];if(n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:s&&(n*=Math.PI/180)),n==null&&(n=_xe(t.type,i.toLowerCase()),n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]]:s&&(n*=Math.PI/180))),t.primitiveName!=null){const o=e[t.primitiveName];if(o!=null){const c=o[i];c==null||(typeof c=="string"||typeof c=="number"||Array.isArray(c)?(n=c,n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:s&&(n*=Math.PI/180))):(n={valueExpressionInfo:c,defaultValue:n},n!=null&&(r?n={type:"Process",op:"ArcadeColor",value:n}:s&&(n={type:"Process",op:"Divide",left:n,right:180/Math.PI}))))}}if(n==null)throw new Error(`Failed to derive a value or an expression for "${i}".`);return n}function y5e(e,t){return Math.max(Math.min((e??t)/100,1),0)}const jU="esri.renderers.support.DictionaryLoader",Txe={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let vX=class{constructor(t,i,r){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new lxe(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=t,this.config=i,this.fieldMap=r}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,i){var v;let r;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(i));try{r=await this._dictionaryPromise}catch(_){if(Ur(_))return this._dictionaryPromise=null,null}const s=(v=this._dictionaryVersion)==null?void 0:v.greaterEqual(4,0),n={};if(this.fieldMap)for(const _ of this._symbolFields){const S=gX(this.fieldMap[_],this._fieldIndex);if(S){const T=t.attributes[S];n[_]=s?T:T!=null?""+t.attributes[S]:""}else n[_]=""}let o=null;try{o=r==null?void 0:r(n,i)}catch{return null}if(!o||typeof o!="string"||o==="invalid")return null;const c=o.split(";"),d=[],f=[];for(let _=0;_<c.length;_++){const S=c[_];if(S){if(S.includes("po:")){const T=S.slice(3).split("|");if(T.length===3){const E=T[0],M=T[1];let C=T[2];const L="countrylabel";if(E===L&&M==="TextString"){if(this.fieldMap!=null){let N=this.fieldMap[L];N==null&&(N=L,this.fieldMap[N]=N),t.attributes[N]=C}continue}if(M==="DashTemplate")C=C.split(" ").map(N=>Number(N));else if(M==="Color"){const N=new Ne(C).toRgba();C=[N[0],N[1],N[2],255*N[3]]}else C=Number(C);f.push({primitiveName:E,propertyName:M,value:C,defaultValue:null})}}else if(S.includes("|")){for(const T of S.split("|"))if(this._itemNames.has(T)){d.push(T);break}}else if(this._itemNames.has(S))d.push(S);else if(_===0){d.length=0;let T="Invalid_P";t.geometry!=null&&(Eh(t.geometry)?T="Invalid_A":tL(t.geometry)&&(T="Invalid_L")),d.push(T);break}}}const g=t.geometry==null||!t.geometry.hasZ&&t.geometry.type==="point";return this._cimPartsToCIMSymbol(t,d,f,g,i)}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void ne.getLogger(jU).error("no valid URL!");const i=qt(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:t!=null?t.signal:null}),[{data:r}]=await Promise.all([i,$c()]);if(!r)throw this._dictionaryPromise=null,new z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:s,dictionary_version:n,expression:o,itemsNames:c}=r,d=o;let f=!1;n&&(this._dictionaryVersion=YY.parse(n),f=this._dictionaryVersion.greaterEqual(4,0)),this._refSymbolUrlTemplate=this.url+"/"+r.cimRefTemplateUrl,this._itemNames=new Set(c),this._symbolFields=s.symbol;const g={};if(this.config){const S=this.config;for(const T in S)g[T]=S[T]}if(s.configuration)for(const S of s.configuration)g.hasOwnProperty(S.name)||(g[S.name]=S.value);const v=[];if(t!=null&&t.fields&&this.fieldMap)for(const S in this.fieldMap){const T=this.fieldMap[S],E=t.fields.filter(M=>M.name.toLowerCase()===(T==null?void 0:T.toLowerCase()));E.length>0&&v.push({...E[0],type:f?E[0].type:"esriFieldTypeString"})}v.length>0&&(this._fieldIndex=new mX(v));const _=xme(d,t!=null?t.spatialReference:null,v,g).then(S=>{const T={scale:0};return(E,M)=>{if(S==null)return null;const C=S.repurposeFeature({geometry:null,attributes:E});return T.scale=M!=null?M.scale??void 0:void 0,S.evaluate({$feature:C,$view:T},S.services)}}).catch(S=>(ne.getLogger(jU).error("Creating dictionary expression failed:",S),null));return this._dictionaryPromise=_,_}async _cimPartsToCIMSymbol(t,i,r,s,n){const o=new Array(i.length);for(let f=0;f<i.length;f++)o[f]=this._getSymbolPart(i[f],n);let c=await Promise.all(o);const d=this.fieldMap;if(d&&c.length>0){const{OverrideHelper:f}=await te(()=>import("./OverrideHelper-DzamvxWf.js").then(g=>g.O),__vite__mapDeps([199,110,4]));c=j(c);for(const g of c)f.applyDictionaryTextOverrides(g,t,d,this._fieldIndex,II(g))}return new jc({data:Exe(c,r,s)})}async _getSymbolPart(t,i){const r=this._symbolCache.get(t);if(r)return r;if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(o=>o.data);const s=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,t),n=qt(s,{responseType:"json",query:{f:"json"},...i});this._ongoingRequests.set(t,n),n.finally(()=>this._ongoingRequests.delete(t));try{const o=await n;return this._symbolCache.put(t,o.data),o.data}catch(o){throw o}}};function Exe(e,t,i){if(!e||e.length===0)return null;const r={...e[0]};if(e.length>1){r.effects=null,r.symbolLayers=[];for(const s of e){const n=s;if(n.effects!=null)for(const o of n.symbolLayers)o.effects==null?o.effects=n.effects:o.effects.unshift(...n.effects);r.symbolLayers.unshift(...n.symbolLayers)}}return i&&(r.callout=Txe),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:t}}var RI;let po=RI=class extends ay(Dl){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new vX(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,i,r){r!=null&&r.origin||super.writeVisualVariables(e,t,i,r)}clone(){return new RI({config:j(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:j(this.fieldMap),url:j(this.url),visualVariables:j(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await jr(e,t,this.scaleExpression);for(const i in this.fieldMap){const r=this.fieldMap[i];t.has(r)&&e.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};u([h({type:vX})],po.prototype,"_loader",null),u([h({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],po.prototype,"config",void 0),u([h({type:Object,json:{write:!0}})],po.prototype,"fieldMap",void 0),u([h({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],po.prototype,"scaleExpression",void 0),u([de("scaleExpression")],po.prototype,"writeData",null),u([h({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],po.prototype,"scaleExpressionTitle",void 0),u([h({type:String,json:{write:!0}})],po.prototype,"url",void 0),u([de("visualVariables")],po.prototype,"writeVisualVariables",null),po=RI=u([A("esri.renderers.DictionaryRenderer")],po);const $xe=po;var LI;let ul=LI=class extends K{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(ne.getLogger(this).error(".field: field must be a string value"),null):u1(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){var e;return new LI({color:(e=this.color)==null?void 0:e.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([h({type:Ne,json:{type:[Number],write:!0}})],ul.prototype,"color",void 0),u([h({type:String,json:{write:!0}})],ul.prototype,"field",void 0),u([ht("field")],ul.prototype,"castField",null),u([h({type:String,json:{write:!0}})],ul.prototype,"label",void 0),u([h({type:String,json:{write:!0}})],ul.prototype,"valueExpression",void 0),u([h({type:String,json:{write:!0}})],ul.prototype,"valueExpressionTitle",void 0),ul=LI=u([A("esri.renderers.support.AttributeColorInfo")],ul);const bX=ul;var NI;let xS=NI=class extends K{constructor(){super(...arguments),this.unit=null}clone(){return new NI({unit:this.unit})}};u([h({type:String,json:{write:!0}})],xS.prototype,"unit",void 0),xS=NI=u([A("esri.renderers.support.DotDensityLegendOptions")],xS);const xxe=xS;var PI;let ds=PI=class extends ay(Dl){constructor(e){super(e),this.attributes=null,this.backgroundColor=new Ne([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new tn,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new Kh({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){var e;return((e=this.attributes)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new PI({attributes:j(this.attributes),backgroundColor:j(this.backgroundColor),dotBlendingEnabled:j(this.dotBlendingEnabled),dotShape:j(this.dotShape),dotSize:j(this.dotSize),dotValue:j(this.dotValue),legendOptions:j(this.legendOptions),outline:j(this.outline),referenceScale:j(this.referenceScale),seed:j(this.seed),visualVariables:j(this.visualVariables),authoringInfo:j(this.authoringInfo)})}getControllerHash(){var t;return`${(t=this.attributes)==null?void 0:t.map(i=>i.field||i.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes??[])i.valueExpression&&await jr(e,t,i.valueExpression),i.field&&e.add(i.field)}};u([h({type:[bX],json:{write:!0}})],ds.prototype,"attributes",void 0),u([h({type:Ne,json:{write:!0}})],ds.prototype,"backgroundColor",void 0),u([h({type:Boolean,json:{write:!0}})],ds.prototype,"dotBlendingEnabled",void 0),u([h({type:String,json:{write:!1}})],ds.prototype,"dotShape",void 0),u([h({type:Number,json:{write:!0}})],ds.prototype,"dotSize",void 0),u([h({type:xxe,json:{write:!0}})],ds.prototype,"legendOptions",void 0),u([h({type:tn,json:{default:null,write:!0}})],ds.prototype,"outline",void 0),u([h({type:Number,json:{write:!0}})],ds.prototype,"dotValue",void 0),u([h({type:Number,json:{write:!0}})],ds.prototype,"referenceScale",void 0),u([h({type:Number,json:{write:!0}})],ds.prototype,"seed",void 0),u([Ie({dotDensity:"dot-density"})],ds.prototype,"type",void 0),ds=PI=u([A("esri.renderers.DotDensityRenderer")],ds);const Mxe=ds;var DI;let W0=DI=class extends K{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new DI({color:this.color&&this.color.clone(),ratio:this.ratio})}};u([h({type:Ne,json:{type:[yt],default:null,write:{isRequired:!0}}})],W0.prototype,"color",void 0),u([h({type:Number,json:{write:{isRequired:!0}}})],W0.prototype,"ratio",void 0),W0=DI=u([A("esri.renderers.support.HeatmapColorStop")],W0);const MS=W0;let Rf=class extends at.ClonableMixin(K){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};u([h({type:String,json:{write:!0}})],Rf.prototype,"minLabel",void 0),u([h({type:String,json:{write:!0}})],Rf.prototype,"maxLabel",void 0),u([h({type:String,json:{write:!0}})],Rf.prototype,"title",void 0),Rf=u([A("esri.renderers.support.HeatmapLegendOptions")],Rf);function Axe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Oxe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Cxe(e,t,i,r,s){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e}function Ixe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e}function _X(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function wX(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}function SX(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e}function Rxe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Lxe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Nxe(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e}function Pxe(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e}function Dxe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function kxe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e}function Fxe(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e}function TX(e,t){const i=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2],n=t[3]-e[3];return Math.sqrt(i*i+r*r+s*s+n*n)}function EX(e,t){const i=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2],n=t[3]-e[3];return i*i+r*r+s*s+n*n}function $X(e){const t=e[0],i=e[1],r=e[2],s=e[3];return Math.sqrt(t*t+i*i+r*r+s*s)}function xX(e){const t=e[0],i=e[1],r=e[2],s=e[3];return t*t+i*i+r*r+s*s}function jxe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function Uxe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function zxe(e,t){const i=t[0],r=t[1],s=t[2],n=t[3];let o=i*i+r*r+s*s+n*n;return o>0&&(o=1/Math.sqrt(o),e[0]=i*o,e[1]=r*o,e[2]=s*o,e[3]=n*o),e}function Vxe(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function MX(e,t,i,r){const s=t[0],n=t[1],o=t[2],c=t[3];return e[0]=s+r*(i[0]-s),e[1]=n+r*(i[1]-n),e[2]=o+r*(i[2]-o),e[3]=c+r*(i[3]-c),e}function Gxe(e,t=1){const i=FT;let r,s,n,o,c,d;do r=2*i()-1,s=2*i()-1,c=r*r+s*s;while(c>=1);do n=2*i()-1,o=2*i()-1,d=n*n+o*o;while(d>=1);const f=Math.sqrt((1-c)/d);return e[0]=t*r,e[1]=t*s,e[2]=t*n*f,e[3]=t*o*f,e}function qxe(e,t,i){const r=t[0],s=t[1],n=t[2],o=t[3];return e[0]=i[0]*r+i[4]*s+i[8]*n+i[12]*o,e[1]=i[1]*r+i[5]*s+i[9]*n+i[13]*o,e[2]=i[2]*r+i[6]*s+i[10]*n+i[14]*o,e[3]=i[3]*r+i[7]*s+i[11]*n+i[15]*o,e}function Bxe(e,t,i){const r=t[0],s=t[1],n=t[2],o=i[0],c=i[1],d=i[2],f=i[3],g=f*r+c*n-d*s,v=f*s+d*r-o*n,_=f*n+o*s-c*r,S=-o*r-c*s-d*n;return e[0]=g*f+S*-o+v*-d-_*-c,e[1]=v*f+S*-c+_*-o-g*-d,e[2]=_*f+S*-d+g*-c-v*-o,e[3]=t[3],e}function Hxe(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function Wxe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Zxe(e,t){const i=e[0],r=e[1],s=e[2],n=e[3],o=t[0],c=t[1],d=t[2],f=t[3],g=ts();return Math.abs(i-o)<=g*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-c)<=g*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(s-d)<=g*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(n-f)<=g*Math.max(1,Math.abs(n),Math.abs(f))}const Yxe=_X,Jxe=wX,Xxe=SX,Qxe=TX,Kxe=EX,eMe=$X,tMe=xX;Object.freeze(Object.defineProperty({__proto__:null,add:Ixe,ceil:Rxe,copy:Axe,copyVec3:Oxe,dist:Qxe,distance:TX,div:Xxe,divide:SX,dot:Vxe,equals:Zxe,exactEquals:Wxe,floor:Lxe,inverse:Uxe,len:eMe,length:$X,lerp:MX,max:Pxe,min:Nxe,mul:Jxe,multiply:wX,negate:jxe,normalize:zxe,random:Gxe,round:Dxe,scale:kxe,scaleAndAdd:Fxe,set:Cxe,sqrDist:Kxe,sqrLen:tMe,squaredDistance:EX,squaredLength:xX,str:Hxe,sub:Yxe,subtract:_X,transformMat4:qxe,transformQuat:Bxe},Symbol.toStringTag,{value:"Module"}));function hE(){return[0,0,0,0]}function iMe(e){return[e[0],e[1],e[2],e[3]]}function uy(e,t,i,r){return[e,t,i,r]}function rMe(e,t,i,r){return[e,t,i,r]}function sMe(e,t=hE()){const i=Math.min(4,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function nMe(e,t){return new Float64Array(e,t,4)}function AX(){return hE()}function OX(){return uy(1,1,1,1)}function CX(){return uy(1,0,0,0)}function IX(){return uy(0,1,0,0)}function RX(){return uy(0,0,1,0)}function LX(){return uy(0,0,0,1)}const oMe=AX(),aMe=OX(),lMe=CX(),uMe=IX(),cMe=RX(),dMe=LX();Object.freeze(Object.defineProperty({__proto__:null,ONES:aMe,UNIT_W:dMe,UNIT_X:lMe,UNIT_Y:uMe,UNIT_Z:cMe,ZEROS:oMe,clone:iMe,create:hE,createView:nMe,freeze:rMe,fromArray:sMe,fromValues:uy,ones:OX,unitW:LX,unitX:CX,unitY:IX,unitZ:RX,zeros:AX},Symbol.toStringTag,{value:"Module"}));const WN=2.4;function hMe(e){return kn(e*WN)}function pMe(e){return Dpe(e)/WN}function fMe(e,t,i,r){let{color:s,ratio:n}=t,{color:o,ratio:c}=i;c===n&&(c===1?n-=1e-6:c+=1e-6);const d=Nn((r-n)/(c-n),0,1);MX(e,s.toArray(),o.toArray(),d)}function b5e(e){const i=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:c})=>c>=0&&c<=1).sort((c,d)=>c.ratio-d.ratio).map(({color:c,ratio:d})=>({color:c,ratio:Math.max(d,.001)})),e.length<1)return i;let r=e[0],s=e[0],n=1;const o=hE();for(let c=0;c<512;c++){const d=(c+.5)/512;for(;d>s.ratio&&n<e.length;)r=s,s=e[n++];fMe(o,r,s,d),i.set(o,4*c)}return i}function _5e(e,t,i){const r=Math.sqrt(e**2+t**2)/i;return r>1?0:3/(Math.PI*i**2)*(1-r**2)**2}function w5e(e){return typeof e=="function"?e:e?t=>+t[e]:()=>1}var kI;function UU(e){if(e!=null){const{maxDensity:t,minDensity:i,radius:r}=e;if(t!=null||i!=null||r!=null){const{blurRadius:s,maxPixelIntensity:n,minPixelIntensity:o,...c}=e;return c}}return e}let sr=kI=class extends Dl{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new MS({ratio:0,color:new Ne("rgba(255, 140, 0, 0)")}),new MS({ratio:.75,color:new Ne("rgba(255, 140, 0, 1)")}),new MS({ratio:.9,color:new Ne("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(e){return UU(e)}get blurRadius(){return pMe(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",hMe(e)),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(WN**2*this.blurRadius**4)}read(e,t){e=UU(e),super.read(e,t)}getSymbol(){return new wa}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const i=this.field,r=this.valueExpression;i&&typeof i=="string"&&is(e,t,i),r&&typeof r=="string"&&await jr(e,t,r)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new kI({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:j(this.colorStops),field:this.field,legendOptions:j(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([h({type:RN,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],sr.prototype,"authoringInfo",void 0),u([h({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],sr.prototype,"blurRadius",null),u([h({type:[MS],json:{write:{isRequired:!0}}})],sr.prototype,"colorStops",void 0),u([h({type:String,json:{write:!0}})],sr.prototype,"field",void 0),u([h({type:Rf,json:{write:!0}})],sr.prototype,"legendOptions",void 0),u([h({type:Number,json:{write:!0}})],sr.prototype,"maxDensity",void 0),u([h({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],sr.prototype,"maxPixelIntensity",null),u([h({type:Number,json:{write:!0}})],sr.prototype,"minDensity",void 0),u([h({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],sr.prototype,"minPixelIntensity",null),u([h({type:Number,cast:dt,json:{write:!0}})],sr.prototype,"radius",void 0),u([h({type:Number,range:{min:0},json:{default:0,write:!0}})],sr.prototype,"referenceScale",void 0),u([Ie({heatmap:"heatmap"})],sr.prototype,"type",void 0),u([h({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],sr.prototype,"valueExpression",void 0),u([h({type:String})],sr.prototype,"valueExpressionTitle",void 0),u([h({readOnly:!0})],sr.prototype,"_pixelIntensityToDensity",null),sr=kI=u([A("esri.renderers.HeatmapRenderer")],sr);const NX=sr;let ph=class extends at.ClonableMixin(K){constructor(){super(...arguments),this.color=new Ne([0,0,0,0]),this.label=null,this.threshold=0}};u([h({type:Ne,json:{write:!0}})],ph.prototype,"color",void 0),u([h({type:String,json:{write:!0}})],ph.prototype,"label",void 0),u([h({type:Number,range:{min:0,max:1},json:{write:!0}})],ph.prototype,"threshold",void 0),ph=u([A("esri.renderers.support.OthersCategory")],ph);const mMe={base:oy,key:"type",typeMap:{size:cE,opacity:LN}};let hs=class extends ay(at.ClonableMixin(Dl)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new Ne([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new ph,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){var t;return new wa({size:this.size?this.size/2+(((t=this.outline)==null?void 0:t.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(Al)}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((i,r)=>i+r.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((t,i)=>t+JSON.stringify(i),"")}async collectRequiredFields(t,i){await this.collectVVRequiredFields(t,i);for(const r of this.attributes)r.valueExpression&&await jr(t,i,r.valueExpression),r.field&&t.add(r.field)}};u([h({type:[bX],json:{write:!0}})],hs.prototype,"attributes",void 0),u([h(kN)],hs.prototype,"backgroundFillSymbol",void 0),u([h({type:Ne,json:{write:!0}})],hs.prototype,"defaultColor",void 0),u([h({type:String,json:{write:!0}})],hs.prototype,"defaultLabel",void 0),u([h({type:Number,range:{min:0,max:1},json:{write:!0}})],hs.prototype,"holePercentage",void 0),u([h({type:ph,json:{write:!0}})],hs.prototype,"othersCategory",void 0),u([h({type:FN,json:{write:!0}})],hs.prototype,"legendOptions",void 0),u([h({type:tn,json:{default:null,write:!0}})],hs.prototype,"outline",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],hs.prototype,"size",void 0),u([Ie({pieChart:"pie-chart"})],hs.prototype,"type",void 0),u([h({types:[mMe]})],hs.prototype,"visualVariables",void 0),hs=u([A("esri.renderers.PieChartRenderer")],hs);const yMe=hs,cy={key:"type",base:Dl,typeMap:{heatmap:NX,simple:da,"unique-value":jN,"class-breaks":fX,"dot-density":Mxe,dictionary:$xe,"pie-chart":yMe},errorContext:"renderer"},PX={key:"type",base:Dl,typeMap:{simple:da,"unique-value":jN,"class-breaks":fX,heatmap:NX},errorContext:"renderer",validate:gMe};function gMe(e){switch(e.type){case"simple":return vMe(e);case"unique-value":return bMe(e);case"class-breaks":return _Me(e);case"heatmap":return e}}function vMe(e){if(e.symbol)return e;ne.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function bMe(e){const t=e.uniqueValueInfos,i=t==null?void 0:t.filter(({symbol:r,label:s},n)=>(r||ne.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${n}] ${s}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(t==null?void 0:t.length)&&(e.uniqueValueInfos=i),e}function _Me(e){const t=e.classBreakInfos,i=t==null?void 0:t.filter(({symbol:r,label:s},n)=>(r||ne.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${n}] ${s}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(t==null?void 0:t.length)&&(e.classBreakInfos=i),e}function E5e(e,t){return s1(e,null,t)}const wMe=Vm({types:cy});function s1(e,t,i){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(i!=null&&i.messages&&i.messages.push(new Ln("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:i})),null):wMe(e,t,i):null}var FI;let Rr=FI=class extends gc{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=dt("12px"),this.fields=[],this.renderer=null}writeFields(e,t,i){const r=e.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());cr(i,r,t)}readRenderer(e,t,i){var s;const r=(s=t.drawingInfo)==null?void 0:s.renderer;return r?s1(r,t,i)??void 0:VN(t,i)}clone(){return new FI({fields:j(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:j(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:j(this.popupTemplate),renderer:j(this.renderer),binType:j(this.binType),size:this.size})}};u([Ie({binning:"binning"})],Rr.prototype,"type",void 0),u([Ie({geohash:"geohash",square:"square"}),h({type:["geohash","square"]})],Rr.prototype,"binType",void 0),u([h({type:Number,json:{write:!0}})],Rr.prototype,"fixedBinLevel",void 0),u([h({type:[ly],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Rr.prototype,"labelingInfo",void 0),u([h(V1)],Rr.prototype,"labelsVisible",void 0),u([h({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Rr.prototype,"maxScale",void 0),u([h(z1)],Rr.prototype,"popupEnabled",void 0),u([h({type:Jh,json:{name:"popupInfo",write:!0}})],Rr.prototype,"popupTemplate",void 0),u([h({cast:e=>e==="auto"?e:Xr(dt(e))})],Rr.prototype,"size",void 0),u([h({type:[Cc],json:{write:!0}})],Rr.prototype,"fields",void 0),u([de("fields")],Rr.prototype,"writeFields",null),u([h({types:cy,json:{write:{target:"drawingInfo.renderer"}}})],Rr.prototype,"renderer",void 0),u([ue("renderer",["drawingInfo.renderer"])],Rr.prototype,"readRenderer",null),Rr=FI=u([A("esri.layers.support.FeatureReductionBinning")],Rr);const DX=Rr;var jI;function zU(e){var t;return e.type==="simple"&&!((t=e.visualVariables)!=null&&t.length)}let ki=jI=class extends K{constructor(e){super(e),this.type="cluster",this.clusterRadius=dt("80px"),this.clusterMinSize=dt("12px"),this.clusterMaxSize=dt("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,i){var s,n;const r=(s=t.drawingInfo)==null?void 0:s.renderer;return(n=r==null?void 0:r.authoringInfo)!=null&&n.isAutoGenerated?null:r?zU(r)?null:s1(r,t,i)??void 0:VN(t,i)}readSymbol(e,t,i){var s,n;const r=(s=t.drawingInfo)==null?void 0:s.renderer;if((n=r==null?void 0:r.authoringInfo)!=null&&n.isAutoGenerated)return null;if(r&&zU(r)){const o=s1(r,t,i);return o==null?void 0:o.symbol}return null}writeSymbol(e,t,i,r){var n,o;const s=(o=(n=this.renderer)==null?void 0:n.authoringInfo)==null?void 0:o.isAutoGenerated;if(!this.renderer||s){const c=new da({symbol:e});t.drawingInfo={renderer:c.write({},r)}}}writeFields(e,t,i){const r=e.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());cr(i,r,t)}readFields(e,t,i){return e.filter(r=>!r.isAutoGenerated).map(r=>Cc.fromJSON(r))}clone(){return new jI({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:j(this.labelingInfo),labelsVisible:this.labelsVisible,fields:j(this.fields),maxScale:this.maxScale,renderer:j(this.renderer),symbol:j(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:j(this.popupTemplate)})}};u([h({type:["cluster"],readOnly:!0,json:{write:!0}})],ki.prototype,"type",void 0),u([h({cast:e=>e==="auto"?e:Xr(dt(e)),json:{write:!0}})],ki.prototype,"clusterRadius",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],ki.prototype,"clusterMinSize",void 0),u([h({type:Number,cast:dt,json:{write:!0}})],ki.prototype,"clusterMaxSize",void 0),u([h({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],ki.prototype,"maxScale",void 0),u([h(z1)],ki.prototype,"popupEnabled",void 0),u([h({type:Jh,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],ki.prototype,"popupTemplate",void 0),u([h({types:cy,json:{write:{target:"drawingInfo.renderer"}}})],ki.prototype,"renderer",void 0),u([ue("renderer",["drawingInfo.renderer"])],ki.prototype,"readRenderer",null),u([h({types:uge})],ki.prototype,"symbol",void 0),u([ue("symbol",["drawingInfo.renderer"])],ki.prototype,"readSymbol",null),u([de("symbol")],ki.prototype,"writeSymbol",null),u([h({type:[ly],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ki.prototype,"labelingInfo",void 0),u([h(V1)],ki.prototype,"labelsVisible",void 0),u([h({type:[Cc],json:{write:!0}})],ki.prototype,"fields",void 0),u([de("fields")],ki.prototype,"writeFields",null),u([ue("fields")],ki.prototype,"readFields",null),ki=jI=u([A("esri.layers.support.FeatureReductionCluster")],ki);const kX=ki;var UI;let AS=UI=class extends gc{constructor(e){super(e),this.type="selection"}clone(){return new UI}};u([h({type:["selection"]})],AS.prototype,"type",void 0),AS=UI=u([A("esri.layers.support.FeatureReductionSelection")],AS);const VU=AS,GU={key:"type",base:gc,typeMap:{cluster:kX,binning:DX}},SMe={types:{key:"type",base:gc,typeMap:{selection:VU,cluster:kX,binning:DX}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:GU},"portal-item":{types:GU},"web-scene":{types:{key:"type",base:gc,typeMap:{selection:VU}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:si}}}}},sf={Base64:0,Hex:1,String:2,Raw:3},bm=8,FX=(1<<bm)-1;function dc(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function TMe(e){const t=[];for(let i=0,r=e.length*bm;i<r;i+=bm)t[i>>5]|=(e.charCodeAt(i/bm)&FX)<<i%32;return t}function EMe(e){const t=[];for(let i=0,r=32*e.length;i<r;i+=bm)t.push(String.fromCharCode(e[i>>5]>>>i%32&FX));return t.join("")}function $Me(e){const t="0123456789abcdef",i=[];for(let r=0,s=4*e.length;r<s;r++)i.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15));return i.join("")}function xMe(e){const t="=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let s=0,n=4*e.length;s<n;s+=3){const o=(e[s>>2]>>s%4*8&255)<<16|(e[s+1>>2]>>(s+1)%4*8&255)<<8|e[s+2>>2]>>(s+2)%4*8&255;for(let c=0;c<4;c++)8*s+6*c>32*e.length?r.push(t):r.push(i.charAt(o>>6*(3-c)&63))}return r.join("")}function MMe(e,t){return e<<t|e>>>32-t}function pE(e,t,i,r,s,n){return dc(MMe(dc(dc(t,e),dc(r,n)),s),i)}function $r(e,t,i,r,s,n,o){return pE(t&i|~t&r,e,t,s,n,o)}function xr(e,t,i,r,s,n,o){return pE(t&r|i&~r,e,t,s,n,o)}function Mr(e,t,i,r,s,n,o){return pE(t^i^r,e,t,s,n,o)}function Ar(e,t,i,r,s,n,o){return pE(i^(t|~r),e,t,s,n,o)}function AMe(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let i=1732584193,r=-271733879,s=-1732584194,n=271733878;for(let o=0;o<e.length;o+=16){const c=i,d=r,f=s,g=n;i=$r(i,r,s,n,e[o],7,-680876936),n=$r(n,i,r,s,e[o+1],12,-389564586),s=$r(s,n,i,r,e[o+2],17,606105819),r=$r(r,s,n,i,e[o+3],22,-1044525330),i=$r(i,r,s,n,e[o+4],7,-176418897),n=$r(n,i,r,s,e[o+5],12,1200080426),s=$r(s,n,i,r,e[o+6],17,-1473231341),r=$r(r,s,n,i,e[o+7],22,-45705983),i=$r(i,r,s,n,e[o+8],7,1770035416),n=$r(n,i,r,s,e[o+9],12,-1958414417),s=$r(s,n,i,r,e[o+10],17,-42063),r=$r(r,s,n,i,e[o+11],22,-1990404162),i=$r(i,r,s,n,e[o+12],7,1804603682),n=$r(n,i,r,s,e[o+13],12,-40341101),s=$r(s,n,i,r,e[o+14],17,-1502002290),r=$r(r,s,n,i,e[o+15],22,1236535329),i=xr(i,r,s,n,e[o+1],5,-165796510),n=xr(n,i,r,s,e[o+6],9,-1069501632),s=xr(s,n,i,r,e[o+11],14,643717713),r=xr(r,s,n,i,e[o],20,-373897302),i=xr(i,r,s,n,e[o+5],5,-701558691),n=xr(n,i,r,s,e[o+10],9,38016083),s=xr(s,n,i,r,e[o+15],14,-660478335),r=xr(r,s,n,i,e[o+4],20,-405537848),i=xr(i,r,s,n,e[o+9],5,568446438),n=xr(n,i,r,s,e[o+14],9,-1019803690),s=xr(s,n,i,r,e[o+3],14,-187363961),r=xr(r,s,n,i,e[o+8],20,1163531501),i=xr(i,r,s,n,e[o+13],5,-1444681467),n=xr(n,i,r,s,e[o+2],9,-51403784),s=xr(s,n,i,r,e[o+7],14,1735328473),r=xr(r,s,n,i,e[o+12],20,-1926607734),i=Mr(i,r,s,n,e[o+5],4,-378558),n=Mr(n,i,r,s,e[o+8],11,-2022574463),s=Mr(s,n,i,r,e[o+11],16,1839030562),r=Mr(r,s,n,i,e[o+14],23,-35309556),i=Mr(i,r,s,n,e[o+1],4,-1530992060),n=Mr(n,i,r,s,e[o+4],11,1272893353),s=Mr(s,n,i,r,e[o+7],16,-155497632),r=Mr(r,s,n,i,e[o+10],23,-1094730640),i=Mr(i,r,s,n,e[o+13],4,681279174),n=Mr(n,i,r,s,e[o],11,-358537222),s=Mr(s,n,i,r,e[o+3],16,-722521979),r=Mr(r,s,n,i,e[o+6],23,76029189),i=Mr(i,r,s,n,e[o+9],4,-640364487),n=Mr(n,i,r,s,e[o+12],11,-421815835),s=Mr(s,n,i,r,e[o+15],16,530742520),r=Mr(r,s,n,i,e[o+2],23,-995338651),i=Ar(i,r,s,n,e[o],6,-198630844),n=Ar(n,i,r,s,e[o+7],10,1126891415),s=Ar(s,n,i,r,e[o+14],15,-1416354905),r=Ar(r,s,n,i,e[o+5],21,-57434055),i=Ar(i,r,s,n,e[o+12],6,1700485571),n=Ar(n,i,r,s,e[o+3],10,-1894986606),s=Ar(s,n,i,r,e[o+10],15,-1051523),r=Ar(r,s,n,i,e[o+1],21,-2054922799),i=Ar(i,r,s,n,e[o+8],6,1873313359),n=Ar(n,i,r,s,e[o+15],10,-30611744),s=Ar(s,n,i,r,e[o+6],15,-1560198380),r=Ar(r,s,n,i,e[o+13],21,1309151649),i=Ar(i,r,s,n,e[o+4],6,-145523070),n=Ar(n,i,r,s,e[o+11],10,-1120210379),s=Ar(s,n,i,r,e[o+2],15,718787259),r=Ar(r,s,n,i,e[o+9],21,-343485551),i=dc(i,c),r=dc(r,d),s=dc(s,f),n=dc(n,g)}return[i,r,s,n]}function jX(e,t=sf.Hex){const i=t||sf.Base64,r=AMe(TMe(e),e.length*bm);switch(i){case sf.Raw:return r;case sf.Hex:return $Me(r);case sf.String:return EMe(r);case sf.Base64:return xMe(r)}}const OMe=()=>ne.getLogger("esri.views.2d.layers.support.clusterUtils");B.add("esri-cluster-arcade-enabled",!0);const CMe=B("esri-cluster-arcade-enabled"),IMe=new Set(["simple-line","simple-fill","picture-fill"]);function qU(e,t){let i=t.clone();if(!RMe(i))return i;if(t.symbols.some(r=>IMe.has(r.type))&&(i=new da({symbol:new wa})),i.authoringInfo||(i.authoringInfo=new RN),i.authoringInfo.isAutoGenerated=!0,"visualVariables"in i){const r=(i.visualVariables||[]).filter(s=>s.valueExpression!=="$view.scale");r.forEach(s=>{s.type==="rotation"?s.field?s.field=wd(e,s.field,"avg_angle","number"):s.valueExpression&&(s.field=Ug(e,s.valueExpression,"avg_angle","number"),s.valueExpression=null):s.normalizationField?(s.field=wd(e,s.field,"avg_norm","number",s.normalizationField),s.normalizationField=null):s.field?s.field=wd(e,s.field,"avg","number"):s.valueExpression&&(s.field=Ug(e,s.valueExpression,"avg","number"),s.valueExpression=null)}),i.visualVariables=r}switch(i.type){case"simple":break;case"pie-chart":for(const r of i.attributes)r.field?r.field=wd(e,r.field,"sum","number"):r.valueExpression&&(r.field=Ug(e,r.valueExpression,"sum","number"),r.valueExpression=null);break;case"unique-value":i.field?i.field=wd(e,i.field,"mode","string"):i.valueExpression&&(i.field=Ug(e,i.valueExpression,"mode","string"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=wd(e,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=wd(e,i.field,"avg","number"):i.valueExpression&&(i.field=Ug(e,i.valueExpression,"avg","number"),i.valueExpression=null)}return i}const RMe=e=>{const t=i=>OMe().error(new z("Unsupported-renderer",i,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const i=e.normalizationType;if(i!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!CMe){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(i=>!(!("valueExpression"in i)||!i.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function LMe(e,t,i){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const r=i,s="field",n=t.toLowerCase()+",norm:"+s+","+r.toLowerCase();return"cluster_avg_"+jX(n)}}}function Ug(e,t,i,r){const s=jX(t),n=i==="mode"?`cluster_type_${s}`:i==="sum"?`cluster_sum_${s}`:`cluster_avg_${s}`;return e.some(o=>o.name===n)||e.push(new Cc({name:n,isAutoGenerated:!0,onStatisticExpression:new ON({expression:t,returnType:r}),statisticType:i})),n}function wd(e,t,i,r,s){if(t==="cluster_count"||e.some(o=>o.name===t))return t;const n=LMe(i,t,s);return e.some(o=>o.name===n)||(i==="avg_norm"?e.push(new Cc({name:n,isAutoGenerated:!0,onStatisticExpression:new ON({expression:`$feature.${t} / $feature.${s}`,returnType:r}),statisticType:"avg"})):e.push(new Cc({name:n,isAutoGenerated:!0,onStatisticField:t,statisticType:i}))),n}const UX=e=>{let t=class extends e{constructor(...i){super(...i),this.addHandles(xe(()=>this.renderer,()=>{if(this.featureReduction){const r=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",r)}},fa))}set featureReduction(i){const r=this._normalizeFeatureReduction(i);this._set("featureReduction",r)}set renderer(i){}_withClusterVariable(i,r,s){const n=i.clone();return"visualVariables"in n&&(n.visualVariables||(n.visualVariables=[]),n.visualVariables.some(o=>o.type==="size")||n.visualVariables.push(new cE({field:"cluster_count",stops:[new gS({value:1}),new gS({useMinValue:!0,size:r}),new gS({useMaxValue:!0,size:s})]}))),n}_normalizeFeatureReduction(i){var v;if((i==null?void 0:i.type)!=="cluster")return i;const r=i.clone(),s=[new Cc({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],n=(r.fields??[]).filter(_=>!_.isAutoGenerated),o=i.renderer&&!((v=i.renderer.authoringInfo)!=null&&v.isAutoGenerated),{clusterMinSize:c,clusterMaxSize:d}=r;if(o){r.fields=[...s,...n];const _=this._withClusterVariable(r.renderer,c,d);return r.effectiveFeatureRenderer=_,r.effectiveClusterRenderer=_,r}if(i.symbol){if(r.fields=[...s,...n],r.renderer=null,!this.renderer)return r.effectiveFeatureRenderer=null,r.effectiveClusterRenderer=null,r;const _=qU(s,this.renderer),S=this._withClusterVariable(_,c,d),T="visualVariables"in S&&S.visualVariables?S.visualVariables:[],E=new da({symbol:i.symbol,visualVariables:T});return r.fields=[...s,...n],r.effectiveFeatureRenderer=S,r.effectiveClusterRenderer=E,r}if(!this.renderer)return i;const f=qU(s,this.renderer);r.fields=[...s,...n],r.renderer=f;const g=this._withClusterVariable(f,c,d);return r.effectiveFeatureRenderer=g,r.effectiveClusterRenderer=g,r}};return u([h(SMe)],t.prototype,"featureReduction",null),t=u([A("esri.layers.mixins.FeatureReductionLayer")],t),t},BU={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},HU={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},WU={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},NMe={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":BU,"web-map/basemap":HU,"web-map/tables":WU,"link-chart/operational-layers":{...BU,LinkChartLayer:!0},"link-chart/basemap":HU,"link-chart/tables":WU,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}},zX=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(i,r,s){var n;return((n=s==null?void 0:s.portalItem)==null?void 0:n.type)==="Group Layer"?void 0:i}writeListMode(i,r,s,n){(n&&n.layerContainerType==="ground"||i&&Ose(this,s,{},n))&&(r[s]=i)}writeOperationalLayerType(i,r,s){i&&(r[s]=i)}writeTitle(i,r){r.title=i??"Layer"}readVisibilityTimeExtent(i){return i?Il.fromArray(i):null}writeVisibilityTimeExtent(i,r,s,n){i&&n.layerContainerType!=="tables"&&(i.isEmpty?n!=null&&n.messages&&n.messages.push(new z("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):r[s]=i.toArray())}read(i,r){r&&(r.layer=this),xse(this,i,s=>super.read(i,s),r)}write(i,r){var o,c;if(!this.persistenceEnabled&&!(r!=null&&r.ignorePersistenceEnabled))return null;if(r!=null&&r.origin){const d=`${r.origin}/${r.layerContainerType||"operational-layers"}`,f=NMe[d];let g=!!(f!=null&&f[this.operationalLayerType]);if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&d==="web-scene/operational-layers"&&(g=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&d==="web-map/operational-layers"&&(g=!1),!g)return(o=r.messages)==null||o.push(new z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${d}'`,{layer:this})),null}const s=super.write(i,{...r,layer:this}),n=!!r&&!!r.messages&&!!r.messages.filter(d=>d instanceof z&&d.name==="web-document-write:property-required").length;return yT(s==null?void 0:s.url)?((c=r==null?void 0:r.messages)==null||c.push(new z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&n?null:s}beforeSave(){}};return u([h({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),u([ue("id",["id"])],t.prototype,"readId",null),u([h(kJ)],t.prototype,"listMode",void 0),u([de("listMode")],t.prototype,"writeListMode",null),u([h({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:si,isRequired:!0}}}}})],t.prototype,"operationalLayerType",void 0),u([de("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),u([h(Z2)],t.prototype,"opacity",void 0),u([h({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),u([h({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),u([de("title"),de(["web-scene"],"title")],t.prototype,"writeTitle",null),u([h({type:Il,json:{origins:{"web-scene":{write:{layerContainerTypes:si}}}}})],t.prototype,"visibilityTimeExtent",void 0),u([ue("visibilityTimeExtent")],t.prototype,"readVisibilityTimeExtent",null),u([de(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[yt,lT]]}})],t.prototype,"writeVisibilityTimeExtent",null),u([h({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:si}}})],t.prototype,"visible",void 0),t=u([A("esri.layers.mixins.OperationalLayer")],t),t};var zI;const uw=new rt({asc:"ascending",desc:"descending"});let Lf=zI=class extends K{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new zI({field:this.field,valueExpression:this.valueExpression,order:this.order})}};u([h({type:String,json:{write:!0}})],Lf.prototype,"field",void 0),u([h({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Lf.prototype,"valueExpression",void 0),u([h({type:uw.apiValues,json:{type:uw.jsonValues,read:uw.read,write:uw.write}})],Lf.prototype,"order",void 0),Lf=zI=u([A("esri.layers.support.OrderByInfo")],Lf);const VX=Lf;function PMe(e,t,i){if(!e)return null;const r=e.find(n=>!!n.field);if(!r)return null;const s=new VX;return s.read(r,i),[s]}function DMe(e,t,i,r){const s=e.find(n=>!!n.field);s&&cr(i,[s.toJSON()],t)}const kMe={type:[VX],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:PMe},write:{writer:DMe}}},GX=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return u([h(kMe)],t.prototype,"orderBy",void 0),t=u([A("esri.layers.mixins.OrderedLayer")],t),t};async function FMe(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return Zf(e);const i=Ge.WGS84;return await $L(t,i),Pc(e,i)}function jMe(e,t){if(!qX(e,t)){const i=e.typeKeywords;i?i.push(t):e.typeKeywords=[t]}}function qX(e,t){var i;return!!((i=e.typeKeywords)!=null&&i.includes(t))}function $5e(e){return qX(e,zMe.HOSTED_SERVICE)}function UMe(e,t){const i=e.typeKeywords;if(i){const r=i.indexOf(t);r>-1&&i.splice(r,1)}}function x5e(e,t,i){i?jMe(e,t):UMe(e,t)}async function M5e(e){const t=e.clone().normalize();let i;if(t.length>1)for(const r of t)i?r.width>i.width&&(i=r):i=r;else i=t[0];return FMe(i)}const zMe={GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function VMe(e){var d;const{portal:t,isOrgItem:i,itemControl:r}=e,s=(d=t.user)==null?void 0:d.privileges;let n=!s||s.includes("features:user:edit"),o=!!i&&!!(s!=null&&s.includes("features:user:fullEdit"));const c=r==="update"||r==="admin";return c?o=n=!0:o&&(n=!0),{features:{edit:n,fullEdit:o},content:{updateItem:c}}}const BX=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=Gt(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(i){i!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",i))}readPortalItem(i,r,s){if(r.itemId)return new fm({id:r.itemId,portal:s==null?void 0:s.portal})}writePortalItem(i,r){i!=null&&i.id&&(r.itemId=i.id)}async loadFromPortal(i,r){var s;if((s=this.portalItem)!=null&&s.id)try{const{load:n}=await te(()=>import("./layersLoader-Bxno-QGj.js"),__vite__mapDeps([313,177,176,178,314]));return li(r),await n({instance:this,supportedTypes:i.supportedTypes,validateItem:i.validateItem,supportsData:i.supportsData,layerModuleTypeMap:i.layerModuleTypeMap,populateGroupLayer:i.populateGroupLayer},r)}catch(n){throw Ur(n)||ne.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${n}`),n}}async finishLoadEditablePortalLayer(i){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(i).catch(r=>(wo(r),!0)))}async setUserPrivileges(i,r){if(!Tt.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:s,fullEdit:n},content:{updateItem:o}}=await this._fetchUserPrivileges(i,r);this._set("userHasEditingPrivileges",s),this._set("userHasFullEditingPrivileges",n),this._set("userHasUpdateItemPrivileges",o)}catch(s){wo(s)}}async _fetchUserPrivileges(i,r){let s=this.portalItem;if(!i||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(r);const n=!(Be!=null&&Be.findCredential(this.url)),o=i===s.id;if(o&&s.portal.user)return this._getUserPrivileges(s,n);let c,d;if(o)c=s.portal.url;else try{c=await RL(this.url,r)}catch(_){wo(_)}if(!c||!Xse(c,s.portal.url))return this._fetchFallbackUserPrivileges(r);try{const _=r!=null?r.signal:null;d=await(Be==null?void 0:Be.getCredential(`${c}/sharing`,{prompt:!1,signal:_}))}catch(_){wo(_)}const f=!0,g=!1,v=!1;if(!d)return{features:{edit:f,fullEdit:g},content:{updateItem:v}};try{if(o?await s.reload():(s=new fm({id:i,portal:{url:c}}),await s.load(r)),s.portal.user)return this._getUserPrivileges(s,n)}catch(_){wo(_)}return{features:{edit:f,fullEdit:g},content:{updateItem:v}}}_getUserPrivileges(i,r){const s=VMe(i);return r&&(s.features.edit=!0),s}async _fetchFallbackUserPrivileges(i){let r=!0;try{r=await this._fetchUserHasEditingPrivileges(i)}catch(s){wo(s)}return{features:{edit:r,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(i){const r=this.url?Be==null?void 0:Be.findCredential(this.url):null;if(!r)return!0;const s=cw.credential===r?cw.user:await this._fetchEditingUser(i);return cw.credential=r,cw.user=s,(s==null?void 0:s.privileges)==null||s.privileges.includes("features:user:edit")}async _fetchEditingUser(i){var g,v;const r=(v=(g=this.portalItem)==null?void 0:g.portal)==null?void 0:v.user;if(r)return r;const s=Be==null?void 0:Be.findServerInfo(this.url??"");if(!(s!=null&&s.owningSystemUrl))return null;const n=`${s.owningSystemUrl}/sharing/rest`,o=Ms.getDefault();if(o&&o.loaded&&Mo(o.restUrl)===Mo(n))return o.user;const c=`${n}/community/self`,d=i!=null?i.signal:null,f=await ET(qt(c,{authMode:"no-prompt",query:{f:"json"},signal:d}));return f.ok?IL.fromJSON(f.value.data):null}read(i,r){r&&(r.layer=this),super.read(i,r)}write(i,r){var o;const s=r==null?void 0:r.portal,n=((o=this.portalItem)==null?void 0:o.id)&&(this.portalItem.portal||Ms.getDefault());return s&&n&&!A7(n.restUrl,s.restUrl)?(r.messages&&r.messages.push(new z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(i,{...r,layer:this})}};return u([h({type:fm})],t.prototype,"portalItem",null),u([ue("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),u([de("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),u([h({clonable:!1})],t.prototype,"resourceReferences",void 0),u([h({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),u([h({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),u([h({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=u([A("esri.layers.mixins.PortalLayer")],t),t},cw={credential:null,user:null},hc=new pe,xv=new WeakMap;function GMe(e){BMe(e)&&hc.push(new WeakRef(e))}function qMe(e){const t=hc.find(i=>i.deref()===e);t&&hc.remove(t)}function BMe(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function HX(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:HX(t,e%t):0}let p3=0,dw=0;function HMe(){const e=Date.now();let t=!1;for(const i of hc){const r=i.deref();r?r.refreshInterval&&e-(xv.get(r)??0)+5>=6e4*r.refreshInterval&&(xv.set(r,e),r.refresh(e)):t=!0}if(t)for(let i=hc.length-1;i>=0;i--)hc.at(i).deref()||hc.removeAt(i)}s7(()=>{const e=Date.now();let t=0;for(const i of hc){const r=i.deref();r&&(t=HX(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?xv.get(r)||xv.set(r,e):xv.delete(r))}if(t!==dw){if(dw=t,clearInterval(p3),dw===0)return void(p3=0);p3=setInterval(HMe,dw)}},fa);const ZU=.1,WX=e=>{let t=class extends e{constructor(...i){super(...i),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=hT(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||GMe(this)},()=>{})}destroy(){qMe(this)}castRefreshInterval(i){return i>=ZU?i:i<=0?0:ZU}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(i=Date.now()){Lv(this._debounceHasDataChanged()).then(r=>{r&&this._set("refreshTimestamp",i),this.emit("refresh",{dataChanged:r})},r=>{ne.getLogger(this).error(r),this.emit("refresh",{dataChanged:!1,error:r})})}async hasDataChanged(){return!0}get test(){}};return u([h({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:si}}}}})],t.prototype,"refreshInterval",void 0),u([ht("refreshInterval")],t.prototype,"castRefreshInterval",null),u([h({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),u([h({readOnly:!0})],t.prototype,"refreshParameters",null),t=u([A("esri.layers.mixins.RefreshableLayer")],t),t},ZN=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const i={minScale:this.minScale,maxScale:this.maxScale},r=this.parent;r&&"effectiveScaleRange"in r&&WMe(i,r.effectiveScaleRange);const s=this._get("effectiveScaleRange");return s&&s.minScale===i.minScale&&s.maxScale===i.maxScale?s:i}};return u([h({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),u([h({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),u([h({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=u([A("esri.layers.mixins.ScaleRangeLayer")],t),t};function WMe(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const ZX=hr()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let Z0=class extends at.ClonableMixin(K){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return _H(this.value,this.unit,"milliseconds")}};u([Ie(ZX,{nonNullable:!0})],Z0.prototype,"unit",void 0),u([h({type:Number,json:{write:!0},nonNullable:!0})],Z0.prototype,"value",void 0),Z0=u([A("esri.time.TimeInterval")],Z0);const n1=Z0;function YU(e,t){return n1.fromJSON({value:e,unit:t})}let br=class extends at.ClonableMixin(K){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(t,i){return i.timeExtent&&Array.isArray(i.timeExtent)&&i.timeExtent.length===2?Il.fromArray(i.timeExtent):null}writeFullTimeExtent(t,i){(t==null?void 0:t.start)!=null&&t.end!=null?i.timeExtent=t.toArray():i.timeExtent=null}readInterval(t,i){return i.timeInterval&&i.timeIntervalUnits?YU(i.timeInterval,i.timeIntervalUnits):i.defaultTimeInterval&&i.defaultTimeIntervalUnits?YU(i.defaultTimeInterval,i.defaultTimeIntervalUnits):null}writeInterval(t,i){i.timeInterval=(t==null?void 0:t.toJSON().value)??null,i.timeIntervalUnits=(t==null?void 0:t.toJSON().unit)??null}};u([h({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],br.prototype,"cumulative",void 0),u([h({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],br.prototype,"endField",void 0),u([h({type:Il,json:{write:{enabled:!0,allowNull:!0}}})],br.prototype,"fullTimeExtent",void 0),u([ue("fullTimeExtent",["timeExtent"])],br.prototype,"readFullTimeExtent",null),u([de("fullTimeExtent")],br.prototype,"writeFullTimeExtent",null),u([h({type:Boolean,json:{write:!0}})],br.prototype,"hasLiveData",void 0),u([h({type:n1,json:{write:{enabled:!0,allowNull:!0}}})],br.prototype,"interval",void 0),u([ue("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],br.prototype,"readInterval",null),u([de("interval")],br.prototype,"writeInterval",null),u([h({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],br.prototype,"startField",void 0),u([h(Gv("timeReference",!0))],br.prototype,"timeZone",void 0),u([h({type:String,json:{write:{enabled:!0,allowNull:!0}}})],br.prototype,"trackIdField",void 0),u([h({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],br.prototype,"useTime",void 0),u([h({type:[Date],json:{read:!1}})],br.prototype,"stops",void 0),br=u([A("esri.layers.support.TimeInfo")],br);const YX=br,ZMe={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:si}}},JX=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(i,r){const s=r.timeInfo.exportOptions;if(!s)return null;const n=s.timeOffset,o=ZX.fromJSON(s.timeOffsetUnits);return n&&o?new n1({value:n,unit:o}):null}set timeInfo(i){kL(i,this.fieldsIndex),this._set("timeInfo",i)}};return u([h({type:Il,json:{write:!1}})],t.prototype,"timeExtent",void 0),u([h({type:n1})],t.prototype,"timeOffset",void 0),u([ue("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),u([h({value:null,type:YX,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),u([h(ZMe)],t.prototype,"useViewTime",void 0),t=u([A("esri.layers.mixins.TemporalLayer")],t),t};let oh=class extends at.ClonableMixin(K){constructor(t){super(t),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};u([h({type:[ly],json:{write:!0}})],oh.prototype,"labelingInfo",void 0),u([h(V1)],oh.prototype,"labelsVisible",void 0),u([h({types:cy,json:{write:!0}})],oh.prototype,"renderer",void 0),u([h({type:Boolean,json:{write:!0}})],oh.prototype,"visible",void 0),oh=u([A("esri.layers.support.TrackPartInfo")],oh);const _m=oh;let ps=class extends at.ClonableMixin(K){constructor(t){super(t),this.enabled=!0,this.fields=[],this.latestObservations=new _m({renderer:new da({symbol:Y2.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new _m({renderer:new da({symbol:Y2.clone()})}),this.trackLines=new _m({renderer:new da({symbol:PN.clone()})}),this.timeField="startTimeField"}writeFields(t,i,r){const s=t.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());cr(r,s,i)}};u([h({type:Boolean,json:{write:!0}})],ps.prototype,"enabled",void 0),u([h({type:[Cc],json:{write:!0}})],ps.prototype,"fields",void 0),u([de("fields")],ps.prototype,"writeFields",null),u([h({type:_m,json:{write:!0}})],ps.prototype,"latestObservations",void 0),u([h({type:n1,json:{write:!0}})],ps.prototype,"maxDisplayDuration",void 0),u([h({type:Number,json:{write:!0}})],ps.prototype,"maxDisplayObservationsPerTrack",void 0),u([h(z1)],ps.prototype,"popupEnabled",void 0),u([h({type:Jh,json:{name:"popupInfo",write:!0}})],ps.prototype,"popupTemplate",void 0),u([h({type:_m,json:{write:!0}})],ps.prototype,"previousObservations",void 0),u([h({type:_m,json:{write:!0}})],ps.prototype,"trackLines",void 0),u([h({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],ps.prototype,"timeField",void 0),ps=u([A("esri.layers.support.TrackInfo")],ps);const YMe=ps,XX=e=>{let t=class extends e{constructor(){super(...arguments),this.trackInfo=null}};return u([h({type:YMe})],t.prototype,"trackInfo",void 0),t=u([A("esri.layers.mixins.TrackableLayer")],t),t},JU=new rt({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Wu=class extends at.ClonableMixin(K){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};u([h({json:{write:!0}})],Wu.prototype,"name",void 0),u([h({json:{write:!0}})],Wu.prototype,"description",void 0),u([h({json:{read:JU.read,write:JU.write}})],Wu.prototype,"drawingTool",void 0),u([h({json:{write:!0}})],Wu.prototype,"prototype",void 0),u([h({json:{write:!0}})],Wu.prototype,"thumbnail",void 0),Wu=u([A("esri.layers.support.FeatureTemplate")],Wu);const fE=Wu;function QX(){return{fields:{type:[JT],value:null,set:function(e){if(e&&B("big-integer-warning-enabled")){const t=e.filter(i=>i.type==="big-integer"||i.type==="oid"&&(i.length||0)>=8);if(t.length){const i=t.map(r=>`'${r.name}'`).join(", ");ne.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${i}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return mX.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var t;const e=this._userOutFields;if(!(e!=null&&e.length))return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const i of e)((t=this.fieldsIndex)==null?void 0:t.has(i))||ne.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${i} found in outFields`,{layer:this,outFields:e});return UT(this.fieldsIndex,e)}}}}const f3=()=>ne.getLogger("esri.layers.support.labelingInfo"),JMe=/\[([^[\]]+)\]/gi;function OS(e,t,i){return e?e.map(r=>{var n;const s=new ly;if(s.read(r,i),s.labelExpression){const o=t.fields||((n=t.layerDefinition)==null?void 0:n.fields)||this.fields;s.labelExpression=s.labelExpression.replaceAll(JMe,(c,d)=>`[${XMe(d,o)}]`)}return s}):null}function XMe(e,t){if(!t)return e;const i=e.toLowerCase();for(let r=0;r<t.length;r++){const s=t[r].name;if(s.toLowerCase()===i)return s}return e}const QMe={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function L5e(e,t){const i=[];for(const r of e){const s=r.labelPlacement,n=QMe[t];if(!r.symbol)return f3().warn("No ILabelClass symbol specified."),[];if(!n)return f3().error(new z("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(n.includes(s))i.push(r);else{const o=n[0];s&&f3().warn(`Found invalid label placement type ${s} for ${t}. Defaulting to ${o}`);const c=r.clone();c.labelPlacement=o,i.push(c)}}return i}function KX({displayField:e,editFieldsInfo:t,fields:i,objectIdField:r,title:s},n){if(!i)return null;const o=i3e({editFieldsInfo:t,fields:i,objectIdField:r},n);if(!o.length)return null;const c=n3e({titleBase:s,fields:i,displayField:e}),d=s3e();return new Jh({title:c,content:d,fieldInfos:o})}function N5e(e){var f;const{title:t,graphic:i}=e??{},{attributes:r,sourceLayer:s}=i??{},n=s&&"displayField"in s?s.displayField:null,o=n?r==null?void 0:r[n]:null,c=o!=null?JSON.stringify(o):null,d=(f=i==null?void 0:i.getObjectId())==null?void 0:f.toString();return t||c||d||""}const KMe=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):Vme(e,t);function e3e({fields:e,ignoreFieldTypes:t,sortDisabled:i}){const r=e;return t&&(e=e.filter(s=>!t.includes(s.type))),e===r&&(e=e.slice()),i!==!0&&e.sort(t3e),e}function t3e(e,t){return e.type==="oid"?-1:t.type==="oid"?1:XU(e)?-1:XU(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function i3e(e,t){const i=t==null?void 0:t.visibleFieldNames;return e3e({fields:e.fields??[],ignoreFieldTypes:(t==null?void 0:t.ignoreFieldTypes)||o3e,sortDisabled:t==null?void 0:t.sortDisabled}).map(r=>new UL({fieldName:r.name,isEditable:zme(r,e),label:r.alias,format:r3e(r),visible:KMe(r,{...e,visibleFieldNames:i})}))}function r3e(e){switch(e.type){case"small-integer":case"integer":case"single":return new Vw({digitSeparator:!0,places:0});case"double":return new Vw({digitSeparator:!0,places:2});case"string":return dye(e.name)?new Vw({digitSeparator:!0,places:0}):void 0;default:return}}function s3e(){return[new jm,new Fm]}function n3e(e){const t=Rme(e),{titleBase:i}=e;return t?`${i}: {${t.trim()}}`:i??""}function XU(e){var i;return(e.name&&e.name.toLowerCase())==="name"?!0:((i=e.alias)==null?void 0:i.toLowerCase())==="name"}const o3e=["geometry","blob","raster","guid","xml"],QU=QX();let ot=class extends GX(EJ(bJ(UX($J(AN(JX(XX(ZN(WX(zX(BX(SN(M1))))))))))))){constructor(e){super(e),this.attributeTableTemplate=null,this.copyright=null,this.dateFieldsTimeZone=null,this.definitionExpression=null,this.displayField=null,this.editingEnabled=!1,this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="GeoJSON",this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new Jd({layer:this}),this.spatialReference=Ge.WGS84,this.templates=null,this.title="GeoJSON",this.type="geojson"}destroy(){var e;(e=this.source)==null||e.destroy()}load(e){const t=this.loadFromPortal({supportedTypes:["GeoJson"],supportsData:!1},e).catch(wo).then(()=>this.source.load(e)).then(()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo"],"service"),C2(this.renderer,this.fieldsIndex),kL(this.timeInfo,this.fieldsIndex)});return this.addResolvingPromise(t),Promise.resolve(this)}get capabilities(){return this.source?this.source.capabilities:null}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}get isTable(){return this.loaded&&this.geometryType==null}get parsedUrl(){return this.url?dr(this.url):null}set renderer(e){C2(e,this.fieldsIndex),this._set("renderer",e)}set url(e){if(!e)return void this._set("url",e);const t=dr(e);this._set("url",t.path),t.query&&(this.customParameters={...this.customParameters,...t.query})}async applyEdits(e,t){const{applyEdits:i}=await te(()=>import("./editingSupport-DSI1vP5g.js"),[]);await this.load();const r=await i(this,this.source,e,t);return this.read({extent:this.source.sourceJSON.extent,timeInfo:this.source.sourceJSON.timeInfo},{origin:"service",ignoreDefaults:!0}),r}on(e,t){return super.on(e,t)}createPopupTemplate(e){return KX(this,e)}createQuery(){var s;const e=new _s,t=(s=this.capabilities)==null?void 0:s.data;e.returnGeometry=!0,t&&t.supportsZ&&(e.returnZ=!0),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:i,timeExtent:r}=this;return e.timeExtent=i!=null&&r!=null?r.offset(-i.value,i.unit):r||null,e}getFieldDomain(e,t){var i;return(i=this.getField(e))==null?void 0:i.domain}getField(e){return this.fieldsIndex.get(e)}queryFeatures(e,t){return this.load().then(()=>this.source.queryFeatures(_s.from(e)||this.createQuery(),t)).then(i=>{if(i!=null&&i.features)for(const r of i.features)r.layer=r.sourceLayer=this;return i})}queryObjectIds(e,t){return this.load().then(()=>this.source.queryObjectIds(_s.from(e)||this.createQuery(),t))}queryFeatureCount(e,t){return this.load().then(()=>this.source.queryFeatureCount(_s.from(e)||this.createQuery(),t))}queryExtent(e,t){return this.load().then(()=>this.source.queryExtent(_s.from(e)||this.createQuery(),t))}async hasDataChanged(){try{const{dataChanged:e,updates:t}=await this.source.refresh(this.customParameters);return t!=null&&this.read(t,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}};u([h(FJ)],ot.prototype,"attributeTableTemplate",void 0),u([h({readOnly:!0,json:{read:!1,write:!1}})],ot.prototype,"capabilities",null),u([h({type:String})],ot.prototype,"copyright",void 0),u([h({readOnly:!0})],ot.prototype,"createQueryVersion",null),u([h(Gv("dateFieldsTimeReference"))],ot.prototype,"dateFieldsTimeZone",void 0),u([h({readOnly:!0})],ot.prototype,"defaultPopupTemplate",null),u([h({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],ot.prototype,"definitionExpression",void 0),u([h({type:String})],ot.prototype,"displayField",void 0),u([h({type:Boolean})],ot.prototype,"editingEnabled",void 0),u([h(NJ)],ot.prototype,"elevationInfo",void 0),u([h({type:[JT],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],ot.prototype,"fields",void 0),u([h(QU.fieldsIndex)],ot.prototype,"fieldsIndex",void 0),u([h({type:Pt,json:{name:"extent"}})],ot.prototype,"fullExtent",void 0),u([h({type:["point","polygon","polyline","multipoint"],json:{read:{reader:rL.read}}})],ot.prototype,"geometryType",void 0),u([h({type:Boolean})],ot.prototype,"hasZ",void 0),u([h(DJ)],ot.prototype,"id",void 0),u([h({type:Boolean,readOnly:!0})],ot.prototype,"isTable",null),u([h(V1)],ot.prototype,"labelsVisible",void 0),u([h({type:[ly],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:OS},write:!0}})],ot.prototype,"labelingInfo",void 0),u([h(LJ)],ot.prototype,"legendEnabled",void 0),u([h({type:["show","hide"]})],ot.prototype,"listMode",void 0),u([h({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],ot.prototype,"objectIdField",void 0),u([h(Z2)],ot.prototype,"opacity",void 0),u([h({type:["GeoJSON"]})],ot.prototype,"operationalLayerType",void 0),u([h(QU.outFields)],ot.prototype,"outFields",void 0),u([h({readOnly:!0})],ot.prototype,"parsedUrl",null),u([h(z1)],ot.prototype,"popupEnabled",void 0),u([h({type:Jh,json:{name:"popupInfo",write:!0}})],ot.prototype,"popupTemplate",void 0),u([h({types:cy,json:{name:"layerDefinition.drawingInfo.renderer",write:!0,origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:PX}}}})],ot.prototype,"renderer",null),u([h(IJ)],ot.prototype,"screenSizePerspectiveEnabled",void 0),u([h({readOnly:!0})],ot.prototype,"source",void 0),u([h({type:Ge})],ot.prototype,"spatialReference",void 0),u([h({type:[fE]})],ot.prototype,"templates",void 0),u([h()],ot.prototype,"title",void 0),u([h({json:{read:!1},readOnly:!0})],ot.prototype,"type",void 0),u([h(RJ)],ot.prototype,"url",null),ot=u([A("esri.layers.GeoJSONLayer")],ot);const YN=ot,P5e=Object.freeze(Object.defineProperty({__proto__:null,default:YN},Symbol.toStringTag,{value:"Module"}));let cl=class extends AN(ZN(M1)){constructor(t){super(t),this.elevationInfo=null,this.graphics=new Mh,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(t){return this.graphics.add(t),this}addMany(t){return this.graphics.addMany(t),this}removeAll(){return this.graphics.removeAll(),this}remove(t){this.graphics.remove(t)}removeMany(t){this.graphics.removeMany(t)}on(t,i){return super.on(t,i)}graphicChanged(t){this.emit("graphic-update",t)}};u([h({type:xJ})],cl.prototype,"elevationInfo",void 0),u([h(JA(Mh,"graphics"))],cl.prototype,"graphics",void 0),u([h({type:["show","hide"]})],cl.prototype,"listMode",void 0),u([h()],cl.prototype,"screenSizePerspectiveEnabled",void 0),u([h({readOnly:!0})],cl.prototype,"type",void 0),u([h({constructOnly:!0})],cl.prototype,"internal",void 0),cl=u([A("esri.layers.GraphicsLayer")],cl);const k5e=cl,a3e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20%2012H4M4%2012L10%2018M4%2012L10%206'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";var VI;let ah=VI=class extends K{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new VI({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([h({type:String,json:{write:!0}})],ah.prototype,"expression",void 0),u([h({type:String,json:{write:!0}})],ah.prototype,"name",void 0),u([h({type:["boolean","date","number","string"],json:{write:!0}})],ah.prototype,"returnType",void 0),u([h({type:String,json:{write:!0}})],ah.prototype,"title",void 0),ah=VI=u([A("esri.form.ExpressionInfo")],ah);const l3e=ah;let lh=class extends K{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};u([h({type:String,json:{write:!0}})],lh.prototype,"description",void 0),u([h({type:String,json:{write:!0}})],lh.prototype,"label",void 0),u([h()],lh.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],lh.prototype,"visibilityExpression",void 0),lh=u([A("esri.form.elements.Element")],lh);const Ic=lh;let CS=class extends at.ClonableMixin(K){constructor(t){super(t),this.type=null}};u([h()],CS.prototype,"type",void 0),CS=u([A("esri.form.elements.inputs.attachments.Input")],CS);const Rc=CS,mE=["any","capture","upload"];let Nf=class extends Rc{constructor(t){super(t),this.type="audio",this.inputMethod="any",this.maxDuration=null}};u([h({type:["audio"],readOnly:!0,json:{write:!0}})],Nf.prototype,"type",void 0),u([h({type:mE,json:{write:!0}})],Nf.prototype,"inputMethod",void 0),u([h({type:Number,json:{write:!0}})],Nf.prototype,"maxDuration",void 0),Nf=u([A("esri.form.elements.inputs.attachments.AudioInput")],Nf);const KU=Nf;let Y0=class extends Rc{constructor(t){super(t),this.type="document",this.maxFileSize=null}};u([h({type:["document"],readOnly:!0,json:{write:!0}})],Y0.prototype,"type",void 0),u([h({type:Number,json:{write:!0}})],Y0.prototype,"maxFileSize",void 0),Y0=u([A("esri.form.elements.inputs.attachments.DocumentInput")],Y0);const ez=Y0;let Pf=class extends Rc{constructor(t){super(t),this.type="image",this.inputMethod="any",this.maxImageSize=null}};u([h({type:["image"],readOnly:!0,json:{write:!0}})],Pf.prototype,"type",void 0),u([h({type:mE,json:{write:!0}})],Pf.prototype,"inputMethod",void 0),u([h({type:Number,json:{write:!0}})],Pf.prototype,"maxImageSize",void 0),Pf=u([A("esri.form.elements.inputs.attachments.ImageInput")],Pf);const tz=Pf;let J0=class extends Rc{constructor(t){super(t),this.type="signature",this.inputMethod="any"}};u([h({type:["signature"],readOnly:!0,json:{write:!0}})],J0.prototype,"type",void 0),u([h({type:mE,json:{write:!0}})],J0.prototype,"inputMethod",void 0),J0=u([A("esri.form.elements.inputs.attachments.SignatureInput")],J0);const iz=J0;let Df=class extends Rc{constructor(t){super(t),this.type="video",this.inputMethod="any",this.maxDuration=null}};u([h({type:["video"],readOnly:!0,json:{write:!0}})],Df.prototype,"type",void 0),u([h({type:mE,json:{write:!0}})],Df.prototype,"inputMethod",void 0),u([h({type:Number,json:{write:!0}})],Df.prototype,"maxDuration",void 0),Df=u([A("esri.form.elements.inputs.attachments.VideoInput")],Df);const rz=Df;function eQ(e){return{nestableTypes:{base:Rc,key:"type",typeMap:{audio:KU,document:ez,image:tz,signature:iz,video:rz}},allTypes:{base:Rc,key:"type",typeMap:{attachment:e,audio:KU,document:ez,image:tz,signature:iz,video:rz}}}}function u3e(e,t,i){return e?e.map(r=>Co(t.nestableTypes,r)):null}function c3e(e,t,i){if(!e)return null;const r=t.nestableTypes.typeMap;return e.filter(s=>r[s.type]).map(s=>r[s.type].fromJSON(s))}function d3e(e,t,i){if(!e)return null;const r=t.nestableTypes.typeMap;return e.filter(s=>r[s.type]).map(s=>s.toJSON())}let oa=class extends Rc{constructor(t){super(t),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(t){return u3e(t,m3)}readInputs(t,i){return c3e(i.inputTypes,m3)}writeInputs(t,i){i.inputTypes=d3e(t,m3)}};u([h({type:["attachment"],readOnly:!0,json:{write:!0}})],oa.prototype,"type",void 0),u([h({type:["any","exact","exactOrNone"],json:{write:!0}})],oa.prototype,"attachmentAssociationType",void 0),u([h({json:{write:{isRequired:!0}}})],oa.prototype,"inputTypes",void 0),u([ht("inputTypes")],oa.prototype,"castInputs",null),u([ue("inputTypes")],oa.prototype,"readInputs",null),u([de("inputTypes")],oa.prototype,"writeInputs",null),oa=u([A("esri.form.elements.inputs.attachments.AttachmentInput")],oa);const m3=eQ(oa),h3e=oa;var GI;const p3e=eQ(h3e);let qs=GI=class extends Ic{constructor(e){super(e),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){var e;return new GI({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:(e=this.input)==null?void 0:e.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};u([h({type:Boolean,json:{write:!0}})],qs.prototype,"allowUserRename",void 0),u([h({type:String,json:{write:{isRequired:!0}}})],qs.prototype,"attachmentKeyword",void 0),u([h({type:Boolean,json:{write:!0}})],qs.prototype,"displayFilename",void 0),u([h({type:String,json:{write:!0}})],qs.prototype,"editableExpression",void 0),u([h({type:String,json:{write:!0}})],qs.prototype,"filenameExpression",void 0),u([h({types:p3e.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],qs.prototype,"input",void 0),u([h({type:Number,json:{write:!0}})],qs.prototype,"maxAttachmentCount",void 0),u([h({type:Number,json:{write:!0}})],qs.prototype,"minAttachmentCount",void 0),u([h({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],qs.prototype,"type",void 0),u([h({type:Boolean,json:{write:!0}})],qs.prototype,"useOriginalFilename",void 0),qs=GI=u([A("esri.form.elements.AttachmentElement")],qs);const sz=qs;let IS=class extends K{constructor(t){super(t),this.type=null}};u([h()],IS.prototype,"type",void 0),IS=u([A("esri.form.elements.inputs.Input")],IS);const kl=IS;let X0=class extends kl{constructor(t){super(t),this.maxLength=null,this.minLength=0}};u([h({type:Number,json:{write:!0}})],X0.prototype,"maxLength",void 0),u([h({type:Number,json:{write:!0}})],X0.prototype,"minLength",void 0),X0=u([A("esri.form.elements.inputs.TextInput")],X0);const JN=X0;var qI;let RS=qI=class extends JN{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new qI({maxLength:this.maxLength,minLength:this.minLength})}};u([h({type:["barcode-scanner"],json:{read:!1,write:!0}})],RS.prototype,"type",void 0),RS=qI=u([A("esri.form.elements.inputs.BarcodeScannerInput")],RS);const f3e=RS;var BI;let kf=BI=class extends kl{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new BI({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};u([h({type:String,json:{write:!0}})],kf.prototype,"noValueOptionLabel",void 0),u([h({type:Boolean,json:{write:!0}})],kf.prototype,"showNoValueOption",void 0),u([h({type:["combo-box"],json:{read:!1,write:!0}})],kf.prototype,"type",void 0),kf=BI=u([A("esri.form.elements.inputs.ComboBoxInput")],kf);const m3e=kf;var HI;function nz(e){return e??null}function oz(e){return e??null}let ra=HI=class extends kl{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,t){return nz(t.max)}writeMax(e,t){t.max=oz(e)}readMin(e,t){return nz(t.min)}writeMin(e,t){t.min=oz(e)}clone(){return new HI({max:this.max,min:this.min})}};u([h({type:String,json:{type:String,write:!0}})],ra.prototype,"max",void 0),u([ue("max")],ra.prototype,"readMax",null),u([de("max")],ra.prototype,"writeMax",null),u([h({type:String,json:{type:String,write:!0}})],ra.prototype,"min",void 0),u([ue("min")],ra.prototype,"readMin",null),u([de("min")],ra.prototype,"writeMin",null),u([h({type:["date-picker"],json:{read:!1,write:!0}})],ra.prototype,"type",void 0),ra=HI=u([A("esri.form.elements.inputs.DatePickerInput")],ra);const y3e=ra;var WI;function y3(e){return e??null}function g3(e){return e??null}let fs=WI=class extends kl{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,t){return y3(t.max)}writeMax(e,t){t.max=g3(e)}readMin(e,t){return y3(t.min)}writeMin(e,t){t.min=g3(e)}readTimeResolution(e,t){return y3(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=g3(e)}clone(){return new WI({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};u([h({type:Boolean,json:{write:!0}})],fs.prototype,"includeTimeOffset",void 0),u([h({type:String,json:{type:String,write:!0}})],fs.prototype,"max",void 0),u([ue("max")],fs.prototype,"readMax",null),u([de("max")],fs.prototype,"writeMax",null),u([h({type:String,json:{type:String,write:!0}})],fs.prototype,"min",void 0),u([ue("min")],fs.prototype,"readMin",null),u([de("min")],fs.prototype,"writeMin",null),u([h({type:String,json:{type:String,write:!0}})],fs.prototype,"timeResolution",void 0),u([ue("timeResolution")],fs.prototype,"readTimeResolution",null),u([de("timeResolution")],fs.prototype,"writeTimeResolution",null),u([h({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],fs.prototype,"type",void 0),fs=WI=u([A("esri.form.elements.inputs.DateTimeOffsetPickerInput")],fs);const g3e=fs;var ZI;function az(e){return e!=null?new Date(e):null}function lz(e){return e?e.getTime():null}let fo=ZI=class extends kl{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return az(t.max)}writeMax(e,t){t.max=lz(e)}readMin(e,t){return az(t.min)}writeMin(e,t){t.min=lz(e)}clone(){return new ZI({includeTime:this.includeTime,max:this.max,min:this.min})}};u([h({type:Boolean,json:{write:!0}})],fo.prototype,"includeTime",void 0),u([h({type:Date,json:{type:Number,write:!0}})],fo.prototype,"max",void 0),u([ue("max")],fo.prototype,"readMax",null),u([de("max")],fo.prototype,"writeMax",null),u([h({type:Date,json:{type:Number,write:!0}})],fo.prototype,"min",void 0),u([ue("min")],fo.prototype,"readMin",null),u([de("min")],fo.prototype,"writeMin",null),u([h({type:["datetime-picker"],json:{read:!1,write:!0}})],fo.prototype,"type",void 0),fo=ZI=u([A("esri.form.elements.inputs.DateTimePickerInput")],fo);const v3e=fo;var YI;let Ff=YI=class extends kl{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new YI({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};u([h({type:String,json:{write:!0}})],Ff.prototype,"noValueOptionLabel",void 0),u([h({type:Boolean,json:{write:!0}})],Ff.prototype,"showNoValueOption",void 0),u([h({type:["radio-buttons"],json:{read:!1,write:!0}})],Ff.prototype,"type",void 0),Ff=YI=u([A("esri.form.elements.inputs.RadioButtonsInput")],Ff);const b3e=Ff;var JI;let jf=JI=class extends kl{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new JI({offValue:this.offValue,onValue:this.onValue})}};u([h({type:[String,Number],json:{write:!0}})],jf.prototype,"offValue",void 0),u([h({type:[String,Number],json:{write:!0}})],jf.prototype,"onValue",void 0),u([h({type:["switch"],json:{read:!1,write:!0}})],jf.prototype,"type",void 0),jf=JI=u([A("esri.form.elements.inputs.SwitchInput")],jf);const _3e=jf;var XI;let LS=XI=class extends JN{constructor(e){super(e),this.type="text-area"}clone(){return new XI({maxLength:this.maxLength,minLength:this.minLength})}};u([h({type:["text-area"],json:{read:!1,write:!0}})],LS.prototype,"type",void 0),LS=XI=u([A("esri.form.elements.inputs.TextAreaInput")],LS);const w3e=LS;var QI;let NS=QI=class extends JN{constructor(e){super(e),this.type="text-box"}clone(){return new QI({maxLength:this.maxLength,minLength:this.minLength})}};u([h({type:["text-box"],json:{read:!1,write:!0}})],NS.prototype,"type",void 0),NS=QI=u([A("esri.form.elements.inputs.TextBoxInput")],NS);const S3e=NS;var KI;function v3(e){return e??null}function b3(e){return e??null}let Bs=KI=class extends kl{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,t){return v3(t.max)}writeMax(e,t){t.max=b3(e)}readMin(e,t){return v3(t.min)}writeMin(e,t){t.min=b3(e)}readTimeResolution(e,t){return v3(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=b3(e)}clone(){return new KI({max:this.max,min:this.min,timeResolution:this.timeResolution})}};u([h({type:String,json:{type:String,write:!0}})],Bs.prototype,"max",void 0),u([ue("max")],Bs.prototype,"readMax",null),u([de("max")],Bs.prototype,"writeMax",null),u([h({type:String,json:{type:String,write:!0}})],Bs.prototype,"min",void 0),u([ue("min")],Bs.prototype,"readMin",null),u([de("min")],Bs.prototype,"writeMin",null),u([h({type:String,json:{type:String,write:!0}})],Bs.prototype,"timeResolution",void 0),u([ue("timeResolution")],Bs.prototype,"readTimeResolution",null),u([de("timeResolution")],Bs.prototype,"writeTimeResolution",null),u([h({type:["time-picker"],json:{read:!1,write:!0}})],Bs.prototype,"type",void 0),Bs=KI=u([A("esri.form.elements.inputs.TimePickerInput")],Bs);const T3e=Bs,E3e={base:kl,key:"type",typeMap:{"barcode-scanner":f3e,"combo-box":m3e,"date-picker":y3e,"datetime-picker":v3e,"datetimeoffset-picker":g3e,"radio-buttons":b3e,switch:_3e,"text-area":w3e,"text-box":S3e,"time-picker":T3e}};var eR;let Sn=eR=class extends Ic{constructor(e){super(e),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new eR({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};u([h({types:LW,json:{read:{reader:YT},write:!0}})],Sn.prototype,"domain",void 0),u([h({type:Boolean,json:{write:!0}})],Sn.prototype,"editable",void 0),u([h({type:String,json:{write:!0}})],Sn.prototype,"editableExpression",void 0),u([h({type:String,json:{write:!0}})],Sn.prototype,"fieldName",void 0),u([h({type:String,json:{write:!0}})],Sn.prototype,"hint",void 0),u([h({types:E3e,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Sn.prototype,"input",void 0),u([h({type:String,json:{write:!0}})],Sn.prototype,"requiredExpression",void 0),u([h({type:String,json:{read:!1,write:!0}})],Sn.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],Sn.prototype,"valueExpression",void 0),Sn=eR=u([A("esri.form.elements.FieldElement")],Sn);const uz=Sn;var tR;let dl=tR=class extends Ic{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new tR({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:j(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};u([h({type:Number,json:{write:!0}})],dl.prototype,"displayCount",void 0),u([h({type:["list"],json:{write:!0}})],dl.prototype,"displayType",void 0),u([h({type:String,json:{write:!0}})],dl.prototype,"editableExpression",void 0),u([h({type:[VL],json:{write:!0}})],dl.prototype,"orderByFields",void 0),u([h({type:Number,json:{write:!0}})],dl.prototype,"relationshipId",void 0),u([h({type:["relationship"],json:{read:!1,write:!0}})],dl.prototype,"type",void 0),dl=tR=u([A("esri.form.elements.RelationshipElement")],dl);const cz=dl;var iR;let Uf=iR=class extends Ic{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new iR({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};u([h({type:String,json:{write:!0}})],Uf.prototype,"text",void 0),u([h({type:String,json:{write:!0}})],Uf.prototype,"textFormat",void 0),u([h({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Uf.prototype,"type",void 0),Uf=iR=u([A("esri.form.elements.TextElement")],Uf);const dz=Uf;let zf=class extends at.ClonableMixin(Ic){constructor(t){super(t),this.associationTypes=null,this.editableExpression=null,this.type="utilityNetworkAssociations"}};u([h({type:[WH],json:{write:{isRequired:!0}}})],zf.prototype,"associationTypes",void 0),u([h({type:String,json:{write:!0}})],zf.prototype,"editableExpression",void 0),u([h({type:["utilityNetworkAssociations"],json:{read:!1,write:!0}})],zf.prototype,"type",void 0),zf=u([A("esri.form.elements.UtilityNetworkAssociationsElement")],zf);const hz=zf,$3e=e=>e.type==="field",x3e=e=>e.type==="group",M3e=e=>e.type==="text";function tQ(e){return{typesWithGroup:{base:Ic,key:"type",typeMap:{attachment:sz,field:uz,group:e,relationship:cz,text:dz,utilityNetworkAssociations:hz}},typesWithoutGroup:{base:Ic,key:"type",typeMap:{attachment:sz,field:uz,relationship:cz,text:dz,utilityNetworkAssociations:hz}}}}function iQ(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>r[s.type]).map(s=>r[s.type].fromJSON(s))}function rQ(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>r[s.type]).map(s=>s.toJSON())}function sQ(e,t,i=!0){return e?e.map(r=>Co(i?t.typesWithGroup:t.typesWithoutGroup,r)):null}var rR;let aa=rR=class extends Ic{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return sQ(e,_3,!1)}readElements(e,t){return iQ(t.formElements,_3,!1)}writeElements(e,t){t.formElements=rQ(e,_3,!1)}clone(){return new rR({description:this.description,elements:j(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};u([h({json:{write:!0}})],aa.prototype,"elements",void 0),u([ht("elements")],aa.prototype,"castElements",null),u([ue("elements",["formElements"])],aa.prototype,"readElements",null),u([de("elements")],aa.prototype,"writeElements",null),u([h({type:["collapsed","expanded"],json:{write:!0}})],aa.prototype,"initialState",void 0),u([h({type:String,json:{read:!1,write:!0}})],aa.prototype,"type",void 0),aa=rR=u([A("esri.form.elements.GroupElement")],aa);const _3=tQ(aa),A3e=aa;var sR;const w3=tQ(A3e);let mo=sR=class extends K{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return sQ(e,w3)}readElements(e,t){return iQ(t.formElements,w3)}writeElements(e,t){t.formElements=rQ(e,w3)}clone(){return new sR({description:this.description,expressionInfos:j(this.expressionInfos),elements:j(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,t){const i=new Set,{description:r,elements:s,expressionInfos:n,title:o}=this;if(Mv(i,e,r),Mv(i,e,o),!s)return[];const c=O3e(s,n).map(d=>jr(i,e,d));await Promise.all(c);for(const d of s)nQ(i,{fieldsIndex:e,relationships:t},d);return Array.from(i).sort()}};function nQ(e,t,i){var s;const{fieldsIndex:r}=t;if(!r||r.fields.length!==e.size)switch(Mv(e,r,i.label),Mv(e,r,i.description),i.type){case"field":is(e,r,i.fieldName);break;case"group":i.elements.forEach(n=>nQ(e,t,n));break;case"relationship":if(t.relationships){const n=t.relationships.find(o=>o.id===i.relationshipId);n&&is(e,r,n.keyField)}Gh(e,r,(s=i.orderByFields)==null?void 0:s.map(n=>n.field));break;case"text":Mv(e,r,i.text)}}function O3e(e,t){if(!t||t.length===0)return[];const i=oQ(e),r=[];for(const s of t)i.has(s.name)&&r.push(s.expression);return r}function oQ(e){const t=new Set;for(const i of e)if(N5(t,i.visibilityExpression),!M3e(i)){if(x3e(i))JS(t,oQ(i.elements));else if(N5(t,i.editableExpression),$3e(i)){const{requiredExpression:r,valueExpression:s}=i;JS(t,[r,s])}}return t}function Mv(e,t,i){Gh(e,t,jL(i))}u([h({type:String,json:{write:!0}})],mo.prototype,"description",void 0),u([h({json:{write:!0}})],mo.prototype,"elements",void 0),u([ht("elements")],mo.prototype,"castElements",null),u([ue("elements",["formElements"])],mo.prototype,"readElements",null),u([de("elements")],mo.prototype,"writeElements",null),u([h({type:[l3e],json:{write:!0}})],mo.prototype,"expressionInfos",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],mo.prototype,"preserveFieldValuesWhenHidden",void 0),u([h({type:String,json:{write:!0}})],mo.prototype,"title",void 0),mo=sR=u([A("esri.form.FormTemplate")],mo);const C3e=mo;function pz(e,t,i){if(e.hasM==null||e.hasZ)for(const r of t)for(const s of r)s.length>2&&(s[2]*=i)}function I3e(e,t,i){if(!e&&!t||!i)return;const r=d2(i);fz(e,i,r),fz(t,i,r)}function fz(e,t,i){if(e)for(const r of e)R3e(r.geometry,t,i)}function R3e(e,t,i){if(!(e!=null&&e.spatialReference)||Ji(e.spatialReference,t))return;const r=d2(e.spatialReference)/i;if(r!==1){if("x"in e)e.z!=null&&(e.z*=r);else if("rings"in e)pz(e,e.rings,r);else if("paths"in e)pz(e,e.paths,r);else if("points"in e&&(e.hasM==null||e.hasZ))for(const s of e.points)s.length>2&&(s[2]*=r)}}function mz(e,t,i){if(!(i!=null&&i.features)||!i.hasZ)return;const r=hB(i.geometryType,t,e.outSpatialReference);if(r!=null)for(const s of i.features)r(s.geometry)}let L3e=0,bl=class extends ga.LoadableMixin(x1.EsriPromiseMixin(pe)){constructor(e){super(e),this._idToClientGraphic=null,this.type="memory"}load(e){const t=e!=null?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}get _workerGeometryType(){var t;const e=(t=this.layer)==null?void 0:t.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?"polygon":e:null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(e,t={}){await this.load(t);const i=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);mz(e,this.layer.spatialReference,i);const r=EN.fromJSON(i);if(!this._requiresClientGraphicMapping())return r;const s=this.layer.objectIdField;for(const n of r.features){const o=n.attributes[s],c=this._idToClientGraphic.get(o);c&&(n.geometry=c.geometry)}return r.geometryType=this.layer.geometryType,r}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(t);const i=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return mz(e,this.layer.spatialReference,i),i}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t)).then(i=>({count:i.count,extent:Pt.fromJSON(i.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke("querySnapping",e,t))}async queryAttributeBins(e,t={}){return await this.load(),this._connection.invoke("queryAttributeBins",e==null?void 0:e.toJSON(),t)}async _applyEdits(e){if(!this._connection)throw new z("feature-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField;let i=null;const r=[],s=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const n=f=>"objectId"in f&&f.objectId!=null?f.objectId:"attributes"in f&&f.attributes[t]!=null?f.attributes[t]:null;if(e.addFeatures&&(i=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const f of e.deleteFeatures){const g=n(f);g!=null&&r.push(g)}const o=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures){for(const f of e.updateFeatures)if(s.push(this._serializeFeature(f)),o){const g=n(f);g!=null&&o.set(g,f)}}I3e(i?i.features:null,s,this.layer.spatialReference);const{fullExtent:c,featureEditResults:d}=await this._connection.invoke("applyEdits",{adds:i?i.features:[],updates:s,deletes:r});return this.fullExtent=c,i&&i.finish(d.uidToObjectId),this._updateClientGraphicIds(o,d),this._createEditsResult(d)}async _prepareClientMapping(e,t){if(this._layerOrSourceGeometryType!=="mesh"||e==null)return;const i=[];for(const{geometry:r}of e)r==null||r.type!=="mesh"||r.hasExtent||r.loaded||i.push(r.load({signal:t}));i.length&&await Promise.all(i)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const i of t.updateResults){if(!i.success)continue;const r=e.get(i.objectId);r!=null&&this._addIdToClientGraphic(r)}for(const i of t.deleteResults)i.success&&this._idToClientGraphic.delete(i.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=e.success===!0?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new z("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,i=new Array(e.length);let r=null;for(let n=0;n<e.length;n++){const o=e[n],c=this._serializeFeature(o);r||o.geometry==null||(r=o.geometry.type),i[n]=c,t.set(`${c.uid}`,o)}const s=this;return{features:i,inferredGeometryType:r,finish(n){const o=s.sourceJSON.objectIdField;for(const c in n){const d=n[c],f=t.get(c);f&&(f.attributes||(f.attributes={}),d===-1?delete f.attributes[o]:f.attributes[o]=d,s._addIdToClientGraphic(f))}}}}_addIdToClientGraphic(e){var r;if(!this._idToClientGraphic)return;const t=this.sourceJSON.objectIdField,i=(r=e.attributes)==null?void 0:r[t];i!=null&&this._idToClientGraphic.set(i,e)}get _layerOrSourceGeometryType(){var e,t;return((e=this.layer)==null?void 0:e.geometryType)??((t=this.sourceJSON)==null?void 0:t.geometryType)}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return e==="mesh"||e==="multipatch"||e==="extent"}_serializeFeature(e){const{attributes:t}=e,i=this._geometryForSerialization(e),r=(L3e++).toString();return i?{uid:r,geometry:i.toJSON(),attributes:t}:{uid:r,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return t==null?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?Pn.fromExtent(t.extent):null:t}async _startWorker(e){this._connection=await rB("MemorySourceWorker",{strategy:B("feature-layers-workers")?"dedicated":"local",signal:e,registryTarget:this});const{fields:t,spatialReference:i,objectIdField:r,hasM:s,hasZ:n,timeInfo:o,dateFieldsTimeZone:c}=this.layer,d=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,e);const f=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",S=>{ne.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),S.preventDefault()}));const g={features:f.features,fields:t==null?void 0:t.map(S=>S.toJSON()),geometryType:n6.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&s,hasZ:this._layerOrSourceGeometryType==="mesh"||n,objectIdField:r,spatialReference:d?null:i&&i.toJSON(),timeInfo:(o==null?void 0:o.toJSON())??null,dateFieldsTimeZone:c},v=await this._connection.invoke("load",g,{signal:e});for(const S of v.warnings)ne.getLogger(this.layer).warn("#load()",`${S.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:S});v.featureErrors.length&&ne.getLogger(this.layer).warn("#load()",`Encountered ${v.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:v.featureErrors});const _=v.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(f.inferredGeometryType)&&(_.geometryType=n6.toJSON(f.inferredGeometryType)),this.sourceJSON=_,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),f.finish(v.assignedObjectIds)}};u([sL({Type:Mc,ensureType:ji(Mc)})],bl.prototype,"itemType",void 0),u([h()],bl.prototype,"type",void 0),u([h({constructOnly:!0})],bl.prototype,"layer",void 0),u([h({readOnly:!0})],bl.prototype,"_workerGeometryType",null),u([h()],bl.prototype,"sourceJSON",void 0),bl=u([A("esri.layers.graphics.sources.MemorySource")],bl);function N3e(e){return"portalItem"in e}const P3e=e=>{let t=class extends e{get apiKey(){var i;return this._isOverridden("apiKey")?this._get("apiKey"):N3e(this)?(i=this.portalItem)==null?void 0:i.apiKey:null}set apiKey(i){i!=null?this._override("apiKey",i):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return u([h({type:String})],t.prototype,"apiKey",null),t=u([A("esri.layers.mixins.APIKeyMixin")],t),t},D3e=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const i=Wm(this.url);if(i!=null&&i.title)return i.title}return this._get("title")||""}set title(i){this._set("title",i)}set url(i){this._set("url",wne(i,ne.getLogger(this)))}};return u([h()],t.prototype,"title",null),u([h({type:String})],t.prototype,"url",null),t=u([A("esri.layers.mixins.ArcGISService")],t),t},k3e=jSe(),aQ=new Map,lQ=new Map;async function Y5e(e,t,i){if(!e||!i)return!1;if(!t)return!0;const r=new URL(e).host;let s=aQ.get(r);if(!s){const n=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");s=(await qt(n,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return s===t}async function J5e(e,t,i=!1){var n,o,c;if(!e||!t)return!0;const r=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),s=(n=lQ.get(r))==null?void 0:n.entries();if(s){for(const[d,f]of s)if(f.name===t){const g=!((o=f.stack)!=null&&o.hasForwardEdits());if(!g&&i){const[{deleteForwardEdits:v},{default:_}]=await Promise.all([te(()=>import("./deleteForwardEdits-ZYEsG50y.js"),[]),te(()=>import("./DeleteForwardEditsParameters-qf8yItfQ.js"),[])]),S=await v(r,d,new _({sessionId:k3e,moment:f.moment}));return S.success&&((c=f.stack)==null||c.clearForwardEdits()),S.success}return g}}return!0}function F3e(e,t){var s;if(!e)return!1;const i=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),r=(s=lQ.get(i))==null?void 0:s.entries();if(r){for(const[n,o]of r)if(o.name===t)return o.lockType==="edit"}return!1}const XN=new Dn.EventEmitter;function j3e(e){return XN.on("apply-edits",new WeakRef(e))}function U3e(e){return XN.on("update-moment",new WeakRef(e))}function X5e(e,t,i=null,r=!1){const s=en();return r=t==null||r,XN.emit("apply-edits",{serviceUrl:e,layerId:t,gdbVersion:i,mayReceiveServiceEdits:r,result:s.promise}),s}const uQ=Symbol();function Q5e(e){return e!=null&&typeof e=="object"&&uQ in e}function zg(e){return e!=null&&typeof e=="object"&&"gdbVersion"in e}function S3(e,t,i){const r=new URL(e).host,s=aQ.get(r),n=o=>!o||o===s;return n(t)&&n(i)||t===i}const z3e=e=>{var t;let i=class extends e{constructor(...r){super(...r),this[t]=!0,this._applyEditsHandler=s=>{const{serviceUrl:n,layerId:o,gdbVersion:c,mayReceiveServiceEdits:d,result:f}=s,g=n===this.url,v=o!=null&&this.layerId!=null&&o===this.layerId,_=zg(this),S=zg(this)&&S3(n,c,this.gdbVersion);if(!g||_&&!S||!v&&!d)return;const T=f.then(E=>{var L;if(this.lastEditsEventDate=new Date,v&&(E.addedFeatures.length||E.updatedFeatures.length||E.deletedFeatures.length||E.addedAttachments.length||E.updatedAttachments.length||E.deletedAttachments.length))return this.emit("edits",j(E)),E;const M=(L=E.editedFeatures)==null?void 0:L.find(({layerId:N})=>N===this.layerId);if(M){const{adds:N,updates:P,deletes:U}=M.editedFeatures,W={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:N?N.map(({attributes:re})=>({objectId:this.objectIdField&&re[this.objectIdField],globalId:this.globalIdField&&re[this.globalIdField]})):[],deletedFeatures:U?U.map(({attributes:re})=>({objectId:this.objectIdField&&re[this.objectIdField],globalId:this.globalIdField&&re[this.globalIdField]})):[],updatedFeatures:P?P.map(({current:{attributes:re}})=>({objectId:this.objectIdField&&re[this.objectIdField],globalId:this.globalIdField&&re[this.globalIdField]})):[],editedFeatures:j(E.editedFeatures),exceededTransferLimit:!1,historicMoment:j(E.historicMoment)};return this.emit("edits",W),W}const C={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:j(E.editedFeatures),exceededTransferLimit:!1,historicMoment:j(E.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(n,c,C.historicMoment)&&this.emit("edits",C),C}).then(E=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(n,c,E.historicMoment)&&(this.historicMoment=E.historicMoment),E));this.emit("apply-edits",{result:T})},this._updateMomentHandler=s=>{const{serviceUrl:n,gdbVersion:o,moment:c}=s,d=n===this.url,f=zg(this),g=zg(this)&&S3(n,o,this.gdbVersion),v=zg(this)&&!S3(n,this.gdbVersion,null);d&&f&&g&&v&&"historicMoment"in this&&this.historicMoment!==c&&(this.historicMoment=c)},this.when().then(()=>{this.addHandles(j3e(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(U3e(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(r,s,n){return"historicMoment"in this&&this.historicMoment!==n&&F3e(r,s)}};return t=uQ,u([h()],i.prototype,"lastEditsEventDate",void 0),i=u([A("esri.layers.mixins.EditBusLayer")],i),i};let hl=class extends at.ClonableMixin(K){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};u([h()],hl.prototype,"creatorField",void 0),u([h()],hl.prototype,"creationDateField",void 0),u([h()],hl.prototype,"editorField",void 0),u([h()],hl.prototype,"editDateField",void 0),u([h()],hl.prototype,"realm",void 0),u([h(Gv("dateFieldsTimeReference",!0))],hl.prototype,"timeZone",void 0),hl=u([A("esri.layers.support.EditFieldsInfo")],hl);const V3e=hl;let la=class extends at.ClonableMixin(K){constructor(t){super(t)}};u([h({constructOnly:!0,json:{write:!0}})],la.prototype,"name",void 0),u([h({constructOnly:!0,json:{write:!0}})],la.prototype,"fields",void 0),u([h({constructOnly:!0,json:{write:!0}})],la.prototype,"isAscending",void 0),u([h({constructOnly:!0,json:{write:!0}})],la.prototype,"indexType",void 0),u([h({constructOnly:!0,json:{write:!0}})],la.prototype,"isUnique",void 0),u([h({constructOnly:!0,json:{write:!0}})],la.prototype,"description",void 0),la=u([A("esri.layers.support.FeatureIndex")],la);let Vf=class extends at.ClonableMixin(K){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};u([h({type:String,json:{read:{source:"shapeAreaFieldName"}}})],Vf.prototype,"shapeAreaField",void 0),u([h({type:String,json:{read:{source:"shapeLengthFieldName"}}})],Vf.prototype,"shapeLengthField",void 0),u([h({type:String,json:{read:e=>goe.read(e)||voe.read(e)}})],Vf.prototype,"units",void 0),Vf=u([A("esri.layers.support.GeometryFieldsInfo")],Vf);const G3e=Vf;var nR;let Gf=nR=class extends K{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new pe}clone(){return new nR({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};u([h({type:String,json:{write:{isRequired:!0}}})],Gf.prototype,"floorField",void 0),u([h({json:{read:!1,write:!1}})],Gf.prototype,"viewAllMode",void 0),u([h({json:{read:!1,write:!1}})],Gf.prototype,"viewAllLevelIds",void 0),Gf=nR=u([A("esri.layers.support.LayerFloorInfo")],Gf);const q3e=Gf,yz=new rt({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),gz=new rt({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Hs=class extends at.ClonableMixin(K){constructor(t){super(t),this.cardinality=null,this.catalogId=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};u([h({json:{read:yz.read,write:yz.write}})],Hs.prototype,"cardinality",void 0),u([h({json:{name:"catalogID"}})],Hs.prototype,"catalogId",void 0),u([h({json:{read:!0,write:!0}})],Hs.prototype,"composite",void 0),u([h({json:{read:!0,write:!0}})],Hs.prototype,"id",void 0),u([h({json:{read:!0,write:!0}})],Hs.prototype,"keyField",void 0),u([h({json:{read:!0,write:!0}})],Hs.prototype,"keyFieldInRelationshipTable",void 0),u([h({json:{read:!0,write:!0}})],Hs.prototype,"name",void 0),u([h({json:{read:!0,write:!0}})],Hs.prototype,"relatedTableId",void 0),u([h({json:{read:!0,write:!0}})],Hs.prototype,"relationshipTableId",void 0),u([h({json:{read:gz.read,write:gz.write}})],Hs.prototype,"role",void 0),Hs=u([A("esri.layers.support.Relationship")],Hs);const B3e=Hs,H3e=[["binary","application/octet-stream","bin",""]];function r6e(e,t){return pQ(t.name,(e==null?void 0:e.supportedFormats)??[])!=null}function s6e(e,t){if(!e)return!1;const i=W3e(t,e.supportedFormats??[]);return i!=null&&e.editFormats.includes(i)}function cQ(e,t){return KN(X3e(e,t))}function dQ(e,t){return KN(pQ(e,t))}function n6e(e,t){return fQ(J3e(e,t))}function W3e(e,t){return dQ(e.name,t)??cQ(e.type,t)}function yE(e,t,i){return cQ(e,i)??dQ(t,i)}function hQ({supportedFormats:e}){return yE("model/gltf-binary","glb",e)}function o6e(e){const t=hQ(e);return t!=null&&e.editFormats.includes(t)}function Z3e({supportedFormats:e}){return yE("model/gltf+json","gltf",e)}function Y3e(e){if(!e)return null;const t=hQ(e),i=Z3e(e);let r=null;for(const s of e.queryFormats){if(s===t)return s;s===i&&(r=s)}return r}function a6e({supportedFormats:e}){return yE("application/esri3do-SR_world","wld",e)}function l6e({supportedFormats:e}){return yE("application/esri3do-SR_prj","prj",e)}function QN(e){return[...H3e,...e]}function J3e(e,t){return QN(t).find(i=>KN(i)===e)}function X3e(e,t){const i=e.toLowerCase();return QN(t).find(r=>fQ(r)===i)}function pQ(e,t){const i=e.toLowerCase();return QN(t).find(r=>Q3e(r).some(s=>i.endsWith(s)))}function KN(e){return e==null?void 0:e[0]}function fQ(e){return e==null?void 0:e[1].toLowerCase()}function Q3e(e){return(e==null?void 0:e[2].split(",").map(t=>t.toLowerCase()))??[]}function u6e(e){var t;return(t=e.tables)==null?void 0:t.find(i=>i.role==="assetMaps")}function be(e,t,i){return!!mQ(e,t,i)}function Q0(e,t,i){return mQ(e,t,i)}function mQ(e,t,i){return e&&e.hasOwnProperty(t)?e[t]:i}const K3e={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function eAe(e){var i;const t=(i=e==null?void 0:e.supportedSpatialAggregationStatistics)==null?void 0:i.map(r=>r.toLowerCase());return{envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function G1(e,t){var r;const i=(r=e==null?void 0:e.supportedOperationsWithCacheHint)==null?void 0:r.map(s=>s.toLowerCase());return!!(i!=null&&i.includes(t.toLowerCase()))}function tAe(e){var i;const t=(i=e==null?void 0:e.supportedStatisticTypes)==null?void 0:i.map(r=>r.toLowerCase());return{count:!!(t!=null&&t.includes("count")),sum:!!(t!=null&&t.includes("sum")),min:!!(t!=null&&t.includes("min")),max:!!(t!=null&&t.includes("max")),avg:!!(t!=null&&t.includes("avg")),var:!!(t!=null&&t.includes("var")),stddev:!!(t!=null&&t.includes("stddev")),percentileContinuous:!!(t!=null&&t.includes("percentile_continuous")),percentileDiscrete:!!(t!=null&&t.includes("percentile_discrete")),envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function iAe(e){var i;const t=(i=e==null?void 0:e.supportedNormalizationTypes)==null?void 0:i.map(r=>r.toLowerCase());return{field:!!(t!=null&&t.includes("field")),log:!!(t!=null&&t.includes("log")),naturalLog:!!(t!=null&&t.includes("naturallog")),percentOfTotal:!!(t!=null&&t.includes("percentoftotal")),squareRoot:!!(t!=null&&t.includes("squareroot"))}}function yQ(e,t){return{analytics:rAe(e),attachment:sAe(e),data:nAe(e),metadata:oAe(e),operations:aAe(e.capabilities,e,t),query:lAe(e,t),queryAttributeBins:dAe(e),queryRelated:uAe(e),queryTopFeatures:cAe(e),editing:hAe(e)}}function rAe(e){return{supportsCacheHint:G1(e.advancedQueryCapabilities,"queryAnalytics")}}function sAe(e){const t=e.attachmentProperties,i={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:G1(e.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:be(e.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:be(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(r=>{const s=K3e[r.name];s&&(i[s]=!!r.isEnabled)}),i}function nAe(e){return{isVersioned:be(e,"isDataVersioned",!1),isBranchVersioned:be(e,"isDataBranchVersioned",!1),supportsAttachment:be(e,"hasAttachments",!1),supportsM:be(e,"hasM",!1),supportsZ:be(e,"hasZ",!1)}}function oAe(e){return{supportsAdvancedFieldProperties:be(e,"supportsFieldDescriptionProperty",!1)}}function aAe(e,t,i){const r=e?e.toLowerCase().split(",").map(_=>_.trim()):[],s=i?Wm(i):null,n=r.includes(s!=null&&s.serverType==="MapServer"?"data":"query"),o=r.includes("editing")&&!t.datesInUnknownTimezone;let c=o&&r.includes("create"),d=o&&r.includes("delete"),f=o&&r.includes("update");const g=r.includes("changetracking"),v=t.advancedQueryCapabilities;return o&&!(c||d||f)&&(c=d=f=!0),{supportsCalculate:be(t,"supportsCalculate",!1),supportsTruncate:be(t,"supportsTruncate",!1),supportsValidateSql:be(t,"supportsValidateSql",!1),supportsAdd:c,supportsDelete:d,supportsEditing:o,supportsChangeTracking:g,supportsQuery:n,supportsQueryAnalytics:be(v,"supportsQueryAnalytic",!1),supportsQueryAttachments:be(v,"supportsQueryAttachments",!1),supportsQueryBins:be(v,"supportsQueryBins",!1),supportsQueryTopFeatures:be(v,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:be(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:f,supportsExceedsLimitStatistics:be(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:be(t,"supportsAsyncConvert3D",!1)}}function lAe(e,t){const i=e.advancedQueryCapabilities,r=e.ownershipBasedAccessControlForFeatures,s=e.archivingInfo,n=e.currentVersion,o=t==null?void 0:t.includes("MapServer"),c=!o||n>=B("mapserver-pbf-version-support"),d=r2(t),f=new Set((e.supportedQueryFormats??"").split(",").map(g=>g.toLowerCase().trim()));return{maxRecordCount:Q0(e,"maxRecordCount",void 0),maxRecordCountFactor:Q0(e,"maxRecordCountFactor",void 0),standardMaxRecordCount:Q0(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:eAe(i),supportsCacheHint:be(i,"supportsQueryWithCacheHint",!1)||G1(i,"query"),supportsCentroid:be(i,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:d,supportsCurrentUser:be(i,"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:be(i,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:be(i,"supportsDisjointSpatialRel",!1),supportsDistance:be(i,"supportsQueryWithDistance",!1),supportsDistinct:be(i,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:be(i,"supportsReturningQueryExtent",!1),supportsFormatPBF:c&&f.has("pbf"),supportsFullTextSearch:be(i,"supportsFullTextSearch",!1),supportsGeometryProperties:be(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:be(i,"supportsHavingClause",!1),supportsHistoricMoment:be(s,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:be(i,"supportsMaxRecordCountFactor",!1),supportsOrderBy:be(i,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:be(i,"supportsPagination",!1),supportsPercentileStatistics:be(i,"supportsPercentileStatistics",!1),supportsQuantization:be(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:be(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:be(r,"allowAnonymousToQuery",!0),supportsQueryByOthers:be(r,"allowOthersToQuery",!0),supportsQueryGeometry:be(e,"supportsReturningQueryGeometry",!1),supportsResultType:be(i,"supportsQueryWithResultType",!1),supportsReturnMesh:!!Y3e(e.infoFor3D),supportsSpatialAggregationStatistics:be(i,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:be(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:be(e,"useStandardizedQueries",!1),supportsStatistics:be(i,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:be(i,"supportsTopFeaturesQuery",!1),supportsTrueCurve:be(i,"supportsTrueCurve",!1),tileMaxRecordCount:Q0(e,"tileMaxRecordCount",void 0)}}function uAe(e){const t=e.advancedQueryCapabilities,i=be(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:be(t,"supportsQueryRelatedPagination",!1),supportsCount:i,supportsOrderBy:i,supportsCacheHint:G1(t,"queryRelated")}}function cAe(e){return{supportsCacheHint:G1(e.advancedQueryCapabilities,"queryTopFilter")}}function dAe(e){const t=e?e.queryBinsCapabilities:void 0;return{supportsDate:be(t,"supportsDateBin",!1),supportsFixedInterval:be(t,"supportsFixedIntervalBin",!1),supportsAutoInterval:be(t,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:be(t,"supportsFixedBoundariesBin",!1),supportsStackBy:be(t,"supportsStackBy",!1),supportsSplitBy:be(t,"supportsSplitBy",!1),supportsSnapToData:be(t,"supportsSnapToData",!1),supportsReturnFullIntervalBin:be(t,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:be(t,"supportsFirstDayOfWeek",!1),supportsNormalization:be(t,"supportsNormalization",!1),supportedStatistics:tAe(t),supportedNormalizationTypes:iAe(t)}}function hAe(e){const t=e.ownershipBasedAccessControlForFeatures,i=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:be(e,"allowGeometryUpdates",!0),supportsGlobalId:be(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:be(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:be(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:be(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:be(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:be(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:be(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:be(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:be(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:be(i,"supportsAsyncApplyEdits",!1),zDefault:Q0(e,"zDefault",void 0)}}function c6e(e){var t;return{operations:{supportsAppend:be(e,"supportsAppend",!1),supportsCoverageQuery:((t=e==null?void 0:e.playbackInfo)==null?void 0:t.klv["0601"])??!1,supportsExportClip:be(e,"supportsExportClip",!1),supportsExportFrameset:be(e,"supportsExportFrameset",!1),supportsMensuration:be(e,"supportsMensuration",!1),supportsUpdate:be(e,"supportsUpdate",!1)}}}let pl=class extends at.ClonableMixin(K){constructor(e){super(e),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(e){if(!e)return null;const t={};for(const i of Object.keys(e))t[i]=YT(e[i]);return t}writeDomains(e,t){var r;if(!e)return;const i={};for(const s of Object.keys(e))e[s]&&(i[s]=(r=e[s])==null?void 0:r.toJSON());t.domains=i}};u([h({type:Number,json:{write:!0}})],pl.prototype,"code",void 0),u([h({type:Object,json:{write:!0}})],pl.prototype,"defaultValues",void 0),u([h({json:{write:!0}})],pl.prototype,"domains",void 0),u([ue("domains")],pl.prototype,"readDomains",null),u([de("domains")],pl.prototype,"writeDomains",null),u([h({type:String,json:{write:!0}})],pl.prototype,"name",void 0),pl=u([A("esri.layers.support.Subtype")],pl);const pAe=pl,fAe=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.fieldsIndex=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(pe.ofType(la)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=Ge.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}getFieldDomain(){throw new Error("Not implemented")}getField(i){return this.fieldsIndex.get(i)}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:i}=this;if(i){const{query:s,operations:n,editing:o}=i;if(!s.supportsQueryByOthers||!s.supportsQueryByAnonymous||n.supportsEditing&&!(o.supportsUpdateByOthers&&o.supportsUpdateByAnonymous&&o.supportsDeleteByOthers&&o.supportsDeleteByAnonymous))return"load"}if(X2(this.serviceDefinitionExpression)||X2(this.definitionExpression))return"load";if(this.userHasUpdateItemPrivileges){if(j$e(this))return"load";if(this.hasUpdateItemRestrictions)return i.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const r=this.editFieldsInfo;return(r!=null&&r.creatorField||r!=null&&r.editorField)&&(i!=null&&i.operations.supportsEditing)?"editing":null}readCapabilitiesFromService(i,r){return yQ(r,this.url)}readEditingInfo(i,r){const{editingInfo:s}=r;return s?{lastEditDate:s.lastEditDate!=null?new Date(s.lastEditDate):null}:null}get effectiveCapabilities(){const i=this.capabilities;if(!i)return null;const r=j(i),{operations:s,editing:n}=r;return SS(this)?(this.userHasUpdateItemPrivileges&&(s.supportsQuery=!0),r):this.userHasUpdateItemPrivileges?(s.supportsAdd=s.supportsDelete=s.supportsEditing=s.supportsQuery=s.supportsUpdate=n.supportsDeleteByOthers=n.supportsGeometryUpdate=n.supportsUpdateByOthers=!0,r):(this.userHasFullEditingPrivileges&&s.supportsEditing&&(s.supportsAdd=s.supportsDelete=s.supportsUpdate=n.supportsGeometryUpdate=!0),r)}get effectiveEditingEnabled(){return!1}readGlobalIdFieldFromService(i,r){return sX(r)}get hasFullEditingRestrictions(){const i=this.capabilities;if(!i||SS(this))return!1;const{operations:r,editing:s}=i;return r.supportsEditing&&!(r.supportsAdd&&r.supportsDelete&&r.supportsUpdate&&s.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const i=this.capabilities;if(!i)return!1;const{operations:r,editing:s}=i;return SS(this)?!r.supportsQuery:!(r.supportsAdd&&r.supportsDelete&&r.supportsEditing&&r.supportsQuery&&r.supportsUpdate&&s.supportsDeleteByOthers&&s.supportsGeometryUpdate&&s.supportsUpdateByOthers)}readIsTableFromService(i,r){return r.type==="Table"}readMaxScale(i,r){return r.effectiveMaxScale||i||0}readMinScale(i,r){return r.effectiveMinScale||i||0}readObjectIdFieldFromService(i,r){return nX(r)}readServiceDefinitionExpression(i,r){return r.definitionQuery||r.definitionExpression}set url(i){if(i==null)return void this._set("url",i);const r=Sne({layer:this,url:i,nonStandardUrlAllowed:!0,logger:ne.getLogger(this)});this._set("url",r.url),r.layerId!=null&&this._set("layerId",r.layerId)}writeUrl(i,r,s,n){Tne(this,i,null,r,n)}readVersion(i,r){return C$e(r)}};return u([h({readOnly:!0})],t.prototype,"authenticationTriggerEvent",null),u([h({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),u([h({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","isDataBranchVersioned","isDataVersioned","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),u([ue("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),u([h(Gv("dateFieldsTimeReference"))],t.prototype,"dateFieldsTimeZone",void 0),u([h({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),u([h({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),u([h({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),u([h({readOnly:!0,type:V3e})],t.prototype,"editFieldsInfo",void 0),u([h({readOnly:!0})],t.prototype,"editingInfo",void 0),u([ue("editingInfo")],t.prototype,"readEditingInfo",null),u([h({readOnly:!0})],t.prototype,"effectiveCapabilities",null),u([h()],t.prototype,"effectiveEditingEnabled",null),u([h((()=>{const i=j(NJ),r=i.json.origins;return r["web-map"]={read:!1,write:!1},r["portal-item"]={read:!1,write:!1},i})())],t.prototype,"elevationInfo",void 0),u([h()],t.prototype,"fieldsIndex",void 0),u([h({type:q3e,json:{name:"layerDefinition.floorInfo",write:{layerContainerTypes:si}}})],t.prototype,"floorInfo",void 0),u([h({type:Pt,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),u([h()],t.prototype,"gdbVersion",void 0),u([h({readOnly:!0,type:G3e,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),u([h({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:wI.read}}}})],t.prototype,"geometryType",void 0),u([h({type:String})],t.prototype,"globalIdField",void 0),u([ue("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),u([h({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),u([h({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),u([h({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),u([h({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),u([h({readOnly:!0,type:A1})],t.prototype,"heightModelInfo",void 0),u([h({type:Date})],t.prototype,"historicMoment",void 0),u([h({type:pe.ofType(la),readOnly:!0})],t.prototype,"indexes",void 0),u([h({readOnly:!0})],t.prototype,"isTable",void 0),u([ue("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),u([h({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),u([h(pEe)],t.prototype,"maxScale",void 0),u([ue("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),u([h(hEe)],t.prototype,"minScale",void 0),u([ue("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),u([h({type:String})],t.prototype,"objectIdField",void 0),u([ue("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),u([h(Gv("preferredTimeReference"))],t.prototype,"preferredTimeZone",void 0),u([h({type:[B3e],readOnly:!0})],t.prototype,"relationships",void 0),u([h({type:Boolean})],t.prototype,"returnM",void 0),u([h({type:Boolean})],t.prototype,"returnZ",void 0),u([h({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),u([h({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),u([ue("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),u([h({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),u([h()],t.prototype,"sourceJSON",void 0),u([h({type:Ge,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),u([h({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),u([h({type:[pAe],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"subtypes",void 0),u([h({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),u([h(RJ)],t.prototype,"url",null),u([de("url")],t.prototype,"writeUrl",null),u([h({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),u([ue("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=u([A("esri.layers.mixins.FeatureLayerBase")],t),t};let K0=class extends Te{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};u([h()],K0.prototype,"updating",void 0),u([h()],K0.prototype,"status",void 0),K0=u([A("esri.layers.support.PublishingInfo")],K0);const mAe=K0,yAe=Symbol(),gAe=e=>{var t;let i=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const r=this._get("publishingInfo");if(r)return r;const s=new mAe;return this._checkPublishingStatus(s),s}_checkPublishingStatus(r){let o=0;const c=async f=>{let g;r.updating=!0;try{g=await this.fetchPublishingStatus()}catch{g="unavailable"}g!=="published"&&g!=="unavailable"||(r.status==="publishing"&&this.refresh(),d.remove()),r.status=g,r.updating=!1,d.removed||(o=setTimeout(c,f,f+125))},d={removed:!1,remove(){this.removed=!0,clearTimeout(o)}};this.when().catch(()=>d.remove()),c(250),this.addHandles(d)}};return t=yAe,u([h({readOnly:!0,clonable:!1})],i.prototype,"publishingInfo",null),i=u([A("esri.layers.mixins.PublishableLayer")],i),i};let fl=class extends at.ClonableMixin(K){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const i of Object.keys(e))t[i]=YT(e[i]);return t}writeDomains(e,t){var r;const i={};for(const s of Object.keys(e))e[s]&&(i[s]=(r=e[s])==null?void 0:r.toJSON());t.domains=i}};u([h({json:{write:!0}})],fl.prototype,"id",void 0),u([h({json:{write:!0}})],fl.prototype,"name",void 0),u([h({json:{write:!0}})],fl.prototype,"domains",void 0),u([ue("domains")],fl.prototype,"readDomains",null),u([de("domains")],fl.prototype,"writeDomains",null),u([h({type:[fE],json:{write:!0}})],fl.prototype,"templates",void 0),fl=u([A("esri.layers.support.FeatureType")],fl);const gQ=fl,vAe="relationships/",bAe="expression/";let Yr=class extends Te{constructor(e){super(e),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||w1(()=>$c()):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??te(()=>import("./featureUtils-DW96_QGb.js"),__vite__mapDeps([158,5])).then(e=>this._featureUtils=e)}get calculatedExpressions(){var t;const e=new pe;if(!this.expressionsUsedInTitle.length)return e;if(!((t=this._arcadeTask)!=null&&t.value)){for(const i of this.expressionsUsedInTitle??[])e.push({name:i.name,invalid:!0});return e}for(const i of this.expressionsUsedInTitle)try{const r=this._arcadeTask.value.arcade.parseScript(i.expression,["$layer","$map","$datastore"]);if(r.isAsync){e.push({name:i.name,invalid:!0});break}e.push({name:i.name,syntax:r,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(r,{vars:{$feature:"any"}})})}catch{e.push({name:i.name,invalid:!0});break}return e}get expressionsUsedInTitle(){var t,i,r;let e=((t=this.effectivePopupTemplate)==null?void 0:t.title)??"";return typeof e!="string"?[]:(e=e.toLowerCase(),((r=(i=this.effectivePopupTemplate)==null?void 0:i.expressionInfos)==null?void 0:r.filter(s=>e.includes(`{expression/${s.name.toLowerCase()}}`)))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some(e=>e.invalid===!0)}get requiredFields(){var i,r;const e=new Set;if((i=this._arcadeTask)!=null&&i.value&&!this.hasBadExpressions)for(const s of((r=this.calculatedExpressions)==null?void 0:r.toArray())??[])try{const n=this._arcadeTask.value.arcade.extractFieldLiterals(s.syntax);for(const o of n){const c=o.split("."),d=this.fieldsIndex.get(c.at(-1)??"");d&&e.add(d.name)}}catch{}const t=this._extractFieldNames(this.workingTitle);for(const s of t){const n=this.fieldsIndex.get(s);n&&e.add(n.name)}return e}get titleFromDisplayField(){var t,i;let e="";return this.displayField&&(e=((t=this.fieldsIndex.get(this.displayField))==null?void 0:t.name)??""),e||(e=((i=this.fieldsIndex.get(this.objectIdField))==null?void 0:i.name)??""),e?`{${e}}`:""}get workingTitle(){const e=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return e===""||e==null||this.hasBadExpressions||typeof e!="string"?this.titleFromDisplayField:e}async getTitle(e,t,i){var r;try{const{attributes:s}=t,n=(i==null?void 0:i.timeZone)??"system",[{substituteFieldsInLinksAndAttributes:o}]=await Promise.all([this.featureUtilsPromise,(r=this._arcadeTask)==null?void 0:r.promise]);if(i.fetchMissingFields&&(t=await this._checkAndReQueryGraphic(e,t)),this.workingTitle&&this.fieldInfoMap){const c=this._createFormattedAttributes(e,t,n).global;return o({attributes:s,expressionAttributes:null,fieldInfoMap:this.fieldInfoMap,globalAttributes:c,layer:e,text:this.workingTitle})}return""}catch{}return""}async _checkAndReQueryGraphic(e,t){const i=t.getObjectId();if(i==null)return t;if(!uye(this.requiredFields,t)){const r=e.createQuery();r.where="1=1",r.outFields=[...this.requiredFields],r.objectIds=[i];const s=await e.queryFeatures(r);if((s==null?void 0:s.features.length)===1)return s.features[0]}return t}_createFieldInfoMap(e){const t=new Map;if(!e)return t;for(const i of e){if(!i.fieldName)continue;const r=this.fieldsIndex.get(i.fieldName),s=(r==null?void 0:r.name)??i.fieldName;i.fieldName=s,t.set(s.toLowerCase(),i)}return t}_createFormattedAttributes(e,t,i="system"){var o,c;const r=((o=this.effectivePopupTemplate)==null?void 0:o.fieldInfos)??[],s={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&((c=this._arcadeTask)!=null&&c.value)){const d=this._arcadeTask.value.Feature.createFromGraphicLikeObject(t.geometry,t.attributes,e,null);for(const f of this.calculatedExpressions)try{s[`expression/${f.name}`]=f.func({vars:{$feature:d}})}catch{}}const n={...t.attributes,...s};return{global:this._featureUtils.formatAttributes({fieldInfos:r,attributes:n,graphic:t,timeZone:i,layer:e,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(e){return jL(e).filter(t=>!(t.indexOf(vAe)===0||t.indexOf(bAe)===0))}};u([h({readOnly:!0})],Yr.prototype,"_arcadeTask",null),u([h()],Yr.prototype,"_featureUtils",void 0),u([h({readOnly:!0})],Yr.prototype,"featureUtilsPromise",null),u([h({readOnly:!0})],Yr.prototype,"calculatedExpressions",null),u([h()],Yr.prototype,"displayField",void 0),u([h()],Yr.prototype,"effectivePopupTemplate",void 0),u([h()],Yr.prototype,"expressionsUsedInTitle",null),u([h()],Yr.prototype,"fieldsIndex",void 0),u([h()],Yr.prototype,"fieldInfoMap",null),u([h()],Yr.prototype,"fields",void 0),u([h()],Yr.prototype,"objectIdField",void 0),u([h()],Yr.prototype,"requiredFields",null),Yr=u([A("esri.layers.support.TitleCreator")],Yr);const _Ae=Yr,qf=[];function wAe(e,t){if(r2(e.url??""))return!0;const{wkid:i}=t;for(const r of qf){if((e.version??0)>=r[0])return!0;if(typeof r[1]=="function"&&(r[1]=r[1]()),r[1].has(i))return!1}return!0}qf.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),qf.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),qf.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),qf.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),qf.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]);async function SAe(e,t,i){const r=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(r&&r.type==="unique-value"&&r.styleOrigin){const s=await ET(r.populateFromStyle());if(li(i),s.ok===!1){const n=s.error;t!=null&&t.messages&&t.messages.push(new Ln("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:t})),e.clear("renderer",t==null?void 0:t.origin)}}}var em;(function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"})(em||(em={}));const yr="FeatureLayer";function hw(e,t){return new z("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function vz(e){return e&&e instanceof pe}const T3=QX();function E3(e,t,i){const r=!!(i!=null&&i.writeLayerSchema);return{enabled:r,ignoreOrigin:r}}let $e=class extends fAe(UX($J(gAe(z3e(EJ(AN(GX(JX(XX(ZN(WX(D3e(zX(BX(SN(bJ(P3e(at.ClonableMixin(M1))))))))))))))))))){constructor(...e){super(...e),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="ArcGISFeatureLayer",this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=Ge.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=hT(async(t,i,r)=>{const{save:s,saveAs:n}=await te(()=>import("./featureLayerUtils-BV35edcV.js"),__vite__mapDeps([315,316,317,318,314,319,177]));switch(t){case em.SAVE:return s(this,i);case em.SAVE_AS:return n(this,r,i)}})}destroy(){var e;(e=this.source)==null||e.destroy()}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}load(e){var r;const t=e!=null?e.signal:null;if((r=this.portalItem)!=null&&r.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(t).then(s=>this.initLayerProperties(s))),Promise.resolve(this);const i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e).catch(wo).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const s=await this._fetchFirstValidLayerId(t);s!=null&&(this.layerId=s)}if(!this.url&&!this._hasMemorySource())throw new z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(t))}).then(()=>P$e(this,"load",e));return this.addResolvingPromise(i),Promise.resolve(this)}get _titleCreator(){const e=this._get("_titleCreator");return Gt(e),new _Ae({fieldsIndex:this.fieldsIndex,objectIdField:this.objectIdField,fields:this.fields,displayField:this.displayField,effectivePopupTemplate:this.popupTemplate??this.defaultPopupTemplate})}readCapabilities(e,t){return t=t.layerDefinition||t,yQ(t,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){var e;return!(this.loaded&&!((e=this.capabilities)!=null&&e.operations.supportsEditing))&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome("editingEnabled",e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,i){return this._readEditingEnabled(t,!0,i)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,i,r){this._writeEditingEnabled(e,t,!0,r)}get effectiveEditingEnabled(){return F$e(this)}get featureTitleFields(){return[...this._titleCreator.requiredFields]}readIsTable(e,t){return(t=(t==null?void 0:t.layerDefinition)??t).type==="Table"||!t.geometryType}writeIsTable(e,t,i,r){r!=null&&r.writeLayerSchema&&cr(i,e?"Table":"Feature Layer",t)}readGlobalIdField(e,t){return sX(t.layerDefinition||t)}readObjectIdField(e,t){return nX(t.layerDefinition||t)}get parsedUrl(){const e=dr(this.url);return e!=null&&(this.dynamicDataSource!=null?e.path=xm(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=xm(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){C2(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,i){var s;t=t.layerDefinition||t;const r=(s=t.drawingInfo)==null?void 0:s.renderer;if(r){const n=s1(r,t,i)??void 0;return n||ne.getLogger(this).error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:i}),n}return VN(t,i)}set source(e){const t=this._get("source");t!==e&&(vz(t)&&this._resetMemorySource(t),vz(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof pe?new bl({layer:this,items:e}):e:null}readSource(e,t){const i=EN.fromJSON(t.featureSet);return new bl({layer:this,items:(i==null?void 0:i.features)??[]})}readTemplates(e,t){const i=t.editFieldsInfo,r=i==null?void 0:i.creatorField,s=i==null?void 0:i.editorField;return e=e==null?void 0:e.map(n=>fE.fromJSON(n)),this._fixTemplates(e,r),this._fixTemplates(e,s),e}readTitle(e,t){var s,n,o;const i=((s=t.layerDefinition)==null?void 0:s.name)??t.name,r=t.title||((n=t.layerDefinition)==null?void 0:n.title);if(i){const c=(o=this.portalItem)==null?void 0:o.title;if(this.sublayerTitleMode==="item-title")return this.url?_ne(this.url,i):i;let d=i;if(!d&&this.url){const f=Wm(this.url);f!=null&&(d=f.title)}return d?(this.sublayerTitleMode==="item-title-and-service-name"&&c&&c!==d&&(d=c+" - "+d),VR(d)):void 0}if(this.sublayerTitleMode==="item-title"&&r)return r}readTitleFromWebMap(e,t){var i;return t.title||((i=t.layerDefinition)==null?void 0:i.name)}readTypeIdField(e,t){let i=(t=t.layerDefinition||t).typeIdField;if(i&&t.fields){i=i.toLowerCase();const r=t.fields.find(s=>s.name.toLowerCase()===i);r&&(i=r.name)}return i}readTypes(e,t){e=(t=t.layerDefinition||t).types;const i=t.editFieldsInfo,r=i==null?void 0:i.creatorField,s=i==null?void 0:i.editorField;return e==null?void 0:e.map(n=>(n=gQ.fromJSON(n),this._fixTemplates(n.templates,r),this._fixTemplates(n.templates,s),n))}readVisible(e,t){var i;return((i=t.layerDefinition)==null?void 0:i.defaultVisibility)!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}async addAttachment(e,t){const i=await y$e(this,e,t,yr);return this.lastEditsEventDate=new Date,i}async updateAttachment(e,t,i){const r=await g$e(this,e,t,i,yr);return this.lastEditsEventDate=new Date,r}async applyEdits(e,t){return v$e(this,e,t)}async uploadAssets(e,t){return b$e(this,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return KX(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:t}=await JV(te(()=>import("./FeatureLayerSource-YKHM34si.js"),__vite__mapDeps([320,46,53,321,322,49,99,48,100,323,324,325,326,60,58,59,15,16,14,21,165,20])),e);return new t({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:e})}createQuery(){const e=O$e(this);e.dynamicDataSource=this.dynamicDataSource;const t=this.subtypeCode!=null?`${this.subtypeField} = ${this.subtypeCode}`:null,i=rme(this.definitionExpression,t);return e.where=i||"1=1",e}async deleteAttachments(e,t){const i=await _$e(this,e,t,yr);return this.lastEditsEventDate=new Date,i}async fetchRecomputedExtents(e){return w$e(this,e,yr)}getFeatureTitle(e,t={timeZone:"system",fetchMissingFields:!1}){return this._titleCreator.getTitle(this,e,t)}getFeatureType(e){return lX(this.types,this.typeIdField,e)}getFieldDomain(e,t){var i;return I$e(this,e,t,((i=this.getField(e))==null?void 0:i.domain)??null)}async queryAttachments(e,t){return S$e(this,e,t,yr)}async queryFeatures(e,t){const i=await this.load(),r=await i.source.queryFeatures(_s.from(e)??i.createQuery(),t);if(r!=null&&r.features)for(const s of r.features)s.layer=s.sourceLayer=i;return r}async queryObjectIds(e,t){return(await T$e(this,e,t,yr)).filter(DF)}async queryFeatureCount(e,t){return E$e(this,e,t,yr)}async queryExtent(e,t){return $$e(this,e,t,yr)}async queryRelatedFeatures(e,t){return x$e(this,e,t,yr)}async queryRelatedFeaturesCount(e,t){return M$e(this,e,t,yr)}async queryTopFeatures(e,t){var o;const{source:i,capabilities:r}=await this.load();if(!i.queryTopFeatures||!((o=r==null?void 0:r.query)!=null&&o.supportsTopFeaturesQuery))throw new z(yr,"Layer source does not support queryTopFeatures capability");const s=await te(()=>import("./TopFeaturesQuery-ads5ZGjE.js"),[]),n=await i.queryTopFeatures(s.default.from(e),t);if(n!=null&&n.features)for(const c of n.features)c.layer=c.sourceLayer=this;return n}async queryAttributeBins(e,t){var o;const{source:i,capabilities:r}=await this.load();if(!i.queryAttributeBins||!((o=r==null?void 0:r.operations)!=null&&o.supportsQueryBins))throw new z(yr,"Layer source does not support queryAttributeBins capability");V$e(e,r,yr);const s=await te(()=>import("./AttributeBinsQuery-DdVMaPmV.js"),__vite__mapDeps([228,18,11,27])),n=await i.queryAttributeBins(s.default.from(e),t);if(n.features)for(const c of n.features)c.layer=c.sourceLayer=this;return n}async queryTopObjectIds(e,t){const{source:i,capabilities:r}=await this.load();if(!i.queryTopObjectIds||!(r!=null&&r.query.supportsTopFeaturesQuery))throw new z(yr,"Layer source does not support queryTopObjectIds capability");const s=await te(()=>import("./TopFeaturesQuery-ads5ZGjE.js"),[]);return(await i.queryTopObjectIds(s.default.from(e),t)).filter(DF)}async queryTopFeaturesExtent(e,t){var n;const{source:i,capabilities:r}=await this.load();if(!i.queryTopExtents||!((n=r==null?void 0:r.query)!=null&&n.supportsTopFeaturesQuery))throw new z(yr,"Layer source does not support queryTopExtents capability");const s=await te(()=>import("./TopFeaturesQuery-ads5ZGjE.js"),[]);return i.queryTopExtents(s.default.from(e),t)}async queryTopFeatureCount(e,t){var n;const{source:i,capabilities:r}=await this.load();if(!i.queryTopCount||!((n=r==null?void 0:r.query)!=null&&n.supportsTopFeaturesQuery))throw new z(yr,"Layer source does not support queryFeatureCount capability");const s=await te(()=>import("./TopFeaturesQuery-ads5ZGjE.js"),[]);return i.queryTopCount(s.default.from(e),t)}read(e,t){const i=e.featureCollection;if((i||e.type==="Feature Collection")&&(this.resourceInfo=e),i){const r=i.layers;r&&r.length===1&&(super.read(r[0],t),i.showLegend!=null&&super.read({showLegend:i.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(e,t){t={...t,origin:(t==null?void 0:t.origin)??void 0,writeLayerSchema:(t==null?void 0:t.writeLayerSchema)??this._hasMemorySource()};const{origin:i,layerContainerType:r,messages:s}=t;if(this.dynamicDataSource)return s==null||s.push(hw(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if((i==="web-map"||i==="web-scene")&&r!=="tables")return s==null||s.push(hw(this,`a table source can only be written to tables, not ${r}`)),null;if(this._hasMemorySource())return s==null||s.push(hw(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&(i==="web-map"||i==="web-scene")&&r==="tables")return s==null||s.push(hw(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new z(yr,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){var t;return!!this.loaded&&(((t=this.source)==null?void 0:t.type)==="memory"||wAe(this,e))}async save(e){return this._debouncedSaveOperations(em.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(em.SAVE_AS,t,e)}_readEditingEnabled(e,t,i){var s;let r=(s=e.layerDefinition)==null?void 0:s.capabilities;return r?this._hasEditingCapability(r):(r=e.capabilities,t&&(i==null?void 0:i.origin)==="web-map"&&!this._hasMemorySource()&&r?this._hasEditingCapability(r):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,i,r){var s,n;if(!e){const o=(n=(s=this.capabilities)==null?void 0:s.operations)!=null&&n.supportsSync?"Query,Sync":"Query";cr("layerDefinition.capabilities",o,t),i&&!(r!=null&&r.writeLayerSchema)&&(t.capabilities=o)}}_fetchFirstValidLayerId(e){return qt(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t=>{const i=t.data;if(i)return this.findFirstValidLayerId(i)})}async initLayerProperties(e){var t;return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:(t=this.portalItem)==null?void 0:t.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),C2(this.renderer,this.fieldsIndex),kL(this.timeInfo,this.fieldsIndex),this._hasMemorySource()&&this.geometryType==="mesh"&&(this.capabilities.query.supportsReturnMesh=!0),SAe(this,{origin:"service"})}async hasDataChanged(){return A$e(this)}async fetchPublishingStatus(){const e=this.source;return e!=null&&e.fetchPublishingStatus?e.fetchPublishingStatus():"unavailable"}_verifyFields(){var t,i;const e=((t=this.parsedUrl)==null?void 0:t.path)??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||(i=this.fields)!=null&&i.some(r=>r.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(i=>{var s;const r=(s=i.prototype)==null?void 0:s.attributes;r&&t&&delete r[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this.addHandles([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(e){return Array.isArray(e.layers)&&e.layers.length>0?e.layers[0].id:Array.isArray(e.tables)&&e.tables.length>0?e.tables[0].id:void 0}};u([h({clonable:!1,readOnly:!0})],$e.prototype,"_titleCreator",null),u([h(FJ)],$e.prototype,"attributeTableTemplate",void 0),u([ue("service","capabilities")],$e.prototype,"readCapabilities",null),u([h({json:{origins:{"web-scene":{write:!1}},write:!0}})],$e.prototype,"charts",void 0),u([h({readOnly:!0})],$e.prototype,"createQueryVersion",null),u([h({json:{read:{source:"layerDefinition.copyrightText"}}})],$e.prototype,"copyright",void 0),u([h({json:{read:{source:"layerDefinition.displayField"}}})],$e.prototype,"displayField",void 0),u([h({types:cc,readOnly:!0})],$e.prototype,"defaultSymbol",void 0),u([h({type:bo})],$e.prototype,"dynamicDataSource",void 0),u([h({type:Boolean})],$e.prototype,"editingEnabled",null),u([ue(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],$e.prototype,"readEditingEnabled",null),u([ue("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],$e.prototype,"readEditingEnabledFromWebMap",null),u([de(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],$e.prototype,"writeEditingEnabled",null),u([de("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],$e.prototype,"writeEditingEnabledToWebMap",null),u([h({readOnly:!0})],$e.prototype,"effectiveEditingEnabled",null),u([h({clonable:!1,readOnly:!0})],$e.prototype,"featureTitleFields",null),u([h({...T3.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:E3}}}}})],$e.prototype,"fields",void 0),u([h(T3.fieldsIndex)],$e.prototype,"fieldsIndex",void 0),u([h({type:C3e,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],$e.prototype,"formTemplate",void 0),u([h({json:{read:{source:"layerDefinition.extent"}}})],$e.prototype,"fullExtent",void 0),u([h({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:E3,writer(e,t,i){const r=e?wI.toJSON(e):null;r&&cr(i,r,t)}}}},read:{source:"layerDefinition.geometryType",reader:wI.read}}})],$e.prototype,"geometryType",void 0),u([h({json:{read:{source:"layerDefinition.hasM"}}})],$e.prototype,"hasM",void 0),u([h({json:{read:{source:"layerDefinition.hasZ"}}})],$e.prototype,"hasZ",void 0),u([h(DJ)],$e.prototype,"id",void 0),u([h({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],$e.prototype,"infoFor3D",void 0),u([h({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],$e.prototype,"isTable",void 0),u([ue("service","isTable",["type","geometryType"]),ue("isTable",["layerDefinition.type","layerDefinition.geometryType"])],$e.prototype,"readIsTable",null),u([de("web-map","isTable")],$e.prototype,"writeIsTable",null),u([h(V1)],$e.prototype,"labelsVisible",void 0),u([h({type:[ly],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:OS,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:OS,write:{enabled:!0,layerContainerTypes:si}}},name:"layerDefinition.drawingInfo.labelingInfo",read:OS,write:!0}})],$e.prototype,"labelingInfo",void 0),u([h((()=>{const e=j(dEe);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,i,r){cr(r,DT(t),i)}}},e})())],$e.prototype,"opacity",void 0),u([h(LJ)],$e.prototype,"legendEnabled",void 0),u([h({type:["show","hide"],json:(()=>{const e=j(kJ.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],$e.prototype,"listMode",void 0),u([ue("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],$e.prototype,"readGlobalIdField",null),u([h({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:E3}}}}})],$e.prototype,"objectIdField",void 0),u([ue("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],$e.prototype,"readObjectIdField",null),u([h({type:["ArcGISFeatureLayer"],json:{write:{target:"layerType",ignoreOrigin:!0,layerContainerTypes:si}}})],$e.prototype,"operationalLayerType",void 0),u([h(T3.outFields)],$e.prototype,"outFields",void 0),u([h({readOnly:!0})],$e.prototype,"parsedUrl",null),u([h({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],$e.prototype,"path",void 0),u([h(z1)],$e.prototype,"popupEnabled",void 0),u([h({type:Jh,json:{name:"popupInfo",write:!0}})],$e.prototype,"popupTemplate",void 0),u([h({readOnly:!0})],$e.prototype,"defaultPopupTemplate",null),u([h({types:cy,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:PX,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:si,overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}})],$e.prototype,"renderer",null),u([ue("service","renderer",["drawingInfo.renderer","defaultSymbol"]),ue("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],$e.prototype,"readRenderer",null),u([h()],$e.prototype,"resourceInfo",void 0),u([h((()=>{const e=j(IJ);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],$e.prototype,"screenSizePerspectiveEnabled",void 0),u([h({clonable:!1})],$e.prototype,"source",null),u([ht("source")],$e.prototype,"castSource",null),u([ue("portal-item","source",["featureSet"]),ue("web-map","source",["featureSet"])],$e.prototype,"readSource",null),u([h({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],$e.prototype,"spatialReference",void 0),u([h({type:Number})],$e.prototype,"subtypeCode",void 0),u([h({type:[fE]})],$e.prototype,"templates",void 0),u([ue("templates",["editFieldsInfo","creatorField","editorField","templates"])],$e.prototype,"readTemplates",null),u([h({type:YX})],$e.prototype,"timeInfo",void 0),u([h()],$e.prototype,"title",void 0),u([ue("service","title",["name"]),ue("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],$e.prototype,"readTitle",null),u([ue("web-map","title",["layerDefinition.name","title"])],$e.prototype,"readTitleFromWebMap",null),u([h({type:String})],$e.prototype,"sublayerTitleMode",void 0),u([h({json:{read:!1}})],$e.prototype,"type",void 0),u([h({type:String})],$e.prototype,"typeIdField",void 0),u([ue("service","typeIdField"),ue("typeIdField",["layerDefinition.typeIdField"])],$e.prototype,"readTypeIdField",null),u([h({type:[gQ]})],$e.prototype,"types",void 0),u([ue("service","types",["types"]),ue("types",["layerDefinition.types"])],$e.prototype,"readTypes",null),u([h({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],$e.prototype,"visible",void 0),u([ue("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],$e.prototype,"readVisible",null),$e=u([A("esri.layers.FeatureLayer")],$e);const TAe=$e,d6e=Object.freeze(Object.defineProperty({__proto__:null,default:TAe},Symbol.toStringTag,{value:"Module"})),EAe=({setCameraActive:e,view:t})=>{const i=ys.useRef(null),r=ys.useRef(null),s=ys.useRef(null),[n,o]=ys.useState(!1);ys.useEffect(()=>{const g=r.current;return(async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("Camera not supported on this device/browser.");return}try{s.current=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),g.srcObject=s.current}catch(_){alert("Could not access the camera. Permission denied or device issue."),console.error(_)}})(),()=>{s.current&&s.current.getTracks().forEach(_=>_.stop())}},[]);const c=()=>{const v=i.current.getContext("2d");s.current&&(i.current.width=r.current.videoWidth,i.current.height=r.current.videoHeight,v.drawImage(r.current,0,0,i.current.width,i.current.height),s.current&&(s.current.getTracks().forEach(_=>_.stop()),r.current.srcObject=null,s.current=null),o(!0))},d=g=>{const v=new Blob([JSON.stringify(g)],{type:"application/json"}),_=URL.createObjectURL(v),S=new YN({url:_,title:"Captured Image",popupTemplate:{title:"Captured Image",content:[{type:"media",mediaInfos:[{title:"Captured Image",caption:"{comment}",type:"image",value:{sourceURL:"{image}",altText:"{comment}",imageData:"{image}"}}]}]}});t.map.add(S),console.log(g)},f=async()=>{if(!i.current){console.warn("Canvas not ready");return}const g=i.current.toDataURL("image/jpeg",1);let v=null;navigator.geolocation.getCurrentPosition(async _=>{const S={type:"FeatureCollection",features:[{type:"Feature",properties:{comment:"",image:g,direction:v,photoId:""},geometry:{type:"Point",coordinates:[_.coords.longitude,_.coords.latitude]}}]};t.goTo(new Ye({longitude:_.coords.longitude,latitude:_.coords.latitude})).then(()=>{t.openPopup({title:"Captured Image",location:S.features[0].geometry,content:`<div>
      <label>Title:</label>
      <input type="text" id="popup-title" /><br><br>
      <label>Comment:</label><br>
      <textarea id="popup-comment"></textarea><br><br>
      <button onclick="submitPopupData()">Submit</button></div>
    `})}),d(S)},_=>console.error(_),{enableHighAccuracy:!0,maximumAge:0,timeout:5e3}),e(!1)};return xt.jsxs("div",{style:{position:"relative",width:"100vw",height:"100vh",overflow:"hidden",backgroundColor:"black"},children:[xt.jsx("canvas",{id:"canvas",ref:i,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:n?"block":"none",objectFit:"cover"}}),xt.jsx("video",{id:"video",ref:r,autoPlay:!0,playsInline:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:n?"none":"block",objectFit:"cover"}}),xt.jsxs("div",{style:{position:"absolute",bottom:0,width:"100%",display:"flex",justifyContent:"center",gap:"12px",padding:"16px",background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(4px)"},children:[xt.jsx("button",{onClick:c,style:{padding:"12px 20px",fontSize:"16px",borderRadius:"8px",border:"none",backgroundColor:"#00bcd4",color:"white"},children:"Capture"}),xt.jsx("button",{onClick:f,style:{padding:"12px 20px",fontSize:"16px",borderRadius:"8px",border:"none",backgroundColor:"#f44336",color:"white"},children:"Go Back"})]})]})};let Zu=class extends Te{constructor(e){super(e),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles(Io(()=>{var e;return(e=this.view)==null?void 0:e.ui},"expand",e=>{const{target:t}=e;t&&t!==this&&t.expanded&&t.group&&t.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(e){this._set("autoCollapse",e),this._watchViewpoint()}set expanded(e){var r;const t=!!e;this._set("expanded",t);const i=(r=this.view)==null?void 0:r.ui;i&&i.emit("expand",{target:this}),this._viewpointHandleChange(t)}get state(){var e;return(e=this.view)!=null&&e.ready?"ready":"disabled"}set view(e){this._get("view")!==e&&(this._set("view",e),e&&$s(()=>e.ready,()=>{this.view===e&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(e){this._viewpointHandle&&(e?$s(()=>{var t;return(t=this.view)==null?void 0:t.stationary},()=>{var t;return(t=this._viewpointHandle)==null?void 0:t.resume()},{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const e="viewpoint";this.removeHandles(e),this._viewpointHandle=null;const{autoCollapse:t,view:i}=this;if(!i||!t)return;const r=Oae(()=>i.type==="3d"?i.camera:i.viewpoint,()=>this._collapse());this.addHandles(r,e),this._viewpointHandle=r}_collapse(){this.expanded=!1}};u([h({value:!1})],Zu.prototype,"autoCollapse",null),u([h({value:!1})],Zu.prototype,"expanded",null),u([h()],Zu.prototype,"group",void 0),u([h({readOnly:!0})],Zu.prototype,"state",null),u([h({value:null})],Zu.prototype,"view",null),Zu=u([A("esri.widgets.Expand.ExpandViewModel")],Zu);const vQ=Zu,_u="esri-expand",ks={base:_u,toggle:`${_u}__toggle`,popoverContent:`${_u}__popover-content`,panel:`${_u}__panel`,panelContent:`${_u}__panel-content`,sheet:`${_u}__sheet`,contentContainer:`${_u}__content-container`,icon:"esri-collapse__icon",iconFlip:"esri-collapse__icon-flip",iconNumber:`${_u}__icon-number`},bz="chevrons-left",_z="chevrons-right";let ei=class extends Vc{constructor(e,t){super(e,t),this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expandTooltip="",this.focusTrapDisabled=!1,this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.placement=null,this.viewModel=new vQ,this.toggle=()=>{this.viewModel.expanded=!this.viewModel.expanded},this._handlePopoverClose=i=>{i.target===this._popoverEl&&(this.viewModel.expanded=i.currentTarget.open)},this._handleSheetClose=i=>{this.viewModel.expanded=i.currentTarget.open},this._handlePanelClose=i=>{this.viewModel.expanded=!i.currentTarget.closed},this._handleKeyDown=i=>{this.viewModel.expanded&&i.key==="Escape"&&!this._willCloseOnEsc(i)&&i.preventDefault()},this._storeToggleActionEl=i=>{this._toggleActionEl=i},this._storePopoverEl=i=>{this._popoverEl=i}}initialize(){this.addHandles(xe(()=>{var e,t;return(t=(e=this.viewModel)==null?void 0:e.view)==null?void 0:t.size},()=>{var e;return(e=this._popoverEl)==null?void 0:e.reposition()},Nt))}loadDependencies(){return sy({action:()=>te(()=>import("./index-9QiumRAd.js"),__vite__mapDeps([282,269,270,271,272,273,274,283,275,278,280])),icon:()=>te(()=>import("./index-DW0ZHRNK.js").then(e=>e.i),__vite__mapDeps([272,273,270,274])),panel:()=>te(()=>import("./index-Coz-vIUa.js").then(e=>e.i),__vite__mapDeps([311,269,270,271,272,273,274,282,283,275,278,280,284,285,286,287,276,288,289,290,291,292,302])),popover:()=>te(()=>import("./index-D4PX1fws.js").then(e=>e.i),__vite__mapDeps([284,269,270,271,272,273,274,282,283,275,278,280,285,286,287,276,288,289,290])),sheet:()=>te(()=>import("./index-BXrEW4oC.js"),__vite__mapDeps([327,269,270,271,302,275,274,273,272,283,328,280,287,295,289]))})}get expandTitle(){const{expanded:e,messagesCommon:t,collapseTooltip:i,expandTooltip:r}=this;return(e?i||(t==null?void 0:t.collapse):r||(t==null?void 0:t.expand))??""}get _displaySheet(){var e;switch(this.mode){case"drawer":return!0;case"auto":return((e=this.viewModel.view)==null?void 0:e.widthBreakpoint)==="xsmall";default:return!1}}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(e){this.viewModel.autoCollapse=e}get collapseIcon(){return _z}set collapseIcon(e){this._overrideIfSome("collapseIcon",e)}get expanded(){return this.viewModel.expanded}set expanded(e){this.viewModel.expanded=e}get expandIcon(){return Tv(this.content)?this.content.icon:bz}set expandIcon(e){this._overrideIfSome("expandIcon",e)}get group(){return this.viewModel.group}set group(e){this.viewModel.group=e}get icon(){return null}get label(){var e;return(Tv(this.content)?this.content.label:null)??((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}render(){const{_displaySheet:e,_toggleActionEl:t,viewModel:{expanded:i},label:r,placement:s}=this;return we("div",{class:this.classes(ks.base,Fr.widget)},this._renderToggle(),e?we("calcite-sheet",{class:ks.sheet,heightScale:"l",label:r,onkeydown:this._handleKeyDown,open:i,position:"block-end",onCalciteSheetClose:this._handleSheetClose},we("calcite-panel",{class:ks.panel,closable:!0,closed:!i,heading:r,onkeydown:this._handleKeyDown,onCalcitePanelClose:this._handlePanelClose},we("div",{class:ks.panelContent},this._renderContent()))):t?we("calcite-popover",{afterCreate:this._storePopoverEl,afterUpdate:this._storePopoverEl,focusTrapDisabled:this.focusTrapDisabled,label:r,onkeydown:this._handleKeyDown,open:i,overlayPositioning:"fixed",placement:s??this._getPlacement(),referenceElement:t,onCalcitePopoverClose:this._handlePopoverClose},we("div",{class:ks.popoverContent},this._renderContent())):null)}_getPlacement(){const{container:e,view:t}=this,i=e&&t?t.ui.getPosition(e):null;if(!i||i==="manual")return"auto";const[r,s]=i.split("-");return`${s==="right"?"left":"right"}-${r==="bottom"?"end":"start"}`}_willCloseOnEsc(e){const{closeOnEsc:t}=this;return typeof t=="function"?t(e):t}_renderBadgeNumber(){const{expanded:e,iconNumber:t}=this;return t&&!e?we("span",{class:ks.iconNumber,key:"expand__icon-number"},t):null}_renderToggleButton(){const{expanded:e,expandTitle:t,expandIcon:i,collapseIcon:r}=this,s=e?r:i,n=s===bz||s===_z;return we("calcite-action",{afterCreate:this._storeToggleActionEl,afterUpdate:this._storeToggleActionEl,class:Fr.widgetButton,onclick:this.toggle,scale:"s",text:t,title:t},s?we("calcite-icon",{class:this.classes(ks.icon,n&&ks.iconFlip),icon:s,scale:"s"}):null)}_renderToggle(){return we("div",{class:ks.toggle},this._renderToggleButton(),this._renderBadgeNumber())}_renderContent(){const{content:e}=this;return typeof e=="string"?we("div",{class:ks.contentContainer,innerHTML:e,key:"content__string"}):Tv(e)?we("div",{class:ks.contentContainer,key:"content__widget"},e.render()):e instanceof HTMLElement?we("div",{afterCreate:this._attachToNode,bind:e,class:ks.contentContainer,key:"content__html-element"}):sTe(e)?we("div",{afterCreate:this._attachToNode,bind:e.domNode,class:ks.contentContainer,key:"content__node"}):null}_attachToNode(e){const t=this;e.appendChild(t)}};u([h({readOnly:!0})],ei.prototype,"expandTitle",null),u([h()],ei.prototype,"_toggleActionEl",void 0),u([h()],ei.prototype,"_displaySheet",null),u([h()],ei.prototype,"autoCollapse",null),u([h()],ei.prototype,"closeOnEsc",void 0),u([h()],ei.prototype,"collapseIcon",null),u([h()],ei.prototype,"collapseTooltip",void 0),u([h()],ei.prototype,"content",void 0),u([h()],ei.prototype,"expanded",null),u([h()],ei.prototype,"expandIcon",null),u([h()],ei.prototype,"expandTooltip",void 0),u([h()],ei.prototype,"focusTrapDisabled",void 0),u([h()],ei.prototype,"group",null),u([h()],ei.prototype,"icon",null),u([h()],ei.prototype,"iconNumber",void 0),u([h()],ei.prototype,"label",null),u([h(),Oc("esri/widgets/Expand/t9n/Expand")],ei.prototype,"messages",void 0),u([h(),Oc("esri/t9n/common")],ei.prototype,"messagesCommon",void 0),u([h()],ei.prototype,"mode",void 0),u([h()],ei.prototype,"placement",void 0),u([h()],ei.prototype,"view",null),u([h({type:vQ})],ei.prototype,"viewModel",void 0),ei=u([A("esri.widgets.Expand")],ei);const $Ae=ei;function xAe(){const e=ys.useRef(null),t=ys.useRef(null),i=ys.useRef(null),[r,s]=ys.useState(!1),[n,o]=ys.useState(!1),[c,d]=ys.useState([]);return ys.useEffect(()=>{const f=new URLSearchParams(window.location.search),g=new fm({id:f.get("id")});t.current||(e.current=new SH({basemap:"streets-vector"}),t.current=new P2e({container:"map-view",map:e.current,center:[80.5929,16.4937],zoom:11}),g.load().then(v=>{const _=new da({symbol:{type:"picture-marker",width:"40px",height:"40px",url:a3e},visualVariables:[{type:"rotation",field:"direction",rotationType:"geographic",valueUnit:"degrees"}]}),S=new YN({portalItem:v,renderer:_});if(i.current=S,S&&t.current){const T=new cTe({view:t.current}),E=new $Ae({content:T,view:t.current});t.current.ui.add(E,"top-right")}S.queryFeatures().then(T=>{const E=T.features.map(M=>({...M.attributes,geometry:M.geometry}));d(E)}),e.current.add(S)})),!n&&t.current&&(t.current.container="map-view")},[n]),xt.jsx(aie,{style:{height:"100vh",display:"flex",flexDirection:"column"},children:n?xt.jsx(EAe,{setCameraActive:o,view:t.current}):xt.jsxs(xt.Fragment,{children:[xt.jsxs("div",{slot:"header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ccc"},children:[xt.jsx("h2",{children:"Agriculture Land"}),xt.jsx(sie,{fullName:"Ravi Kishan",scale:"l"})]}),xt.jsxs("div",{style:{flex:1,display:"flex"},children:[xt.jsx(qx,{slot:"panel-start",width:!0,children:xt.jsxs(s5,{children:[xt.jsx(Gx,{icon:"home"}),xt.jsx(Gx,{icon:"home"})]})}),xt.jsx("div",{id:"map-view",style:{flex:1}}),r&&xt.jsx(qx,{width:"m",children:xt.jsxs(s5,{heading:"Photos",children:[xt.jsxs(oie,{children:[xt.jsx(r5,{heading:"List Required",children:c.length>0&&c.map(f=>xt.jsx(i5,{label:f.title},f.title))}),xt.jsx(r5,{heading:"List Taken",children:xt.jsx(i5,{label:"Hello 2"})})]}),xt.jsx(nie,{slot:"footer",onClick:()=>o(!0),children:"New"})]})}),xt.jsx(qx,{slot:"panel-end",width:!0,children:xt.jsx(Gx,{icon:"images",onClick:()=>s(f=>!f),active:r})})]})]})})}Nee.createRoot(document.getElementById("root")).render(xt.jsx(ys.StrictMode,{children:xt.jsx(xAe,{})}));export{_Le as $,Kz as A,NAe as B,Ms as C,HAe as D,Yi as E,vke as F,Al as G,Q5e as H,dr as I,X5e as J,en as K,eie as L,j as M,pe as N,Mc as O,qt as P,gpe as Q,xve as R,Ske as S,Tke as T,mpe as U,xm as V,ne as W,gke as X,Mm as Y,o6e as Z,te as _,BAe as a,z_ as a$,Zm as a0,Ji as a1,Ph as a2,pa as a3,pie as a4,hj as a5,V2 as a6,lke as a7,Ne as a8,uy as a9,mm as aA,km as aB,f2 as aC,ri as aD,In as aE,$R as aF,Bt as aG,y1 as aH,ba as aI,Ti as aJ,rRe as aK,tRe as aL,iRe as aM,Ge as aN,c1 as aO,Eo as aP,Pn as aQ,Nn as aR,dke as aS,na as aT,Q8 as aU,W8 as aV,gV as aW,Um as aX,CZ as aY,es as aZ,K as a_,lOe as aa,sV as ab,Tt as ac,LG as ad,MDe as ae,Mwe as af,Te as ag,B as ah,gJ as ai,Ufe as aj,zfe as ak,u as al,h as am,A as an,X8 as ao,J8 as ap,Y8 as aq,Z8 as ar,PG as as,Eh as at,tL as au,NG as av,HF as aw,lNe as ax,fIe as ay,qV as az,ZAe as b,rt as b$,OIe as b0,hZ as b1,Kr as b2,bh as b3,Goe as b4,M9 as b5,x9 as b6,qh as b7,gt as b8,AI as b9,ts as bA,Cxe as bB,Wxe as bC,YZ as bD,zxe as bE,lbe as bF,Cbe as bG,IC as bH,xX as bI,kxe as bJ,MX as bK,$X as bL,Zxe as bM,Vxe as bN,Axe as bO,Ixe as bP,FT as bQ,Z1e as bR,d7 as bS,fT as bT,dfe as bU,Lce as bV,Nce as bW,Pce as bX,_be as bY,at as bZ,Kue as b_,qOe as ba,fm as bb,wo as bc,Be as bd,ue as be,gde as bf,L5 as bg,Ur as bh,rB as bi,nV as bj,li as bk,jMe as bl,Ye as bm,Sbe as bn,W3e as bo,yE as bp,EN as bq,mve as br,_s as bs,Lc as bt,Oce as bu,Km as bv,wL as bw,hfe as bx,rH as by,xfe as bz,qAe as c,Io as c$,Ie as c0,Uh as c1,b1 as c2,Age as c3,Mge as c4,Il as c5,ji as c6,Pt as c7,ST as c8,_1 as c9,R4e as cA,JT as cB,Re as cC,F_ as cD,YIe as cE,ZIe as cF,WIe as cG,eye as cH,vLe as cI,bLe as cJ,Sc as cK,bse as cL,zCe as cM,GCe as cN,VCe as cO,qCe as cP,BCe as cQ,HCe as cR,fA as cS,Mh as cT,hwe as cU,ZPe as cV,Ke as cW,JPe as cX,uke as cY,VW as cZ,Ac as c_,De as ca,BIe as cb,HIe as cc,Vh as cd,dye as ce,b2 as cf,JIe as cg,uye as ch,a1 as ci,tye as cj,$c as ck,B4e as cl,W4e as cm,H4e as cn,vxe as co,gxe as cp,Hm as cq,one as cr,d$e as cs,C4e as ct,E4e as cu,MW as cv,_v as cw,GO as cx,c$e as cy,I4e as cz,Wm as d,Dn as d$,fLe as d0,UT as d1,tt as d2,wi as d3,xe as d4,Nt as d5,Jh as d6,E5e as d7,da as d8,$s as d9,qLe as dA,cNe as dB,Cl as dC,BB as dD,rme as dE,e4e as dF,jv as dG,gs as dH,hr as dI,wh as dJ,C3 as dK,tOe as dL,ywe as dM,iV as dN,tf as dO,e$e as dP,lxe as dQ,Ss as dR,fOe as dS,ePe as dT,yve as dU,Yne as dV,w5e as dW,RF as dX,_5e as dY,Dpe as dZ,m1 as d_,Gt as da,Pc as db,Nc as dc,Ec as dd,ya as de,Fn as df,nA as dg,ii as dh,u2 as di,sA as dj,aA as dk,yB as dl,fY as dm,Oe as dn,Kv as dp,Wi as dq,U2 as dr,DC as ds,Z0e as dt,Jt as du,rj as dv,Yx as dw,C1 as dx,AO as dy,IIe as dz,z as e,oT as e$,aNe as e0,MIe as e1,rCe as e2,cV as e3,Qne as e4,vT as e5,bT as e6,BR as e7,HR as e8,Xne as e9,_T as eA,VZ as eB,ZZ as eC,J1e as eD,BZ as eE,WZ as eF,yR as eG,gR as eH,DF as eI,Ln as eJ,vre as eK,OOe as eL,tne as eM,$m as eN,FR as eO,RCe as eP,rL as eQ,zZ as eR,kc as eS,fbe as eT,rfe as eU,Y1e as eV,HZ as eW,Ebe as eX,aCe as eY,p2 as eZ,nT as e_,$1 as ea,qv as eb,$L as ec,DRe as ed,K7 as ee,mX as ef,Sge as eg,Gme as eh,gLe as ei,Jke as ej,Yke as ek,Zke as el,w1 as em,iL as en,Ome as eo,jH as ep,iye as eq,SLe as er,Zs as es,wLe as et,UH as eu,uCe as ev,q7 as ew,GR as ex,qne as ey,Mn as ez,qX as f,r2 as f$,YCe as f0,l4e as f1,sE as f2,VOe as f3,xR as f4,Fc as f5,AN as f6,WX as f7,zX as f8,BX as f9,yT as fA,UR as fB,yne as fC,jX as fD,TCe as fE,fa as fF,WS as fG,l1 as fH,de as fI,JX as fJ,Qke as fK,J7 as fL,ZB as fM,wAe as fN,Gv as fO,yt as fP,iy as fQ,TAe as fR,gIe as fS,nde as fT,tae as fU,AIe as fV,cr as fW,k5e as fX,r6 as fY,Xu as fZ,Pv as f_,ZN as fa,SN as fb,M1 as fc,DJ as fd,LJ as fe,tn as ff,Sr as fg,wa as fh,D1 as fi,Kh as fj,RJ as fk,D3e as fl,bJ as fm,P3e as fn,tbe as fo,ibe as fp,$be as fq,NJ as fr,CV as fs,ICe as ft,uT as fu,g1 as fv,Dv as fw,oc as fx,Xs as fy,mne as fz,LRe as g,nIe as g$,ht as g0,n6e as g1,wCe as g2,CCe as g3,mz as g4,yNe as g5,u5e as g6,kn as g7,XAe as g8,XLe as g9,sIe as gA,Lm as gB,fB as gC,nN as gD,Kke as gE,bbe as gF,JV as gG,kre as gH,die as gI,LC as gJ,z2 as gK,Xp as gL,oV as gM,lV as gN,uV as gO,nOe as gP,IOe as gQ,XDe as gR,d5e as gS,f5e as gT,p5e as gU,a5e as gV,oLe as gW,V4e as gX,G4e as gY,HN as gZ,Eve as g_,hNe as ga,Rv as gb,Cm as gc,xh as gd,hT as ge,Nie as gf,mc as gg,$Oe as gh,lme as gi,O1 as gj,KRe as gk,Nl as gl,eLe as gm,Zf as gn,tLe as go,Th as gp,QAe as gq,KAe as gr,kCe as gs,FCe as gt,Jv as gu,hi as gv,rZ as gw,jc as gx,dU as gy,aU as gz,bne as h,nbe as h$,bDe as h0,CI as h1,sCe as h2,IDe as h3,Tw as h4,IA as h5,Wf as h6,wT as h7,RIe as h8,Hh as h9,f1 as hA,ur as hB,mbe as hC,eIe as hD,u1e as hE,cCe as hF,Yve as hG,Y5 as hH,X7 as hI,Q7 as hJ,pi as hK,lCe as hL,Jpe as hM,iH as hN,obe as hO,sH as hP,Wne as hQ,Fce as hR,G as hS,tfe as hT,kce as hU,jT as hV,hB as hW,eOe as hX,bw as hY,cOe as hZ,ybe as h_,nNe as ha,WLe as hb,vIe as hc,cde as hd,kw as he,WCe as hf,ACe as hg,ga as hh,P$e as hi,I3e as hj,J5e as hk,F3e as hl,Y5e as hm,k3e as hn,XV as ho,u6e as hp,$Ne as hq,Ys as hr,DIe as hs,Gj as ht,Rce as hu,EM as hv,d1 as hw,Lv as hx,sEe as hy,Gm as hz,IAe as i,FIe as i$,bve as i0,doe as i1,roe as i2,lG as i3,yde as i4,A1 as i5,_ne as i6,VR as i7,Sne as i8,Tne as i9,PX as iA,cy as iB,IJ as iC,gQ as iD,sm as iE,ane as iF,ha as iG,Mo as iH,s1 as iI,VN as iJ,xJ as iK,pEe as iL,hEe as iM,dEe as iN,d2 as iO,ULe as iP,jLe as iQ,Pye as iR,yG as iS,UN as iT,bke as iU,b4e as iV,GRe as iW,N2 as iX,FRe as iY,fpe as iZ,RRe as i_,STe as ia,Lh as ib,eme as ic,Qfe as id,Hfe as ie,em as ig,AF as ih,Es as ii,lL as ij,mOe as ik,n6 as il,EJ as im,UX as io,$J as ip,GX as iq,XX as ir,C2 as is,KX as it,kL as iu,QX as iv,OS as iw,ly as ix,V1 as iy,z1 as iz,x5e as j,z3e as j$,ROe as j0,zAe as j1,Xz as j2,MAe as j3,_ke as j4,Nwe as j5,PC as j6,tj as j7,YDe as j8,ej as j9,Sv as jA,NC as jB,_Z as jC,DL as jD,Ice as jE,Ace as jF,K1e as jG,Obe as jH,Ibe as jI,a1e as jJ,hE as jK,qxe as jL,cB as jM,Zne as jN,toe as jO,L2 as jP,ebe as jQ,GZ as jR,_2 as jS,cbe as jT,nr as jU,VX as jV,wie as jW,Z2 as jX,FJ as jY,C3e as jZ,fAe as j_,An as ja,pY as jb,yl as jc,lS as jd,tPe as je,MZ as jf,cN as jg,TC as jh,t1e as ji,AZ as jj,gj as jk,H8 as jl,fd as jm,lr as jn,Hre as jo,Ks as jp,SOe as jq,Tm as jr,LR as js,pne as jt,mIe as ju,or as jv,Xve as jw,Kve as jx,xZ as jy,JAe as jz,UMe as k,k2e as k$,v$e as k0,lX as k1,A$e as k2,S7 as k3,A7 as k4,fde as k5,YY as k6,$5e as k7,yQ as k8,_R as k9,S$e as kA,T$e as kB,E$e as kC,$$e as kD,x$e as kE,M$e as kF,YX as kG,c6e as kH,bre as kI,Xr as kJ,mB as kK,Uj as kL,LCe as kM,Ose as kN,hOe as kO,pOe as kP,dOe as kQ,Kse as kR,Bh as kS,ET as kT,Qo as kU,Oae as kV,lIe as kW,mG as kX,wN as kY,H2 as kZ,Vc as k_,gf as ka,m$e as kb,L5e as kc,q3e as kd,PMe as ke,B3e as kf,bo as kg,Vm as kh,fX as ki,jN as kj,Dl as kk,_Ae as kl,O$e as km,L$e as kn,fE as ko,QJ as kp,PN as kq,Y2 as kr,cEe as ks,si as kt,F$e as ku,y$e as kv,g$e as kw,_$e as kx,w$e as ky,R$e as kz,M5e as l,sMe as l$,go as l0,B2e as l1,sy as l2,we as l3,Fr as l4,dv as l5,lTe as l6,tTe as l7,Oc as l8,iTe as l9,hQ as lA,cQ as lB,vc as lC,x1e as lD,M1e as lE,qZ as lF,Y0e as lG,K8 as lH,JDe as lI,Coe as lJ,koe as lK,v1 as lL,iIe as lM,Gh as lN,i1e as lO,R5 as lP,oDe as lQ,mw as lR,Mae as lS,EIe as lT,AR as lU,XOe as lV,JOe as lW,USe as lX,Qre as lY,Xre as lZ,_Ie as l_,H2e as la,iae as lb,rae as lc,B8 as ld,hDe as le,dDe as lf,cDe as lg,uDe as lh,fDe as li,pDe as lj,lDe as lk,aDe as ll,Y3e as lm,YR as ln,Loe as lo,x as lp,ZS as lq,mse as lr,wne as ls,HL as lt,HLe as lu,GLe as lv,jre as lw,BOe as lx,l6e as ly,a6e as lz,QSe as m,n1 as m$,sOe as m0,dt as m1,DCe as m2,o1 as m3,cke as m4,nce as m5,xke as m6,N5e as m7,RSe as m8,fie as m9,qT as mA,F2e as mB,Dj as mC,Rwe as mD,L4e as mE,yc as mF,Kwe as mG,tSe as mH,iSe as mI,kj as mJ,x1 as mK,q8 as mL,Zoe as mM,e1e as mN,xo as mO,JR as mP,XR as mQ,j2 as mR,bG as mS,SDe as mT,_De as mU,wDe as mV,xwe as mW,w4e as mX,S4e as mY,_4e as mZ,_ye as m_,SCe as ma,Fse as mb,mT as mc,OCe as md,IG as me,Woe as mf,dIe as mg,pTe as mh,sW as mi,DZ as mj,NCe as mk,yre as ml,QRe as mm,QT as mn,fCe as mo,pCe as mp,iZ as mq,eZ as mr,$0e as ms,M0e as mt,Tv as mu,ws as mv,Z2e as mw,sJ as mx,YH as my,ZH as mz,WAe as n,pfe as n$,I$e as n0,aLe as n1,U$e as n2,s6e as n3,r6e as n4,VU as n5,gc as n6,Bv as n7,ZMe as n8,sfe as n9,TSe as nA,cc as nB,sLe as nC,Zh as nD,So as nE,wme as nF,dCe as nG,dde as nH,aIe as nI,oIe as nJ,I1 as nK,R1 as nL,L1 as nM,iMe as nN,aMe as nO,efe as nP,Qpe as nQ,Kpe as nR,Qve as nS,j1 as nT,R0e as nU,nCe as nV,ECe as nW,YV as nX,VLe as nY,zLe as nZ,DR as n_,Ype as na,Xpe as nb,Bg as nc,Tl as nd,fW as ne,XL as nf,ty as ng,ige as nh,L1e as ni,RDe as nj,bOe as nk,uZ as nl,EZ as nm,Xv as nn,ua as no,tN as np,wC as nq,XW as nr,F1 as ns,nLe as nt,aV as nu,C7 as nv,_Ce as nw,eG as nx,z5 as ny,P7 as nz,zMe as o,Qv as o$,cfe as o0,abe as o1,ufe as o2,jye as o3,Phe as o4,J0e as o5,fhe as o6,MS as o7,lZ as o8,rN as o9,r1e as oA,Rg as oB,Qr as oC,mfe as oD,Mfe as oE,ym as oF,P0e as oG,EX as oH,jRe as oI,bfe as oJ,rMe as oK,oMe as oL,c4e as oM,ipe as oN,QH as oO,d4e as oP,ay as oQ,RN as oR,wEe as oS,_Ee as oT,cE as oU,GJ as oV,UEe as oW,YJ as oX,K2 as oY,UJ as oZ,$v as o_,K0e as oa,KT as ob,bF as oc,mNe as od,pNe as oe,FN as of,$Ee as og,qIe as oh,PCe as oi,EH as oj,cX as ok,wc as ol,HTe as om,iEe as on,rEe as oo,WTe as op,oEe as oq,SMe as or,kMe as os,sf as ot,ij as ou,SSe as ov,ZDe as ow,Lwe as ox,aj as oy,oj as oz,sT as p,JCe as p$,w1e as p0,n$e as p1,s$e as p2,vh as p3,ZT as p4,bL as p5,GOe as p6,NW as p7,aOe as p8,bZ as p9,NRe as pA,TOe as pB,wIe as pC,dNe as pD,Dc as pE,iLe as pF,W$e as pG,ma as pH,zh as pI,zDe as pJ,dY as pK,mhe as pL,ISe as pM,TLe as pN,i4e as pO,AEe as pP,Kq as pQ,BG as pR,rIe as pS,eT as pT,c5e as pU,GDe as pV,VDe as pW,tDe as pX,iDe as pY,A9 as pZ,cG as p_,xNe as pa,MNe as pb,ANe as pc,vDe as pd,pj as pe,rDe as pf,S2e as pg,Rn as ph,tE as pi,vZ as pj,wZ as pk,Ive as pl,iPe as pm,Uve as pn,rPe as po,qpe as pp,BRe as pq,OR as pr,L0e as ps,X0e as pt,e3 as pu,HRe as pv,P2 as pw,Tbe as px,P1 as py,Xh as pz,$Ce as q,Uoe as q$,H0e as q0,D0e as q1,k0e as q2,cIe as q3,eve as q4,vj as q5,bY as q6,kDe as q7,FDe as q8,jDe as q9,LSe as qA,kRe as qB,c2 as qC,ake as qD,Zi as qE,oE as qF,b5e as qG,eDe as qH,C9 as qI,nEe as qJ,P4e as qK,yLe as qL,uLe as qM,hLe as qN,cLe as qO,pLe as qP,dLe as qQ,mLe as qR,is as qS,sme as qT,XRe as qU,oke as qV,D4e as qW,l5 as qX,lLe as qY,Y9 as qZ,q9 as q_,UDe as qa,EDe as qb,xDe as qc,$De as qd,eSe as qe,coe as qf,$l as qg,dve as qh,iN as qi,Boe as qj,uIe as qk,ZCe as ql,Yv as qm,s7 as qn,w8 as qo,S0e as qp,T0e as qq,cA as qr,XIe as qs,XCe as qt,UCe as qu,jCe as qv,uoe as qw,GW as qx,Zre as qy,Wre as qz,n5 as r,PDe as r$,B9 as r0,lU as r1,H9 as r2,CIe as r3,Q9 as r4,yU as r5,gU as r6,vU as r7,nae as r8,hIe as r9,K9 as rA,N9 as rB,L9 as rC,R9 as rD,U9 as rE,BT as rF,LDe as rG,K4e as rH,e5e as rI,m5e as rJ,OI as rK,J4e as rL,z4e as rM,Q4e as rN,_xe as rO,X4e as rP,CDe as rQ,bxe as rR,Sxe as rS,ODe as rT,q4e as rU,zwe as rV,ADe as rW,mj as rX,sDe as rY,nDe as rZ,NDe as r_,Voe as ra,yA as rb,bU as rc,pIe as rd,Zve as re,Z4e as rf,h5e as rg,Y4e as rh,l5e as ri,yIe as rj,y5e as rk,SIe as rl,TDe as rm,s5e as rn,r5e as ro,n5e as rp,o5e as rq,LU as rr,NU as rs,PU as rt,i5e as ru,t5e as rv,MU as rw,z9 as rx,OU as ry,xU as rz,YAe as s,rNe as s$,qDe as s0,BDe as s1,mDe as s2,HDe as s3,WDe as s4,$we as s5,Owe as s6,IY as s7,Em as s8,DDe as s9,vfe as sA,zce as sB,z0e as sC,F5 as sD,zIe as sE,wwe as sF,tG as sG,$Ie as sH,r4e as sI,zae as sJ,x4e as sK,$4e as sL,G8 as sM,ske as sN,rke as sO,ike as sP,Xwe as sQ,vY as sR,gDe as sS,yDe as sT,Zwe as sU,nke as sV,KPe as sW,ame as sX,nB as sY,l1e as sZ,xne as s_,xCe as sa,s1e as sb,voe as sc,goe as sd,QCe as se,$ie as sf,hye as sg,uRe as sh,cRe as si,UL as sj,mye as sk,Hv as sl,Zv as sm,jm as sn,fye as so,yOe as sp,Ad as sq,sTe as sr,E2e as ss,zke as st,D2e as su,xIe as sv,GNe as sw,tZ as sx,oB as sy,t7 as sz,SAe as t,oRe as t$,sNe as t0,Ofe as t1,Afe as t2,Abe as t3,wke as t4,a4e as t5,h0e as t6,JNe as t7,jEe as t8,uNe as t9,KLe as tA,Hpe as tB,BLe as tC,U4e as tD,Jf as tE,kye as tF,q0e as tG,oCe as tH,O0e as tI,Dye as tJ,HOe as tK,VRe as tL,tNe as tM,zRe as tN,s8 as tO,URe as tP,TIe as tQ,r8 as tR,TL as tS,TV as tT,EOe as tU,iNe as tV,ofe as tW,ife as tX,i8 as tY,ffe as tZ,sRe as t_,JLe as ta,eNe as tb,QLe as tc,gOe as td,wNe as te,_Ne as tf,uOe as tg,ZLe as th,bIe as ti,oNe as tj,qhe as tk,R1e as tl,PZ as tm,vOe as tn,nw as to,lF as tp,HT as tq,T4e as tr,xc as ts,MI as tt,rOe as tu,cie as tv,iOe as tw,YLe as tx,QDe as ty,rbe as tz,AAe as u,hke as u0,g4e as u1,N4e as u2,P5e as u3,d6e as u4,PRe as v,OAe as w,LAe as x,Qz as y,MCe as z};
