import{e6 as N,iL as O,iM as s,Q as M,iN as P,iO as l,cA as f,iP as S,eu as T}from"./index-CQBquChn.js";function R(r,i,t){const C=Math.sin(r),c=Math.cos(r),u=Math.sin(i),e=Math.cos(i),n=t;return n[0]=-C,n[4]=-u*c,n[8]=e*c,n[12]=0,n[1]=c,n[5]=-u*C,n[9]=e*C,n[13]=0,n[2]=0,n[6]=e,n[10]=u,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,n}function W(r,i,t){return R(r,i,t),N(t,t),t}function F(r,i,t,C){const c=O(r,C);if(c==null)return!1;const u=c.source.spatialReferenceId,e=c.dest.spatialReferenceId;if(u===e&&!_(e)&&(u!==s.UNKNOWN||M(r,C)))return P(t,i),!0;if(_(e)){const E=l[u][s.LON_LAT],L=l[s.LON_LAT][e];return E!=null&&L!=null&&(E(i,0,o,0),L(o,0,a,0),R(A*o[0],A*o[1],t),t[12]=a[0],t[13]=a[1],t[14]=a[2],!0)}const n=_(u);if((e===s.WEB_MERCATOR||e===s.PLATE_CARREE||e===s.WGS84||e===s.CGCS2000)&&(u===s.WGS84||n||u===s.WEB_MERCATOR||u===s.CGCS2000)){const E=l[u][s.LON_LAT],L=l[s.LON_LAT][e];return E!=null&&L!=null&&(E(i,0,o,0),L(o,0,a,0),n?W(A*o[0],A*o[1],t):S(t),t[12]=a[0],t[13]=a[1],t[14]=a[2],!0)}return!1}function _(r){return r===s.SPHERICAL_ECEF||r===s.SPHERICAL_MARS_PCPF||r===s.SPHERICAL_MOON_PCPF||r===s.WGS84_ECEF}const A=T(1),o=f(),a=f();export{F as m,R as n};
